var wy=t=>{throw TypeError(t)};var qh=(t,e,n)=>e.has(t)||wy("Cannot "+n);var _=(t,e,n)=>(qh(t,e,"read from private field"),n?n.call(t):e.get(t)),re=(t,e,n)=>e.has(t)?wy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),H=(t,e,n,r)=>(qh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ge=(t,e,n)=>(qh(t,e,"access private method"),n);var Wc=(t,e,n,r)=>({set _(i){H(t,e,i,n)},get _(){return _(t,e,r)}});function NR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function fg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hw={exports:{}},Wd={},fw={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),ER=Symbol.for("react.portal"),AR=Symbol.for("react.fragment"),jR=Symbol.for("react.strict_mode"),RR=Symbol.for("react.profiler"),kR=Symbol.for("react.provider"),_R=Symbol.for("react.context"),TR=Symbol.for("react.forward_ref"),PR=Symbol.for("react.suspense"),DR=Symbol.for("react.memo"),OR=Symbol.for("react.lazy"),Sy=Symbol.iterator;function LR(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var mw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pw=Object.assign,gw={};function _a(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||mw}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vw(){}vw.prototype=_a.prototype;function mg(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||mw}var pg=mg.prototype=new vw;pg.constructor=mg;pw(pg,_a.prototype);pg.isPureReactComponent=!0;var Cy=Array.isArray,yw=Object.prototype.hasOwnProperty,gg={current:null},xw={key:!0,ref:!0,__self:!0,__source:!0};function bw(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)yw.call(e,r)&&!xw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ac,type:t,key:s,ref:a,props:i,_owner:gg.current}}function IR(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function MR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ny=/\/+/g;function Kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MR(""+t.key):e.toString(36)}function Cu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ac:case ER:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Kh(a,0):r,Cy(i)?(n="",t!=null&&(n=t.replace(Ny,"$&/")+"/"),Cu(i,e,n,"",function(u){return u})):i!=null&&(vg(i)&&(i=IR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ny,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Cy(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Kh(s,l);a+=Cu(s,e,n,c,i)}else if(c=LR(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Kh(s,l++),a+=Cu(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Vc(t,e,n){if(t==null)return t;var r=[],i=0;return Cu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},Nu={transition:null},BR={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:gg};function ww(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Vc,forEach:function(t,e,n){Vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vc(t,function(){e++}),e},toArray:function(t){return Vc(t,function(e){return e})||[]},only:function(t){if(!vg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=_a;Se.Fragment=AR;Se.Profiler=RR;Se.PureComponent=mg;Se.StrictMode=jR;Se.Suspense=PR;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;Se.act=ww;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pw({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=gg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)yw.call(e,c)&&!xw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ac,type:t.type,key:i,ref:s,props:r,_owner:a}};Se.createContext=function(t){return t={$$typeof:_R,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kR,_context:t},t.Consumer=t};Se.createElement=bw;Se.createFactory=function(t){var e=bw.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:TR,render:t}};Se.isValidElement=vg;Se.lazy=function(t){return{$$typeof:OR,_payload:{_status:-1,_result:t},_init:FR}};Se.memo=function(t,e){return{$$typeof:DR,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Nu.transition;Nu.transition={};try{t()}finally{Nu.transition=e}};Se.unstable_act=ww;Se.useCallback=function(t,e){return dn.current.useCallback(t,e)};Se.useContext=function(t){return dn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return dn.current.useEffect(t,e)};Se.useId=function(){return dn.current.useId()};Se.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return dn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Se.useRef=function(t){return dn.current.useRef(t)};Se.useState=function(t){return dn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return dn.current.useTransition()};Se.version="18.3.1";fw.exports=Se;var h=fw.exports;const Ce=fg(h),Vd=NR({__proto__:null,default:Ce},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R=h,UR=Symbol.for("react.element"),zR=Symbol.for("react.fragment"),WR=Object.prototype.hasOwnProperty,VR=$R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HR={key:!0,ref:!0,__self:!0,__source:!0};function Sw(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)WR.call(e,r)&&!HR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UR,type:t,key:s,ref:a,props:i,_owner:VR.current}}Wd.Fragment=zR;Wd.jsx=Sw;Wd.jsxs=Sw;hw.exports=Wd;var o=hw.exports,Cw={exports:{}},On={},Nw={exports:{}},Ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var K=O.length;O.push(L);e:for(;0<K;){var ee=K-1>>>1,V=O[ee];if(0<i(V,L))O[ee]=L,O[K]=V,K=ee;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],K=O.pop();if(K!==L){O[0]=K;e:for(var ee=0,V=O.length,Oe=V>>>1;ee<Oe;){var se=2*(ee+1)-1,Xe=O[se],ie=se+1,Q=O[ie];if(0>i(Xe,K))ie<V&&0>i(Q,Xe)?(O[ee]=Q,O[ie]=K,ee=ie):(O[ee]=Xe,O[se]=K,ee=se);else if(ie<V&&0>i(Q,K))O[ee]=Q,O[ie]=K,ee=ie;else break e}}return L}function i(O,L){var K=O.sortIndex-L.sortIndex;return K!==0?K:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,v=3,S=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=O)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function x(O){if(g=!1,m(O),!y)if(n(c)!==null)y=!0,$(C);else{var L=n(u);L!==null&&G(x,L.startTime-O)}}function C(O,L){y=!1,g&&(g=!1,b(A),A=-1),S=!0;var K=v;try{for(m(L),f=n(c);f!==null&&(!(f.expirationTime>L)||O&&!R());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,v=f.priorityLevel;var V=ee(f.expirationTime<=L);L=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),m(L)}else r(c);f=n(c)}if(f!==null)var Oe=!0;else{var se=n(u);se!==null&&G(x,se.startTime-L),Oe=!1}return Oe}finally{f=null,v=K,S=!1}}var E=!1,N=null,A=-1,k=5,j=-1;function R(){return!(t.unstable_now()-j<k)}function P(){if(N!==null){var O=t.unstable_now();j=O;var L=!0;try{L=N(!0,O)}finally{L?M():(E=!1,N=null)}}else E=!1}var M;if(typeof p=="function")M=function(){p(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=P,M=function(){Y.postMessage(null)}}else M=function(){w(P,0)};function $(O){N=O,E||(E=!0,M())}function G(O,L){A=w(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||S||(y=!0,$(C))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var K=v;v=L;try{return O()}finally{v=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=v;v=O;try{return L()}finally{v=K}},t.unstable_scheduleCallback=function(O,L,K){var ee=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,O={id:d++,callback:L,priorityLevel:O,startTime:K,expirationTime:V,sortIndex:-1},K>ee?(O.sortIndex=K,e(u,O),n(c)===null&&O===n(u)&&(g?(b(A),A=-1):g=!0,G(x,K-ee))):(O.sortIndex=V,e(c,O),y||S||(y=!0,$(C))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var L=v;return function(){var K=v;v=L;try{return O.apply(this,arguments)}finally{v=K}}}})(Ew);Nw.exports=Ew;var qR=Nw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR=h,Dn=qR;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Aw=new Set,Vl={};function ho(t,e){va(t,e),va(t+"Capture",e)}function va(t,e){for(Vl[t]=e,t=0;t<e.length;t++)Aw.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,GR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ey={},Ay={};function QR(t){return pm.call(Ay,t)?!0:pm.call(Ey,t)?!1:GR.test(t)?Ay[t]=!0:(Ey[t]=!0,!1)}function YR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XR(t,e,n,r){if(e===null||typeof e>"u"||YR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var yg=/[\-:]([a-z])/g;function xg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yg,xg);Ft[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yg,xg);Ft[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yg,xg);Ft[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function bg(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XR(e,n,i,r)&&(n=null),r||i===null?QR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yi=KR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),jw=Symbol.for("react.provider"),Rw=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),kw=Symbol.for("react.offscreen"),jy=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=jy&&t[jy]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Gh;function yl(t){if(Gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gh=e&&e[1]||""}return`
`+Gh+t}var Qh=!1;function Yh(t,e){if(!t||Qh)return"";Qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Qh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yl(t):""}function JR(t){switch(t.tag){case 5:return yl(t.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return t=Yh(t.type,!1),t;case 11:return t=Yh(t.type.render,!1),t;case 1:return t=Yh(t.type,!0),t;default:return""}}function xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oo:return"Fragment";case Do:return"Portal";case gm:return"Profiler";case wg:return"StrictMode";case vm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rw:return(t.displayName||"Context")+".Consumer";case jw:return(t._context.displayName||"Context")+".Provider";case Sg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cg:return e=t.displayName||null,e!==null?e:xm(t.type)||"Memo";case Oi:e=t._payload,t=t._init;try{return xm(t(e))}catch{}}return null}function ZR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xm(e);case 8:return e===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _w(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ek(t){var e=_w(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=ek(t))}function Tw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_w(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bm(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ry(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pw(t,e){e=e.checked,e!=null&&bg(t,"checked",e,!1)}function wm(t,e){Pw(t,e);var n=us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sm(t,e.type,us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ky(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sm(t,e,n){(e!=="number"||qu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xl=Array.isArray;function Ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+us(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _y(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(xl(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:us(n)}}function Dw(t,e){var n=us(e.value),r=us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ty(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ow(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ow(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kc,Lw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tk=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(t){tk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),El[e]=El[t]})});function Iw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||El.hasOwnProperty(t)&&El[t]?(""+e).trim():e+"px"}function Mw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Iw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nk=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Em(t,e){if(e){if(nk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=null;function Ng(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rm=null,qo=null,Ko=null;function Py(t){if(t=kc(t)){if(typeof Rm!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Qd(e),Rm(t.stateNode,t.type,e))}}function Fw(t){qo?Ko?Ko.push(t):Ko=[t]:qo=t}function Bw(){if(qo){var t=qo,e=Ko;if(Ko=qo=null,Py(t),e)for(t=0;t<e.length;t++)Py(e[t])}}function $w(t,e){return t(e)}function Uw(){}var Xh=!1;function zw(t,e,n){if(Xh)return t(e,n);Xh=!0;try{return $w(t,e,n)}finally{Xh=!1,(qo!==null||Ko!==null)&&(Uw(),Bw())}}function ql(t,e){var n=t.stateNode;if(n===null)return null;var r=Qd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var km=!1;if(hi)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){km=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{km=!1}function rk(t,e,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Al=!1,Ku=null,Gu=!1,_m=null,ik={onError:function(t){Al=!0,Ku=t}};function sk(t,e,n,r,i,s,a,l,c){Al=!1,Ku=null,rk.apply(ik,arguments)}function ok(t,e,n,r,i,s,a,l,c){if(sk.apply(this,arguments),Al){if(Al){var u=Ku;Al=!1,Ku=null}else throw Error(I(198));Gu||(Gu=!0,_m=u)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ww(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dy(t){if(fo(t)!==t)throw Error(I(188))}function ak(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dy(i),t;if(s===r)return Dy(i),e;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Vw(t){return t=ak(t),t!==null?Hw(t):null}function Hw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hw(t);if(e!==null)return e;t=t.sibling}return null}var qw=Dn.unstable_scheduleCallback,Oy=Dn.unstable_cancelCallback,lk=Dn.unstable_shouldYield,ck=Dn.unstable_requestPaint,ft=Dn.unstable_now,uk=Dn.unstable_getCurrentPriorityLevel,Eg=Dn.unstable_ImmediatePriority,Kw=Dn.unstable_UserBlockingPriority,Qu=Dn.unstable_NormalPriority,dk=Dn.unstable_LowPriority,Gw=Dn.unstable_IdlePriority,Hd=null,Dr=null;function hk(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Hd,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:pk,fk=Math.log,mk=Math.LN2;function pk(t){return t>>>=0,t===0?32:31-(fk(t)/mk|0)|0}var Gc=64,Qc=4194304;function bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=bl(l):(s&=a,s!==0&&(r=bl(s)))}else a=n&~i,a!==0?r=bl(a):s!==0&&(r=bl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function gk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ur(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=gk(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qw(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function Jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function yk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ag(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function Yw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xw,jg,Jw,Zw,eS,Pm=!1,Yc=[],Zi=null,es=null,ts=null,Kl=new Map,Gl=new Map,Fi=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(e.pointerId)}}function el(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=kc(e),e!==null&&jg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bk(t,e,n,r,i){switch(e){case"focusin":return Zi=el(Zi,t,e,n,r,i),!0;case"dragenter":return es=el(es,t,e,n,r,i),!0;case"mouseover":return ts=el(ts,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kl.set(s,el(Kl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gl.set(s,el(Gl.get(s)||null,t,e,n,r,i)),!0}return!1}function tS(t){var e=ks(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=Ww(n),e!==null){t.blockedOn=e,eS(t.priority,function(){Jw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jm=r,n.target.dispatchEvent(r),jm=null}else return e=kc(n),e!==null&&jg(e),t.blockedOn=n,!1;e.shift()}return!0}function Iy(t,e,n){Eu(t)&&n.delete(e)}function wk(){Pm=!1,Zi!==null&&Eu(Zi)&&(Zi=null),es!==null&&Eu(es)&&(es=null),ts!==null&&Eu(ts)&&(ts=null),Kl.forEach(Iy),Gl.forEach(Iy)}function tl(t,e){t.blockedOn===e&&(t.blockedOn=null,Pm||(Pm=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,wk)))}function Ql(t){function e(i){return tl(i,t)}if(0<Yc.length){tl(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&tl(Zi,t),es!==null&&tl(es,t),ts!==null&&tl(ts,t),Kl.forEach(e),Gl.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)tS(n),n.blockedOn===null&&Fi.shift()}var Go=yi.ReactCurrentBatchConfig,Xu=!0;function Sk(t,e,n,r){var i=We,s=Go.transition;Go.transition=null;try{We=1,Rg(t,e,n,r)}finally{We=i,Go.transition=s}}function Ck(t,e,n,r){var i=We,s=Go.transition;Go.transition=null;try{We=4,Rg(t,e,n,r)}finally{We=i,Go.transition=s}}function Rg(t,e,n,r){if(Xu){var i=Dm(t,e,n,r);if(i===null)cf(t,e,r,Ju,n),Ly(t,r);else if(bk(i,t,e,n,r))r.stopPropagation();else if(Ly(t,r),e&4&&-1<xk.indexOf(t)){for(;i!==null;){var s=kc(i);if(s!==null&&Xw(s),s=Dm(t,e,n,r),s===null&&cf(t,e,r,Ju,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cf(t,e,r,null,n)}}var Ju=null;function Dm(t,e,n,r){if(Ju=null,t=Ng(r),t=ks(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ww(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ju=t,null}function nS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uk()){case Eg:return 1;case Kw:return 4;case Qu:case dk:return 16;case Gw:return 536870912;default:return 16}default:return 16}}var Yi=null,kg=null,Au=null;function rS(){if(Au)return Au;var t,e=kg,n=e.length,r,i="value"in Yi?Yi.value:Yi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Au=i.slice(t,1<r?1-r:void 0)}function ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function My(){return!1}function Ln(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xc:My,this.isPropagationStopped=My,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_g=Ln(Ta),Rc=st({},Ta,{view:0,detail:0}),Nk=Ln(Rc),Zh,ef,nl,qd=st({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(Zh=t.screenX-nl.screenX,ef=t.screenY-nl.screenY):ef=Zh=0,nl=t),Zh)},movementY:function(t){return"movementY"in t?t.movementY:ef}}),Fy=Ln(qd),Ek=st({},qd,{dataTransfer:0}),Ak=Ln(Ek),jk=st({},Rc,{relatedTarget:0}),tf=Ln(jk),Rk=st({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),kk=Ln(Rk),_k=st({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tk=Ln(_k),Pk=st({},Ta,{data:0}),By=Ln(Pk),Dk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ok={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ik(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lk[t])?!!e[t]:!1}function Tg(){return Ik}var Mk=st({},Rc,{key:function(t){if(t.key){var e=Dk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ok[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fk=Ln(Mk),Bk=st({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$y=Ln(Bk),$k=st({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),Uk=Ln($k),zk=st({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wk=Ln(zk),Vk=st({},qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hk=Ln(Vk),qk=[9,13,27,32],Pg=hi&&"CompositionEvent"in window,jl=null;hi&&"documentMode"in document&&(jl=document.documentMode);var Kk=hi&&"TextEvent"in window&&!jl,iS=hi&&(!Pg||jl&&8<jl&&11>=jl),Uy=" ",zy=!1;function sS(t,e){switch(t){case"keyup":return qk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function Gk(t,e){switch(t){case"compositionend":return oS(e);case"keypress":return e.which!==32?null:(zy=!0,Uy);case"textInput":return t=e.data,t===Uy&&zy?null:t;default:return null}}function Qk(t,e){if(Lo)return t==="compositionend"||!Pg&&sS(t,e)?(t=rS(),Au=kg=Yi=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iS&&e.locale!=="ko"?null:e.data;default:return null}}var Yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yk[t.type]:e==="textarea"}function aS(t,e,n,r){Fw(r),e=Zu(e,"onChange"),0<e.length&&(n=new _g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rl=null,Yl=null;function Xk(t){yS(t,0)}function Kd(t){var e=Fo(t);if(Tw(e))return t}function Jk(t,e){if(t==="change")return e}var lS=!1;if(hi){var nf;if(hi){var rf="oninput"in document;if(!rf){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),rf=typeof Vy.oninput=="function"}nf=rf}else nf=!1;lS=nf&&(!document.documentMode||9<document.documentMode)}function Hy(){Rl&&(Rl.detachEvent("onpropertychange",cS),Yl=Rl=null)}function cS(t){if(t.propertyName==="value"&&Kd(Yl)){var e=[];aS(e,Yl,t,Ng(t)),zw(Xk,e)}}function Zk(t,e,n){t==="focusin"?(Hy(),Rl=e,Yl=n,Rl.attachEvent("onpropertychange",cS)):t==="focusout"&&Hy()}function e_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kd(Yl)}function t_(t,e){if(t==="click")return Kd(e)}function n_(t,e){if(t==="input"||t==="change")return Kd(e)}function r_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:r_;function Xl(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pm.call(e,i)||!hr(t[i],e[i]))return!1}return!0}function qy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ky(t,e){var n=qy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qy(n)}}function uS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dS(){for(var t=window,e=qu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qu(t.document)}return e}function Dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i_(t){var e=dS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uS(n.ownerDocument.documentElement,n)){if(r!==null&&Dg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ky(n,s);var a=Ky(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s_=hi&&"documentMode"in document&&11>=document.documentMode,Io=null,Om=null,kl=null,Lm=!1;function Gy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lm||Io==null||Io!==qu(r)||(r=Io,"selectionStart"in r&&Dg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&Xl(kl,r)||(kl=r,r=Zu(Om,"onSelect"),0<r.length&&(e=new _g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Io)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},sf={},hS={};hi&&(hS=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Gd(t){if(sf[t])return sf[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hS)return sf[t]=e[n];return t}var fS=Gd("animationend"),mS=Gd("animationiteration"),pS=Gd("animationstart"),gS=Gd("transitionend"),vS=new Map,Qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){vS.set(t,e),ho(e,[t])}for(var of=0;of<Qy.length;of++){var af=Qy[of],o_=af.toLowerCase(),a_=af[0].toUpperCase()+af.slice(1);vs(o_,"on"+a_)}vs(fS,"onAnimationEnd");vs(mS,"onAnimationIteration");vs(pS,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(gS,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l_=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function Yy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ok(r,e,void 0,t),t.currentTarget=null}function yS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Yy(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Yy(i,l,u),s=c}}}if(Gu)throw t=_m,Gu=!1,_m=null,t}function Ge(t,e){var n=e[$m];n===void 0&&(n=e[$m]=new Set);var r=t+"__bubble";n.has(r)||(xS(e,t,2,!1),n.add(r))}function lf(t,e,n){var r=0;e&&(r|=4),xS(n,t,r,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[Zc]){t[Zc]=!0,Aw.forEach(function(n){n!=="selectionchange"&&(l_.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,lf("selectionchange",!1,e))}}function xS(t,e,n,r){switch(nS(e)){case 1:var i=Sk;break;case 4:i=Ck;break;default:i=Rg}n=i.bind(null,e,n,t),i=void 0,!km||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ks(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}zw(function(){var u=s,d=Ng(n),f=[];e:{var v=vS.get(t);if(v!==void 0){var S=_g,y=t;switch(t){case"keypress":if(ju(n)===0)break e;case"keydown":case"keyup":S=Fk;break;case"focusin":y="focus",S=tf;break;case"focusout":y="blur",S=tf;break;case"beforeblur":case"afterblur":S=tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Uk;break;case fS:case mS:case pS:S=kk;break;case gS:S=Wk;break;case"scroll":S=Nk;break;case"wheel":S=Hk;break;case"copy":case"cut":case"paste":S=Tk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=$y}var g=(e&4)!==0,w=!g&&t==="scroll",b=g?v!==null?v+"Capture":null:v;g=[];for(var p=u,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,b!==null&&(x=ql(p,b),x!=null&&g.push(Zl(p,x,m)))),w)break;p=p.return}0<g.length&&(v=new S(v,y,null,n,d),f.push({event:v,listeners:g}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",v&&n!==jm&&(y=n.relatedTarget||n.fromElement)&&(ks(y)||y[fi]))break e;if((S||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,S?(y=n.relatedTarget||n.toElement,S=u,y=y?ks(y):null,y!==null&&(w=fo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(S=null,y=u),S!==y)){if(g=Fy,x="onMouseLeave",b="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(g=$y,x="onPointerLeave",b="onPointerEnter",p="pointer"),w=S==null?v:Fo(S),m=y==null?v:Fo(y),v=new g(x,p+"leave",S,n,d),v.target=w,v.relatedTarget=m,x=null,ks(d)===u&&(g=new g(b,p+"enter",y,n,d),g.target=m,g.relatedTarget=w,x=g),w=x,S&&y)t:{for(g=S,b=y,p=0,m=g;m;m=jo(m))p++;for(m=0,x=b;x;x=jo(x))m++;for(;0<p-m;)g=jo(g),p--;for(;0<m-p;)b=jo(b),m--;for(;p--;){if(g===b||b!==null&&g===b.alternate)break t;g=jo(g),b=jo(b)}g=null}else g=null;S!==null&&Xy(f,v,S,g,!1),y!==null&&w!==null&&Xy(f,w,y,g,!0)}}e:{if(v=u?Fo(u):window,S=v.nodeName&&v.nodeName.toLowerCase(),S==="select"||S==="input"&&v.type==="file")var C=Jk;else if(Wy(v))if(lS)C=n_;else{C=e_;var E=Zk}else(S=v.nodeName)&&S.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=t_);if(C&&(C=C(t,u))){aS(f,C,n,d);break e}E&&E(t,v,u),t==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&Sm(v,"number",v.value)}switch(E=u?Fo(u):window,t){case"focusin":(Wy(E)||E.contentEditable==="true")&&(Io=E,Om=u,kl=null);break;case"focusout":kl=Om=Io=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,Gy(f,n,d);break;case"selectionchange":if(s_)break;case"keydown":case"keyup":Gy(f,n,d)}var N;if(Pg)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Lo?sS(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(iS&&n.locale!=="ko"&&(Lo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Lo&&(N=rS()):(Yi=d,kg="value"in Yi?Yi.value:Yi.textContent,Lo=!0)),E=Zu(u,A),0<E.length&&(A=new By(A,t,null,n,d),f.push({event:A,listeners:E}),N?A.data=N:(N=oS(n),N!==null&&(A.data=N)))),(N=Kk?Gk(t,n):Qk(t,n))&&(u=Zu(u,"onBeforeInput"),0<u.length&&(d=new By("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}yS(f,e)})}function Zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ql(t,n),s!=null&&r.unshift(Zl(t,s,i)),s=ql(t,e),s!=null&&r.push(Zl(t,s,i))),t=t.return}return r}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xy(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=ql(n,s),c!=null&&a.unshift(Zl(n,c,l))):i||(c=ql(n,s),c!=null&&a.push(Zl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var c_=/\r\n?/g,u_=/\u0000|\uFFFD/g;function Jy(t){return(typeof t=="string"?t:""+t).replace(c_,`
`).replace(u_,"")}function eu(t,e,n){if(e=Jy(e),Jy(t)!==e&&n)throw Error(I(425))}function ed(){}var Im=null,Mm=null;function Fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bm=typeof setTimeout=="function"?setTimeout:void 0,d_=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,h_=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(t){return Zy.resolve(null).then(t).catch(f_)}:Bm;function f_(t){setTimeout(function(){throw t})}function uf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ql(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ex(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),kr="__reactFiber$"+Pa,ec="__reactProps$"+Pa,fi="__reactContainer$"+Pa,$m="__reactEvents$"+Pa,m_="__reactListeners$"+Pa,p_="__reactHandles$"+Pa;function ks(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ex(t);t!==null;){if(n=t[kr])return n;t=ex(t)}return e}t=n,n=t.parentNode}return null}function kc(t){return t=t[kr]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Qd(t){return t[ec]||null}var Um=[],Bo=-1;function ys(t){return{current:t}}function Qe(t){0>Bo||(t.current=Um[Bo],Um[Bo]=null,Bo--)}function qe(t,e){Bo++,Um[Bo]=t.current,t.current=e}var ds={},Qt=ys(ds),xn=ys(!1),Qs=ds;function ya(t,e){var n=t.type.contextTypes;if(!n)return ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function td(){Qe(xn),Qe(Qt)}function tx(t,e,n){if(Qt.current!==ds)throw Error(I(168));qe(Qt,e),qe(xn,n)}function bS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(I(108,ZR(t)||"Unknown",i));return st({},n,r)}function nd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ds,Qs=Qt.current,qe(Qt,t),qe(xn,xn.current),!0}function nx(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=bS(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,Qe(xn),Qe(Qt),qe(Qt,t)):Qe(xn),qe(xn,n)}var ti=null,Yd=!1,df=!1;function wS(t){ti===null?ti=[t]:ti.push(t)}function g_(t){Yd=!0,wS(t)}function xs(){if(!df&&ti!==null){df=!0;var t=0,e=We;try{var n=ti;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,Yd=!1}catch(i){throw ti!==null&&(ti=ti.slice(t+1)),qw(Eg,xs),i}finally{We=e,df=!1}}return null}var $o=[],Uo=0,rd=null,id=0,Un=[],zn=0,Ys=null,ai=1,li="";function Es(t,e){$o[Uo++]=id,$o[Uo++]=rd,rd=t,id=e}function SS(t,e,n){Un[zn++]=ai,Un[zn++]=li,Un[zn++]=Ys,Ys=t;var r=ai;t=li;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var s=32-ur(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ai=1<<32-ur(e)+i|n<<i|r,li=s+t}else ai=1<<s|n<<i|r,li=t}function Og(t){t.return!==null&&(Es(t,1),SS(t,1,0))}function Lg(t){for(;t===rd;)rd=$o[--Uo],$o[Uo]=null,id=$o[--Uo],$o[Uo]=null;for(;t===Ys;)Ys=Un[--zn],Un[zn]=null,li=Un[--zn],Un[zn]=null,ai=Un[--zn],Un[zn]=null}var kn=null,Rn=null,Ze=!1,ar=null;function CS(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,Rn=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:ai,overflow:li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,Rn=null,!0):!1;default:return!1}}function zm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wm(t){if(Ze){var e=Rn;if(e){var n=e;if(!rx(t,e)){if(zm(t))throw Error(I(418));e=ns(n.nextSibling);var r=kn;e&&rx(t,e)?CS(r,n):(t.flags=t.flags&-4097|2,Ze=!1,kn=t)}}else{if(zm(t))throw Error(I(418));t.flags=t.flags&-4097|2,Ze=!1,kn=t}}}function ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function tu(t){if(t!==kn)return!1;if(!Ze)return ix(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fm(t.type,t.memoizedProps)),e&&(e=Rn)){if(zm(t))throw NS(),Error(I(418));for(;e;)CS(t,e),e=ns(e.nextSibling)}if(ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=kn?ns(t.stateNode.nextSibling):null;return!0}function NS(){for(var t=Rn;t;)t=ns(t.nextSibling)}function xa(){Rn=kn=null,Ze=!1}function Ig(t){ar===null?ar=[t]:ar.push(t)}var v_=yi.ReactCurrentBatchConfig;function rl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function nu(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sx(t){var e=t._init;return e(t._payload)}function ES(t){function e(b,p){if(t){var m=b.deletions;m===null?(b.deletions=[p],b.flags|=16):m.push(p)}}function n(b,p){if(!t)return null;for(;p!==null;)e(b,p),p=p.sibling;return null}function r(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function i(b,p){return b=os(b,p),b.index=0,b.sibling=null,b}function s(b,p,m){return b.index=m,t?(m=b.alternate,m!==null?(m=m.index,m<p?(b.flags|=2,p):m):(b.flags|=2,p)):(b.flags|=1048576,p)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,p,m,x){return p===null||p.tag!==6?(p=yf(m,b.mode,x),p.return=b,p):(p=i(p,m),p.return=b,p)}function c(b,p,m,x){var C=m.type;return C===Oo?d(b,p,m.props.children,x,m.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Oi&&sx(C)===p.type)?(x=i(p,m.props),x.ref=rl(b,p,m),x.return=b,x):(x=Ou(m.type,m.key,m.props,null,b.mode,x),x.ref=rl(b,p,m),x.return=b,x)}function u(b,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=xf(m,b.mode,x),p.return=b,p):(p=i(p,m.children||[]),p.return=b,p)}function d(b,p,m,x,C){return p===null||p.tag!==7?(p=Hs(m,b.mode,x,C),p.return=b,p):(p=i(p,m),p.return=b,p)}function f(b,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=yf(""+p,b.mode,m),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Hc:return m=Ou(p.type,p.key,p.props,null,b.mode,m),m.ref=rl(b,null,p),m.return=b,m;case Do:return p=xf(p,b.mode,m),p.return=b,p;case Oi:var x=p._init;return f(b,x(p._payload),m)}if(xl(p)||Ja(p))return p=Hs(p,b.mode,m,null),p.return=b,p;nu(b,p)}return null}function v(b,p,m,x){var C=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:l(b,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hc:return m.key===C?c(b,p,m,x):null;case Do:return m.key===C?u(b,p,m,x):null;case Oi:return C=m._init,v(b,p,C(m._payload),x)}if(xl(m)||Ja(m))return C!==null?null:d(b,p,m,x,null);nu(b,m)}return null}function S(b,p,m,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(m)||null,l(p,b,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hc:return b=b.get(x.key===null?m:x.key)||null,c(p,b,x,C);case Do:return b=b.get(x.key===null?m:x.key)||null,u(p,b,x,C);case Oi:var E=x._init;return S(b,p,m,E(x._payload),C)}if(xl(x)||Ja(x))return b=b.get(m)||null,d(p,b,x,C,null);nu(p,x)}return null}function y(b,p,m,x){for(var C=null,E=null,N=p,A=p=0,k=null;N!==null&&A<m.length;A++){N.index>A?(k=N,N=null):k=N.sibling;var j=v(b,N,m[A],x);if(j===null){N===null&&(N=k);break}t&&N&&j.alternate===null&&e(b,N),p=s(j,p,A),E===null?C=j:E.sibling=j,E=j,N=k}if(A===m.length)return n(b,N),Ze&&Es(b,A),C;if(N===null){for(;A<m.length;A++)N=f(b,m[A],x),N!==null&&(p=s(N,p,A),E===null?C=N:E.sibling=N,E=N);return Ze&&Es(b,A),C}for(N=r(b,N);A<m.length;A++)k=S(N,b,A,m[A],x),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?A:k.key),p=s(k,p,A),E===null?C=k:E.sibling=k,E=k);return t&&N.forEach(function(R){return e(b,R)}),Ze&&Es(b,A),C}function g(b,p,m,x){var C=Ja(m);if(typeof C!="function")throw Error(I(150));if(m=C.call(m),m==null)throw Error(I(151));for(var E=C=null,N=p,A=p=0,k=null,j=m.next();N!==null&&!j.done;A++,j=m.next()){N.index>A?(k=N,N=null):k=N.sibling;var R=v(b,N,j.value,x);if(R===null){N===null&&(N=k);break}t&&N&&R.alternate===null&&e(b,N),p=s(R,p,A),E===null?C=R:E.sibling=R,E=R,N=k}if(j.done)return n(b,N),Ze&&Es(b,A),C;if(N===null){for(;!j.done;A++,j=m.next())j=f(b,j.value,x),j!==null&&(p=s(j,p,A),E===null?C=j:E.sibling=j,E=j);return Ze&&Es(b,A),C}for(N=r(b,N);!j.done;A++,j=m.next())j=S(N,b,A,j.value,x),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?A:j.key),p=s(j,p,A),E===null?C=j:E.sibling=j,E=j);return t&&N.forEach(function(P){return e(b,P)}),Ze&&Es(b,A),C}function w(b,p,m,x){if(typeof m=="object"&&m!==null&&m.type===Oo&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Hc:e:{for(var C=m.key,E=p;E!==null;){if(E.key===C){if(C=m.type,C===Oo){if(E.tag===7){n(b,E.sibling),p=i(E,m.props.children),p.return=b,b=p;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Oi&&sx(C)===E.type){n(b,E.sibling),p=i(E,m.props),p.ref=rl(b,E,m),p.return=b,b=p;break e}n(b,E);break}else e(b,E);E=E.sibling}m.type===Oo?(p=Hs(m.props.children,b.mode,x,m.key),p.return=b,b=p):(x=Ou(m.type,m.key,m.props,null,b.mode,x),x.ref=rl(b,p,m),x.return=b,b=x)}return a(b);case Do:e:{for(E=m.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(b,p.sibling),p=i(p,m.children||[]),p.return=b,b=p;break e}else{n(b,p);break}else e(b,p);p=p.sibling}p=xf(m,b.mode,x),p.return=b,b=p}return a(b);case Oi:return E=m._init,w(b,p,E(m._payload),x)}if(xl(m))return y(b,p,m,x);if(Ja(m))return g(b,p,m,x);nu(b,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(b,p.sibling),p=i(p,m),p.return=b,b=p):(n(b,p),p=yf(m,b.mode,x),p.return=b,b=p),a(b)):n(b,p)}return w}var ba=ES(!0),AS=ES(!1),sd=ys(null),od=null,zo=null,Mg=null;function Fg(){Mg=zo=od=null}function Bg(t){var e=sd.current;Qe(sd),t._currentValue=e}function Vm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qo(t,e){od=t,Mg=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(Mg!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(od===null)throw Error(I(308));zo=t,od.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var _s=null;function $g(t){_s===null?_s=[t]:_s.push(t)}function jS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,$g(e)):(n.next=i.next,i.next=n),e.interleaved=n,mi(t,r)}function mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Li=!1;function Ug(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mi(t,n)}return i=r.interleaved,i===null?(e.next=e,$g(r)):(e.next=i.next,i.next=e),r.interleaved=e,mi(t,n)}function Ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ag(t,n)}}function ox(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ad(t,e,n,r){var i=t.updateQueue;Li=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var v=l.lane,S=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,g=l;switch(v=e,S=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(S,f,v);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,v=typeof y=="function"?y.call(S,f,v):y,v==null)break e;f=st({},f,v);break e;case 2:Li=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else S={eventTime:S,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=S,c=f):d=d.next=S,a|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Js|=a,t.lanes=a,t.memoizedState=f}}function ax(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var _c={},Or=ys(_c),tc=ys(_c),nc=ys(_c);function Ts(t){if(t===_c)throw Error(I(174));return t}function zg(t,e){switch(qe(nc,e),qe(tc,t),qe(Or,_c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nm(e,t)}Qe(Or),qe(Or,e)}function wa(){Qe(Or),Qe(tc),Qe(nc)}function kS(t){Ts(nc.current);var e=Ts(Or.current),n=Nm(e,t.type);e!==n&&(qe(tc,t),qe(Or,n))}function Wg(t){tc.current===t&&(Qe(Or),Qe(tc))}var tt=ys(0);function ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hf=[];function Vg(){for(var t=0;t<hf.length;t++)hf[t]._workInProgressVersionPrimary=null;hf.length=0}var ku=yi.ReactCurrentDispatcher,ff=yi.ReactCurrentBatchConfig,Xs=0,it=null,St=null,Rt=null,cd=!1,_l=!1,rc=0,y_=0;function zt(){throw Error(I(321))}function Hg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function qg(t,e,n,r,i,s){if(Xs=s,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ku.current=t===null||t.memoizedState===null?S_:C_,t=n(r,i),_l){s=0;do{if(_l=!1,rc=0,25<=s)throw Error(I(301));s+=1,Rt=St=null,e.updateQueue=null,ku.current=N_,t=n(r,i)}while(_l)}if(ku.current=ud,e=St!==null&&St.next!==null,Xs=0,Rt=St=it=null,cd=!1,e)throw Error(I(300));return t}function Kg(){var t=rc!==0;return rc=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?it.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Kn(){if(St===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Rt===null?it.memoizedState:Rt.next;if(e!==null)Rt=e,St=t;else{if(t===null)throw Error(I(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Rt===null?it.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function ic(t,e){return typeof e=="function"?e(t):e}function mf(t){var e=Kn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Xs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,it.lanes|=d,Js|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,hr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,it.lanes|=s,Js|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pf(t){var e=Kn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);hr(s,e.memoizedState)||(yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function _S(){}function TS(t,e){var n=it,r=Kn(),i=e(),s=!hr(r.memoizedState,i);if(s&&(r.memoizedState=i,yn=!0),r=r.queue,Gg(OS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,sc(9,DS.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(I(349));Xs&30||PS(n,e,i)}return i}function PS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DS(t,e,n,r){e.value=n,e.getSnapshot=r,LS(e)&&IS(t)}function OS(t,e,n){return n(function(){LS(e)&&IS(t)})}function LS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function IS(t){var e=mi(t,1);e!==null&&dr(e,t,1,-1)}function lx(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},e.queue=t,t=t.dispatch=w_.bind(null,it,t),[e.memoizedState,t]}function sc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MS(){return Kn().memoizedState}function _u(t,e,n,r){var i=Er();it.flags|=t,i.memoizedState=sc(1|e,n,void 0,r===void 0?null:r)}function Xd(t,e,n,r){var i=Kn();r=r===void 0?null:r;var s=void 0;if(St!==null){var a=St.memoizedState;if(s=a.destroy,r!==null&&Hg(r,a.deps)){i.memoizedState=sc(e,n,s,r);return}}it.flags|=t,i.memoizedState=sc(1|e,n,s,r)}function cx(t,e){return _u(8390656,8,t,e)}function Gg(t,e){return Xd(2048,8,t,e)}function FS(t,e){return Xd(4,2,t,e)}function BS(t,e){return Xd(4,4,t,e)}function $S(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function US(t,e,n){return n=n!=null?n.concat([t]):null,Xd(4,4,$S.bind(null,e,t),n)}function Qg(){}function zS(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WS(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VS(t,e,n){return Xs&21?(hr(n,e)||(n=Qw(),it.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function x_(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=ff.transition;ff.transition={};try{t(!1),e()}finally{We=n,ff.transition=r}}function HS(){return Kn().memoizedState}function b_(t,e,n){var r=ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qS(t))KS(e,n);else if(n=jS(t,e,n,r),n!==null){var i=ln();dr(n,t,r,i),GS(n,e,r)}}function w_(t,e,n){var r=ss(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qS(t))KS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,hr(l,a)){var c=e.interleaved;c===null?(i.next=i,$g(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=jS(t,e,i,r),n!==null&&(i=ln(),dr(n,t,r,i),GS(n,e,r))}}function qS(t){var e=t.alternate;return t===it||e!==null&&e===it}function KS(t,e){_l=cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ag(t,n)}}var ud={readContext:qn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},S_={readContext:qn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:cx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_u(4194308,4,$S.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _u(4194308,4,t,e)},useInsertionEffect:function(t,e){return _u(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b_.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:lx,useDebugValue:Qg,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=lx(!1),e=t[0];return t=x_.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=Er();if(Ze){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Tt===null)throw Error(I(349));Xs&30||PS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cx(OS.bind(null,r,s,t),[t]),r.flags|=2048,sc(9,DS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Er(),e=Tt.identifierPrefix;if(Ze){var n=li,r=ai;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C_={readContext:qn,useCallback:zS,useContext:qn,useEffect:Gg,useImperativeHandle:US,useInsertionEffect:FS,useLayoutEffect:BS,useMemo:WS,useReducer:mf,useRef:MS,useState:function(){return mf(ic)},useDebugValue:Qg,useDeferredValue:function(t){var e=Kn();return VS(e,St.memoizedState,t)},useTransition:function(){var t=mf(ic)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:_S,useSyncExternalStore:TS,useId:HS,unstable_isNewReconciler:!1},N_={readContext:qn,useCallback:zS,useContext:qn,useEffect:Gg,useImperativeHandle:US,useInsertionEffect:FS,useLayoutEffect:BS,useMemo:WS,useReducer:pf,useRef:MS,useState:function(){return pf(ic)},useDebugValue:Qg,useDeferredValue:function(t){var e=Kn();return St===null?e.memoizedState=t:VS(e,St.memoizedState,t)},useTransition:function(){var t=pf(ic)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:_S,useSyncExternalStore:TS,useId:HS,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jd={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=ss(t),s=ui(r,i);s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(dr(e,t,i,r),Ru(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=ss(t),s=ui(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(dr(e,t,i,r),Ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=ss(t),i=ui(n,r);i.tag=2,e!=null&&(i.callback=e),e=rs(t,i,r),e!==null&&(dr(e,t,r,n),Ru(e,t,r))}};function ux(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xl(n,r)||!Xl(i,s):!0}function QS(t,e,n){var r=!1,i=ds,s=e.contextType;return typeof s=="object"&&s!==null?s=qn(s):(i=bn(e)?Qs:Qt.current,r=e.contextTypes,s=(r=r!=null)?ya(t,i):ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jd.enqueueReplaceState(e,e.state,null)}function qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ug(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qn(s):(s=bn(e)?Qs:Qt.current,i.context=ya(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jd.enqueueReplaceState(i,i.state,null),ad(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sa(t,e){try{var n="",r=e;do n+=JR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Km(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E_=typeof WeakMap=="function"?WeakMap:Map;function YS(t,e,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hd||(hd=!0,rp=r),Km(t,e)},n}function XS(t,e,n){n=ui(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Km(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Km(t,e),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function hx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=B_.bind(null,t,e,n),e.then(t,t))}function fx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ui(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var A_=yi.ReactCurrentOwner,yn=!1;function nn(t,e,n,r){e.child=t===null?AS(e,null,n,r):ba(e,t.child,n,r)}function px(t,e,n,r,i){n=n.render;var s=e.ref;return Qo(e,i),r=qg(t,e,n,r,s,i),n=Kg(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(Ze&&n&&Og(e),e.flags|=1,nn(t,e,r,i),e.child)}function gx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JS(t,e,s,r,i)):(t=Ou(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(a,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=os(s,r),t.ref=e.ref,t.return=e,e.child=t}function JS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xl(s,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,pi(t,e,i)}return Gm(t,e,n,r,i)}function ZS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Vo,An),An|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Vo,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(Vo,An),An|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(Vo,An),An|=r;return nn(t,e,i,n),e.child}function eC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gm(t,e,n,r,i){var s=bn(n)?Qs:Qt.current;return s=ya(e,s),Qo(e,i),n=qg(t,e,n,r,s,i),r=Kg(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(Ze&&r&&Og(e),e.flags|=1,nn(t,e,n,i),e.child)}function vx(t,e,n,r,i){if(bn(n)){var s=!0;nd(e)}else s=!1;if(Qo(e,i),e.stateNode===null)Tu(t,e),QS(e,n,r),qm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=qn(u):(u=bn(n)?Qs:Qt.current,u=ya(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&dx(e,a,r,u),Li=!1;var v=e.memoizedState;a.state=v,ad(e,r,a,i),c=e.memoizedState,l!==r||v!==c||xn.current||Li?(typeof d=="function"&&(Hm(e,n,d,r),c=e.memoizedState),(l=Li||ux(e,n,l,r,v,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,RS(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:rr(e.type,l),a.props=u,f=e.pendingProps,v=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=qn(c):(c=bn(n)?Qs:Qt.current,c=ya(e,c));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||v!==c)&&dx(e,a,r,c),Li=!1,v=e.memoizedState,a.state=v,ad(e,r,a,i);var y=e.memoizedState;l!==f||v!==y||xn.current||Li?(typeof S=="function"&&(Hm(e,n,S,r),y=e.memoizedState),(u=Li||ux(e,n,u,r,v,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Qm(t,e,n,r,s,i)}function Qm(t,e,n,r,i,s){eC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&nx(e,n,!1),pi(t,e,s);r=e.stateNode,A_.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ba(e,t.child,null,s),e.child=ba(e,null,l,s)):nn(t,e,l,s),e.memoizedState=r.state,i&&nx(e,n,!0),e.child}function tC(t){var e=t.stateNode;e.pendingContext?tx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tx(t,e.context,!1),zg(t,e.containerInfo)}function yx(t,e,n,r,i){return xa(),Ig(i),e.flags|=256,nn(t,e,n,r),e.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Xm(t){return{baseLanes:t,cachePool:null,transitions:null}}function nC(t,e,n){var r=e.pendingProps,i=tt.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(tt,i&1),t===null)return Wm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=th(a,r,0,null),t=Hs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xm(n),e.memoizedState=Ym,t):Yg(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return j_(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=os(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=os(l,s):(s=Hs(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Xm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Ym,r}return s=t.child,t=s.sibling,r=os(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yg(t,e){return e=th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ru(t,e,n,r){return r!==null&&Ig(r),ba(e,t.child,null,n),t=Yg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j_(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=gf(Error(I(422))),ru(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=th({mode:"visible",children:r.children},i,0,null),s=Hs(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ba(e,t.child,null,a),e.child.memoizedState=Xm(a),e.memoizedState=Ym,s);if(!(e.mode&1))return ru(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(I(419)),r=gf(s,r,void 0),ru(t,e,a,r)}if(l=(a&t.childLanes)!==0,yn||l){if(r=Tt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mi(t,i),dr(r,t,i,-1))}return nv(),r=gf(Error(I(421))),ru(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rn=ns(i.nextSibling),kn=e,Ze=!0,ar=null,t!==null&&(Un[zn++]=ai,Un[zn++]=li,Un[zn++]=Ys,ai=t.id,li=t.overflow,Ys=e),e=Yg(e,r.children),e.flags|=4096,e)}function xx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vm(t.return,e,n)}function vf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xx(t,n,e);else if(t.tag===19)xx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ld(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ld(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vf(e,!0,n,null,s);break;case"together":vf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function R_(t,e,n){switch(e.tag){case 3:tC(e),xa();break;case 5:kS(e);break;case 1:bn(e.type)&&nd(e);break;case 4:zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(sd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?nC(t,e,n):(qe(tt,tt.current&1),t=pi(t,e,n),t!==null?t.sibling:null);qe(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,ZS(t,e,n)}return pi(t,e,n)}var iC,Jm,sC,oC;iC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jm=function(){};sC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ts(Or.current);var s=null;switch(n){case"input":i=bm(t,i),r=bm(t,r),s=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),s=[];break;case"textarea":i=Cm(t,i),r=Cm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ed)}Em(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};oC=function(t,e,n,r){n!==r&&(e.flags|=4)};function il(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k_(t,e,n){var r=e.pendingProps;switch(Lg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return bn(e.type)&&td(),Wt(e),null;case 3:return r=e.stateNode,wa(),Qe(xn),Qe(Qt),Vg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(op(ar),ar=null))),Jm(t,e),Wt(e),null;case 5:Wg(e);var i=Ts(nc.current);if(n=e.type,t!==null&&e.stateNode!=null)sC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return Wt(e),null}if(t=Ts(Or.current),tu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kr]=e,r[ec]=s,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<wl.length;i++)Ge(wl[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Ry(r,s),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r);break;case"textarea":_y(r,s),Ge("invalid",r)}Em(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&eu(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&eu(r.textContent,l,t),i=["children",""+l]):Vl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ge("scroll",r)}switch(n){case"input":qc(r),ky(r,s,!0);break;case"textarea":qc(r),Ty(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ed)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ow(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[kr]=e,t[ec]=r,iC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Am(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<wl.length;i++)Ge(wl[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":Ry(t,r),i=bm(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":_y(t,r),i=Cm(t,r),Ge("invalid",t);break;default:i=r}Em(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Mw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Hl(t,c):typeof c=="number"&&Hl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ge("scroll",t):c!=null&&bg(t,s,c,a))}switch(n){case"input":qc(t),ky(t,r,!1);break;case"textarea":qc(t),Ty(t);break;case"option":r.value!=null&&t.setAttribute("value",""+us(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ho(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)oC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=Ts(nc.current),Ts(Or.current),tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(s=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return Wt(e),null;case 13:if(Qe(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Rn!==null&&e.mode&1&&!(e.flags&128))NS(),xa(),e.flags|=98560,s=!1;else if(s=tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[kr]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),s=!1}else ar!==null&&(op(ar),ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?Et===0&&(Et=3):nv())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return wa(),Jm(t,e),t===null&&Jl(e.stateNode.containerInfo),Wt(e),null;case 10:return Bg(e.type._context),Wt(e),null;case 17:return bn(e.type)&&td(),Wt(e),null;case 19:if(Qe(tt),s=e.memoizedState,s===null)return Wt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)il(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ld(t),a!==null){for(e.flags|=128,il(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(tt,tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ft()>Ca&&(e.flags|=128,r=!0,il(s,!1),e.lanes=4194304)}else{if(!r)if(t=ld(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ze)return Wt(e),null}else 2*ft()-s.renderingStartTime>Ca&&n!==1073741824&&(e.flags|=128,r=!0,il(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,n=tt.current,qe(tt,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return tv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function __(t,e){switch(Lg(e),e.tag){case 1:return bn(e.type)&&td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wa(),Qe(xn),Qe(Qt),Vg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wg(e),null;case 13:if(Qe(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(tt),null;case 4:return wa(),null;case 10:return Bg(e.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var iu=!1,qt=!1,T_=typeof WeakSet=="function"?WeakSet:Set,X=null;function Wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Zm(t,e,n){try{n()}catch(r){ct(t,e,r)}}var bx=!1;function P_(t,e){if(Im=Xu,t=dS(),Dg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,v=null;t:for(;;){for(var S;f!==n||i!==0&&f.nodeType!==3||(l=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(S=f.firstChild)!==null;)v=f,f=S;for(;;){if(f===t)break t;if(v===n&&++u===i&&(l=a),v===s&&++d===r&&(c=a),(S=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=S}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:t,selectionRange:n},Xu=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,b=e.stateNode,p=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:rr(e.type,g),w);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(x){ct(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return y=bx,bx=!1,y}function Tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zm(e,n,s)}i=i.next}while(i!==r)}}function Zd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ep(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aC(t){var e=t.alternate;e!==null&&(t.alternate=null,aC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[ec],delete e[$m],delete e[m_],delete e[p_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lC(t){return t.tag===5||t.tag===3||t.tag===4}function wx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ed));else if(r!==4&&(t=t.child,t!==null))for(tp(t,e,n),t=t.sibling;t!==null;)tp(t,e,n),t=t.sibling}function np(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(np(t,e,n),t=t.sibling;t!==null;)np(t,e,n),t=t.sibling}var Ot=null,or=!1;function Ai(t,e,n){for(n=n.child;n!==null;)cC(t,e,n),n=n.sibling}function cC(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Hd,n)}catch{}switch(n.tag){case 5:qt||Wo(n,e);case 6:var r=Ot,i=or;Ot=null,Ai(t,e,n),Ot=r,or=i,Ot!==null&&(or?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(or?(t=Ot,n=n.stateNode,t.nodeType===8?uf(t.parentNode,n):t.nodeType===1&&uf(t,n),Ql(t)):uf(Ot,n.stateNode));break;case 4:r=Ot,i=or,Ot=n.stateNode.containerInfo,or=!0,Ai(t,e,n),Ot=r,or=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Zm(n,e,a),i=i.next}while(i!==r)}Ai(t,e,n);break;case 1:if(!qt&&(Wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ct(n,e,l)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Ai(t,e,n),qt=r):Ai(t,e,n);break;default:Ai(t,e,n)}}function Sx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new T_),e.forEach(function(r){var i=U_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,or=!1;break e;case 3:Ot=l.stateNode.containerInfo,or=!0;break e;case 4:Ot=l.stateNode.containerInfo,or=!0;break e}l=l.return}if(Ot===null)throw Error(I(160));cC(s,a,i),Ot=null,or=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uC(e,t),e=e.sibling}function uC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),Cr(t),r&4){try{Tl(3,t,t.return),Zd(3,t)}catch(g){ct(t,t.return,g)}try{Tl(5,t,t.return)}catch(g){ct(t,t.return,g)}}break;case 1:Zn(e,t),Cr(t),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(Zn(e,t),Cr(t),r&512&&n!==null&&Wo(n,n.return),t.flags&32){var i=t.stateNode;try{Hl(i,"")}catch(g){ct(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Pw(i,s),Am(l,a);var u=Am(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?Mw(i,f):d==="dangerouslySetInnerHTML"?Lw(i,f):d==="children"?Hl(i,f):bg(i,d,f,u)}switch(l){case"input":wm(i,s);break;case"textarea":Dw(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Ho(i,!!s.multiple,S,!1):v!==!!s.multiple&&(s.defaultValue!=null?Ho(i,!!s.multiple,s.defaultValue,!0):Ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[ec]=s}catch(g){ct(t,t.return,g)}}break;case 6:if(Zn(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){ct(t,t.return,g)}}break;case 3:if(Zn(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(e.containerInfo)}catch(g){ct(t,t.return,g)}break;case 4:Zn(e,t),Cr(t);break;case 13:Zn(e,t),Cr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zg=ft())),r&4&&Sx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(u=qt)||d,Zn(e,t),qt=u):Zn(e,t),Cr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(f=X=d;X!==null;){switch(v=X,S=v.child,v.tag){case 0:case 11:case 14:case 15:Tl(4,v,v.return);break;case 1:Wo(v,v.return);var y=v.stateNode;if(typeof y.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){ct(r,n,g)}}break;case 5:Wo(v,v.return);break;case 22:if(v.memoizedState!==null){Nx(f);continue}}S!==null?(S.return=v,X=S):Nx(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Iw("display",a))}catch(g){ct(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ct(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zn(e,t),Cr(t),r&4&&Sx(t);break;case 21:break;default:Zn(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lC(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hl(i,""),r.flags&=-33);var s=wx(t);np(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=wx(t);tp(t,l,a);break;default:throw Error(I(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function D_(t,e,n){X=t,dC(t)}function dC(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||iu;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||qt;l=iu;var u=qt;if(iu=a,(qt=c)&&!u)for(X=i;X!==null;)a=X,c=a.child,a.tag===22&&a.memoizedState!==null?Ex(i):c!==null?(c.return=a,X=c):Ex(i);for(;s!==null;)X=s,dC(s),s=s.sibling;X=i,iu=l,qt=u}Cx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):Cx(t)}}function Cx(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||Zd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ax(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ax(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}qt||e.flags&512&&ep(e)}catch(v){ct(e,e.return,v)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Nx(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Ex(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zd(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ct(e,i,c)}}var s=e.return;try{ep(e)}catch(c){ct(e,s,c)}break;case 5:var a=e.return;try{ep(e)}catch(c){ct(e,a,c)}}}catch(c){ct(e,e.return,c)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var O_=Math.ceil,dd=yi.ReactCurrentDispatcher,Xg=yi.ReactCurrentOwner,Hn=yi.ReactCurrentBatchConfig,Te=0,Tt=null,vt=null,Mt=0,An=0,Vo=ys(0),Et=0,oc=null,Js=0,eh=0,Jg=0,Pl=null,vn=null,Zg=0,Ca=1/0,Zr=null,hd=!1,rp=null,is=null,su=!1,Xi=null,fd=0,Dl=0,ip=null,Pu=-1,Du=0;function ln(){return Te&6?ft():Pu!==-1?Pu:Pu=ft()}function ss(t){return t.mode&1?Te&2&&Mt!==0?Mt&-Mt:v_.transition!==null?(Du===0&&(Du=Qw()),Du):(t=We,t!==0||(t=window.event,t=t===void 0?16:nS(t.type)),t):1}function dr(t,e,n,r){if(50<Dl)throw Dl=0,ip=null,Error(I(185));jc(t,n,r),(!(Te&2)||t!==Tt)&&(t===Tt&&(!(Te&2)&&(eh|=n),Et===4&&Bi(t,Mt)),wn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Ca=ft()+500,Yd&&xs()))}function wn(t,e){var n=t.callbackNode;vk(t,e);var r=Yu(t,t===Tt?Mt:0);if(r===0)n!==null&&Oy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Oy(n),e===1)t.tag===0?g_(Ax.bind(null,t)):wS(Ax.bind(null,t)),h_(function(){!(Te&6)&&xs()}),n=null;else{switch(Yw(r)){case 1:n=Eg;break;case 4:n=Kw;break;case 16:n=Qu;break;case 536870912:n=Gw;break;default:n=Qu}n=xC(n,hC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hC(t,e){if(Pu=-1,Du=0,Te&6)throw Error(I(327));var n=t.callbackNode;if(Yo()&&t.callbackNode!==n)return null;var r=Yu(t,t===Tt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=md(t,r);else{e=r;var i=Te;Te|=2;var s=mC();(Tt!==t||Mt!==e)&&(Zr=null,Ca=ft()+500,Vs(t,e));do try{M_();break}catch(l){fC(t,l)}while(!0);Fg(),dd.current=s,Te=i,vt!==null?e=0:(Tt=null,Mt=0,e=Et)}if(e!==0){if(e===2&&(i=Tm(t),i!==0&&(r=i,e=sp(t,i))),e===1)throw n=oc,Vs(t,0),Bi(t,r),wn(t,ft()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!L_(i)&&(e=md(t,r),e===2&&(s=Tm(t),s!==0&&(r=s,e=sp(t,s))),e===1))throw n=oc,Vs(t,0),Bi(t,r),wn(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:As(t,vn,Zr);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=Zg+500-ft(),10<e)){if(Yu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bm(As.bind(null,t,vn,Zr),e);break}As(t,vn,Zr);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ur(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O_(r/1960))-r,10<r){t.timeoutHandle=Bm(As.bind(null,t,vn,Zr),r);break}As(t,vn,Zr);break;case 5:As(t,vn,Zr);break;default:throw Error(I(329))}}}return wn(t,ft()),t.callbackNode===n?hC.bind(null,t):null}function sp(t,e){var n=Pl;return t.current.memoizedState.isDehydrated&&(Vs(t,e).flags|=256),t=md(t,e),t!==2&&(e=vn,vn=n,e!==null&&op(e)),t}function op(t){vn===null?vn=t:vn.push.apply(vn,t)}function L_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~Jg,e&=~eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function Ax(t){if(Te&6)throw Error(I(327));Yo();var e=Yu(t,0);if(!(e&1))return wn(t,ft()),null;var n=md(t,e);if(t.tag!==0&&n===2){var r=Tm(t);r!==0&&(e=r,n=sp(t,r))}if(n===1)throw n=oc,Vs(t,0),Bi(t,e),wn(t,ft()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,As(t,vn,Zr),wn(t,ft()),null}function ev(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Ca=ft()+500,Yd&&xs())}}function Zs(t){Xi!==null&&Xi.tag===0&&!(Te&6)&&Yo();var e=Te;Te|=1;var n=Hn.transition,r=We;try{if(Hn.transition=null,We=1,t)return t()}finally{We=r,Hn.transition=n,Te=e,!(Te&6)&&xs()}}function tv(){An=Vo.current,Qe(Vo)}function Vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,d_(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Lg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&td();break;case 3:wa(),Qe(xn),Qe(Qt),Vg();break;case 5:Wg(r);break;case 4:wa();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:Bg(r.type._context);break;case 22:case 23:tv()}n=n.return}if(Tt=t,vt=t=os(t.current,null),Mt=An=e,Et=0,oc=null,Jg=eh=Js=0,vn=Pl=null,_s!==null){for(e=0;e<_s.length;e++)if(n=_s[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}_s=null}return t}function fC(t,e){do{var n=vt;try{if(Fg(),ku.current=ud,cd){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cd=!1}if(Xs=0,Rt=St=it=null,_l=!1,rc=0,Xg.current=null,n===null||n.return===null){Et=1,oc=e,vt=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=Mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=fx(a);if(S!==null){S.flags&=-257,mx(S,a,l,s,e),S.mode&1&&hx(s,u,e),e=S,c=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(c),e.updateQueue=g}else y.add(c);break e}else{if(!(e&1)){hx(s,u,e),nv();break e}c=Error(I(426))}}else if(Ze&&l.mode&1){var w=fx(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),mx(w,a,l,s,e),Ig(Sa(c,l));break e}}s=c=Sa(c,l),Et!==4&&(Et=2),Pl===null?Pl=[s]:Pl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=YS(s,c,e);ox(s,b);break e;case 1:l=c;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(is===null||!is.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=XS(s,l,e);ox(s,x);break e}}s=s.return}while(s!==null)}gC(n)}catch(C){e=C,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function mC(){var t=dd.current;return dd.current=ud,t===null?ud:t}function nv(){(Et===0||Et===3||Et===2)&&(Et=4),Tt===null||!(Js&268435455)&&!(eh&268435455)||Bi(Tt,Mt)}function md(t,e){var n=Te;Te|=2;var r=mC();(Tt!==t||Mt!==e)&&(Zr=null,Vs(t,e));do try{I_();break}catch(i){fC(t,i)}while(!0);if(Fg(),Te=n,dd.current=r,vt!==null)throw Error(I(261));return Tt=null,Mt=0,Et}function I_(){for(;vt!==null;)pC(vt)}function M_(){for(;vt!==null&&!lk();)pC(vt)}function pC(t){var e=yC(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?gC(t):vt=e,Xg.current=null}function gC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=__(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,vt=null;return}}else if(n=k_(n,e,An),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Et===0&&(Et=5)}function As(t,e,n){var r=We,i=Hn.transition;try{Hn.transition=null,We=1,F_(t,e,n,r)}finally{Hn.transition=i,We=r}return null}function F_(t,e,n,r){do Yo();while(Xi!==null);if(Te&6)throw Error(I(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yk(t,s),t===Tt&&(vt=Tt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||su||(su=!0,xC(Qu,function(){return Yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var a=We;We=1;var l=Te;Te|=4,Xg.current=null,P_(t,n),uC(n,t),i_(Mm),Xu=!!Im,Mm=Im=null,t.current=n,D_(n),ck(),Te=l,We=a,Hn.transition=s}else t.current=n;if(su&&(su=!1,Xi=t,fd=i),s=t.pendingLanes,s===0&&(is=null),hk(n.stateNode),wn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hd)throw hd=!1,t=rp,rp=null,t;return fd&1&&t.tag!==0&&Yo(),s=t.pendingLanes,s&1?t===ip?Dl++:(Dl=0,ip=t):Dl=0,xs(),null}function Yo(){if(Xi!==null){var t=Yw(fd),e=Hn.transition,n=We;try{if(Hn.transition=null,We=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,fd=0,Te&6)throw Error(I(331));var i=Te;for(Te|=4,X=t.current;X!==null;){var s=X,a=s.child;if(X.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Tl(8,d,s)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var v=d.sibling,S=d.return;if(aC(d),d===u){X=null;break}if(v!==null){v.return=S,X=v;break}X=S}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}X=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,X=a;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tl(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,X=b;break e}X=s.return}}var p=t.current;for(X=p;X!==null;){a=X;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,X=m;else e:for(a=p;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zd(9,l)}}catch(C){ct(l,l.return,C)}if(l===a){X=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,X=x;break e}X=l.return}}if(Te=i,xs(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Hd,t)}catch{}r=!0}return r}finally{We=n,Hn.transition=e}}return!1}function jx(t,e,n){e=Sa(n,e),e=YS(t,e,1),t=rs(t,e,1),e=ln(),t!==null&&(jc(t,1,e),wn(t,e))}function ct(t,e,n){if(t.tag===3)jx(t,t,n);else for(;e!==null;){if(e.tag===3){jx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){t=Sa(n,t),t=XS(e,t,1),e=rs(e,t,1),t=ln(),e!==null&&(jc(e,1,t),wn(e,t));break}}e=e.return}}function B_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Mt&n)===n&&(Et===4||Et===3&&(Mt&130023424)===Mt&&500>ft()-Zg?Vs(t,0):Jg|=n),wn(t,e)}function vC(t,e){e===0&&(t.mode&1?(e=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):e=1);var n=ln();t=mi(t,e),t!==null&&(jc(t,e,n),wn(t,n))}function $_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vC(t,n)}function U_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),vC(t,n)}var yC;yC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,R_(t,e,n);yn=!!(t.flags&131072)}else yn=!1,Ze&&e.flags&1048576&&SS(e,id,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tu(t,e),t=e.pendingProps;var i=ya(e,Qt.current);Qo(e,n),i=qg(null,e,r,t,i,n);var s=Kg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(s=!0,nd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ug(e),i.updater=Jd,e.stateNode=i,i._reactInternals=e,qm(e,r,t,n),e=Qm(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&Og(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=W_(r),t=rr(r,t),i){case 0:e=Gm(null,e,r,t,n);break e;case 1:e=vx(null,e,r,t,n);break e;case 11:e=px(null,e,r,t,n);break e;case 14:e=gx(null,e,r,rr(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Gm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),vx(t,e,r,i,n);case 3:e:{if(tC(e),t===null)throw Error(I(387));r=e.pendingProps,s=e.memoizedState,i=s.element,RS(t,e),ad(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sa(Error(I(423)),e),e=yx(t,e,r,n,i);break e}else if(r!==i){i=Sa(Error(I(424)),e),e=yx(t,e,r,n,i);break e}else for(Rn=ns(e.stateNode.containerInfo.firstChild),kn=e,Ze=!0,ar=null,n=AS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),r===i){e=pi(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return kS(e),t===null&&Wm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Fm(r,i)?a=null:s!==null&&Fm(r,s)&&(e.flags|=32),eC(t,e),nn(t,e,a,n),e.child;case 6:return t===null&&Wm(e),null;case 13:return nC(t,e,n);case 4:return zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ba(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),px(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,qe(sd,r._currentValue),r._currentValue=a,s!==null)if(hr(s.value,a)){if(s.children===i.children&&!xn.current){e=pi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ui(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Vm(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(I(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Vm(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qo(e,n),i=qn(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),gx(t,e,r,i,n);case 15:return JS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Tu(t,e),e.tag=1,bn(r)?(t=!0,nd(e)):t=!1,Qo(e,n),QS(e,r,i),qm(e,r,i,n),Qm(null,e,r,!0,t,n);case 19:return rC(t,e,n);case 22:return ZS(t,e,n)}throw Error(I(156,e.tag))};function xC(t,e){return qw(t,e)}function z_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new z_(t,e,n,r)}function rv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W_(t){if(typeof t=="function")return rv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sg)return 11;if(t===Cg)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ou(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")rv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Oo:return Hs(n.children,i,s,e);case wg:a=8,i|=8;break;case gm:return t=Vn(12,n,e,i|2),t.elementType=gm,t.lanes=s,t;case vm:return t=Vn(13,n,e,i),t.elementType=vm,t.lanes=s,t;case ym:return t=Vn(19,n,e,i),t.elementType=ym,t.lanes=s,t;case kw:return th(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jw:a=10;break e;case Rw:a=9;break e;case Sg:a=11;break e;case Cg:a=14;break e;case Oi:a=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Vn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hs(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function th(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=kw,t.lanes=n,t.stateNode={isHidden:!1},t}function yf(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function xf(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function V_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jh(0),this.expirationTimes=Jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iv(t,e,n,r,i,s,a,l,c){return t=new V_(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(s),t}function H_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bC(t){if(!t)return ds;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(bn(n))return bS(t,n,e)}return e}function wC(t,e,n,r,i,s,a,l,c){return t=iv(n,r,!0,t,i,s,a,l,c),t.context=bC(null),n=t.current,r=ln(),i=ss(n),s=ui(r,i),s.callback=e??null,rs(n,s,i),t.current.lanes=i,jc(t,i,r),wn(t,r),t}function nh(t,e,n,r){var i=e.current,s=ln(),a=ss(i);return n=bC(n),e.context===null?e.context=n:e.pendingContext=n,e=ui(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rs(i,e,a),t!==null&&(dr(t,i,a,s),Ru(t,i,a)),a}function pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sv(t,e){Rx(t,e),(t=t.alternate)&&Rx(t,e)}function q_(){return null}var SC=typeof reportError=="function"?reportError:function(t){console.error(t)};function ov(t){this._internalRoot=t}rh.prototype.render=ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));nh(t,e,null,null)};rh.prototype.unmount=ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){nh(null,t,null,null)}),e[fi]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&tS(t)}};function av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kx(){}function K_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=pd(a);s.call(u)}}var a=wC(e,r,t,0,null,!1,!1,"",kx);return t._reactRootContainer=a,t[fi]=a.current,Jl(t.nodeType===8?t.parentNode:t),Zs(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=pd(c);l.call(u)}}var c=iv(t,0,!1,null,null,!1,!1,"",kx);return t._reactRootContainer=c,t[fi]=c.current,Jl(t.nodeType===8?t.parentNode:t),Zs(function(){nh(e,c,n,r)}),c}function sh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=pd(a);l.call(c)}}nh(e,a,t,i)}else a=K_(n,e,t,i,r);return pd(a)}Xw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bl(e.pendingLanes);n!==0&&(Ag(e,n|1),wn(e,ft()),!(Te&6)&&(Ca=ft()+500,xs()))}break;case 13:Zs(function(){var r=mi(t,1);if(r!==null){var i=ln();dr(r,t,1,i)}}),sv(t,1)}};jg=function(t){if(t.tag===13){var e=mi(t,134217728);if(e!==null){var n=ln();dr(e,t,134217728,n)}sv(t,134217728)}};Jw=function(t){if(t.tag===13){var e=ss(t),n=mi(t,e);if(n!==null){var r=ln();dr(n,t,e,r)}sv(t,e)}};Zw=function(){return We};eS=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};Rm=function(t,e,n){switch(e){case"input":if(wm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qd(r);if(!i)throw Error(I(90));Tw(r),wm(r,i)}}}break;case"textarea":Dw(t,n);break;case"select":e=n.value,e!=null&&Ho(t,!!n.multiple,e,!1)}};$w=ev;Uw=Zs;var G_={usingClientEntryPoint:!1,Events:[kc,Fo,Qd,Fw,Bw,ev]},sl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q_={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vw(t),t===null?null:t.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||q_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Hd=ou.inject(Q_),Dr=ou}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G_;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!av(e))throw Error(I(200));return H_(t,e,null,n)};On.createRoot=function(t,e){if(!av(t))throw Error(I(299));var n=!1,r="",i=SC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iv(t,1,!1,null,null,n,!1,r,i),t[fi]=e.current,Jl(t.nodeType===8?t.parentNode:t),new ov(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Vw(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return Zs(t)};On.hydrate=function(t,e,n){if(!ih(e))throw Error(I(200));return sh(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!av(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=SC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=wC(e,null,t,1,n??null,i,!1,s,a),t[fi]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rh(e)};On.render=function(t,e,n){if(!ih(e))throw Error(I(200));return sh(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!ih(t))throw Error(I(40));return t._reactRootContainer?(Zs(function(){sh(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};On.unstable_batchedUpdates=ev;On.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ih(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return sh(t,e,n,!1,r)};On.version="18.3.1-next-f1338f8080-20240426";function CC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CC)}catch(t){console.error(t)}}CC(),Cw.exports=On;var lr=Cw.exports;const Y_=fg(lr);var NC,_x=lr;NC=_x.createRoot,_x.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}var Ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ji||(Ji={}));const Tx="popstate";function X_(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return ap("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gd(i)}return Z_(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J_(){return Math.random().toString(36).substr(2,8)}function Px(t,e){return{usr:t.state,key:t.key,idx:e}}function ap(t,e,n,r){return n===void 0&&(n=null),ac({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Da(e):e,{state:n,key:e&&e.key||r||J_()})}function gd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z_(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Ji.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ac({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Ji.Pop;let w=d(),b=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:b})}function v(w,b){l=Ji.Push;let p=ap(g.location,w,b);u=d()+1;let m=Px(p,u),x=g.createHref(p);try{a.pushState(m,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(x)}s&&c&&c({action:l,location:g.location,delta:1})}function S(w,b){l=Ji.Replace;let p=ap(g.location,w,b);u=d();let m=Px(p,u),x=g.createHref(p);a.replaceState(m,"",x),s&&c&&c({action:l,location:g.location,delta:0})}function y(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:gd(w);return p=p.replace(/ $/,"%20"),mt(b,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,b)}let g={get action(){return l},get location(){return t(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Tx,f),c=w,()=>{i.removeEventListener(Tx,f),c=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let b=y(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:S,go(w){return a.go(w)}};return g}var Dx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dx||(Dx={}));function eT(t,e,n){return n===void 0&&(n="/"),tT(t,e,n)}function tT(t,e,n,r){let i=typeof e=="string"?Da(e):e,s=cv(i.pathname||"/",n);if(s==null)return null;let a=EC(t);nT(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=mT(s);l=dT(a[c],u)}return l}function EC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(mt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=as([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),EC(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:cT(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of AC(s.path))i(s,a,c)}),e}function AC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=AC(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function nT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rT=/^:[\w-]+$/,iT=3,sT=2,oT=1,aT=10,lT=-2,Ox=t=>t==="*";function cT(t,e){let n=t.split("/"),r=n.length;return n.some(Ox)&&(r+=lT),e&&(r+=sT),n.filter(i=>!Ox(i)).reduce((i,s)=>i+(rT.test(s)?iT:s===""?oT:aT),r)}function uT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dT(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=hT({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),v=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:as([s,f.pathname]),pathnameBase:xT(as([s,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(s=as([s,f.pathnameBase]))}return a}function hT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:v,isOptional:S}=d;if(v==="*"){let g=l[f]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return S&&!y?u[v]=void 0:u[v]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function fT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const pT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gT=t=>pT.test(t);function vT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Da(t):t,s;if(n)if(gT(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),lv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Lx(n.substring(1),"/"):s=Lx(n,e)}else s=e;return{pathname:s,search:bT(r),hash:wT(i)}}function Lx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uv(t,e){let n=yT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Da(t):(i=ac({},t),mt(!i.pathname||!i.pathname.includes("?"),bf("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),bf("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),bf("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),f-=1;i.pathname=v.join("/")}l=f>=0?e[f]:"/"}let c=vT(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const as=t=>t.join("/").replace(/\/\/+/g,"/"),xT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ST(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jC=["post","put","patch","delete"];new Set(jC);const CT=["get",...jC];new Set(CT);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}const hv=h.createContext(null),NT=h.createContext(null),bs=h.createContext(null),oh=h.createContext(null),zr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),RC=h.createContext(null);function ET(t,e){let{relative:n}=e===void 0?{}:e;Oa()||mt(!1);let{basename:r,navigator:i}=h.useContext(bs),{hash:s,pathname:a,search:l}=_C(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:as([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Oa(){return h.useContext(oh)!=null}function mo(){return Oa()||mt(!1),h.useContext(oh).location}function kC(t){h.useContext(bs).static||h.useLayoutEffect(t)}function $t(){let{isDataRoute:t}=h.useContext(zr);return t?$T():AT()}function AT(){Oa()||mt(!1);let t=h.useContext(hv),{basename:e,future:n,navigator:r}=h.useContext(bs),{matches:i}=h.useContext(zr),{pathname:s}=mo(),a=JSON.stringify(uv(i,n.v7_relativeSplatPath)),l=h.useRef(!1);return kC(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=dv(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:as([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}const jT=h.createContext(null);function RT(t){let e=h.useContext(zr).outlet;return e&&h.createElement(jT.Provider,{value:t},e)}function po(){let{matches:t}=h.useContext(zr),e=t[t.length-1];return e?e.params:{}}function _C(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(bs),{matches:i}=h.useContext(zr),{pathname:s}=mo(),a=JSON.stringify(uv(i,r.v7_relativeSplatPath));return h.useMemo(()=>dv(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function kT(t,e){return _T(t,e)}function _T(t,e,n,r){Oa()||mt(!1);let{navigator:i}=h.useContext(bs),{matches:s}=h.useContext(zr),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=mo(),d;if(e){var f;let w=typeof e=="string"?Da(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||mt(!1),d=w}else d=u;let v=d.pathname||"/",S=v;if(c!=="/"){let w=c.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=eT(t,{pathname:S}),g=LT(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:as([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:as([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&g?h.createElement(oh.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ji.Pop}},g):g}function TT(){let t=BT(),e=ST(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,null)}const PT=h.createElement(TT,null);class DT extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(zr.Provider,{value:this.props.routeContext},h.createElement(RC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OT(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(hv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(zr.Provider,{value:e},r)}function LT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||mt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:v,errors:S}=n,y=f.route.loader&&v[f.route.id]===void 0&&(!S||S[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,v)=>{let S,y=!1,g=null,w=null;n&&(S=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||PT,c&&(u<0&&v===0?(UT("route-fallback"),y=!0,w=null):u===v&&(y=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,v+1)),p=()=>{let m;return S?m=g:y?m=w:f.route.Component?m=h.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,h.createElement(OT,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?h.createElement(DT,{location:n.location,revalidation:n.revalidation,component:g,error:S,children:p(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):p()},null)}var TC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TC||{}),PC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PC||{});function IT(t){let e=h.useContext(hv);return e||mt(!1),e}function MT(t){let e=h.useContext(NT);return e||mt(!1),e}function FT(t){let e=h.useContext(zr);return e||mt(!1),e}function DC(t){let e=FT(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function BT(){var t;let e=h.useContext(RC),n=MT(),r=DC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $T(){let{router:t}=IT(TC.UseNavigateStable),e=DC(PC.UseNavigateStable),n=h.useRef(!1);return kC(()=>{n.current=!0}),h.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lc({fromRouteId:e},s)))},[t,e])}const Ix={};function UT(t,e,n){Ix[t]||(Ix[t]=!0)}function zT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function OC(t){let{to:e,replace:n,state:r,relative:i}=t;Oa()||mt(!1);let{future:s,static:a}=h.useContext(bs),{matches:l}=h.useContext(zr),{pathname:c}=mo(),u=$t(),d=dv(e,uv(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function WT(t){return RT(t.context)}function _e(t){mt(!1)}function VT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ji.Pop,navigator:s,static:a=!1,future:l}=t;Oa()&&mt(!1);let c=e.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:s,static:a,future:lc({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=Da(r));let{pathname:d="/",search:f="",hash:v="",state:S=null,key:y="default"}=r,g=h.useMemo(()=>{let w=cv(d,c);return w==null?null:{location:{pathname:w,search:f,hash:v,state:S,key:y},navigationType:i}},[c,d,f,v,S,y,i]);return g==null?null:h.createElement(bs.Provider,{value:u},h.createElement(oh.Provider,{children:n,value:g}))}function HT(t){let{children:e,location:n}=t;return kT(lp(e),n)}new Promise(()=>{});function lp(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;let s=[...e,i];if(r.type===h.Fragment){n.push.apply(n,lp(r.props.children,s));return}r.type!==_e&&mt(!1),!r.props.index||!r.props.children||mt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=lp(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function qT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GT(t,e){return t.button===0&&(!e||e==="_self")&&!KT(t)}function up(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function QT(t,e){let n=up(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const YT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XT="6";try{window.__reactRouterVersion=XT}catch{}const JT="startTransition",Mx=Vd[JT];function ZT(t){let{basename:e,children:n,future:r,window:i}=t,s=h.useRef();s.current==null&&(s.current=X_({window:i,v5Compat:!0}));let a=s.current,[l,c]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Mx?Mx(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>a.listen(d),[a,d]),h.useEffect(()=>zT(r),[r]),h.createElement(VT,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const eP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,v=qT(e,YT),{basename:S}=h.useContext(bs),y,g=!1;if(typeof u=="string"&&tP.test(u)&&(y=u,eP))try{let m=new URL(window.location.href),x=u.startsWith("//")?new URL(m.protocol+u):new URL(u),C=cv(x.pathname,S);x.origin===m.origin&&C!=null?u=C+x.search+x.hash:g=!0}catch{}let w=ET(u,{relative:i}),b=nP(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function p(m){r&&r(m),m.defaultPrevented||b(m)}return h.createElement("a",cp({},v,{href:y||w,onClick:g||s?r:p,ref:n,target:c}))});var Fx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fx||(Fx={}));var Bx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bx||(Bx={}));function nP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,c=$t(),u=mo(),d=_C(t,{relative:a});return h.useCallback(f=>{if(GT(f,n)){f.preventDefault();let v=r!==void 0?r:gd(u)===gd(d);c(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,r,i,n,t,s,a,l])}function rP(t){let e=h.useRef(up(t)),n=h.useRef(!1),r=mo(),i=h.useMemo(()=>QT(r.search,n.current?null:e.current),[r.search]),s=$t(),a=h.useCallback((l,c)=>{const u=up(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,c)},[s,i]);return[i,a]}var La=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},iP={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ui,hg,tw,sP=(tw=class{constructor(){re(this,Ui,iP);re(this,hg,!1)}setTimeoutProvider(t){H(this,Ui,t)}setTimeout(t,e){return _(this,Ui).setTimeout(t,e)}clearTimeout(t){_(this,Ui).clearTimeout(t)}setInterval(t,e){return _(this,Ui).setInterval(t,e)}clearInterval(t){_(this,Ui).clearInterval(t)}},Ui=new WeakMap,hg=new WeakMap,tw),Ps=new sP;function oP(t){setTimeout(t,0)}var eo=typeof window>"u"||"Deno"in globalThis;function rn(){}function aP(t,e){return typeof t=="function"?t(e):t}function dp(t){return typeof t=="number"&&t>=0&&t!==1/0}function LC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ls(t,e){return typeof t=="function"?t(e):t}function Bn(t,e){return typeof t=="function"?t(e):t}function $x(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==fv(a,e.options))return!1}else if(!cc(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function Ux(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(to(e.options.mutationKey)!==to(s))return!1}else if(!cc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function fv(t,e){return((e==null?void 0:e.queryKeyHashFn)||to)(t)}function to(t){return JSON.stringify(t,(e,n)=>hp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>cc(t[n],e[n])):!1}var lP=Object.prototype.hasOwnProperty;function IC(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=zx(t)&&zx(e);if(!r&&!(hp(t)&&hp(e)))return e;const s=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),l=a.length,c=r?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=r?d:a[d],v=t[f],S=e[f];if(v===S){c[f]=v,(r?d<s:lP.call(t,f))&&u++;continue}if(v===null||S===null||typeof v!="object"||typeof S!="object"){c[f]=S;continue}const y=IC(v,S,n+1);c[f]=y,y===v&&u++}return s===l&&u===s?t:c}function vd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function zx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hp(t){if(!Wx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Wx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Wx(t){return Object.prototype.toString.call(t)==="[object Object]"}function cP(t){return new Promise(e=>{Ps.setTimeout(e,t)})}function fp(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?IC(t,e):e}function uP(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var mv=Symbol();function MC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function pv(t,e){return typeof t=="function"?t(...e):!!t}function hP(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var Ls,zi,sa,nw,fP=(nw=class extends La{constructor(){super();re(this,Ls);re(this,zi);re(this,sa);H(this,sa,e=>{if(!eo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,zi)||this.setEventListener(_(this,sa))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,zi))==null||e.call(this),H(this,zi,void 0))}setEventListener(e){var n;H(this,sa,e),(n=_(this,zi))==null||n.call(this),H(this,zi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){_(this,Ls)!==e&&(H(this,Ls,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof _(this,Ls)=="boolean"?_(this,Ls):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ls=new WeakMap,zi=new WeakMap,sa=new WeakMap,nw),gv=new fP;function mp(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var mP=oP;function pP(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=mP;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Nt=pP(),oa,Wi,aa,rw,gP=(rw=class extends La{constructor(){super();re(this,oa,!0);re(this,Wi);re(this,aa);H(this,aa,e=>{if(!eo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,Wi)||this.setEventListener(_(this,aa))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,Wi))==null||e.call(this),H(this,Wi,void 0))}setEventListener(e){var n;H(this,aa,e),(n=_(this,Wi))==null||n.call(this),H(this,Wi,e(this.setOnline.bind(this)))}setOnline(e){_(this,oa)!==e&&(H(this,oa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return _(this,oa)}},oa=new WeakMap,Wi=new WeakMap,aa=new WeakMap,rw),yd=new gP;function vP(t){return Math.min(1e3*2**t,3e4)}function FC(t){return(t??"online")==="online"?yd.isOnline():!0}var pp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function BC(t){let e=!1,n=0,r;const i=mp(),s=()=>i.status!=="pending",a=g=>{var w;if(!s()){const b=new pp(g);v(b),(w=t.onCancel)==null||w.call(t,b)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>gv.isFocused()&&(t.networkMode==="always"||yd.isOnline())&&t.canRun(),d=()=>FC(t.networkMode)&&t.canRun(),f=g=>{s()||(r==null||r(),i.resolve(g))},v=g=>{s()||(r==null||r(),i.reject(g))},S=()=>new Promise(g=>{var w;r=b=>{(s()||u())&&g(b)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;r=void 0,s()||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(s())return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var E;if(s())return;const p=t.retry??(eo?0:3),m=t.retryDelay??vP,x=typeof m=="function"?m(n,b):m,C=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,b);if(e||!C){v(b);return}n++,(E=t.onFail)==null||E.call(t,n,b),cP(x).then(()=>u()?void 0:S()).then(()=>{e?v(b):y()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():S().then(y),i)}}var Is,iw,$C=(iw=class{constructor(){re(this,Is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dp(this.gcTime)&&H(this,Is,Ps.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(eo?1/0:5*60*1e3))}clearGcTimeout(){_(this,Is)&&(Ps.clearTimeout(_(this,Is)),H(this,Is,void 0))}},Is=new WeakMap,iw),Ms,la,Fn,Fs,jt,wc,Bs,ir,Qr,sw,yP=(sw=class extends $C{constructor(e){super();re(this,ir);re(this,Ms);re(this,la);re(this,Fn);re(this,Fs);re(this,jt);re(this,wc);re(this,Bs);H(this,Bs,!1),H(this,wc,e.defaultOptions),this.setOptions(e.options),this.observers=[],H(this,Fs,e.client),H(this,Fn,_(this,Fs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,H(this,Ms,Hx(this.options)),this.state=e.state??_(this,Ms),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,jt))==null?void 0:e.promise}setOptions(e){if(this.options={..._(this,wc),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Hx(this.options);n.data!==void 0&&(this.setState(Vx(n.data,n.dataUpdatedAt)),H(this,Ms,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Fn).remove(this)}setData(e,n){const r=fp(this.state.data,e,this.options);return ge(this,ir,Qr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ge(this,ir,Qr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=_(this,jt))==null?void 0:r.promise;return(i=_(this,jt))==null||i.cancel(e),n?n.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Ms))}isActive(){return this.observers.some(e=>Bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ls(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!LC(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=_(this,jt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=_(this,jt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,Fn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(_(this,jt)&&(_(this,Bs)?_(this,jt).cancel({revert:!0}):_(this,jt).cancelRetry()),this.scheduleGc()),_(this,Fn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ge(this,ir,Qr).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,d,f,v,S,y,g,w,b,p,m;if(this.state.fetchStatus!=="idle"&&((c=_(this,jt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,jt))return _(this,jt).continueRetry(),_(this,jt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(C=>C.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,i=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(H(this,Bs,!0),r.signal)})},s=()=>{const x=MC(this.options,n),E=(()=>{const N={client:_(this,Fs),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return H(this,Bs,!1),this.options.persister?this.options.persister(x,E,this):x(E)},l=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,Fs),state:this.state,fetchFn:s};return i(x),x})();(u=this.options.behavior)==null||u.onFetch(l,this),H(this,la,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ge(this,ir,Qr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),H(this,jt,BC({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:x=>{x instanceof pp&&x.revert&&this.setState({..._(this,la),fetchStatus:"idle"}),r.abort()},onFail:(x,C)=>{ge(this,ir,Qr).call(this,{type:"failed",failureCount:x,error:C})},onPause:()=>{ge(this,ir,Qr).call(this,{type:"pause"})},onContinue:()=>{ge(this,ir,Qr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await _(this,jt).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(S=(v=_(this,Fn).config).onSuccess)==null||S.call(v,x,this),(g=(y=_(this,Fn).config).onSettled)==null||g.call(y,x,this.state.error,this),x}catch(x){if(x instanceof pp){if(x.silent)return _(this,jt).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw ge(this,ir,Qr).call(this,{type:"error",error:x}),(b=(w=_(this,Fn).config).onError)==null||b.call(w,x,this),(m=(p=_(this,Fn).config).onSettled)==null||m.call(p,this.state.data,x,this),x}finally{this.scheduleGc()}}},Ms=new WeakMap,la=new WeakMap,Fn=new WeakMap,Fs=new WeakMap,jt=new WeakMap,wc=new WeakMap,Bs=new WeakMap,ir=new WeakSet,Qr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...UC(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...Vx(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return H(this,la,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Nt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,Fn).notify({query:this,type:"updated",action:e})})},sw);function UC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Vx(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Hx(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pn,je,Sc,en,$s,ca,ni,Vi,Cc,ua,da,Us,zs,Hi,ha,Be,Sl,gp,vp,yp,xp,bp,wp,Sp,zC,ow,xP=(ow=class extends La{constructor(e,n){super();re(this,Be);re(this,pn);re(this,je);re(this,Sc);re(this,en);re(this,$s);re(this,ca);re(this,ni);re(this,Vi);re(this,Cc);re(this,ua);re(this,da);re(this,Us);re(this,zs);re(this,Hi);re(this,ha,new Set);this.options=n,H(this,pn,e),H(this,Vi,null),H(this,ni,mp()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,je).addObserver(this),qx(_(this,je),this.options)?ge(this,Be,Sl).call(this):this.updateResult(),ge(this,Be,xp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cp(_(this,je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cp(_(this,je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ge(this,Be,bp).call(this),ge(this,Be,wp).call(this),_(this,je).removeObserver(this)}setOptions(e){const n=this.options,r=_(this,je);if(this.options=_(this,pn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bn(this.options.enabled,_(this,je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ge(this,Be,Sp).call(this),_(this,je).setOptions(this.options),n._defaulted&&!vd(this.options,n)&&_(this,pn).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,je),observer:this});const i=this.hasListeners();i&&Kx(_(this,je),r,this.options,n)&&ge(this,Be,Sl).call(this),this.updateResult(),i&&(_(this,je)!==r||Bn(this.options.enabled,_(this,je))!==Bn(n.enabled,_(this,je))||ls(this.options.staleTime,_(this,je))!==ls(n.staleTime,_(this,je)))&&ge(this,Be,gp).call(this);const s=ge(this,Be,vp).call(this);i&&(_(this,je)!==r||Bn(this.options.enabled,_(this,je))!==Bn(n.enabled,_(this,je))||s!==_(this,Hi))&&ge(this,Be,yp).call(this,s)}getOptimisticResult(e){const n=_(this,pn).getQueryCache().build(_(this,pn),e),r=this.createResult(n,e);return wP(this,r)&&(H(this,en,r),H(this,ca,this.options),H(this,$s,_(this,je).state)),r}getCurrentResult(){return _(this,en)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,ni).status==="pending"&&_(this,ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){_(this,ha).add(e)}getCurrentQuery(){return _(this,je)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=_(this,pn).defaultQueryOptions(e),r=_(this,pn).getQueryCache().build(_(this,pn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ge(this,Be,Sl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,en)))}createResult(e,n){var k;const r=_(this,je),i=this.options,s=_(this,en),a=_(this,$s),l=_(this,ca),u=e!==r?e.state:_(this,Sc),{state:d}=e;let f={...d},v=!1,S;if(n._optimisticResults){const j=this.hasListeners(),R=!j&&qx(e,n),P=j&&Kx(e,r,n,i);(R||P)&&(f={...f,...UC(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:w}=f;S=f.data;let b=!1;if(n.placeholderData!==void 0&&S===void 0&&w==="pending"){let j;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(j=s.data,b=!0):j=typeof n.placeholderData=="function"?n.placeholderData((k=_(this,da))==null?void 0:k.state.data,_(this,da)):n.placeholderData,j!==void 0&&(w="success",S=fp(s==null?void 0:s.data,j,n),v=!0)}if(n.select&&S!==void 0&&!b)if(s&&S===(a==null?void 0:a.data)&&n.select===_(this,Cc))S=_(this,ua);else try{H(this,Cc,n.select),S=n.select(S),S=fp(s==null?void 0:s.data,S,n),H(this,ua,S),H(this,Vi,null)}catch(j){H(this,Vi,j)}_(this,Vi)&&(y=_(this,Vi),S=_(this,ua),g=Date.now(),w="error");const p=f.fetchStatus==="fetching",m=w==="pending",x=w==="error",C=m&&p,E=S!==void 0,A={status:w,fetchStatus:f.fetchStatus,isPending:m,isSuccess:w==="success",isError:x,isInitialLoading:C,isLoading:C,data:S,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!m,isLoadingError:x&&!E,isPaused:f.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:x&&E,isStale:vv(e,n),refetch:this.refetch,promise:_(this,ni),isEnabled:Bn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const j=A.data!==void 0,R=A.status==="error"&&!j,P=Y=>{R?Y.reject(A.error):j&&Y.resolve(A.data)},M=()=>{const Y=H(this,ni,A.promise=mp());P(Y)},B=_(this,ni);switch(B.status){case"pending":e.queryHash===r.queryHash&&P(B);break;case"fulfilled":(R||A.data!==B.value)&&M();break;case"rejected":(!R||A.error!==B.reason)&&M();break}}return A}updateResult(){const e=_(this,en),n=this.createResult(_(this,je),this.options);if(H(this,$s,_(this,je).state),H(this,ca,this.options),_(this,$s).data!==void 0&&H(this,da,_(this,je)),vd(n,e))return;H(this,en,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!_(this,ha).size)return!0;const a=new Set(s??_(this,ha));return this.options.throwOnError&&a.add("error"),Object.keys(_(this,en)).some(l=>{const c=l;return _(this,en)[c]!==e[c]&&a.has(c)})};ge(this,Be,zC).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ge(this,Be,xp).call(this)}},pn=new WeakMap,je=new WeakMap,Sc=new WeakMap,en=new WeakMap,$s=new WeakMap,ca=new WeakMap,ni=new WeakMap,Vi=new WeakMap,Cc=new WeakMap,ua=new WeakMap,da=new WeakMap,Us=new WeakMap,zs=new WeakMap,Hi=new WeakMap,ha=new WeakMap,Be=new WeakSet,Sl=function(e){ge(this,Be,Sp).call(this);let n=_(this,je).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(rn)),n},gp=function(){ge(this,Be,bp).call(this);const e=ls(this.options.staleTime,_(this,je));if(eo||_(this,en).isStale||!dp(e))return;const r=LC(_(this,en).dataUpdatedAt,e)+1;H(this,Us,Ps.setTimeout(()=>{_(this,en).isStale||this.updateResult()},r))},vp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,je)):this.options.refetchInterval)??!1},yp=function(e){ge(this,Be,wp).call(this),H(this,Hi,e),!(eo||Bn(this.options.enabled,_(this,je))===!1||!dp(_(this,Hi))||_(this,Hi)===0)&&H(this,zs,Ps.setInterval(()=>{(this.options.refetchIntervalInBackground||gv.isFocused())&&ge(this,Be,Sl).call(this)},_(this,Hi)))},xp=function(){ge(this,Be,gp).call(this),ge(this,Be,yp).call(this,ge(this,Be,vp).call(this))},bp=function(){_(this,Us)&&(Ps.clearTimeout(_(this,Us)),H(this,Us,void 0))},wp=function(){_(this,zs)&&(Ps.clearInterval(_(this,zs)),H(this,zs,void 0))},Sp=function(){const e=_(this,pn).getQueryCache().build(_(this,pn),this.options);if(e===_(this,je))return;const n=_(this,je);H(this,je,e),H(this,Sc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},zC=function(e){Nt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(_(this,en))}),_(this,pn).getQueryCache().notify({query:_(this,je),type:"observerResultsUpdated"})})},ow);function bP(t,e){return Bn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qx(t,e){return bP(t,e)||t.state.data!==void 0&&Cp(t,e,e.refetchOnMount)}function Cp(t,e,n){if(Bn(e.enabled,t)!==!1&&ls(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&vv(t,e)}return!1}function Kx(t,e,n,r){return(t!==e||Bn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&vv(t,n)}function vv(t,e){return Bn(e.enabled,t)!==!1&&t.isStaleByTime(ls(e.staleTime,t))}function wP(t,e){return!vd(t.getCurrentResult(),e)}function Gx(t){return{onFetch:(e,n)=>{var d,f,v,S,y;const r=e.options,i=(v=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:v.direction,s=((S=e.state.data)==null?void 0:S.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=m=>{hP(m,()=>e.signal,()=>g=!0)},b=MC(e.options,e.fetchOptions),p=async(m,x,C)=>{if(g)return Promise.reject();if(x==null&&m.pages.length)return Promise.resolve(m);const N=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:x,direction:C?"backward":"forward",meta:e.options.meta};return w(R),R})(),A=await b(N),{maxPages:k}=e.options,j=C?dP:uP;return{pages:j(m.pages,A,k),pageParams:j(m.pageParams,x,k)}};if(i&&s.length){const m=i==="backward",x=m?SP:Qx,C={pages:s,pageParams:a},E=x(r,C);l=await p(C,E,m)}else{const m=t??s.length;do{const x=c===0?a[0]??r.initialPageParam:Qx(r,l);if(c>0&&x==null)break;l=await p(l,x),c++}while(c<m)}return l};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Qx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function SP(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nc,Ar,tn,Ws,jr,Ti,aw,CP=(aw=class extends $C{constructor(e){super();re(this,jr);re(this,Nc);re(this,Ar);re(this,tn);re(this,Ws);H(this,Nc,e.client),this.mutationId=e.mutationId,H(this,tn,e.mutationCache),H(this,Ar,[]),this.state=e.state||WC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,Ar).includes(e)||(_(this,Ar).push(e),this.clearGcTimeout(),_(this,tn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){H(this,Ar,_(this,Ar).filter(n=>n!==e)),this.scheduleGc(),_(this,tn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,Ar).length||(this.state.status==="pending"?this.scheduleGc():_(this,tn).remove(this))}continue(){var e;return((e=_(this,Ws))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,u,d,f,v,S,y,g,w,b,p,m,x,C,E,N,A,k;const n=()=>{ge(this,jr,Ti).call(this,{type:"continue"})},r={client:_(this,Nc),meta:this.options.meta,mutationKey:this.options.mutationKey};H(this,Ws,BC({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(j,R)=>{ge(this,jr,Ti).call(this,{type:"failed",failureCount:j,error:R})},onPause:()=>{ge(this,jr,Ti).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,tn).canRun(this)}));const i=this.state.status==="pending",s=!_(this,Ws).canStart();try{if(i)n();else{ge(this,jr,Ti).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(a=_(this,tn).config).onMutate)==null?void 0:l.call(a,e,this,r));const R=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));R!==this.state.context&&ge(this,jr,Ti).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const j=await _(this,Ws).start();return await((f=(d=_(this,tn).config).onSuccess)==null?void 0:f.call(d,j,e,this.state.context,this,r)),await((S=(v=this.options).onSuccess)==null?void 0:S.call(v,j,e,this.state.context,r)),await((g=(y=_(this,tn).config).onSettled)==null?void 0:g.call(y,j,null,this.state.variables,this.state.context,this,r)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,j,null,e,this.state.context,r)),ge(this,jr,Ti).call(this,{type:"success",data:j}),j}catch(j){try{await((m=(p=_(this,tn).config).onError)==null?void 0:m.call(p,j,e,this.state.context,this,r))}catch(R){Promise.reject(R)}try{await((C=(x=this.options).onError)==null?void 0:C.call(x,j,e,this.state.context,r))}catch(R){Promise.reject(R)}try{await((N=(E=_(this,tn).config).onSettled)==null?void 0:N.call(E,void 0,j,this.state.variables,this.state.context,this,r))}catch(R){Promise.reject(R)}try{await((k=(A=this.options).onSettled)==null?void 0:k.call(A,void 0,j,e,this.state.context,r))}catch(R){Promise.reject(R)}throw ge(this,jr,Ti).call(this,{type:"error",error:j}),j}finally{_(this,tn).runNext(this)}}},Nc=new WeakMap,Ar=new WeakMap,tn=new WeakMap,Ws=new WeakMap,jr=new WeakSet,Ti=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Nt.batch(()=>{_(this,Ar).forEach(r=>{r.onMutationUpdate(e)}),_(this,tn).notify({mutation:this,type:"updated",action:e})})},aw);function WC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ri,sr,Ec,lw,NP=(lw=class extends La{constructor(e={}){super();re(this,ri);re(this,sr);re(this,Ec);this.config=e,H(this,ri,new Set),H(this,sr,new Map),H(this,Ec,0)}build(e,n,r){const i=new CP({client:e,mutationCache:this,mutationId:++Wc(this,Ec)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){_(this,ri).add(e);const n=au(e);if(typeof n=="string"){const r=_(this,sr).get(n);r?r.push(e):_(this,sr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,ri).delete(e)){const n=au(e);if(typeof n=="string"){const r=_(this,sr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&_(this,sr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=au(e);if(typeof n=="string"){const r=_(this,sr).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=au(e);if(typeof n=="string"){const i=(r=_(this,sr).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{_(this,ri).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,ri).clear(),_(this,sr).clear()})}getAll(){return Array.from(_(this,ri))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ux(n,r))}findAll(e={}){return this.getAll().filter(n=>Ux(e,n))}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Nt.batch(()=>Promise.all(e.map(n=>n.continue().catch(rn))))}},ri=new WeakMap,sr=new WeakMap,Ec=new WeakMap,lw);function au(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ii,qi,gn,si,di,Lu,Np,cw,EP=(cw=class extends La{constructor(n,r){super();re(this,di);re(this,ii);re(this,qi);re(this,gn);re(this,si);H(this,ii,n),this.setOptions(r),this.bindMethods(),ge(this,di,Lu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=_(this,ii).defaultMutationOptions(n),vd(this.options,r)||_(this,ii).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,gn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&to(r.mutationKey)!==to(this.options.mutationKey)?this.reset():((i=_(this,gn))==null?void 0:i.state.status)==="pending"&&_(this,gn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=_(this,gn))==null||n.removeObserver(this)}onMutationUpdate(n){ge(this,di,Lu).call(this),ge(this,di,Np).call(this,n)}getCurrentResult(){return _(this,qi)}reset(){var n;(n=_(this,gn))==null||n.removeObserver(this),H(this,gn,void 0),ge(this,di,Lu).call(this),ge(this,di,Np).call(this)}mutate(n,r){var i;return H(this,si,r),(i=_(this,gn))==null||i.removeObserver(this),H(this,gn,_(this,ii).getMutationCache().build(_(this,ii),this.options)),_(this,gn).addObserver(this),_(this,gn).execute(n)}},ii=new WeakMap,qi=new WeakMap,gn=new WeakMap,si=new WeakMap,di=new WeakSet,Lu=function(){var r;const n=((r=_(this,gn))==null?void 0:r.state)??WC();H(this,qi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Np=function(n){Nt.batch(()=>{var r,i,s,a,l,c,u,d;if(_(this,si)&&this.hasListeners()){const f=_(this,qi).variables,v=_(this,qi).context,S={client:_(this,ii),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=_(this,si)).onSuccess)==null||i.call(r,n.data,f,v,S)}catch(y){Promise.reject(y)}try{(a=(s=_(this,si)).onSettled)==null||a.call(s,n.data,null,f,v,S)}catch(y){Promise.reject(y)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=_(this,si)).onError)==null||c.call(l,n.error,f,v,S)}catch(y){Promise.reject(y)}try{(d=(u=_(this,si)).onSettled)==null||d.call(u,void 0,n.error,f,v,S)}catch(y){Promise.reject(y)}}}this.listeners.forEach(f=>{f(_(this,qi))})})},cw),Rr,uw,AP=(uw=class extends La{constructor(e={}){super();re(this,Rr);this.config=e,H(this,Rr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??fv(i,n);let a=this.get(s);return a||(a=new yP({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){_(this,Rr).has(e.queryHash)||(_(this,Rr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=_(this,Rr).get(e.queryHash);n&&(e.destroy(),n===e&&_(this,Rr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,Rr).get(e)}getAll(){return[..._(this,Rr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$x(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>$x(e,r)):n}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rr=new WeakMap,uw),lt,Ki,Gi,fa,ma,Qi,pa,ga,dw,jP=(dw=class{constructor(t={}){re(this,lt);re(this,Ki);re(this,Gi);re(this,fa);re(this,ma);re(this,Qi);re(this,pa);re(this,ga);H(this,lt,t.queryCache||new AP),H(this,Ki,t.mutationCache||new NP),H(this,Gi,t.defaultOptions||{}),H(this,fa,new Map),H(this,ma,new Map),H(this,Qi,0)}mount(){Wc(this,Qi)._++,_(this,Qi)===1&&(H(this,pa,gv.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,lt).onFocus())})),H(this,ga,yd.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,lt).onOnline())})))}unmount(){var t,e;Wc(this,Qi)._--,_(this,Qi)===0&&((t=_(this,pa))==null||t.call(this),H(this,pa,void 0),(e=_(this,ga))==null||e.call(this),H(this,ga,void 0))}isFetching(t){return _(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,Ki).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=_(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ls(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return _(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=_(this,lt).get(r.queryHash),s=i==null?void 0:i.state.data,a=aP(e,s);if(a!==void 0)return _(this,lt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Nt.batch(()=>_(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=_(this,lt);Nt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=_(this,lt);return Nt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Nt.batch(()=>_(this,lt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(rn).catch(rn)}invalidateQueries(t,e={}){return Nt.batch(()=>(_(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Nt.batch(()=>_(this,lt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(rn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=_(this,lt).build(this,e);return n.isStaleByTime(ls(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rn).catch(rn)}fetchInfiniteQuery(t){return t.behavior=Gx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rn).catch(rn)}ensureInfiniteQueryData(t){return t.behavior=Gx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yd.isOnline()?_(this,Ki).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,lt)}getMutationCache(){return _(this,Ki)}getDefaultOptions(){return _(this,Gi)}setDefaultOptions(t){H(this,Gi,t)}setQueryDefaults(t,e){_(this,fa).set(to(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._(this,fa).values()],n={};return e.forEach(r=>{cc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){_(this,ma).set(to(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._(this,ma).values()],n={};return e.forEach(r=>{cc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._(this,Gi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,Gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,lt).clear(),_(this,Ki).clear()}},lt=new WeakMap,Ki=new WeakMap,Gi=new WeakMap,fa=new WeakMap,ma=new WeakMap,Qi=new WeakMap,pa=new WeakMap,ga=new WeakMap,dw),VC=h.createContext(void 0),Nn=t=>{const e=h.useContext(VC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},RP=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(VC.Provider,{value:t,children:e})),HC=h.createContext(!1),kP=()=>h.useContext(HC);HC.Provider;function _P(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var TP=h.createContext(_P()),PP=()=>h.useContext(TP),DP=(t,e,n)=>{const r=n!=null&&n.state.error&&typeof t.throwOnError=="function"?pv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},OP=t=>{h.useEffect(()=>{t.clearReset()},[t])},LP=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||pv(n,[t.error,r])),IP=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},MP=(t,e)=>t.isLoading&&t.isFetching&&!e,FP=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Yx=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function BP(t,e,n){var v,S,y,g;const r=kP(),i=PP(),s=Nn(),a=s.defaultQueryOptions(t);(S=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||S.call(v,a);const l=s.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",IP(a),DP(a,i,l),OP(i);const c=!s.getQueryCache().get(a.queryHash),[u]=h.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),f=!r&&t.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(w=>{const b=f?u.subscribe(Nt.batchCalls(w)):rn;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),h.useEffect(()=>{u.setOptions(a)},[a,u]),FP(a,d))throw Yx(a,u,i);if(LP({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:l,suspense:a.suspense}))throw d.error;if((g=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||g.call(y,a,d),a.experimental_prefetchInRender&&!eo&&MP(d,r)){const w=c?Yx(a,u,i):l==null?void 0:l.promise;w==null||w.catch(rn).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function yt(t,e){return BP(t,xP)}function Ye(t,e){const n=Nn(),[r]=h.useState(()=>new EP(n,t));h.useEffect(()=>{r.setOptions(t)},[r,t]);const i=h.useSyncExternalStore(h.useCallback(a=>r.subscribe(Nt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=h.useCallback((a,l)=>{r.mutate(a,l).catch(rn)},[r]);if(i.error&&pv(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const $P={},Xx=t=>{let e;const n=new Set,r=(d,f)=>{const v=typeof d=="function"?d(e):d;if(!Object.is(v,e)){const S=e;e=f??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(y=>y(e,S))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{($P?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,c);return c},UP=t=>t?Xx(t):Xx;var qC={exports:{}},KC={},GC={exports:{}},QC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=h;function zP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var WP=typeof Object.is=="function"?Object.is:zP,VP=Na.useState,HP=Na.useEffect,qP=Na.useLayoutEffect,KP=Na.useDebugValue;function GP(t,e){var n=e(),r=VP({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return qP(function(){i.value=n,i.getSnapshot=e,wf(i)&&s({inst:i})},[t,n,e]),HP(function(){return wf(i)&&s({inst:i}),t(function(){wf(i)&&s({inst:i})})},[t]),KP(n),n}function wf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!WP(t,n)}catch{return!0}}function QP(t,e){return e()}var YP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QP:GP;QC.useSyncExternalStore=Na.useSyncExternalStore!==void 0?Na.useSyncExternalStore:YP;GC.exports=QC;var XP=GC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah=h,JP=XP;function ZP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eD=typeof Object.is=="function"?Object.is:ZP,tD=JP.useSyncExternalStore,nD=ah.useRef,rD=ah.useEffect,iD=ah.useMemo,sD=ah.useDebugValue;KC.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=nD(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=iD(function(){function c(S){if(!u){if(u=!0,d=S,S=r(S),i!==void 0&&a.hasValue){var y=a.value;if(i(y,S))return f=y}return f=S}if(y=f,eD(d,S))return y;var g=r(S);return i!==void 0&&i(y,g)?(d=S,y):(d=S,f=g)}var u=!1,d,f,v=n===void 0?null:n;return[function(){return c(e())},v===null?void 0:function(){return c(v())}]},[e,n,r,i]);var l=tD(t,s[0],s[1]);return rD(function(){a.hasValue=!0,a.value=l},[l]),sD(l),l};qC.exports=KC;var oD=qC.exports;const aD=fg(oD),YC={},{useDebugValue:lD}=Ce,{useSyncExternalStoreWithSelector:cD}=aD;let Jx=!1;const uD=t=>t;function dD(t,e=uD,n){(YC?"production":void 0)!=="production"&&n&&!Jx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Jx=!0);const r=cD(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return lD(r),r}const hD=t=>{(YC?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?UP(t):t,n=(r,i)=>dD(e,r,i);return Object.assign(n,e),n},fD=t=>hD,mD={};function XC(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=c=>c===null?null:JSON.parse(c,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(a):a(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const uc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return uc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return uc(r)(n)}}}},pD=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,b)=>({...b,...w}),...e},a=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const d=uc(s.serialize),f=()=>{const w=s.partialize({...r()});let b;const p=d({state:w,version:s.version}).then(m=>u.setItem(s.name,m)).catch(m=>{b=m});if(b)throw b;return p},v=i.setState;i.setState=(w,b)=>{v(w,b),f()};const S=t((...w)=>{n(...w),f()},r,i);let y;const g=()=>{var w;if(!u)return;a=!1,l.forEach(p=>p(r()));const b=((w=s.onRehydrateStorage)==null?void 0:w.call(s,r()))||void 0;return uc(u.getItem.bind(u))(s.name).then(p=>{if(p)return s.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==s.version){if(s.migrate)return s.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var m;return y=s.merge(p,(m=r())!=null?m:S),n(y,!0),f()}).then(()=>{b==null||b(y,void 0),a=!0,c.forEach(p=>p(y))}).catch(p=>{b==null||b(void 0,p)})};return i.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},g(),y||S},gD=(t,e)=>(n,r,i)=>{let s={storage:XC(()=>localStorage),partialize:g=>g,version:0,merge:(g,w)=>({...w,...g}),...e},a=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...g)},r,i);const d=()=>{const g=s.partialize({...r()});return u.setItem(s.name,{state:g,version:s.version})},f=i.setState;i.setState=(g,w)=>{f(g,w),d()};const v=t((...g)=>{n(...g),d()},r,i);i.getInitialState=()=>v;let S;const y=()=>{var g,w;if(!u)return;a=!1,l.forEach(p=>{var m;return p((m=r())!=null?m:v)});const b=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(g=r())!=null?g:v))||void 0;return uc(u.getItem.bind(u))(s.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==s.version){if(s.migrate)return[!0,s.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var m;const[x,C]=p;if(S=s.merge(C,(m=r())!=null?m:v),n(S,!0),x)return d()}).then(()=>{b==null||b(S,void 0),S=r(),a=!0,c.forEach(p=>p(S))}).catch(p=>{b==null||b(void 0,p)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},s.skipHydration||y(),S||v},vD=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((mD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),pD(t,e)):gD(t,e),yD=vD,dc=fD()(yD(t=>({user:null,token:null,expiresAt:null,isAuthenticated:!1,login:(e,n,r=3600)=>{const i=Date.now()+r*1e3;sessionStorage.setItem("auth_token",n),sessionStorage.setItem("auth_expires_at",i.toString()),t({user:e,token:n,expiresAt:i,isAuthenticated:!0})},refreshSession:e=>{e&&t(n=>!n.token||n.expiresAt===e?n:(sessionStorage.setItem("auth_expires_at",e.toString()),{expiresAt:e}))},logout:()=>{sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_expires_at"),t({user:null,token:null,expiresAt:null,isAuthenticated:!1})}}),{name:"auth-storage",storage:XC(()=>sessionStorage),partialize:t=>({user:t.user,token:t.token,expiresAt:t.expiresAt,isAuthenticated:t.isAuthenticated})}));function JC(t,e){return function(){return t.apply(e,arguments)}}const{toString:xD}=Object.prototype,{getPrototypeOf:yv}=Object,{iterator:lh,toStringTag:ZC}=Symbol,ch=(t=>e=>{const n=xD.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gr=t=>(t=t.toLowerCase(),e=>ch(e)===t),uh=t=>e=>typeof e===t,{isArray:Ia}=Array,Ea=uh("undefined");function Tc(t){return t!==null&&!Ea(t)&&t.constructor!==null&&!Ea(t.constructor)&&Sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const eN=gr("ArrayBuffer");function bD(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eN(t.buffer),e}const wD=uh("string"),Sn=uh("function"),tN=uh("number"),Pc=t=>t!==null&&typeof t=="object",SD=t=>t===!0||t===!1,Iu=t=>{if(ch(t)!=="object")return!1;const e=yv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ZC in t)&&!(lh in t)},CD=t=>{if(!Pc(t)||Tc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ND=gr("Date"),ED=gr("File"),AD=gr("Blob"),jD=gr("FileList"),RD=t=>Pc(t)&&Sn(t.pipe),kD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Sn(t.append)&&((e=ch(t))==="formdata"||e==="object"&&Sn(t.toString)&&t.toString()==="[object FormData]"))},_D=gr("URLSearchParams"),[TD,PD,DD,OD]=["ReadableStream","Request","Response","Headers"].map(gr),LD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ia(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Tc(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let l;for(r=0;r<a;r++)l=s[r],e.call(null,t[l],l,t)}}function nN(t,e){if(Tc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rN=t=>!Ea(t)&&t!==Ds;function Ep(){const{caseless:t,skipUndefined:e}=rN(this)&&this||{},n={},r=(i,s)=>{const a=t&&nN(n,s)||s;Iu(n[a])&&Iu(i)?n[a]=Ep(n[a],i):Iu(i)?n[a]=Ep({},i):Ia(i)?n[a]=i.slice():(!e||!Ea(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Dc(arguments[i],r);return n}const ID=(t,e,n,{allOwnKeys:r}={})=>(Dc(e,(i,s)=>{n&&Sn(i)?t[s]=JC(i,n):t[s]=i},{allOwnKeys:r}),t),MD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),FD=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},BD=(t,e,n,r)=>{let i,s,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&yv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$D=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},UD=t=>{if(!t)return null;if(Ia(t))return t;let e=t.length;if(!tN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},zD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yv(Uint8Array)),WD=(t,e)=>{const r=(t&&t[lh]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},VD=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},HD=gr("HTMLFormElement"),qD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Zx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),KD=gr("RegExp"),iN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Dc(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},GD=t=>{iN(t,(e,n)=>{if(Sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Sn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},QD=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ia(t)?r(t):r(String(t).split(e)),n},YD=()=>{},XD=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function JD(t){return!!(t&&Sn(t.append)&&t[ZC]==="FormData"&&t[lh])}const ZD=t=>{const e=new Array(10),n=(r,i)=>{if(Pc(r)){if(e.indexOf(r)>=0)return;if(Tc(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Ia(r)?[]:{};return Dc(r,(a,l)=>{const c=n(a,i+1);!Ea(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},eO=gr("AsyncFunction"),tO=t=>t&&(Pc(t)||Sn(t))&&Sn(t.then)&&Sn(t.catch),sN=((t,e)=>t?setImmediate:e?((n,r)=>(Ds.addEventListener("message",({source:i,data:s})=>{i===Ds&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Sn(Ds.postMessage)),nO=typeof queueMicrotask<"u"?queueMicrotask.bind(Ds):typeof process<"u"&&process.nextTick||sN,rO=t=>t!=null&&Sn(t[lh]),D={isArray:Ia,isArrayBuffer:eN,isBuffer:Tc,isFormData:kD,isArrayBufferView:bD,isString:wD,isNumber:tN,isBoolean:SD,isObject:Pc,isPlainObject:Iu,isEmptyObject:CD,isReadableStream:TD,isRequest:PD,isResponse:DD,isHeaders:OD,isUndefined:Ea,isDate:ND,isFile:ED,isBlob:AD,isRegExp:KD,isFunction:Sn,isStream:RD,isURLSearchParams:_D,isTypedArray:zD,isFileList:jD,forEach:Dc,merge:Ep,extend:ID,trim:LD,stripBOM:MD,inherits:FD,toFlatObject:BD,kindOf:ch,kindOfTest:gr,endsWith:$D,toArray:UD,forEachEntry:WD,matchAll:VD,isHTMLForm:HD,hasOwnProperty:Zx,hasOwnProp:Zx,reduceDescriptors:iN,freezeMethods:GD,toObjectSet:QD,toCamelCase:qD,noop:YD,toFiniteNumber:XD,findKey:nN,global:Ds,isContextDefined:rN,isSpecCompliantForm:JD,toJSONObject:ZD,isAsyncFn:eO,isThenable:tO,setImmediate:sN,asap:nO,isIterable:rO};function de(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}D.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const oN=de.prototype,aN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{aN[t]={value:t}});Object.defineProperties(de,aN);Object.defineProperty(oN,"isAxiosError",{value:!0});de.from=(t,e,n,r,i,s)=>{const a=Object.create(oN);D.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return de.call(a,l,c,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const iO=null;function Ap(t){return D.isPlainObject(t)||D.isArray(t)}function lN(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function eb(t,e,n){return t?t.concat(e).map(function(i,s){return i=lN(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function sO(t){return D.isArray(t)&&!t.some(Ap)}const oO=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function dh(t,e,n){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!D.isUndefined(w[g])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(D.isDate(y))return y.toISOString();if(D.isBoolean(y))return y.toString();if(!c&&D.isBlob(y))throw new de("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(y)||D.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,g,w){let b=y;if(y&&!w&&typeof y=="object"){if(D.endsWith(g,"{}"))g=r?g:g.slice(0,-2),y=JSON.stringify(y);else if(D.isArray(y)&&sO(y)||(D.isFileList(y)||D.endsWith(g,"[]"))&&(b=D.toArray(y)))return g=lN(g),b.forEach(function(m,x){!(D.isUndefined(m)||m===null)&&e.append(a===!0?eb([g],x,s):a===null?g:g+"[]",u(m))}),!1}return Ap(y)?!0:(e.append(eb(w,g,s),u(y)),!1)}const f=[],v=Object.assign(oO,{defaultVisitor:d,convertValue:u,isVisitable:Ap});function S(y,g){if(!D.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(y),D.forEach(y,function(b,p){(!(D.isUndefined(b)||b===null)&&i.call(e,b,D.isString(p)?p.trim():p,g,v))===!0&&S(b,g?g.concat(p):[p])}),f.pop()}}if(!D.isObject(t))throw new TypeError("data must be an object");return S(t),e}function tb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function xv(t,e){this._pairs=[],t&&dh(t,this,e)}const cN=xv.prototype;cN.append=function(e,n){this._pairs.push([e,n])};cN.toString=function(e){const n=e?function(r){return e.call(this,r,tb)}:tb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function aO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uN(t,e,n){if(!e)return t;const r=n&&n.encode||aO;D.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=D.isURLSearchParams(e)?e.toString():new xv(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class nb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lO=typeof URLSearchParams<"u"?URLSearchParams:xv,cO=typeof FormData<"u"?FormData:null,uO=typeof Blob<"u"?Blob:null,dO={isBrowser:!0,classes:{URLSearchParams:lO,FormData:cO,Blob:uO},protocols:["http","https","file","blob","url","data"]},bv=typeof window<"u"&&typeof document<"u",jp=typeof navigator=="object"&&navigator||void 0,hO=bv&&(!jp||["ReactNative","NativeScript","NS"].indexOf(jp.product)<0),fO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mO=bv&&window.location.href||"http://localhost",pO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bv,hasStandardBrowserEnv:hO,hasStandardBrowserWebWorkerEnv:fO,navigator:jp,origin:mO},Symbol.toStringTag,{value:"Module"})),Kt={...pO,...dO};function gO(t,e){return dh(t,new Kt.classes.URLSearchParams,{visitor:function(n,r,i,s){return Kt.isNode&&D.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function vO(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yO(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function hN(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=s>=n.length;return a=!a&&D.isArray(i)?i.length:a,c?(D.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!D.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&D.isArray(i[a])&&(i[a]=yO(i[a])),!l)}if(D.isFormData(t)&&D.isFunction(t.entries)){const n={};return D.forEachEntry(t,(r,i)=>{e(vO(r),i,n,0)}),n}return null}function xO(t,e,n){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Oc={transitional:dN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=D.isObject(e);if(s&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return i?JSON.stringify(hN(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e)||D.isReadableStream(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return gO(e,this.formSerializer).toString();if((l=D.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return dh(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),xO(e)):e}],transformResponse:[function(e){const n=this.transitional||Oc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(D.isResponse(e)||D.isReadableStream(e))return e;if(e&&D.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?de.from(l,de.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],t=>{Oc.headers[t]={}});const bO=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wO=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&bO[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},rb=Symbol("internals");function ol(t){return t&&String(t).trim().toLowerCase()}function Mu(t){return t===!1||t==null?t:D.isArray(t)?t.map(Mu):String(t)}function SO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const CO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sf(t,e,n,r,i){if(D.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!D.isString(e)){if(D.isString(r))return e.indexOf(r)!==-1;if(D.isRegExp(r))return r.test(e)}}function NO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function EO(t,e){const n=D.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Cn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,u){const d=ol(c);if(!d)throw new Error("header name must be a non-empty string");const f=D.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=Mu(l))}const a=(l,c)=>D.forEach(l,(u,d)=>s(u,d,c));if(D.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(D.isString(e)&&(e=e.trim())&&!CO(e))a(wO(e),n);else if(D.isObject(e)&&D.isIterable(e)){let l={},c,u;for(const d of e){if(!D.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?D.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=ol(e),e){const r=D.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return SO(i);if(D.isFunction(n))return n.call(this,i,r);if(D.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ol(e),e){const r=D.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Sf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=ol(a),a){const l=D.findKey(r,a);l&&(!n||Sf(r,r[l],l,n))&&(delete r[l],i=!0)}}return D.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Sf(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return D.forEach(this,(i,s)=>{const a=D.findKey(r,s);if(a){n[a]=Mu(i),delete n[s];return}const l=e?NO(s):String(s).trim();l!==s&&delete n[s],n[l]=Mu(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return D.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&D.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[rb]=this[rb]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=ol(a);r[l]||(EO(i,a),r[l]=!0)}return D.isArray(e)?e.forEach(s):s(e),this}};Cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(Cn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});D.freezeMethods(Cn);function Cf(t,e){const n=this||Oc,r=e||n,i=Cn.from(r.headers);let s=r.data;return D.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function fN(t){return!!(t&&t.__CANCEL__)}function Ma(t,e,n){de.call(this,t??"canceled",de.ERR_CANCELED,e,n),this.name="CanceledError"}D.inherits(Ma,de,{__CANCEL__:!0});function mN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function AO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function jO(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[s];a||(a=u),n[i]=c,r[i]=u;let f=s,v=0;for(;f!==i;)v+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const S=d&&u-d;return S?Math.round(v*1e3/S):void 0}}function RO(t,e){let n=0,r=1e3/e,i,s;const a=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-f)))},()=>i&&a(i)]}const xd=(t,e,n=3)=>{let r=0;const i=jO(50,250);return RO(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,c=a-r,u=i(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},ib=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},sb=t=>(...e)=>D.asap(()=>t(...e)),kO=Kt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Kt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,_O=Kt.hasStandardBrowserEnv?{write(t,e,n,r,i,s,a){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];D.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),D.isString(r)&&l.push(`path=${r}`),D.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),D.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function TO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function pN(t,e,n){let r=!TO(e);return t&&(r||n==!1)?PO(t,e):e}const ob=t=>t instanceof Cn?{...t}:t;function no(t,e){e=e||{};const n={};function r(u,d,f,v){return D.isPlainObject(u)&&D.isPlainObject(d)?D.merge.call({caseless:v},u,d):D.isPlainObject(d)?D.merge({},d):D.isArray(d)?d.slice():d}function i(u,d,f,v){if(D.isUndefined(d)){if(!D.isUndefined(u))return r(void 0,u,f,v)}else return r(u,d,f,v)}function s(u,d){if(!D.isUndefined(d))return r(void 0,d)}function a(u,d){if(D.isUndefined(d)){if(!D.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>i(ob(u),ob(d),f,!0)};return D.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||i,v=f(t[d],e[d],d);D.isUndefined(v)&&f!==l||(n[d]=v)}),n}const gN=t=>{const e=no({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=e;if(e.headers=a=Cn.from(a),e.url=uN(pN(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),D.isFormData(n)){if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(D.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Kt.hasStandardBrowserEnv&&(r&&D.isFunction(r)&&(r=r(e)),r||r!==!1&&kO(e.url))){const c=i&&s&&_O.read(s);c&&a.set(i,c)}return e},DO=typeof XMLHttpRequest<"u",OO=DO&&function(t){return new Promise(function(n,r){const i=gN(t);let s=i.data;const a=Cn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,f,v,S,y;function g(){S&&S(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function b(){if(!w)return;const m=Cn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:m,config:t,request:w};mN(function(N){n(N),g()},function(N){r(N),g()},C),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(r(new de("Request aborted",de.ECONNABORTED,t,w)),w=null)},w.onerror=function(x){const C=x&&x.message?x.message:"Network Error",E=new de(C,de.ERR_NETWORK,t,w);E.event=x||null,r(E),w=null},w.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||dN;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new de(x,C.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,t,w)),w=null},s===void 0&&a.setContentType(null),"setRequestHeader"in w&&D.forEach(a.toJSON(),function(x,C){w.setRequestHeader(C,x)}),D.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),l&&l!=="json"&&(w.responseType=i.responseType),u&&([v,y]=xd(u,!0),w.addEventListener("progress",v)),c&&w.upload&&([f,S]=xd(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(d=m=>{w&&(r(!m||m.type?new Ma(null,t,w):m),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const p=AO(i.url);if(p&&Kt.protocols.indexOf(p)===-1){r(new de("Unsupported protocol "+p+":",de.ERR_BAD_REQUEST,t));return}w.send(s||null)})},LO=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof de?d:new Ma(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new de(`timeout ${e} of ms exceeded`,de.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>D.asap(l),c}},IO=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},MO=async function*(t,e){for await(const n of FO(t))yield*IO(n,e)},FO=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ab=(t,e,n,r)=>{const i=MO(t,e);let s=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let v=s+=f;n(v)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},lb=64*1024,{isFunction:lu}=D,BO=(({Request:t,Response:e})=>({Request:t,Response:e}))(D.global),{ReadableStream:cb,TextEncoder:ub}=D.global,db=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$O=t=>{t=D.merge.call({skipUndefined:!0},BO,t);const{fetch:e,Request:n,Response:r}=t,i=e?lu(e):typeof fetch=="function",s=lu(n),a=lu(r);if(!i)return!1;const l=i&&lu(cb),c=i&&(typeof ub=="function"?(y=>g=>y.encode(g))(new ub):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=s&&l&&db(()=>{let y=!1;const g=new n(Kt.origin,{body:new cb,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),d=a&&l&&db(()=>D.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(g,w)=>{let b=g&&g[y];if(b)return b.call(g);throw new de(`Response type '${y}' is not supported`,de.ERR_NOT_SUPPORT,w)})});const v=async y=>{if(y==null)return 0;if(D.isBlob(y))return y.size;if(D.isSpecCompliantForm(y))return(await new n(Kt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(D.isArrayBufferView(y)||D.isArrayBuffer(y))return y.byteLength;if(D.isURLSearchParams(y)&&(y=y+""),D.isString(y))return(await c(y)).byteLength},S=async(y,g)=>{const w=D.toFiniteNumber(y.getContentLength());return w??v(g)};return async y=>{let{url:g,method:w,data:b,signal:p,cancelToken:m,timeout:x,onDownloadProgress:C,onUploadProgress:E,responseType:N,headers:A,withCredentials:k="same-origin",fetchOptions:j}=gN(y),R=e||fetch;N=N?(N+"").toLowerCase():"text";let P=LO([p,m&&m.toAbortSignal()],x),M=null;const B=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let Y;try{if(E&&u&&w!=="get"&&w!=="head"&&(Y=await S(A,b))!==0){let ee=new n(g,{method:"POST",body:b,duplex:"half"}),V;if(D.isFormData(b)&&(V=ee.headers.get("content-type"))&&A.setContentType(V),ee.body){const[Oe,se]=ib(Y,xd(sb(E)));b=ab(ee.body,lb,Oe,se)}}D.isString(k)||(k=k?"include":"omit");const $=s&&"credentials"in n.prototype,G={...j,signal:P,method:w.toUpperCase(),headers:A.normalize().toJSON(),body:b,duplex:"half",credentials:$?k:void 0};M=s&&new n(g,G);let O=await(s?R(M,j):R(g,G));const L=d&&(N==="stream"||N==="response");if(d&&(C||L&&B)){const ee={};["status","statusText","headers"].forEach(Xe=>{ee[Xe]=O[Xe]});const V=D.toFiniteNumber(O.headers.get("content-length")),[Oe,se]=C&&ib(V,xd(sb(C),!0))||[];O=new r(ab(O.body,lb,Oe,()=>{se&&se(),B&&B()}),ee)}N=N||"text";let K=await f[D.findKey(f,N)||"text"](O,y);return!L&&B&&B(),await new Promise((ee,V)=>{mN(ee,V,{data:K,headers:Cn.from(O.headers),status:O.status,statusText:O.statusText,config:y,request:M})})}catch($){throw B&&B(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,y,M),{cause:$.cause||$}):de.from($,$&&$.code,y,M)}}},UO=new Map,vN=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,l=a,c,u,d=UO;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:$O(e)),d=u;return u};vN();const wv={http:iO,xhr:OO,fetch:{get:vN}};D.forEach(wv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hb=t=>`- ${t}`,zO=t=>D.isFunction(t)||t===null||t===!1;function WO(t,e){t=D.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let l;if(i=r,!zO(r)&&(i=wv[(l=String(r)).toLowerCase()],i===void 0))throw new de(`Unknown adapter '${l}'`);if(i&&(D.isFunction(i)||(i=i.get(e))))break;s[l||"#"+a]=i}if(!i){const a=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(hb).join(`
`):" "+hb(a[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const yN={getAdapter:WO,adapters:wv};function Nf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ma(null,t)}function fb(t){return Nf(t),t.headers=Cn.from(t.headers),t.data=Cf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yN.getAdapter(t.adapter||Oc.adapter,t)(t).then(function(r){return Nf(t),r.data=Cf.call(t,t.transformResponse,r),r.headers=Cn.from(r.headers),r},function(r){return fN(r)||(Nf(t),r&&r.response&&(r.response.data=Cf.call(t,t.transformResponse,r.response),r.response.headers=Cn.from(r.response.headers))),Promise.reject(r)})}const xN="1.13.2",hh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{hh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const mb={};hh.transitional=function(e,n,r){function i(s,a){return"[Axios v"+xN+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(e===!1)throw new de(i(a," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!mb[a]&&(mb[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,l):!0}};hh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function VO(t,e,n){if(typeof t!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const l=t[s],c=l===void 0||a(l,s,t);if(c!==!0)throw new de("option "+s+" must be "+c,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+s,de.ERR_BAD_OPTION)}}const Fu={assertOptions:VO,validators:hh},Nr=Fu.validators;let qs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nb,response:new nb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=no(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Fu.assertOptions(r,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean)},!1),i!=null&&(D.isFunction(i)?n.paramsSerializer={serialize:i}:Fu.assertOptions(i,{encode:Nr.function,serialize:Nr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fu.assertOptions(n,{baseUrl:Nr.spelling("baseURL"),withXsrfToken:Nr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&D.merge(s.common,s[n.method]);s&&D.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Cn.concat(a,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,v;if(!c){const y=[fb.bind(this),void 0];for(y.unshift(...l),y.push(...u),v=y.length,d=Promise.resolve(n);f<v;)d=d.then(y[f++],y[f++]);return d}v=l.length;let S=n;for(;f<v;){const y=l[f++],g=l[f++];try{S=y(S)}catch(w){g.call(this,w);break}}try{d=fb.call(this,S)}catch(y){return Promise.reject(y)}for(f=0,v=u.length;f<v;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=no(this.defaults,e);const n=pN(e.baseURL,e.url,e.allowAbsoluteUrls);return uN(n,e.params,e.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(e){qs.prototype[e]=function(n,r){return this.request(no(r||{},{method:e,url:n,data:(r||{}).data}))}});D.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,l){return this.request(no(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}qs.prototype[e]=n(),qs.prototype[e+"Form"]=n(!0)});let HO=class bN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,l){r.reason||(r.reason=new Ma(s,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new bN(function(i){e=i}),cancel:e}}};function qO(t){return function(n){return t.apply(null,n)}}function KO(t){return D.isObject(t)&&t.isAxiosError===!0}const Rp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Rp).forEach(([t,e])=>{Rp[e]=t});function wN(t){const e=new qs(t),n=JC(qs.prototype.request,e);return D.extend(n,qs.prototype,e,{allOwnKeys:!0}),D.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return wN(no(t,i))},n}const pt=wN(Oc);pt.Axios=qs;pt.CanceledError=Ma;pt.CancelToken=HO;pt.isCancel=fN;pt.VERSION=xN;pt.toFormData=dh;pt.AxiosError=de;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=qO;pt.isAxiosError=KO;pt.mergeConfig=no;pt.AxiosHeaders=Cn;pt.formToJSON=t=>hN(D.isHTMLForm(t)?new FormData(t):t);pt.getAdapter=yN.getAdapter;pt.HttpStatusCode=Rp;pt.default=pt;const{Axios:TW,AxiosError:PW,CanceledError:DW,isCancel:OW,CancelToken:LW,VERSION:IW,all:MW,Cancel:FW,isAxiosError:BW,spread:$W,toFormData:UW,AxiosHeaders:zW,HttpStatusCode:WW,formToJSON:VW,getAdapter:HW,mergeConfig:qW}=pt,GO="/api",z=pt.create({baseURL:GO,headers:{"Content-Type":"application/json"}});z.interceptors.request.use(t=>{const e=sessionStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});z.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(dc.getState().logout(),window.location.href="/login"),Promise.reject(t)});function pb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Fa(...t){return e=>{let n=!1;const r=t.map(i=>{const s=pb(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():pb(t[i],null)}}}}function $e(...t){return h.useCallback(Fa(...t),t)}var QO=Symbol.for("react.lazy"),bd=Vd[" use ".trim().toString()];function YO(t){return typeof t=="object"&&t!==null&&"then"in t}function SN(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===QO&&"_payload"in t&&YO(t._payload)}function CN(t){const e=JO(t),n=h.forwardRef((r,i)=>{let{children:s,...a}=r;SN(s)&&typeof bd=="function"&&(s=bd(s._payload));const l=h.Children.toArray(s),c=l.find(e2);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var XO=CN("Slot");function JO(t){const e=h.forwardRef((n,r)=>{let{children:i,...s}=n;if(SN(i)&&typeof bd=="function"&&(i=bd(i._payload)),h.isValidElement(i)){const a=n2(i),l=t2(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZO=Symbol("radix.slottable");function e2(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZO}function t2(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function n2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function NN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function EN(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NN(t))&&(r&&(r+=" "),r+=e);return r}const gb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vb=EN,fh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return vb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const v=gb(d)||gb(f);return i[u][v]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,v]=d;return v===void 0||(u[f]=v),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:v,...S}=d;return Object.entries(S).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...s,...l}[g]):{...s,...l}[g]===w})?[...u,f,v]:u},[]);return vb(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},Sv="-",r2=t=>{const e=s2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(Sv);return l[0]===""&&l.length!==1&&l.shift(),AN(l,e)||i2(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},AN=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?AN(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Sv);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},yb=/^\[(.+)\]$/,i2=t=>{if(yb.test(t)){const e=yb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},s2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return a2(Object.entries(t.classGroups),n).forEach(([s,a])=>{kp(a,r,s,e)}),r},kp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:xb(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(o2(i)){kp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{kp(a,xb(e,s),n,r)})})},xb=(t,e)=>{let n=t;return e.split(Sv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},o2=t=>t.isThemeGetter,a2=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,l2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},jN="!",c2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let b=l[w];if(u===0){if(b===i&&(r||l.slice(w,w+s)===e)){c.push(l.slice(d,w)),d=w+s;continue}if(b==="/"){f=w;continue}}b==="["?u++:b==="]"&&u--}const v=c.length===0?l:l.substring(d),S=v.startsWith(jN),y=S?v.substring(1):v,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:S,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},u2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},d2=t=>({cache:l2(t.cacheSize),parseClassName:c2(t),...r2(t)}),h2=/\s+/,f2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(h2);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:S}=n(u);let y=!!S,g=r(y?v.substring(0,S):v);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=r(v),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=u2(d).join(":"),b=f?w+jN:w,p=b+g;if(s.includes(p))continue;s.push(p);const m=i(g,y);for(let x=0;x<m.length;++x){const C=m[x];s.push(b+C)}l=u+(l.length>0?" "+l:l)}return l};function m2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=RN(e))&&(r&&(r+=" "),r+=n);return r}const RN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=RN(t[r]))&&(n&&(n+=" "),n+=e);return n};function p2(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=d2(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=f2(c,n);return i(c,d),d}return function(){return s(m2.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kN=/^\[(?:([a-z-]+):)?(.+)\]$/i,g2=/^\d+\/\d+$/,v2=new Set(["px","full","screen"]),y2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,w2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gr=t=>Xo(t)||v2.has(t)||g2.test(t),ji=t=>Ba(t,"length",_2),Xo=t=>!!t&&!Number.isNaN(Number(t)),Ef=t=>Ba(t,"number",Xo),al=t=>!!t&&Number.isInteger(Number(t)),C2=t=>t.endsWith("%")&&Xo(t.slice(0,-1)),fe=t=>kN.test(t),Ri=t=>y2.test(t),N2=new Set(["length","size","percentage"]),E2=t=>Ba(t,N2,_N),A2=t=>Ba(t,"position",_N),j2=new Set(["image","url"]),R2=t=>Ba(t,j2,P2),k2=t=>Ba(t,"",T2),ll=()=>!0,Ba=(t,e,n)=>{const r=kN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_2=t=>x2.test(t)&&!b2.test(t),_N=()=>!1,T2=t=>w2.test(t),P2=t=>S2.test(t),D2=()=>{const t=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),i=Ke("borderColor"),s=Ke("borderRadius"),a=Ke("borderSpacing"),l=Ke("borderWidth"),c=Ke("contrast"),u=Ke("grayscale"),d=Ke("hueRotate"),f=Ke("invert"),v=Ke("gap"),S=Ke("gradientColorStops"),y=Ke("gradientColorStopPositions"),g=Ke("inset"),w=Ke("margin"),b=Ke("opacity"),p=Ke("padding"),m=Ke("saturate"),x=Ke("scale"),C=Ke("sepia"),E=Ke("skew"),N=Ke("space"),A=Ke("translate"),k=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",fe,e],P=()=>[fe,e],M=()=>["",Gr,ji],B=()=>["auto",Xo,fe],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",fe],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Xo,fe];return{cacheSize:500,separator:":",theme:{colors:[ll],spacing:[Gr,ji],blur:["none","",Ri,fe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Ri,fe],borderSpacing:P(),borderWidth:M(),contrast:ee(),grayscale:L(),hueRotate:ee(),invert:L(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[C2,ji],inset:R(),margin:R(),opacity:ee(),padding:P(),saturate:ee(),scale:ee(),sepia:L(),skew:ee(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Ri]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),fe]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",al,fe]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",al,fe]}],"grid-cols":[{"grid-cols":[ll]}],"col-start-end":[{col:["auto",{span:["full",al,fe]},fe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ll]}],"row-start-end":[{row:["auto",{span:[al,fe]},fe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[Ri]},Ri]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ri,ji]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ef]}],"font-family":[{font:[ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Xo,Ef]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gr,ji]}],"underline-offset":[{"underline-offset":["auto",Gr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),A2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",E2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Gr,fe]}],"outline-w":[{outline:[Gr,ji]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Gr,ji]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ri,k2]}],"shadow-color":[{shadow:[ll]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ri,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[al,fe]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gr,ji,Ef]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},O2=p2(D2);function ye(...t){return O2(EN(t))}const Cv=fh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?XO:"button";return o.jsx(a,{className:ye(Cv({variant:e,size:n,className:t})),ref:s,...i})});F.displayName="Button";const q=h.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));q.displayName="Input";const ae=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ae.displayName="Card";const Ve=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",t),...e}));Ve.displayName="CardHeader";const rt=h.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));rt.displayName="CardTitle";const TN=h.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));TN.displayName="CardDescription";const le=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ye("p-6 pt-0",t),...e}));le.displayName="CardContent";const L2=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",t),...e}));L2.displayName="CardFooter";function I2(){const[t,e]=h.useState(""),[n,r]=h.useState(""),[i,s]=h.useState(""),[a,l]=h.useState(!1),c=$t(),u=dc(f=>f.login),d=async f=>{var v,S;f.preventDefault(),s(""),l(!0);try{const y=await z.post("/auth/login",{email:t,password:n});if(y.data.success){const{token:g,user:w}=y.data.data,b=y.data.data.expires_in;u(w,g,b),c("/")}else s(y.data.error||"Login failed")}catch(y){s(((S=(v=y.response)==null?void 0:v.data)==null?void 0:S.error)||"An error occurred")}finally{l(!1)}};return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:o.jsxs(ae,{className:"w-full max-w-md",children:[o.jsxs(Ve,{className:"space-y-1",children:[o.jsx(rt,{className:"text-3xl font-bold text-center",children:"Dalila Admin"}),o.jsx(TN,{className:"text-center",children:"Sign in to access the property management system"})]}),o.jsx(le,{children:o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i&&o.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:i}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),o.jsx(q,{id:"email",type:"email",placeholder:"admin@dalila.com",value:t,onChange:f=>e(f.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),o.jsx(q,{id:"password",type:"password",placeholder:"",value:n,onChange:f=>r(f.target.value),required:!0})]}),o.jsx(F,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"})]})})]})})}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(t,e)=>{const n=h.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>h.createElement("svg",{ref:d,...M2,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${F2(t)}`,l].join(" "),...u},[...e.map(([f,v])=>h.createElement(f,v)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=Ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Ne("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Ne("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Ne("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Ne("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Ne("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Z2(){const t=dc(c=>c.user),e=dc(c=>c.logout),n=$t(),[r,i]=h.useState(!0),s=()=>{e(),n("/login")},a=[{name:"Properties",href:"/properties",icon:ON},{name:"Link Generation",href:"/link-generation",icon:$a,nested:!0},{name:"Blogs",href:"/blogs",icon:PN},{name:"Videos",href:"/videos",icon:Y2},{name:"Testimonials",href:"/testimonials",icon:K2},{name:"Landing Page",href:"/landing-pages",icon:wd},{name:"Cities",href:"/cities",icon:wd,nested:!0}],l=[{name:"Redirects",href:"/redirects",icon:G2}];return o.jsxs("div",{className:"flex h-screen bg-gray-100",children:[o.jsxs("aside",{className:`${r?"w-64":"w-20"} bg-white border-r border-gray-200 transition-all duration-300 flex flex-col`,children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r&&o.jsx("h1",{className:"text-xl font-bold text-primary",children:"Dalila Admin"}),o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>i(!r),children:o.jsx(q2,{className:"h-5 w-5"})})]}),o.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[a.map(c=>o.jsxs("button",{type:"button",onClick:()=>n(c.href),className:`w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors ${c.nested?"pl-8 text-sm":""}`,children:[o.jsx(c.icon,{className:"h-5 w-5"}),r&&o.jsx("span",{children:c.name})]},c.name)),o.jsx("div",{className:"border-t border-gray-200 my-3"}),l.map(c=>o.jsxs(on,{to:c.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[o.jsx(c.icon,{className:"h-5 w-5"}),r&&o.jsx("span",{children:c.name})]},c.name))]}),o.jsxs("div",{className:"p-4 border-t border-gray-200",children:[o.jsx("div",{className:`${r?"flex items-center gap-3":"text-center"} mb-3`,children:r&&o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),o.jsx("p",{className:"text-xs text-gray-500",children:t==null?void 0:t.email})]})}),o.jsxs(F,{variant:"outline",className:"w-full",onClick:s,children:[o.jsx(H2,{className:"h-4 w-4"}),r&&o.jsx("span",{className:"ml-2",children:"Logout"})]})]})]}),o.jsx("main",{className:"flex-1 overflow-y-auto",children:o.jsx("div",{className:"p-8",children:o.jsx(WT,{})})})]})}function eL(){return o.jsx("div",{className:"space-y-6"})}function tL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const mh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wa(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Ev(t){return"nodeType"in t}function En(t){var e,n;return t?Wa(t)?t:Ev(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Av(t){const{Document:e}=En(t);return t instanceof e}function Lc(t){return Wa(t)?!1:t instanceof En(t).HTMLElement}function zN(t){return t instanceof En(t).SVGElement}function Va(t){return t?Wa(t)?t.document:Ev(t)?Av(t)?t:Lc(t)||zN(t)?t.ownerDocument:document:document:document}const Br=mh?h.useLayoutEffect:h.useEffect;function jv(t){const e=h.useRef(t);return Br(()=>{e.current=t}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function nL(){const t=h.useRef(null),e=h.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=h.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function hc(t,e){e===void 0&&(e=[t]);const n=h.useRef(t);return Br(()=>{n.current!==t&&(n.current=t)},e),n}function Ic(t,e){const n=h.useRef();return h.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Sd(t){const e=jv(t),n=h.useRef(null),r=h.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function Tp(t){const e=h.useRef();return h.useEffect(()=>{e.current=t},[t]),e.current}let Af={};function Mc(t,e){return h.useMemo(()=>{if(e)return e;const n=Af[t]==null?0:Af[t]+1;return Af[t]=n,t+"-"+n},[t,e])}function WN(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[c,u]of l){const d=s[c];d!=null&&(s[c]=d+t*u)}return s},{...e})}}const Jo=WN(1),fc=WN(-1);function rL(t){return"clientX"in t&&"clientY"in t}function Rv(t){if(!t)return!1;const{KeyboardEvent:e}=En(t.target);return e&&t instanceof e}function iL(t){if(!t)return!1;const{TouchEvent:e}=En(t.target);return e&&t instanceof e}function Pp(t){if(iL(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return rL(t)?{x:t.clientX,y:t.clientY}:null}const Aa=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Aa.Translate.toString(t),Aa.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),wb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function sL(t){return t.matches(wb)?t:t.querySelector(wb)}const oL={display:"none"};function aL(t){let{id:e,value:n}=t;return Ce.createElement("div",{id:e,style:oL},n)}function lL(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ce.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function cL(){const[t,e]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const VN=h.createContext(null);function uL(t){const e=h.useContext(VN);h.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function dL(){const[t]=h.useState(()=>new Set),e=h.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[h.useCallback(r=>{let{type:i,event:s}=r;t.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[t]),e]}const hL={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fL={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function mL(t){let{announcements:e=fL,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=hL}=t;const{announce:s,announcement:a}=cL(),l=Mc("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),uL(h.useMemo(()=>({onDragStart(f){let{active:v}=f;s(e.onDragStart({active:v}))},onDragMove(f){let{active:v,over:S}=f;e.onDragMove&&s(e.onDragMove({active:v,over:S}))},onDragOver(f){let{active:v,over:S}=f;s(e.onDragOver({active:v,over:S}))},onDragEnd(f){let{active:v,over:S}=f;s(e.onDragEnd({active:v,over:S}))},onDragCancel(f){let{active:v,over:S}=f;s(e.onDragCancel({active:v,over:S}))}}),[s,e])),!c)return null;const d=Ce.createElement(Ce.Fragment,null,Ce.createElement(aL,{id:r,value:i.draggable}),Ce.createElement(lL,{id:l,announcement:a}));return n?lr.createPortal(d,n):d}var Ct;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ct||(Ct={}));function Cd(){}function Nd(t,e){return h.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function HN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const fr=Object.freeze({x:0,y:0});function qN(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function KN(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function pL(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function Sb(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function GN(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Cb(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const QN=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Cb(e,e.left,e.top),s=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=qN(Cb(c),i);s.push({id:l,data:{droppableContainer:a,value:u}})}}return s.sort(KN)},gL=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Sb(e),s=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=Sb(c),d=i.reduce((v,S,y)=>v+qN(u[y],S),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:a,value:f}})}}return s.sort(KN)};function vL(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-r,l=s-n;if(r<i&&n<s){const c=e.width*e.height,u=t.width*t.height,d=a*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const yL=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=vL(l,e);c>0&&i.push({id:a,data:{droppableContainer:s,value:c}})}}return i.sort(pL)};function xL(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function YN(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:fr}function bL(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const wL=bL(1);function SL(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function CL(t,e,n){const r=SL(e);if(!r)return t;const{scaleX:i,scaleY:s,x:a,y:l}=r,c=t.left-a-(1-i)*parseFloat(n),u=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const NL={ignoreTransform:!1};function Ha(t,e){e===void 0&&(e=NL);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=En(t).getComputedStyle(t);u&&(n=CL(n,u,d))}const{top:r,left:i,width:s,height:a,bottom:l,right:c}=n;return{top:r,left:i,width:s,height:a,bottom:l,right:c}}function Nb(t){return Ha(t,{ignoreTransform:!0})}function EL(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function AL(t,e){return e===void 0&&(e=En(t).getComputedStyle(t)),e.position==="fixed"}function jL(t,e){e===void 0&&(e=En(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function ph(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(Av(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Lc(i)||zN(i)||n.includes(i))return n;const s=En(t).getComputedStyle(i);return i!==t&&jL(i,s)&&n.push(i),AL(i,s)?n:r(i.parentNode)}return t?r(t):n}function XN(t){const[e]=ph(t,1);return e??null}function jf(t){return!mh||!t?null:Wa(t)?t:Ev(t)?Av(t)||t===Va(t).scrollingElement?window:Lc(t)?t:null:null}function JN(t){return Wa(t)?t.scrollX:t.scrollLeft}function ZN(t){return Wa(t)?t.scrollY:t.scrollTop}function Dp(t){return{x:JN(t),y:ZN(t)}}var kt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(kt||(kt={}));function e1(t){return!mh||!t?!1:t===document.scrollingElement}function t1(t){const e={x:0,y:0},n=e1(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const RL={x:.2,y:.2};function kL(t,e,n,r,i){let{top:s,left:a,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=RL);const{isTop:u,isBottom:d,isLeft:f,isRight:v}=t1(t),S={x:0,y:0},y={x:0,y:0},g={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+g.height?(S.y=kt.Backward,y.y=r*Math.abs((e.top+g.height-s)/g.height)):!d&&c>=e.bottom-g.height&&(S.y=kt.Forward,y.y=r*Math.abs((e.bottom-g.height-c)/g.height)),!v&&l>=e.right-g.width?(S.x=kt.Forward,y.x=r*Math.abs((e.right-g.width-l)/g.width)):!f&&a<=e.left+g.width&&(S.x=kt.Backward,y.x=r*Math.abs((e.left+g.width-a)/g.width)),{direction:S,speed:y}}function _L(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function n1(t){return t.reduce((e,n)=>Jo(e,Dp(n)),fr)}function TL(t){return t.reduce((e,n)=>e+JN(n),0)}function PL(t){return t.reduce((e,n)=>e+ZN(n),0)}function DL(t,e){if(e===void 0&&(e=Ha),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);XN(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const OL=[["x",["left","right"],TL],["y",["top","bottom"],PL]];class kv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ph(n),i=n1(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of OL)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=i[s]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ol{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function LL(t){const{EventTarget:e}=En(t);return t instanceof e?t:Va(t)}function Rf(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var $n;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})($n||($n={}));function Eb(t){t.preventDefault()}function IL(t){t.stopPropagation()}var Re;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Re||(Re={}));const r1={start:[Re.Space,Re.Enter],cancel:[Re.Esc],end:[Re.Space,Re.Enter,Re.Tab]},ML=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Re.Right:return{...n,x:n.x+25};case Re.Left:return{...n,x:n.x-25};case Re.Down:return{...n,y:n.y+25};case Re.Up:return{...n,y:n.y-25}}};class gh{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ol(Va(n)),this.windowListeners=new Ol(En(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($n.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&DL(r),n(fr)}handleKeyDown(e){if(Rv(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=r1,coordinateGetter:a=ML,scrollBehavior:l="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:fr;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(e,{active:n,context:r.current,currentCoordinates:d});if(f){const v=fc(f,d),S={x:0,y:0},{scrollableAncestors:y}=r.current;for(const g of y){const w=e.code,{isTop:b,isRight:p,isLeft:m,isBottom:x,maxScroll:C,minScroll:E}=t1(g),N=_L(g),A={x:Math.min(w===Re.Right?N.right-N.width/2:N.right,Math.max(w===Re.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(w===Re.Down?N.bottom-N.height/2:N.bottom,Math.max(w===Re.Down?N.top:N.top+N.height/2,f.y))},k=w===Re.Right&&!p||w===Re.Left&&!m,j=w===Re.Down&&!x||w===Re.Up&&!b;if(k&&A.x!==f.x){const R=g.scrollLeft+v.x,P=w===Re.Right&&R<=C.x||w===Re.Left&&R>=E.x;if(P&&!v.y){g.scrollTo({left:R,behavior:l});return}P?S.x=g.scrollLeft-R:S.x=w===Re.Right?g.scrollLeft-C.x:g.scrollLeft-E.x,S.x&&g.scrollBy({left:-S.x,behavior:l});break}else if(j&&A.y!==f.y){const R=g.scrollTop+v.y,P=w===Re.Down&&R<=C.y||w===Re.Up&&R>=E.y;if(P&&!v.x){g.scrollTo({top:R,behavior:l});return}P?S.y=g.scrollTop-R:S.y=w===Re.Down?g.scrollTop-C.y:g.scrollTop-E.y,S.y&&g.scrollBy({top:-S.y,behavior:l});break}}this.handleMove(e,Jo(fc(f,this.referenceCoordinates),S))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gh.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=r1,onActivation:i}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function Ab(t){return!!(t&&"distance"in t)}function jb(t){return!!(t&&"delay"in t)}class _v{constructor(e,n,r){var i;r===void 0&&(r=LL(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=Va(a),this.documentListeners=new Ol(this.document),this.listeners=new Ol(r),this.windowListeners=new Ol(En(a)),this.initialCoordinates=(i=Pp(s))!=null?i:fr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.DragStart,Eb),this.windowListeners.add($n.VisibilityChange,this.handleCancel),this.windowListeners.add($n.ContextMenu,Eb),this.documentListeners.add($n.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(jb(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ab(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add($n.Click,IL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($n.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const c=(n=Pp(e))!=null?n:fr,u=fc(i,c);if(!r&&l){if(Ab(l)){if(l.tolerance!=null&&Rf(u,l.tolerance))return this.handleCancel();if(Rf(u,l.distance))return this.handleStart()}if(jb(l)&&Rf(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),a(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Re.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const FL={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class vh extends _v{constructor(e){const{event:n}=e,r=Va(n.target);super(e,FL,r)}}vh.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const BL={move:{name:"mousemove"},end:{name:"mouseup"}};var Op;(function(t){t[t.RightClick=2]="RightClick"})(Op||(Op={}));class $L extends _v{constructor(e){super(e,BL,Va(e.event.target))}}$L.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Op.RightClick?!1:(r==null||r({event:n}),!0)}}];const kf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class UL extends _v{constructor(e){super(e,kf)}static setup(){return window.addEventListener(kf.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(kf.move.name,e)};function e(){}}}UL.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Ll;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ll||(Ll={}));var Ed;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ed||(Ed={}));function zL(t){let{acceleration:e,activator:n=Ll.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:l=Ed.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:v}=t;const S=VL({delta:f,disabled:!s}),[y,g]=nL(),w=h.useRef({x:0,y:0}),b=h.useRef({x:0,y:0}),p=h.useMemo(()=>{switch(n){case Ll.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ll.DraggableRect:return i}},[n,i,c]),m=h.useRef(null),x=h.useCallback(()=>{const E=m.current;if(!E)return;const N=w.current.x*b.current.x,A=w.current.y*b.current.y;E.scrollBy(N,A)},[]),C=h.useMemo(()=>l===Ed.TreeOrder?[...u].reverse():u,[l,u]);h.useEffect(()=>{if(!s||!u.length||!p){g();return}for(const E of C){if((r==null?void 0:r(E))===!1)continue;const N=u.indexOf(E),A=d[N];if(!A)continue;const{direction:k,speed:j}=kL(E,A,p,e,v);for(const R of["x","y"])S[R][k[R]]||(j[R]=0,k[R]=0);if(j.x>0||j.y>0){g(),m.current=E,y(x,a),w.current=j,b.current=k;return}}w.current={x:0,y:0},b.current={x:0,y:0},g()},[e,x,r,g,s,a,JSON.stringify(p),JSON.stringify(S),y,u,C,d,JSON.stringify(v)])}const WL={x:{[kt.Backward]:!1,[kt.Forward]:!1},y:{[kt.Backward]:!1,[kt.Forward]:!1}};function VL(t){let{delta:e,disabled:n}=t;const r=Tp(e);return Ic(i=>{if(n||!r||!i)return WL;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[kt.Backward]:i.x[kt.Backward]||s.x===-1,[kt.Forward]:i.x[kt.Forward]||s.x===1},y:{[kt.Backward]:i.y[kt.Backward]||s.y===-1,[kt.Forward]:i.y[kt.Forward]||s.y===1}}},[n,e,r])}function HL(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Ic(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function qL(t,e){return h.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...s]},[]),[t,e])}var mc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(mc||(mc={}));var Lp;(function(t){t.Optimized="optimized"})(Lp||(Lp={}));const Rb=new Map;function KL(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,a]=h.useState(null),{frequency:l,measure:c,strategy:u}=i,d=h.useRef(t),f=w(),v=hc(f),S=h.useCallback(function(b){b===void 0&&(b=[]),!v.current&&a(p=>p===null?b:p.concat(b.filter(m=>!p.includes(m))))},[v]),y=h.useRef(null),g=Ic(b=>{if(f&&!n)return Rb;if(!b||b===Rb||d.current!==t||s!=null){const p=new Map;for(let m of t){if(!m)continue;if(s&&s.length>0&&!s.includes(m.id)&&m.rect.current){p.set(m.id,m.rect.current);continue}const x=m.node.current,C=x?new kv(c(x),x):null;m.rect.current=C,C&&p.set(m.id,C)}return p}return b},[t,s,n,f,c]);return h.useEffect(()=>{d.current=t},[t]),h.useEffect(()=>{f||S()},[n,f]),h.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),h.useEffect(()=>{f||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{S(),y.current=null},l))},[l,f,S,...r]),{droppableRects:g,measureDroppableContainers:S,measuringScheduled:s!=null};function w(){switch(u){case mc.Always:return!1;case mc.BeforeDragging:return n;default:return!n}}}function i1(t,e){return Ic(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function GL(t,e){return i1(t,e)}function QL(t){let{callback:e,disabled:n}=t;const r=jv(e),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function yh(t){let{callback:e,disabled:n}=t;const r=jv(e),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function YL(t){return new kv(Ha(t),t)}function kb(t,e,n){e===void 0&&(e=YL);const[r,i]=h.useState(null);function s(){i(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const a=QL({callback(c){if(t)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),l=yh({callback:s});return Br(()=>{s(),t?(l==null||l.observe(t),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[t]),r}function XL(t){const e=i1(t);return YN(t,e)}const _b=[];function JL(t){const e=h.useRef(t),n=Ic(r=>t?r&&r!==_b&&t&&e.current&&t.parentNode===e.current.parentNode?r:ph(t):_b,[t]);return h.useEffect(()=>{e.current=t},[t]),n}function ZL(t){const[e,n]=h.useState(null),r=h.useRef(t),i=h.useCallback(s=>{const a=jf(s.target);a&&n(l=>l?(l.set(a,Dp(a)),new Map(l)):null)},[]);return h.useEffect(()=>{const s=r.current;if(t!==s){a(s);const l=t.map(c=>{const u=jf(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Dp(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(c=>{const u=jf(c);u==null||u.removeEventListener("scroll",i)})}},[i,t]),h.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Jo(s,a),fr):n1(t):fr,[t,e])}function Tb(t,e){e===void 0&&(e=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},e),h.useEffect(()=>{const r=t!==fr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?fc(t,n.current):fr}function eI(t){h.useEffect(()=>{if(!mh)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function tI(t,e){return h.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,e)},n},{}),[t,e])}function s1(t){return h.useMemo(()=>t?EL(t):null,[t])}const Pb=[];function nI(t,e){e===void 0&&(e=Ha);const[n]=t,r=s1(n?En(n):null),[i,s]=h.useState(Pb);function a(){s(()=>t.length?t.map(c=>e1(c)?r:new kv(e(c),c)):Pb)}const l=yh({callback:a});return Br(()=>{l==null||l.disconnect(),a(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),i}function rI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Lc(e)?e:t}function iI(t){let{measure:e}=t;const[n,r]=h.useState(null),i=h.useCallback(u=>{for(const{target:d}of u)if(Lc(d)){r(f=>{const v=e(d);return f?{...f,width:v.width,height:v.height}:v});break}},[e]),s=yh({callback:i}),a=h.useCallback(u=>{const d=rI(u);s==null||s.disconnect(),d&&(s==null||s.observe(d)),r(d?e(d):null)},[e,s]),[l,c]=Sd(a);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const sI=[{sensor:vh,options:{}},{sensor:gh,options:{}}],oI={current:{}},Bu={draggable:{measure:Nb},droppable:{measure:Nb,strategy:mc.WhileDragging,frequency:Lp.Optimized},dragOverlay:{measure:Ha}};class Il extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const aI={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Il,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Cd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bu,measureDroppableContainers:Cd,windowRect:null,measuringScheduled:!1},lI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Cd,draggableNodes:new Map,over:null,measureDroppableContainers:Cd},xh=h.createContext(lI),o1=h.createContext(aI);function cI(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Il}}}function uI(t,e){switch(e.type){case Ct.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ct.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ct.DragEnd:case Ct.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ct.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Il(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Ct.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new Il(t.droppable.containers);return a.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Ct.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Il(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function dI(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=h.useContext(xh),s=Tp(r),a=Tp(n==null?void 0:n.id);return h.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!Rv(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=sL(d);if(f){f.focus();break}}})}},[r,e,i,a,s]),null}function hI(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function fI(t){return h.useMemo(()=>({draggable:{...Bu.draggable,...t==null?void 0:t.draggable},droppable:{...Bu.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Bu.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function mI(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=h.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Br(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=YN(d,r);if(a||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const v=XN(u);v&&v.scrollBy({top:f.y,left:f.x})}},[e,a,l,r,n])}const a1=h.createContext({...fr,scaleX:1,scaleY:1});var Ii;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ii||(Ii={}));const l1=h.memo(function(e){var n,r,i,s;let{id:a,accessibility:l,autoScroll:c=!0,children:u,sensors:d=sI,collisionDetection:f=yL,measuring:v,modifiers:S,...y}=e;const g=h.useReducer(uI,void 0,cI),[w,b]=g,[p,m]=dL(),[x,C]=h.useState(Ii.Uninitialized),E=x===Ii.Initialized,{draggable:{active:N,nodes:A,translate:k},droppable:{containers:j}}=w,R=N!=null?A.get(N):null,P=h.useRef({initial:null,translated:null}),M=h.useMemo(()=>{var at;return N!=null?{id:N,data:(at=R==null?void 0:R.data)!=null?at:oI,rect:P}:null},[N,R]),B=h.useRef(null),[Y,$]=h.useState(null),[G,O]=h.useState(null),L=hc(y,Object.values(y)),K=Mc("DndDescribedBy",a),ee=h.useMemo(()=>j.getEnabled(),[j]),V=fI(v),{droppableRects:Oe,measureDroppableContainers:se,measuringScheduled:Xe}=KL(ee,{dragging:E,dependencies:[k.x,k.y],config:V.droppable}),ie=HL(A,N),Q=h.useMemo(()=>G?Pp(G):null,[G]),me=Vh(),Le=GL(ie,V.draggable.measure);mI({activeNode:N!=null?A.get(N):null,config:me.layoutShiftCompensation,initialRect:Le,measure:V.draggable.measure});const J=kb(ie,V.draggable.measure,Le),xe=kb(ie?ie.parentElement:null),ce=h.useRef({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:Oe,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Me=j.getNodeFor((n=ce.current.over)==null?void 0:n.id),U=iI({measure:V.dragOverlay.measure}),oe=(r=U.nodeRef.current)!=null?r:ie,Pe=E?(i=U.rect)!=null?i:J:null,Je=!!(U.nodeRef.current&&U.rect),ot=XL(Je?null:J),Fe=s1(oe?En(oe):null),Ee=JL(E?Me??ie:null),He=nI(Ee),Pt=hI(S,{transform:{x:k.x-ot.x,y:k.y-ot.y,scaleX:1,scaleY:1},activatorEvent:G,active:M,activeNodeRect:J,containerNodeRect:xe,draggingNodeRect:Pe,over:ce.current.over,overlayNodeRect:U.rect,scrollableAncestors:Ee,scrollableAncestorRects:He,windowRect:Fe}),In=Q?Jo(Q,k):null,wr=ZL(Ee),wi=Tb(wr),Si=Tb(wr,[J]),Vr=Jo(Pt,wi),Hr=Pe?wL(Pe,Pt):null,Ci=M&&Hr?f({active:M,collisionRect:Hr,droppableRects:Oe,droppableContainers:ee,pointerCoordinates:In}):null,wo=GN(Ci,"id"),[Qn,Cs]=h.useState(null),So=Je?Pt:Jo(Pt,Si),Yn=xL(So,(s=Qn==null?void 0:Qn.rect)!=null?s:null,J),Sr=h.useRef(null),Co=h.useCallback((at,Yt)=>{let{sensor:De,options:Xt}=Yt;if(B.current==null)return;const fn=A.get(B.current);if(!fn)return;const Ut=at.nativeEvent,mn=new De({active:B.current,activeNode:fn,event:Ut,options:Xt,context:ce,onAbort(gt){if(!A.get(gt))return;const{onDragAbort:At}=L.current,Mn={id:gt};At==null||At(Mn),p({type:"onDragAbort",event:Mn})},onPending(gt,bt,At,Mn){if(!A.get(gt))return;const{onDragPending:Kr}=L.current,Xn={id:gt,constraint:bt,initialCoordinates:At,offset:Mn};Kr==null||Kr(Xn),p({type:"onDragPending",event:Xn})},onStart(gt){const bt=B.current;if(bt==null)return;const At=A.get(bt);if(!At)return;const{onDragStart:Mn}=L.current,Ni={activatorEvent:Ut,active:{id:bt,data:At.data,rect:P}};lr.unstable_batchedUpdates(()=>{Mn==null||Mn(Ni),C(Ii.Initializing),b({type:Ct.DragStart,initialCoordinates:gt,active:bt}),p({type:"onDragStart",event:Ni}),$(Sr.current),O(Ut)})},onMove(gt){b({type:Ct.DragMove,coordinates:gt})},onEnd:qr(Ct.DragEnd),onCancel:qr(Ct.DragCancel)});Sr.current=mn;function qr(gt){return async function(){const{active:At,collisions:Mn,over:Ni,scrollAdjustedTranslate:Kr}=ce.current;let Xn=null;if(At&&Kr){const{cancelDrop:Jt}=L.current;Xn={activatorEvent:Ut,active:At,collisions:Mn,delta:Kr,over:Ni},gt===Ct.DragEnd&&typeof Jt=="function"&&await Promise.resolve(Jt(Xn))&&(gt=Ct.DragCancel)}B.current=null,lr.unstable_batchedUpdates(()=>{b({type:gt}),C(Ii.Uninitialized),Cs(null),$(null),O(null),Sr.current=null;const Jt=gt===Ct.DragEnd?"onDragEnd":"onDragCancel";if(Xn){const Ao=L.current[Jt];Ao==null||Ao(Xn),p({type:Jt,event:Xn})}})}}},[A]),Xa=h.useCallback((at,Yt)=>(De,Xt)=>{const fn=De.nativeEvent,Ut=A.get(Xt);if(B.current!==null||!Ut||fn.dndKit||fn.defaultPrevented)return;const mn={active:Ut};at(De,Yt.options,mn)===!0&&(fn.dndKit={capturedBy:Yt.sensor},B.current=Xt,Co(De,Yt))},[A,Co]),zc=qL(d,Xa);eI(d),Br(()=>{J&&x===Ii.Initializing&&C(Ii.Initialized)},[J,x]),h.useEffect(()=>{const{onDragMove:at}=L.current,{active:Yt,activatorEvent:De,collisions:Xt,over:fn}=ce.current;if(!Yt||!De)return;const Ut={active:Yt,activatorEvent:De,collisions:Xt,delta:{x:Vr.x,y:Vr.y},over:fn};lr.unstable_batchedUpdates(()=>{at==null||at(Ut),p({type:"onDragMove",event:Ut})})},[Vr.x,Vr.y]),h.useEffect(()=>{const{active:at,activatorEvent:Yt,collisions:De,droppableContainers:Xt,scrollAdjustedTranslate:fn}=ce.current;if(!at||B.current==null||!Yt||!fn)return;const{onDragOver:Ut}=L.current,mn=Xt.get(wo),qr=mn&&mn.rect.current?{id:mn.id,rect:mn.rect.current,data:mn.data,disabled:mn.disabled}:null,gt={active:at,activatorEvent:Yt,collisions:De,delta:{x:fn.x,y:fn.y},over:qr};lr.unstable_batchedUpdates(()=>{Cs(qr),Ut==null||Ut(gt),p({type:"onDragOver",event:gt})})},[wo]),Br(()=>{ce.current={activatorEvent:G,active:M,activeNode:ie,collisionRect:Hr,collisions:Ci,droppableRects:Oe,draggableNodes:A,draggingNode:oe,draggingNodeRect:Pe,droppableContainers:j,over:Qn,scrollableAncestors:Ee,scrollAdjustedTranslate:Vr},P.current={initial:Pe,translated:Hr}},[M,ie,Ci,Hr,A,oe,Pe,Oe,j,Qn,Ee,Vr]),zL({...me,delta:k,draggingRect:Hr,pointerCoordinates:In,scrollableAncestors:Ee,scrollableAncestorRects:He});const No=h.useMemo(()=>({active:M,activeNode:ie,activeNodeRect:J,activatorEvent:G,collisions:Ci,containerNodeRect:xe,dragOverlay:U,draggableNodes:A,droppableContainers:j,droppableRects:Oe,over:Qn,measureDroppableContainers:se,scrollableAncestors:Ee,scrollableAncestorRects:He,measuringConfiguration:V,measuringScheduled:Xe,windowRect:Fe}),[M,ie,J,G,Ci,xe,U,A,j,Oe,Qn,se,Ee,He,V,Xe,Fe]),Eo=h.useMemo(()=>({activatorEvent:G,activators:zc,active:M,activeNodeRect:J,ariaDescribedById:{draggable:K},dispatch:b,draggableNodes:A,over:Qn,measureDroppableContainers:se}),[G,zc,M,J,b,K,A,Qn,se]);return Ce.createElement(VN.Provider,{value:m},Ce.createElement(xh.Provider,{value:Eo},Ce.createElement(o1.Provider,{value:No},Ce.createElement(a1.Provider,{value:Yn},u)),Ce.createElement(dI,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Ce.createElement(mL,{...l,hiddenTextDescribedById:K}));function Vh(){const at=(Y==null?void 0:Y.autoScrollEnabled)===!1,Yt=typeof c=="object"?c.enabled===!1:c===!1,De=E&&!at&&!Yt;return typeof c=="object"?{...c,enabled:De}:{enabled:De}}}),pI=h.createContext(null),Db="button",gI="Draggable";function vI(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Mc(gI),{activators:a,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:v}=h.useContext(xh),{role:S=Db,roleDescription:y="draggable",tabIndex:g=0}=i??{},w=(c==null?void 0:c.id)===e,b=h.useContext(w?a1:pI),[p,m]=Sd(),[x,C]=Sd(),E=tI(a,e),N=hc(n);Br(()=>(f.set(e,{id:e,key:s,node:p,activatorNode:x,data:N}),()=>{const k=f.get(e);k&&k.key===s&&f.delete(e)}),[f,e]);const A=h.useMemo(()=>({role:S,tabIndex:g,"aria-disabled":r,"aria-pressed":w&&S===Db?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,S,g,w,y,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:A,isDragging:w,listeners:r?void 0:E,node:p,over:v,setNodeRef:m,setActivatorNodeRef:C,transform:b}}function yI(){return h.useContext(o1)}const xI="Droppable",bI={timeout:25};function wI(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Mc(xI),{active:a,dispatch:l,over:c,measureDroppableContainers:u}=h.useContext(xh),d=h.useRef({disabled:n}),f=h.useRef(!1),v=h.useRef(null),S=h.useRef(null),{disabled:y,updateMeasurementsFor:g,timeout:w}={...bI,...i},b=hc(g??r),p=h.useCallback(()=>{if(!f.current){f.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),S.current=null},w)},[w]),m=yh({callback:p,disabled:y||!a}),x=h.useCallback((A,k)=>{m&&(k&&(m.unobserve(k),f.current=!1),A&&m.observe(A))},[m]),[C,E]=Sd(x),N=hc(e);return h.useEffect(()=>{!m||!C.current||(m.disconnect(),f.current=!1,m.observe(C.current))},[C,m]),h.useEffect(()=>(l({type:Ct.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:v,data:N}}),()=>l({type:Ct.UnregisterDroppable,key:s,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(l({type:Ct.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,l]),{active:a,rect:v,isOver:(c==null?void 0:c.id)===r,node:C,over:c,setNodeRef:E}}function bh(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function SI(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function cu(t){return t!==null&&t>=0}function CI(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function NI(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const c1=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=bh(e,r,n),a=e[i],l=s[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},uu={scaleX:1,scaleY:1},u1=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:a}=t;const l=(e=s[n])!=null?e:r;if(!l)return null;if(i===n){const u=s[a];return u?{x:0,y:n<a?u.top+u.height-(l.top+l.height):u.top-l.top,...uu}:null}const c=EI(s,i,n);return i>n&&i<=a?{x:0,y:-l.height-c,...uu}:i<n&&i>=a?{x:0,y:l.height+c,...uu}:{x:0,y:0,...uu}};function EI(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const d1="Sortable",h1=Ce.createContext({activeIndex:-1,containerId:d1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:c1,disabled:{draggable:!1,droppable:!1}});function f1(t){let{children:e,id:n,items:r,strategy:i=c1,disabled:s=!1}=t;const{active:a,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=yI(),f=Mc(d1,n),v=l.rect!==null,S=h.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),y=a!=null,g=a?S.indexOf(a.id):-1,w=u?S.indexOf(u.id):-1,b=h.useRef(S),p=!CI(S,b.current),m=w!==-1&&g===-1||p,x=NI(s);Br(()=>{p&&y&&d(S)},[p,S,y,d]),h.useEffect(()=>{b.current=S},[S]);const C=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:x,disableTransforms:m,items:S,overIndex:w,useDragOverlay:v,sortedRects:SI(S,c),strategy:i}),[g,f,x.draggable,x.droppable,m,S,w,c,v,i]);return Ce.createElement(h1.Provider,{value:C},e)}const AI=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return bh(n,r,i).indexOf(e)},jI=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:a,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!r||l!==s&&i===a?!1:n?!0:a!==i&&e===c},RI={duration:200,easing:"ease"},m1="transform",kI=Aa.Transition.toString({property:m1,duration:0,easing:"linear"}),_I={roleDescription:"sortable"};function TI(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,a]=h.useState(null),l=h.useRef(n);return Br(()=>{if(!e&&n!==l.current&&r.current){const c=i.current;if(c){const u=Ha(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&a(d)}}n!==l.current&&(l.current=n)},[e,n,r,i]),h.useEffect(()=>{s&&a(null)},[s]),s}function p1(t){let{animateLayoutChanges:e=jI,attributes:n,disabled:r,data:i,getNewIndex:s=AI,id:a,strategy:l,resizeObserverConfig:c,transition:u=RI}=t;const{items:d,containerId:f,activeIndex:v,disabled:S,disableTransforms:y,sortedRects:g,overIndex:w,useDragOverlay:b,strategy:p}=h.useContext(h1),m=PI(r,S),x=d.indexOf(a),C=h.useMemo(()=>({sortable:{containerId:f,index:x,items:d},...i}),[f,i,x,d]),E=h.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:N,node:A,isOver:k,setNodeRef:j}=wI({id:a,data:C,disabled:m.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:R,activatorEvent:P,activeNodeRect:M,attributes:B,setNodeRef:Y,listeners:$,isDragging:G,over:O,setActivatorNodeRef:L,transform:K}=vI({id:a,data:C,attributes:{..._I,...n},disabled:m.draggable}),ee=tL(j,Y),V=!!R,Oe=V&&!y&&cu(v)&&cu(w),se=!b&&G,Xe=se&&Oe?K:null,Q=Oe?Xe??(l??p)({rects:g,activeNodeRect:M,activeIndex:v,overIndex:w,index:x}):null,me=cu(v)&&cu(w)?s({id:a,items:d,activeIndex:v,overIndex:w}):x,Le=R==null?void 0:R.id,J=h.useRef({activeId:Le,items:d,newIndex:me,containerId:f}),xe=d!==J.current.items,ce=e({active:R,containerId:f,isDragging:G,isSorting:V,id:a,index:x,items:d,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:u,wasDragging:J.current.activeId!=null}),Me=TI({disabled:!ce,index:x,node:A,rect:N});return h.useEffect(()=>{V&&J.current.newIndex!==me&&(J.current.newIndex=me),f!==J.current.containerId&&(J.current.containerId=f),d!==J.current.items&&(J.current.items=d)},[V,me,f,d]),h.useEffect(()=>{if(Le===J.current.activeId)return;if(Le!=null&&J.current.activeId==null){J.current.activeId=Le;return}const oe=setTimeout(()=>{J.current.activeId=Le},50);return()=>clearTimeout(oe)},[Le]),{active:R,activeIndex:v,attributes:B,data:C,rect:N,index:x,newIndex:me,items:d,isOver:k,isSorting:V,isDragging:G,listeners:$,node:A,overIndex:w,over:O,setNodeRef:ee,setActivatorNodeRef:L,setDroppableNodeRef:j,setDraggableNodeRef:Y,transform:Me??Q,transition:U()};function U(){if(Me||xe&&J.current.newIndex===x)return kI;if(!(se&&!Rv(P)||!u)&&(V||ce))return Aa.Transition.toString({...u,property:m1})}}function PI(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Ad(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const DI=[Re.Down,Re.Right,Re.Up,Re.Left],g1=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:a,scrollableAncestors:l}}=e;if(DI.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const v=i.get(f.id);if(v)switch(t.code){case Re.Down:r.top<v.top&&c.push(f);break;case Re.Up:r.top>v.top&&c.push(f);break;case Re.Left:r.left>v.left&&c.push(f);break;case Re.Right:r.left<v.left&&c.push(f);break}});const u=gL({collisionRect:r,droppableRects:i,droppableContainers:c});let d=GN(u,"id");if(d===(a==null?void 0:a.id)&&u.length>1&&(d=u[1].id),d!=null){const f=s.get(n.id),v=s.get(d),S=v?i.get(v.id):null,y=v==null?void 0:v.node.current;if(y&&S&&f&&v){const w=ph(y).some((E,N)=>l[N]!==E),b=v1(f,v),p=OI(f,v),m=w||!b?{x:0,y:0}:{x:p?r.width-S.width:0,y:p?r.height-S.height:0},x={x:S.left,y:S.top};return m.x&&m.y?x:fc(x,m)}}}};function v1(t,e){return!Ad(t)||!Ad(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function OI(t,e){return!Ad(t)||!Ad(e)||!v1(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const LI=fh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ip({className:t,variant:e,...n}){return o.jsx("div",{className:ye(LI({variant:e}),t),...n})}function ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function II(t,e){const n=h.createContext(e),r=s=>{const{children:a,...l}=s,c=h.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=h.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function vr(t,e=[]){let n=[];function r(s,a){const l=h.createContext(a),c=n.length;n=[...n,a];const u=f=>{var b;const{scope:v,children:S,...y}=f,g=((b=v==null?void 0:v[t])==null?void 0:b[c])||l,w=h.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:w,children:S})};u.displayName=s+"Provider";function d(f,v){var g;const S=((g=v==null?void 0:v[t])==null?void 0:g[c])||l,y=h.useContext(S);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,MI(i,...e)]}function MI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Bt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},FI=Vd[" useInsertionEffect ".trim().toString()]||Bt;function $r({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=BI({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=h.useRef(t!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const v=$I(d)?d(t):d;v!==t&&((f=a.current)==null||f.call(a,v))}else s(d)},[l,t,s,a]);return[c,u]}function BI({defaultProp:t,onChange:e}){const[n,r]=h.useState(t),i=h.useRef(n),s=h.useRef(e);return FI(()=>{s.current=e},[e]),h.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function $I(t){return typeof t=="function"}function Tv(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Pv(t){const[e,n]=h.useState(void 0);return Bt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function UI(t){const e=zI(t),n=h.forwardRef((r,i)=>{const{children:s,...a}=r,l=h.Children.toArray(s),c=l.find(VI);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function zI(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const a=qI(i),l=HI(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var WI=Symbol("radix.slottable");function VI(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===WI}function HI(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function qI(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var KI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=KI.reduce((t,e)=>{const n=UI(`Primitive.${e}`),r=h.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function GI(t,e){t&&lr.flushSync(()=>t.dispatchEvent(e))}var wh="Switch",[QI]=vr(wh),[YI,XI]=QI(wh),y1=h.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[v,S]=h.useState(null),y=$e(e,m=>S(m)),g=h.useRef(!1),w=v?d||!!v.closest("form"):!0,[b,p]=$r({prop:i,defaultProp:s??!1,onChange:u,caller:wh});return o.jsxs(YI,{scope:n,checked:b,disabled:l,children:[o.jsx(he.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":S1(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:ve(t.onClick,m=>{p(x=>!x),w&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),w&&o.jsx(w1,{control:v,bubbles:!g.current,name:r,value:c,checked:b,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});y1.displayName=wh;var x1="SwitchThumb",b1=h.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=XI(x1,n);return o.jsx(he.span,{"data-state":S1(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});b1.displayName=x1;var JI="SwitchBubbleInput",w1=h.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=h.useRef(null),l=$e(a,s),c=Tv(n),u=Pv(e);return h.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&S){const y=new Event("click",{bubbles:r});S.call(d,n),d.dispatchEvent(y)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});w1.displayName=JI;function S1(t){return t?"checked":"unchecked"}var C1=y1,ZI=b1;const _t=h.forwardRef(({className:t,...e},n)=>o.jsx(C1,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(ZI,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_t.displayName=C1.displayName;function Ob(t,[e,n]){return Math.min(n,Math.max(e,t))}function Lb(t){const e=eM(t),n=h.forwardRef((r,i)=>{const{children:s,...a}=r,l=h.Children.toArray(s),c=l.find(nM);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function eM(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const a=iM(i),l=rM(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tM=Symbol("radix.slottable");function nM(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tM}function rM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function iM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Dv(t){const e=t+"CollectionProvider",[n,r]=vr(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:w,children:b}=g,p=Ce.useRef(null),m=Ce.useRef(new Map).current;return o.jsx(i,{scope:w,itemMap:m,collectionRef:p,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=Lb(l),u=Ce.forwardRef((g,w)=>{const{scope:b,children:p}=g,m=s(l,b),x=$e(w,m.collectionRef);return o.jsx(c,{ref:x,children:p})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",v=Lb(d),S=Ce.forwardRef((g,w)=>{const{scope:b,children:p,...m}=g,x=Ce.useRef(null),C=$e(w,x),E=s(d,b);return Ce.useEffect(()=>(E.itemMap.set(x,{ref:x,...m}),()=>void E.itemMap.delete(x))),o.jsx(v,{[f]:"",ref:C,children:p})});S.displayName=d;function y(g){const w=s(t+"CollectionConsumer",g);return Ce.useCallback(()=>{const p=w.collectionRef.current;if(!p)return[];const m=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((E,N)=>m.indexOf(E.ref.current)-m.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:S},y,r]}var sM=h.createContext(void 0);function Sh(t){const e=h.useContext(sM);return t||e||"ltr"}function hs(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function oM(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var aM="DismissableLayer",Mp="dismissableLayer.update",lM="dismissableLayer.pointerDownOutside",cM="dismissableLayer.focusOutside",Ib,N1=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ov=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=h.useContext(N1),[d,f]=h.useState(null),v=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=h.useState({}),y=$e(e,N=>f(N)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(w),p=d?g.indexOf(d):-1,m=u.layersWithOutsidePointerEventsDisabled.size>0,x=p>=b,C=hM(N=>{const A=N.target,k=[...u.branches].some(j=>j.contains(A));!x||k||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},v),E=fM(N=>{const A=N.target;[...u.branches].some(j=>j.contains(A))||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},v);return oM(N=>{p===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},v),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ib=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Mb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Ib)}},[d,v,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Mb())},[d,u]),h.useEffect(()=>{const N=()=>S({});return document.addEventListener(Mp,N),()=>document.removeEventListener(Mp,N)},[]),o.jsx(he.div,{...c,ref:y,style:{pointerEvents:m?x?"auto":"none":void 0,...t.style},onFocusCapture:ve(t.onFocusCapture,E.onFocusCapture),onBlurCapture:ve(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ve(t.onPointerDownCapture,C.onPointerDownCapture)})});Ov.displayName=aM;var uM="DismissableLayerBranch",dM=h.forwardRef((t,e)=>{const n=h.useContext(N1),r=h.useRef(null),i=$e(e,r);return h.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(he.div,{...t,ref:i})});dM.displayName=uM;function hM(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){E1(lM,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fM(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=h.useRef(!1);return h.useEffect(()=>{const i=s=>{s.target&&!r.current&&E1(cM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Mb(){const t=new CustomEvent(Mp);document.dispatchEvent(t)}function E1(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?GI(i,s):i.dispatchEvent(s)}var _f=0;function A1(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Fb()),document.body.insertAdjacentElement("beforeend",t[1]??Fb()),_f++,()=>{_f===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_f--}},[])}function Fb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Tf="focusScope.autoFocusOnMount",Pf="focusScope.autoFocusOnUnmount",Bb={bubbles:!1,cancelable:!0},mM="FocusScope",Lv=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,c]=h.useState(null),u=hs(i),d=hs(s),f=h.useRef(null),v=$e(e,g=>c(g)),S=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(m){if(S.paused||!l)return;const x=m.target;l.contains(x)?f.current=x:Pi(f.current,{select:!0})},w=function(m){if(S.paused||!l)return;const x=m.relatedTarget;x!==null&&(l.contains(x)||Pi(f.current,{select:!0}))},b=function(m){if(document.activeElement===document.body)for(const C of m)C.removedNodes.length>0&&Pi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const p=new MutationObserver(b);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),p.disconnect()}}},[r,l,S.paused]),h.useEffect(()=>{if(l){Ub.add(S);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(Tf,Bb);l.addEventListener(Tf,u),l.dispatchEvent(b),b.defaultPrevented||(pM(bM(j1(l)),{select:!0}),document.activeElement===g&&Pi(l))}return()=>{l.removeEventListener(Tf,u),setTimeout(()=>{const b=new CustomEvent(Pf,Bb);l.addEventListener(Pf,d),l.dispatchEvent(b),b.defaultPrevented||Pi(g??document.body,{select:!0}),l.removeEventListener(Pf,d),Ub.remove(S)},0)}}},[l,u,d,S]);const y=h.useCallback(g=>{if(!n&&!r||S.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(w&&b){const p=g.currentTarget,[m,x]=gM(p);m&&x?!g.shiftKey&&b===x?(g.preventDefault(),n&&Pi(m,{select:!0})):g.shiftKey&&b===m&&(g.preventDefault(),n&&Pi(x,{select:!0})):b===p&&g.preventDefault()}},[n,r,S.paused]);return o.jsx(he.div,{tabIndex:-1,...a,ref:v,onKeyDown:y})});Lv.displayName=mM;function pM(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Pi(r,{select:e}),document.activeElement!==n)return}function gM(t){const e=j1(t),n=$b(e,t),r=$b(e.reverse(),t);return[n,r]}function j1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $b(t,e){for(const n of t)if(!vM(n,{upTo:e}))return n}function vM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yM(t){return t instanceof HTMLInputElement&&"select"in t}function Pi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&yM(t)&&e&&t.select()}}var Ub=xM();function xM(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=zb(t,e),t.unshift(e)},remove(e){var n;t=zb(t,e),(n=t[0])==null||n.resume()}}}function zb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function bM(t){return t.filter(e=>e.tagName!=="A")}var wM=Vd[" useId ".trim().toString()]||(()=>{}),SM=0;function Lr(t){const[e,n]=h.useState(wM());return Bt(()=>{n(r=>r??String(SM++))},[t]),e?`radix-${e}`:""}const CM=["top","right","bottom","left"],fs=Math.min,jn=Math.max,jd=Math.round,du=Math.floor,Ir=t=>({x:t,y:t}),NM={left:"right",right:"left",bottom:"top",top:"bottom"},EM={start:"end",end:"start"};function Fp(t,e,n){return jn(t,fs(e,n))}function gi(t,e){return typeof t=="function"?t(e):t}function vi(t){return t.split("-")[0]}function qa(t){return t.split("-")[1]}function Iv(t){return t==="x"?"y":"x"}function Mv(t){return t==="y"?"height":"width"}const AM=new Set(["top","bottom"]);function Tr(t){return AM.has(vi(t))?"y":"x"}function Fv(t){return Iv(Tr(t))}function jM(t,e,n){n===void 0&&(n=!1);const r=qa(t),i=Fv(t),s=Mv(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Rd(a)),[a,Rd(a)]}function RM(t){const e=Rd(t);return[Bp(t),e,Bp(e)]}function Bp(t){return t.replace(/start|end/g,e=>EM[e])}const Wb=["left","right"],Vb=["right","left"],kM=["top","bottom"],_M=["bottom","top"];function TM(t,e,n){switch(t){case"top":case"bottom":return n?e?Vb:Wb:e?Wb:Vb;case"left":case"right":return e?kM:_M;default:return[]}}function PM(t,e,n,r){const i=qa(t);let s=TM(vi(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Bp)))),s}function Rd(t){return t.replace(/left|right|bottom|top/g,e=>NM[e])}function DM(t){return{top:0,right:0,bottom:0,left:0,...t}}function R1(t){return typeof t!="number"?DM(t):{top:t,right:t,bottom:t,left:t}}function kd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Hb(t,e,n){let{reference:r,floating:i}=t;const s=Tr(e),a=Fv(e),l=Mv(a),c=vi(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,v=r[l]/2-i[l]/2;let S;switch(c){case"top":S={x:d,y:r.y-i.height};break;case"bottom":S={x:d,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:f};break;case"left":S={x:r.x-i.width,y:f};break;default:S={x:r.x,y:r.y}}switch(qa(e)){case"start":S[a]-=v*(n&&u?-1:1);break;case"end":S[a]+=v*(n&&u?-1:1);break}return S}const OM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Hb(u,r,c),v=r,S={},y=0;for(let g=0;g<l.length;g++){const{name:w,fn:b}=l[g],{x:p,y:m,data:x,reset:C}=await b({x:d,y:f,initialPlacement:r,placement:v,strategy:i,middlewareData:S,rects:u,platform:a,elements:{reference:t,floating:e}});d=p??d,f=m??f,S={...S,[w]:{...S[w],...x}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(v=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:d,y:f}=Hb(u,v,c)),g=-1)}return{x:d,y:f,placement:v,strategy:i,middlewareData:S}};async function pc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:v=!1,padding:S=0}=gi(e,t),y=R1(S),w=l[v?f==="floating"?"reference":"floating":f],b=kd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,m=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),x=await(s.isElement==null?void 0:s.isElement(m))?await(s.getScale==null?void 0:s.getScale(m))||{x:1,y:1}:{x:1,y:1},C=kd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:m,strategy:c}):p);return{top:(b.top-C.top+y.top)/x.y,bottom:(C.bottom-b.bottom+y.bottom)/x.y,left:(b.left-C.left+y.left)/x.x,right:(C.right-b.right+y.right)/x.x}}const LM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=gi(t,e)||{};if(u==null)return{};const f=R1(d),v={x:n,y:r},S=Fv(i),y=Mv(S),g=await a.getDimensions(u),w=S==="y",b=w?"top":"left",p=w?"bottom":"right",m=w?"clientHeight":"clientWidth",x=s.reference[y]+s.reference[S]-v[S]-s.floating[y],C=v[S]-s.reference[S],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=E?E[m]:0;(!N||!await(a.isElement==null?void 0:a.isElement(E)))&&(N=l.floating[m]||s.floating[y]);const A=x/2-C/2,k=N/2-g[y]/2-1,j=fs(f[b],k),R=fs(f[p],k),P=j,M=N-g[y]-R,B=N/2-g[y]/2+A,Y=Fp(P,B,M),$=!c.arrow&&qa(i)!=null&&B!==Y&&s.reference[y]/2-(B<P?j:R)-g[y]/2<0,G=$?B<P?B-P:B-M:0;return{[S]:v[S]+G,data:{[S]:Y,centerOffset:B-Y-G,...$&&{alignmentOffset:G}},reset:$}}}),IM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=gi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=vi(i),p=Tr(l),m=vi(l)===l,x=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=v||(m||!g?[Rd(l)]:RM(l)),E=y!=="none";!v&&E&&C.push(...PM(l,g,y,x));const N=[l,...C],A=await pc(e,w),k=[];let j=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&k.push(A[b]),f){const B=jM(i,a,x);k.push(A[B[0]],A[B[1]])}if(j=[...j,{placement:i,overflows:k}],!k.every(B=>B<=0)){var R,P;const B=(((R=s.flip)==null?void 0:R.index)||0)+1,Y=N[B];if(Y&&(!(f==="alignment"?p!==Tr(Y):!1)||j.every(O=>Tr(O.placement)===p?O.overflows[0]>0:!0)))return{data:{index:B,overflows:j},reset:{placement:Y}};let $=(P=j.filter(G=>G.overflows[0]<=0).sort((G,O)=>G.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!$)switch(S){case"bestFit":{var M;const G=(M=j.filter(O=>{if(E){const L=Tr(O.placement);return L===p||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,K)=>L+K,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:M[0];G&&($=G);break}case"initialPlacement":$=l;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function qb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Kb(t){return CM.some(e=>t[e]>=0)}const MM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=gi(t,e);switch(r){case"referenceHidden":{const s=await pc(e,{...i,elementContext:"reference"}),a=qb(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Kb(a)}}}case"escaped":{const s=await pc(e,{...i,altBoundary:!0}),a=qb(s,n.floating);return{data:{escapedOffsets:a,escaped:Kb(a)}}}default:return{}}}}},k1=new Set(["left","top"]);async function FM(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=vi(n),l=qa(n),c=Tr(n)==="y",u=k1.has(a)?-1:1,d=s&&c?-1:1,f=gi(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(S=l==="end"?y*-1:y),c?{x:S*d,y:v*u}:{x:v*u,y:S*d}}const BM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,c=await FM(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},$M=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:b,y:p}=w;return{x:b,y:p}}},...c}=gi(t,e),u={x:n,y:r},d=await pc(e,c),f=Tr(vi(i)),v=Iv(f);let S=u[v],y=u[f];if(s){const w=v==="y"?"top":"left",b=v==="y"?"bottom":"right",p=S+d[w],m=S-d[b];S=Fp(p,S,m)}if(a){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",p=y+d[w],m=y-d[b];y=Fp(p,y,m)}const g=l.fn({...e,[v]:S,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[v]:s,[f]:a}}}}}},UM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=gi(t,e),d={x:n,y:r},f=Tr(i),v=Iv(f);let S=d[v],y=d[f];const g=gi(l,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const m=v==="y"?"height":"width",x=s.reference[v]-s.floating[m]+w.mainAxis,C=s.reference[v]+s.reference[m]-w.mainAxis;S<x?S=x:S>C&&(S=C)}if(u){var b,p;const m=v==="y"?"width":"height",x=k1.has(vi(i)),C=s.reference[f]-s.floating[m]+(x&&((b=a.offset)==null?void 0:b[f])||0)+(x?0:w.crossAxis),E=s.reference[f]+s.reference[m]+(x?0:((p=a.offset)==null?void 0:p[f])||0)-(x?w.crossAxis:0);y<C?y=C:y>E&&(y=E)}return{[v]:S,[f]:y}}}},zM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:c=()=>{},...u}=gi(t,e),d=await pc(e,u),f=vi(i),v=qa(i),S=Tr(i)==="y",{width:y,height:g}=s.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=v===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,w=v==="end"?"top":"bottom");const p=g-d.top-d.bottom,m=y-d.left-d.right,x=fs(g-d[w],p),C=fs(y-d[b],m),E=!e.middlewareData.shift;let N=x,A=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=m),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=p),E&&!v){const j=jn(d.left,0),R=jn(d.right,0),P=jn(d.top,0),M=jn(d.bottom,0);S?A=y-2*(j!==0||R!==0?j+R:jn(d.left,d.right)):N=g-2*(P!==0||M!==0?P+M:jn(d.top,d.bottom))}await c({...e,availableWidth:A,availableHeight:N});const k=await a.getDimensions(l.floating);return y!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function Ch(){return typeof window<"u"}function Ka(t){return _1(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wr(t){var e;return(e=(_1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _1(t){return Ch()?t instanceof Node||t instanceof Tn(t).Node:!1}function mr(t){return Ch()?t instanceof Element||t instanceof Tn(t).Element:!1}function Ur(t){return Ch()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function Gb(t){return!Ch()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}const WM=new Set(["inline","contents"]);function Fc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=pr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!WM.has(i)}const VM=new Set(["table","td","th"]);function HM(t){return VM.has(Ka(t))}const qM=[":popover-open",":modal"];function Nh(t){return qM.some(e=>{try{return t.matches(e)}catch{return!1}})}const KM=["transform","translate","scale","rotate","perspective"],GM=["transform","translate","scale","rotate","perspective","filter"],QM=["paint","layout","strict","content"];function Bv(t){const e=$v(),n=mr(t)?pr(t):t;return KM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||GM.some(r=>(n.willChange||"").includes(r))||QM.some(r=>(n.contain||"").includes(r))}function YM(t){let e=ms(t);for(;Ur(e)&&!ja(e);){if(Bv(e))return e;if(Nh(e))return null;e=ms(e)}return null}function $v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XM=new Set(["html","body","#document"]);function ja(t){return XM.has(Ka(t))}function pr(t){return Tn(t).getComputedStyle(t)}function Eh(t){return mr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ms(t){if(Ka(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Gb(t)&&t.host||Wr(t);return Gb(e)?e.host:e}function T1(t){const e=ms(t);return ja(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ur(e)&&Fc(e)?e:T1(e)}function gc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=T1(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Tn(i);if(s){const l=$p(a);return e.concat(a,a.visualViewport||[],Fc(i)?i:[],l&&n?gc(l):[])}return e.concat(i,gc(i,[],n))}function $p(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function P1(t){const e=pr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ur(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=jd(n)!==s||jd(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function Uv(t){return mr(t)?t:t.contextElement}function Zo(t){const e=Uv(t);if(!Ur(e))return Ir(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=P1(e);let a=(s?jd(n.width):n.width)/r,l=(s?jd(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const JM=Ir(0);function D1(t){const e=Tn(t);return!$v()||!e.visualViewport?JM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function ro(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Uv(t);let a=Ir(1);e&&(r?mr(r)&&(a=Zo(r)):a=Zo(t));const l=ZM(s,n,r)?D1(s):Ir(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const v=Tn(s),S=r&&mr(r)?Tn(r):r;let y=v,g=$p(y);for(;g&&r&&S!==y;){const w=Zo(g),b=g.getBoundingClientRect(),p=pr(g),m=b.left+(g.clientLeft+parseFloat(p.paddingLeft))*w.x,x=b.top+(g.clientTop+parseFloat(p.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=m,u+=x,y=Tn(g),g=$p(y)}}return kd({width:d,height:f,x:c,y:u})}function Ah(t,e){const n=Eh(t).scrollLeft;return e?e.left+n:ro(Wr(t)).left+n}function O1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ah(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function eF(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Wr(r),l=e?Nh(e.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Ir(1);const d=Ir(0),f=Ur(r);if((f||!f&&!s)&&((Ka(r)!=="body"||Fc(a))&&(c=Eh(r)),Ur(r))){const S=ro(r);u=Zo(r),d.x=S.x+r.clientLeft,d.y=S.y+r.clientTop}const v=a&&!f&&!s?O1(a,c):Ir(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+v.x,y:n.y*u.y-c.scrollTop*u.y+d.y+v.y}}function tF(t){return Array.from(t.getClientRects())}function nF(t){const e=Wr(t),n=Eh(t),r=t.ownerDocument.body,i=jn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=jn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ah(t);const l=-n.scrollTop;return pr(r).direction==="rtl"&&(a+=jn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const Qb=25;function rF(t,e){const n=Tn(t),r=Wr(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=$v();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=Ah(r);if(u<=0){const d=r.ownerDocument,f=d.body,v=getComputedStyle(f),S=d.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-S);y<=Qb&&(s-=y)}else u<=Qb&&(s+=u);return{width:s,height:a,x:l,y:c}}const iF=new Set(["absolute","fixed"]);function sF(t,e){const n=ro(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ur(t)?Zo(t):Ir(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function Yb(t,e,n){let r;if(e==="viewport")r=rF(t,n);else if(e==="document")r=nF(Wr(t));else if(mr(e))r=sF(e,n);else{const i=D1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return kd(r)}function L1(t,e){const n=ms(t);return n===e||!mr(n)||ja(n)?!1:pr(n).position==="fixed"||L1(n,e)}function oF(t,e){const n=e.get(t);if(n)return n;let r=gc(t,[],!1).filter(l=>mr(l)&&Ka(l)!=="body"),i=null;const s=pr(t).position==="fixed";let a=s?ms(t):t;for(;mr(a)&&!ja(a);){const l=pr(a),c=Bv(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&iF.has(i.position)||Fc(a)&&!c&&L1(t,a))?r=r.filter(d=>d!==a):i=l,a=ms(a)}return e.set(t,r),r}function aF(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Nh(e)?[]:oF(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=Yb(e,d,i);return u.top=jn(f.top,u.top),u.right=fs(f.right,u.right),u.bottom=fs(f.bottom,u.bottom),u.left=jn(f.left,u.left),u},Yb(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lF(t){const{width:e,height:n}=P1(t);return{width:e,height:n}}function cF(t,e,n){const r=Ur(e),i=Wr(e),s=n==="fixed",a=ro(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Ir(0);function u(){c.x=Ah(i)}if(r||!r&&!s)if((Ka(e)!=="body"||Fc(i))&&(l=Eh(e)),r){const S=ro(e,!0,s,e);c.x=S.x+e.clientLeft,c.y=S.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?O1(i,l):Ir(0),f=a.left+l.scrollLeft-c.x-d.x,v=a.top+l.scrollTop-c.y-d.y;return{x:f,y:v,width:a.width,height:a.height}}function Df(t){return pr(t).position==="static"}function Xb(t,e){if(!Ur(t)||pr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wr(t)===n&&(n=n.ownerDocument.body),n}function I1(t,e){const n=Tn(t);if(Nh(t))return n;if(!Ur(t)){let i=ms(t);for(;i&&!ja(i);){if(mr(i)&&!Df(i))return i;i=ms(i)}return n}let r=Xb(t,e);for(;r&&HM(r)&&Df(r);)r=Xb(r,e);return r&&ja(r)&&Df(r)&&!Bv(r)?n:r||YM(t)||n}const uF=async function(t){const e=this.getOffsetParent||I1,n=this.getDimensions,r=await n(t.floating);return{reference:cF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dF(t){return pr(t).direction==="rtl"}const hF={convertOffsetParentRelativeRectToViewportRelativeRect:eF,getDocumentElement:Wr,getClippingRect:aF,getOffsetParent:I1,getElementRects:uF,getClientRects:tF,getDimensions:lF,getScale:Zo,isElement:mr,isRTL:dF};function M1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function fF(t,e){let n=null,r;const i=Wr(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:v,height:S}=u;if(l||e(),!v||!S)return;const y=du(f),g=du(i.clientWidth-(d+v)),w=du(i.clientHeight-(f+S)),b=du(d),m={rootMargin:-y+"px "+-g+"px "+-w+"px "+-b+"px",threshold:jn(0,fs(1,c))||1};let x=!0;function C(E){const N=E[0].intersectionRatio;if(N!==c){if(!x)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!M1(u,t.getBoundingClientRect())&&a(),x=!1}try{n=new IntersectionObserver(C,{...m,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,m)}n.observe(t)}return a(!0),s}function mF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Uv(t),d=i||s?[...u?gc(u):[],...gc(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=u&&l?fF(u,n):null;let v=-1,S=null;a&&(S=new ResizeObserver(b=>{let[p]=b;p&&p.target===u&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var m;(m=S)==null||m.observe(e)})),n()}),u&&!c&&S.observe(u),S.observe(e));let y,g=c?ro(t):null;c&&w();function w(){const b=ro(t);g&&!M1(g,b)&&n(),g=b,y=requestAnimationFrame(w)}return n(),()=>{var b;d.forEach(p=>{i&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),f==null||f(),(b=S)==null||b.disconnect(),S=null,c&&cancelAnimationFrame(y)}}const pF=BM,gF=$M,vF=IM,yF=zM,xF=MM,Jb=LM,bF=UM,wF=(t,e,n)=>{const r=new Map,i={platform:hF,...n},s={...i.platform,_c:r};return OM(t,e,{...i,platform:s})};var SF=typeof document<"u",CF=function(){},$u=SF?h.useLayoutEffect:CF;function _d(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_d(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!_d(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function F1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Zb(t,e){const n=F1(t);return Math.round(e*n)/n}function Of(t){const e=h.useRef(t);return $u(()=>{e.current=t}),e}function NF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=h.useState(r);_d(v,r)||S(r);const[y,g]=h.useState(null),[w,b]=h.useState(null),p=h.useCallback(O=>{O!==E.current&&(E.current=O,g(O))},[]),m=h.useCallback(O=>{O!==N.current&&(N.current=O,b(O))},[]),x=s||y,C=a||w,E=h.useRef(null),N=h.useRef(null),A=h.useRef(d),k=c!=null,j=Of(c),R=Of(i),P=Of(u),M=h.useCallback(()=>{if(!E.current||!N.current)return;const O={placement:e,strategy:n,middleware:v};R.current&&(O.platform=R.current),wF(E.current,N.current,O).then(L=>{const K={...L,isPositioned:P.current!==!1};B.current&&!_d(A.current,K)&&(A.current=K,lr.flushSync(()=>{f(K)}))})},[v,e,n,R,P]);$u(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const B=h.useRef(!1);$u(()=>(B.current=!0,()=>{B.current=!1}),[]),$u(()=>{if(x&&(E.current=x),C&&(N.current=C),x&&C){if(j.current)return j.current(x,C,M);M()}},[x,C,M,j,k]);const Y=h.useMemo(()=>({reference:E,floating:N,setReference:p,setFloating:m}),[p,m]),$=h.useMemo(()=>({reference:x,floating:C}),[x,C]),G=h.useMemo(()=>{const O={position:n,left:0,top:0};if(!$.floating)return O;const L=Zb($.floating,d.x),K=Zb($.floating,d.y);return l?{...O,transform:"translate("+L+"px, "+K+"px)",...F1($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:K}},[n,l,$.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:M,refs:Y,elements:$,floatingStyles:G}),[d,M,Y,$,G])}const EF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Jb({element:r.current,padding:i}).fn(n):{}:r?Jb({element:r,padding:i}).fn(n):{}}}},AF=(t,e)=>({...pF(t),options:[t,e]}),jF=(t,e)=>({...gF(t),options:[t,e]}),RF=(t,e)=>({...bF(t),options:[t,e]}),kF=(t,e)=>({...vF(t),options:[t,e]}),_F=(t,e)=>({...yF(t),options:[t,e]}),TF=(t,e)=>({...xF(t),options:[t,e]}),PF=(t,e)=>({...EF(t),options:[t,e]});var DF="Arrow",B1=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return o.jsx(he.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});B1.displayName=DF;var OF=B1,zv="Popper",[$1,U1]=vr(zv),[LF,z1]=$1(zv),W1=t=>{const{__scopePopper:e,children:n}=t,[r,i]=h.useState(null);return o.jsx(LF,{scope:e,anchor:r,onAnchorChange:i,children:n})};W1.displayName=zv;var V1="PopperAnchor",H1=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=z1(V1,n),a=h.useRef(null),l=$e(e,a),c=h.useRef(null);return h.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:o.jsx(he.div,{...i,ref:l})});H1.displayName=V1;var Wv="PopperContent",[IF,MF]=$1(Wv),q1=h.forwardRef((t,e)=>{var Q,me,Le,J,xe,ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:y,...g}=t,w=z1(Wv,n),[b,p]=h.useState(null),m=$e(e,Me=>p(Me)),[x,C]=h.useState(null),E=Pv(x),N=(E==null?void 0:E.width)??0,A=(E==null?void 0:E.height)??0,k=r+(s!=="center"?"-"+s:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],P=R.length>0,M={padding:j,boundary:R.filter(BF),altBoundary:P},{refs:B,floatingStyles:Y,placement:$,isPositioned:G,middlewareData:O}=NF({strategy:"fixed",placement:k,whileElementsMounted:(...Me)=>mF(...Me,{animationFrame:S==="always"}),elements:{reference:w.anchor},middleware:[AF({mainAxis:i+A,alignmentAxis:a}),c&&jF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?RF():void 0,...M}),c&&kF({...M}),_F({...M,apply:({elements:Me,rects:U,availableWidth:oe,availableHeight:Pe})=>{const{width:Je,height:ot}=U.reference,Fe=Me.floating.style;Fe.setProperty("--radix-popper-available-width",`${oe}px`),Fe.setProperty("--radix-popper-available-height",`${Pe}px`),Fe.setProperty("--radix-popper-anchor-width",`${Je}px`),Fe.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),x&&PF({element:x,padding:l}),$F({arrowWidth:N,arrowHeight:A}),v&&TF({strategy:"referenceHidden",...M})]}),[L,K]=Q1($),ee=hs(y);Bt(()=>{G&&(ee==null||ee())},[G,ee]);const V=(Q=O.arrow)==null?void 0:Q.x,Oe=(me=O.arrow)==null?void 0:me.y,se=((Le=O.arrow)==null?void 0:Le.centerOffset)!==0,[Xe,ie]=h.useState();return Bt(()=>{b&&ie(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:G?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(J=O.transformOrigin)==null?void 0:J.x,(xe=O.transformOrigin)==null?void 0:xe.y].join(" "),...((ce=O.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(IF,{scope:n,placedSide:L,onArrowChange:C,arrowX:V,arrowY:Oe,shouldHideArrow:se,children:o.jsx(he.div,{"data-side":L,"data-align":K,...g,ref:m,style:{...g.style,animation:G?void 0:"none"}})})})});q1.displayName=Wv;var K1="PopperArrow",FF={top:"bottom",right:"left",bottom:"top",left:"right"},G1=h.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=MF(K1,r),a=FF[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(OF,{...i,ref:n,style:{...i.style,display:"block"}})})});G1.displayName=K1;function BF(t){return t!==null}var $F=t=>({name:"transformOrigin",options:t,fn(e){var w,b,p;const{placement:n,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=Q1(n),f={start:"0%",center:"50%",end:"100%"}[d],v=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,S=(((p=i.arrow)==null?void 0:p.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=a?f:`${v}px`,g=`${-c}px`):u==="top"?(y=a?f:`${v}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=a?f:`${S}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=a?f:`${S}px`),{data:{x:y,y:g}}}});function Q1(t){const[e,n="center"]=t.split("-");return[e,n]}var UF=W1,zF=H1,WF=q1,VF=G1,HF="Portal",Vv=h.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=h.useState(!1);Bt(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Y_.createPortal(o.jsx(he.div,{...r,ref:e}),a):null});Vv.displayName=HF;function qF(t){const e=KF(t),n=h.forwardRef((r,i)=>{const{children:s,...a}=r,l=h.Children.toArray(s),c=l.find(QF);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function KF(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const a=XF(i),l=YF(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var GF=Symbol("radix.slottable");function QF(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===GF}function YF(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function XF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Y1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JF="VisuallyHidden",ZF=h.forwardRef((t,e)=>o.jsx(he.span,{...t,ref:e,style:{...Y1,...t.style}}));ZF.displayName=JF;var eB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ro=new WeakMap,hu=new WeakMap,fu={},Lf=0,X1=function(t){return t&&(t.host||X1(t.parentNode))},tB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=X1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nB=function(t,e,n,r){var i=tB(e,Array.isArray(t)?t:[t]);fu[n]||(fu[n]=new WeakMap);var s=fu[n],a=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(v){if(l.has(v))d(v);else try{var S=v.getAttribute(r),y=S!==null&&S!=="false",g=(Ro.get(v)||0)+1,w=(s.get(v)||0)+1;Ro.set(v,g),s.set(v,w),a.push(v),g===1&&y&&hu.set(v,!0),w===1&&v.setAttribute(n,"true"),y||v.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",v,b)}})};return d(e),l.clear(),Lf++,function(){a.forEach(function(f){var v=Ro.get(f)-1,S=s.get(f)-1;Ro.set(f,v),s.set(f,S),v||(hu.has(f)||f.removeAttribute(r),hu.delete(f)),S||f.removeAttribute(n)}),Lf--,Lf||(Ro=new WeakMap,Ro=new WeakMap,hu=new WeakMap,fu={})}},J1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=eB(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),nB(r,i,n,"aria-hidden")):function(){return null}},_r=function(){return _r=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_r.apply(this,arguments)};function Z1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rB(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Uu="right-scroll-bar-position",zu="width-before-scroll-bar",iB="with-scroll-bars-hidden",sB="--removed-body-scroll-bar-size";function If(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function oB(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var aB=typeof window<"u"?h.useLayoutEffect:h.useEffect,e0=new WeakMap;function lB(t,e){var n=oB(null,function(r){return t.forEach(function(i){return If(i,r)})});return aB(function(){var r=e0.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||If(l,null)}),s.forEach(function(l){i.has(l)||If(l,a)})}e0.set(n,t)},[t]),n}function cB(t){return t}function uB(t,e){e===void 0&&(e=cB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function dB(t){t===void 0&&(t={});var e=uB(null);return e.options=_r({async:!0,ssr:!1},t),e}var eE=function(t){var e=t.sideCar,n=Z1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,_r({},n))};eE.isSideCarExport=!0;function hB(t,e){return t.useMedium(e),eE}var tE=dB(),Mf=function(){},jh=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:Mf,onWheelCapture:Mf,onTouchMoveCapture:Mf}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,v=t.sideCar,S=t.noRelative,y=t.noIsolation,g=t.inert,w=t.allowPinchZoom,b=t.as,p=b===void 0?"div":b,m=t.gapMode,x=Z1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=v,E=lB([n,e]),N=_r(_r({},x),i);return h.createElement(h.Fragment,null,d&&h.createElement(C,{sideCar:tE,removeScrollBar:u,shards:f,noRelative:S,noIsolation:y,inert:g,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:m}),a?h.cloneElement(h.Children.only(l),_r(_r({},N),{ref:E})):h.createElement(p,_r({},N,{className:c,ref:E}),l))});jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jh.classNames={fullWidth:zu,zeroRight:Uu};var fB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fB();return e&&t.setAttribute("nonce",e),t}function pB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=mB())&&(pB(e,n),gB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yB=function(){var t=vB();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},nE=function(){var t=yB(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},xB={left:0,top:0,right:0,gap:0},Ff=function(t){return parseInt(t||"",10)||0},bB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ff(n),Ff(r),Ff(i)]},wB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xB;var e=bB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},SB=nE(),ea="data-scroll-locked",CB=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(iB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ea,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(zu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Uu," .").concat(Uu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zu," .").concat(zu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ea,`] {
    `).concat(sB,": ").concat(l,`px;
  }
`)},t0=function(){var t=parseInt(document.body.getAttribute(ea)||"0",10);return isFinite(t)?t:0},NB=function(){h.useEffect(function(){return document.body.setAttribute(ea,(t0()+1).toString()),function(){var t=t0()-1;t<=0?document.body.removeAttribute(ea):document.body.setAttribute(ea,t.toString())}},[])},EB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;NB();var s=h.useMemo(function(){return wB(i)},[i]);return h.createElement(SB,{styles:CB(s,!e,i,n?"":"!important")})},Up=!1;if(typeof window<"u")try{var mu=Object.defineProperty({},"passive",{get:function(){return Up=!0,!0}});window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{Up=!1}var ko=Up?{passive:!1}:!1,AB=function(t){return t.tagName==="TEXTAREA"},rE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!AB(t)&&n[e]==="visible")},jB=function(t){return rE(t,"overflowY")},RB=function(t){return rE(t,"overflowX")},n0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=iE(t,r);if(i){var s=sE(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_B=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},iE=function(t,e){return t==="v"?jB(e):RB(e)},sE=function(t,e){return t==="v"?kB(e):_B(e)},TB=function(t,e){return t==="h"&&e==="rtl"?-1:1},PB=function(t,e,n,r,i){var s=TB(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,v=0;do{if(!l)break;var S=sE(t,l),y=S[0],g=S[1],w=S[2],b=g-w-s*y;(y||b)&&iE(t,l)&&(f+=b,v+=y);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(v)<1)&&(u=!0),u},pu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},r0=function(t){return[t.deltaX,t.deltaY]},i0=function(t){return t&&"current"in t?t.current:t},DB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},OB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},LB=0,_o=[];function IB(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(LB++)[0],s=h.useState(nE)[0],a=h.useRef(t);h.useEffect(function(){a.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=rB([t.lockRef.current],(t.shards||[]).map(i0),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var b=pu(g),p=n.current,m="deltaX"in g?g.deltaX:p[0]-b[0],x="deltaY"in g?g.deltaY:p[1]-b[1],C,E=g.target,N=Math.abs(m)>Math.abs(x)?"h":"v";if("touches"in g&&N==="h"&&E.type==="range")return!1;var A=window.getSelection(),k=A&&A.anchorNode,j=k?k===E||k.contains(E):!1;if(j)return!1;var R=n0(N,E);if(!R)return!0;if(R?C=N:(C=N==="v"?"h":"v",R=n0(N,E)),!R)return!1;if(!r.current&&"changedTouches"in g&&(m||x)&&(r.current=C),!C)return!0;var P=r.current||C;return PB(P,w,g,P==="h"?m:x)},[]),c=h.useCallback(function(g){var w=g;if(!(!_o.length||_o[_o.length-1]!==s)){var b="deltaY"in w?r0(w):pu(w),p=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&DB(C.delta,b)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var m=(a.current.shards||[]).map(i0).filter(Boolean).filter(function(C){return C.contains(w.target)}),x=m.length>0?l(w,m[0]):!a.current.noIsolation;x&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(g,w,b,p){var m={name:g,delta:w,target:b,should:p,shadowParent:MB(b)};e.current.push(m),setTimeout(function(){e.current=e.current.filter(function(x){return x!==m})},1)},[]),d=h.useCallback(function(g){n.current=pu(g),r.current=void 0},[]),f=h.useCallback(function(g){u(g.type,r0(g),g.target,l(g,t.lockRef.current))},[]),v=h.useCallback(function(g){u(g.type,pu(g),g.target,l(g,t.lockRef.current))},[]);h.useEffect(function(){return _o.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:v}),document.addEventListener("wheel",c,ko),document.addEventListener("touchmove",c,ko),document.addEventListener("touchstart",d,ko),function(){_o=_o.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,ko),document.removeEventListener("touchmove",c,ko),document.removeEventListener("touchstart",d,ko)}},[]);var S=t.removeScrollBar,y=t.inert;return h.createElement(h.Fragment,null,y?h.createElement(s,{styles:OB(i)}):null,S?h.createElement(EB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const FB=hB(tE,IB);var Hv=h.forwardRef(function(t,e){return h.createElement(jh,_r({},t,{ref:e,sideCar:FB}))});Hv.classNames=jh.classNames;var BB=[" ","Enter","ArrowUp","ArrowDown"],$B=[" ","Enter"],io="Select",[Rh,kh,UB]=Dv(io),[Ga]=vr(io,[UB,U1]),_h=U1(),[zB,ws]=Ga(io),[WB,VB]=Ga(io),oE=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:v,required:S,form:y}=t,g=_h(e),[w,b]=h.useState(null),[p,m]=h.useState(null),[x,C]=h.useState(!1),E=Sh(u),[N,A]=$r({prop:r,defaultProp:i??!1,onChange:s,caller:io}),[k,j]=$r({prop:a,defaultProp:l,onChange:c,caller:io}),R=h.useRef(null),P=w?y||!!w.closest("form"):!0,[M,B]=h.useState(new Set),Y=Array.from(M).map($=>$.props.value).join(";");return o.jsx(UF,{...g,children:o.jsxs(zB,{required:S,scope:e,trigger:w,onTriggerChange:b,valueNode:p,onValueNodeChange:m,valueNodeHasChildren:x,onValueNodeHasChildrenChange:C,contentId:Lr(),value:k,onValueChange:j,open:N,onOpenChange:A,dir:E,triggerPointerDownPosRef:R,disabled:v,children:[o.jsx(Rh.Provider,{scope:e,children:o.jsx(WB,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback($=>{B(G=>new Set(G).add($))},[]),onNativeOptionRemove:h.useCallback($=>{B(G=>{const O=new Set(G);return O.delete($),O})},[]),children:n})}),P?o.jsxs(_E,{"aria-hidden":!0,required:S,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:$=>j($.target.value),disabled:v,form:y,children:[k===void 0?o.jsx("option",{value:""}):null,Array.from(M)]},Y):null]})})};oE.displayName=io;var aE="SelectTrigger",lE=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=_h(n),a=ws(aE,n),l=a.disabled||r,c=$e(e,a.onTriggerChange),u=kh(n),d=h.useRef("touch"),[f,v,S]=PE(g=>{const w=u().filter(m=>!m.disabled),b=w.find(m=>m.value===a.value),p=DE(w,g,b);p!==void 0&&a.onValueChange(p.value)}),y=g=>{l||(a.onOpenChange(!0),S()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(zF,{asChild:!0,...s,children:o.jsx(he.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TE(a.value)?"":void 0,...i,ref:c,onClick:ve(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:ve(i.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ve(i.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&v(g.key),!(w&&g.key===" ")&&BB.includes(g.key)&&(y(),g.preventDefault())})})})});lE.displayName=aE;var cE="SelectValue",uE=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=t,c=ws(cE,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=$e(e,c.onValueNodeChange);return Bt(()=>{u(d)},[u,d]),o.jsx(he.span,{...l,ref:f,style:{pointerEvents:"none"},children:TE(c.value)?o.jsx(o.Fragment,{children:a}):s})});uE.displayName=cE;var HB="SelectIcon",dE=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return o.jsx(he.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});dE.displayName=HB;var qB="SelectPortal",hE=t=>o.jsx(Vv,{asChild:!0,...t});hE.displayName=qB;var so="SelectContent",fE=h.forwardRef((t,e)=>{const n=ws(so,t.__scopeSelect),[r,i]=h.useState();if(Bt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?lr.createPortal(o.jsx(mE,{scope:t.__scopeSelect,children:o.jsx(Rh.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),s):null}return o.jsx(pE,{...t,ref:e})});fE.displayName=so;var tr=10,[mE,Ss]=Ga(so),KB="SelectContentImpl",GB=qF("SelectContent.RemoveScroll"),pE=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:v,collisionPadding:S,sticky:y,hideWhenDetached:g,avoidCollisions:w,...b}=t,p=ws(so,n),[m,x]=h.useState(null),[C,E]=h.useState(null),N=$e(e,Q=>x(Q)),[A,k]=h.useState(null),[j,R]=h.useState(null),P=kh(n),[M,B]=h.useState(!1),Y=h.useRef(!1);h.useEffect(()=>{if(m)return J1(m)},[m]),A1();const $=h.useCallback(Q=>{const[me,...Le]=P().map(ce=>ce.ref.current),[J]=Le.slice(-1),xe=document.activeElement;for(const ce of Q)if(ce===xe||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===me&&C&&(C.scrollTop=0),ce===J&&C&&(C.scrollTop=C.scrollHeight),ce==null||ce.focus(),document.activeElement!==xe))return},[P,C]),G=h.useCallback(()=>$([A,m]),[$,A,m]);h.useEffect(()=>{M&&G()},[M,G]);const{onOpenChange:O,triggerPointerDownPosRef:L}=p;h.useEffect(()=>{if(m){let Q={x:0,y:0};const me=J=>{var xe,ce;Q={x:Math.abs(Math.round(J.pageX)-(((xe=L.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(J.pageY)-(((ce=L.current)==null?void 0:ce.y)??0))}},Le=J=>{Q.x<=10&&Q.y<=10?J.preventDefault():m.contains(J.target)||O(!1),document.removeEventListener("pointermove",me),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Le,{capture:!0})}}},[m,O,L]),h.useEffect(()=>{const Q=()=>O(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[O]);const[K,ee]=PE(Q=>{const me=P().filter(xe=>!xe.disabled),Le=me.find(xe=>xe.ref.current===document.activeElement),J=DE(me,Q,Le);J&&setTimeout(()=>J.ref.current.focus())}),V=h.useCallback((Q,me,Le)=>{const J=!Y.current&&!Le;(p.value!==void 0&&p.value===me||J)&&(k(Q),J&&(Y.current=!0))},[p.value]),Oe=h.useCallback(()=>m==null?void 0:m.focus(),[m]),se=h.useCallback((Q,me,Le)=>{const J=!Y.current&&!Le;(p.value!==void 0&&p.value===me||J)&&R(Q)},[p.value]),Xe=r==="popper"?zp:gE,ie=Xe===zp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:v,collisionPadding:S,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return o.jsx(mE,{scope:n,content:m,viewport:C,onViewportChange:E,itemRefCallback:V,selectedItem:A,onItemLeave:Oe,itemTextRefCallback:se,focusSelectedItem:G,selectedItemText:j,position:r,isPositioned:M,searchRef:K,children:o.jsx(Hv,{as:GB,allowPinchZoom:!0,children:o.jsx(Lv,{asChild:!0,trapped:p.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ve(i,Q=>{var me;(me=p.trigger)==null||me.focus({preventScroll:!0}),Q.preventDefault()}),children:o.jsx(Ov,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:o.jsx(Xe,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:Q=>Q.preventDefault(),...b,...ie,onPlaced:()=>B(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ve(b.onKeyDown,Q=>{const me=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!me&&Q.key.length===1&&ee(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let J=P().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const xe=Q.target,ce=J.indexOf(xe);J=J.slice(ce+1)}setTimeout(()=>$(J)),Q.preventDefault()}})})})})})})});pE.displayName=KB;var QB="SelectItemAlignedPosition",gE=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ws(so,n),a=Ss(so,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=$e(e,N=>d(N)),v=kh(n),S=h.useRef(!1),y=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:b,focusSelectedItem:p}=a,m=h.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&w&&b){const N=s.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),j=b.getBoundingClientRect();if(s.dir!=="rtl"){const xe=j.left-A.left,ce=k.left-xe,Me=N.left-ce,U=N.width+Me,oe=Math.max(U,A.width),Pe=window.innerWidth-tr,Je=Ob(ce,[tr,Math.max(tr,Pe-oe)]);l.style.minWidth=U+"px",l.style.left=Je+"px"}else{const xe=A.right-j.right,ce=window.innerWidth-k.right-xe,Me=window.innerWidth-N.right-ce,U=N.width+Me,oe=Math.max(U,A.width),Pe=window.innerWidth-tr,Je=Ob(ce,[tr,Math.max(tr,Pe-oe)]);l.style.minWidth=U+"px",l.style.right=Je+"px"}const R=v(),P=window.innerHeight-tr*2,M=g.scrollHeight,B=window.getComputedStyle(u),Y=parseInt(B.borderTopWidth,10),$=parseInt(B.paddingTop,10),G=parseInt(B.borderBottomWidth,10),O=parseInt(B.paddingBottom,10),L=Y+$+M+O+G,K=Math.min(w.offsetHeight*5,L),ee=window.getComputedStyle(g),V=parseInt(ee.paddingTop,10),Oe=parseInt(ee.paddingBottom,10),se=N.top+N.height/2-tr,Xe=P-se,ie=w.offsetHeight/2,Q=w.offsetTop+ie,me=Y+$+Q,Le=L-me;if(me<=se){const xe=R.length>0&&w===R[R.length-1].ref.current;l.style.bottom="0px";const ce=u.clientHeight-g.offsetTop-g.offsetHeight,Me=Math.max(Xe,ie+(xe?Oe:0)+ce+G),U=me+Me;l.style.height=U+"px"}else{const xe=R.length>0&&w===R[0].ref.current;l.style.top="0px";const Me=Math.max(se,Y+g.offsetTop+(xe?V:0)+ie)+Le;l.style.height=Me+"px",g.scrollTop=me-se+g.offsetTop}l.style.margin=`${tr}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[v,s.trigger,s.valueNode,l,u,g,w,b,s.dir,r]);Bt(()=>m(),[m]);const[x,C]=h.useState();Bt(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(N=>{N&&y.current===!0&&(m(),p==null||p(),y.current=!1)},[m,p]);return o.jsx(XB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:S,onScrollButtonChange:E,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:o.jsx(he.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});gE.displayName=QB;var YB="SelectPopperPosition",zp=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=tr,...s}=t,a=_h(n);return o.jsx(WF,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zp.displayName=YB;var[XB,qv]=Ga(so,{}),Wp="SelectViewport",vE=h.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ss(Wp,n),a=qv(Wp,n),l=$e(e,s.onViewportChange),c=h.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Rh.Slot,{scope:n,children:o.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ve(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:v}=a;if(v!=null&&v.current&&f){const S=Math.abs(c.current-d.scrollTop);if(S>0){const y=window.innerHeight-tr*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(g,w);if(b<y){const p=b+S,m=Math.min(y,p),x=p-m;f.style.height=m+"px",f.style.bottom==="0px"&&(d.scrollTop=x>0?x:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});vE.displayName=Wp;var yE="SelectGroup",[JB,ZB]=Ga(yE),e4=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Lr();return o.jsx(JB,{scope:n,id:i,children:o.jsx(he.div,{role:"group","aria-labelledby":i,...r,ref:e})})});e4.displayName=yE;var xE="SelectLabel",bE=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ZB(xE,n);return o.jsx(he.div,{id:i.id,...r,ref:e})});bE.displayName=xE;var Td="SelectItem",[t4,wE]=Ga(Td),SE=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,l=ws(Td,n),c=Ss(Td,n),u=l.value===r,[d,f]=h.useState(s??""),[v,S]=h.useState(!1),y=$e(e,p=>{var m;return(m=c.itemRefCallback)==null?void 0:m.call(c,p,r,i)}),g=Lr(),w=h.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(t4,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:h.useCallback(p=>{f(m=>m||((p==null?void 0:p.textContent)??"").trim())},[]),children:o.jsx(Rh.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:o.jsx(he.div,{role:"option","aria-labelledby":g,"data-highlighted":v?"":void 0,"aria-selected":u&&v,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:y,onFocus:ve(a.onFocus,()=>S(!0)),onBlur:ve(a.onBlur,()=>S(!1)),onClick:ve(a.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:ve(a.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:ve(a.onPointerDown,p=>{w.current=p.pointerType}),onPointerMove:ve(a.onPointerMove,p=>{var m;w.current=p.pointerType,i?(m=c.onItemLeave)==null||m.call(c):w.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(a.onPointerLeave,p=>{var m;p.currentTarget===document.activeElement&&((m=c.onItemLeave)==null||m.call(c))}),onKeyDown:ve(a.onKeyDown,p=>{var x;((x=c.searchRef)==null?void 0:x.current)!==""&&p.key===" "||($B.includes(p.key)&&b(),p.key===" "&&p.preventDefault())})})})})});SE.displayName=Td;var Cl="SelectItemText",CE=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=ws(Cl,n),l=Ss(Cl,n),c=wE(Cl,n),u=VB(Cl,n),[d,f]=h.useState(null),v=$e(e,b=>f(b),c.onItemTextChange,b=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,b,c.value,c.disabled)}),S=d==null?void 0:d.textContent,y=h.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:S},c.value),[c.disabled,c.value,S]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return Bt(()=>(g(y),()=>w(y)),[g,w,y]),o.jsxs(o.Fragment,{children:[o.jsx(he.span,{id:c.textId,...s,ref:v}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?lr.createPortal(s.children,a.valueNode):null]})});CE.displayName=Cl;var NE="SelectItemIndicator",EE=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return wE(NE,n).isSelected?o.jsx(he.span,{"aria-hidden":!0,...r,ref:e}):null});EE.displayName=NE;var Vp="SelectScrollUpButton",AE=h.forwardRef((t,e)=>{const n=Ss(Vp,t.__scopeSelect),r=qv(Vp,t.__scopeSelect),[i,s]=h.useState(!1),a=$e(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(RE,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});AE.displayName=Vp;var Hp="SelectScrollDownButton",jE=h.forwardRef((t,e)=>{const n=Ss(Hp,t.__scopeSelect),r=qv(Hp,t.__scopeSelect),[i,s]=h.useState(!1),a=$e(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(RE,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});jE.displayName=Hp;var RE=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ss("SelectScrollButton",n),a=h.useRef(null),l=kh(n),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Bt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(he.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ve(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ve(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ve(i.onPointerLeave,()=>{c()})})}),n4="SelectSeparator",kE=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(he.div,{"aria-hidden":!0,...r,ref:e})});kE.displayName=n4;var qp="SelectArrow",r4=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=_h(n),s=ws(qp,n),a=Ss(qp,n);return s.open&&a.position==="popper"?o.jsx(VF,{...i,...r,ref:e}):null});r4.displayName=qp;var i4="SelectBubbleInput",_E=h.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=h.useRef(null),s=$e(r,i),a=Tv(e);return h.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(he.select,{...n,style:{...Y1,...n.style},ref:s,defaultValue:e})});_E.displayName=i4;function TE(t){return t===""||t===void 0}function PE(t){const e=hs(t),n=h.useRef(""),r=h.useRef(0),i=h.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function DE(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=s4(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function s4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var o4=oE,OE=lE,a4=uE,l4=dE,c4=hE,LE=fE,u4=vE,IE=bE,ME=SE,d4=CE,h4=EE,FE=AE,BE=jE,$E=kE;const Vt=o4,Ht=a4,Lt=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(OE,{ref:r,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(l4,{asChild:!0,children:o.jsx(Nv,{className:"h-4 w-4 opacity-50"})})]}));Lt.displayName=OE.displayName;const UE=h.forwardRef(({className:t,...e},n)=>o.jsx(FE,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(U2,{className:"h-4 w-4"})}));UE.displayName=FE.displayName;const zE=h.forwardRef(({className:t,...e},n)=>o.jsx(BE,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Nv,{className:"h-4 w-4"})}));zE.displayName=BE.displayName;const It=h.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>o.jsx(c4,{children:o.jsxs(LE,{ref:i,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(UE,{}),o.jsx(u4,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(zE,{})]})}));It.displayName=LE.displayName;const f4=h.forwardRef(({className:t,...e},n)=>o.jsx(IE,{ref:n,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));f4.displayName=IE.displayName;const ne=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(ME,{ref:r,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(h4,{children:o.jsx(DN,{className:"h-4 w-4"})})}),o.jsx(d4,{children:e})]}));ne.displayName=ME.displayName;const m4=h.forwardRef(({className:t,...e},n)=>o.jsx($E,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",t),...e}));m4.displayName=$E.displayName;const p4={for_sale:"bg-green-500",sold:"bg-gray-500",reserved:"bg-orange-500"},g4={for_sale:"For Sale",sold:"Sold",reserved:"Reserved"},v4={active:"Active Property",development:"Development"};function y4({property:t,index:e,toAbsoluteUrl:n,SITE_URL:r,onToggleActive:i,onToggleHome:s,onDelete:a}){const{attributes:l,listeners:c,setNodeRef:u,transform:d,transition:f,isDragging:v}=p1({id:t.id}),S={transform:Aa.Transform.toString(d),transition:f,opacity:v?.5:1,width:"auto",height:"auto"};return o.jsx(ae,{ref:u,style:S,className:"overflow-hidden border border-dashed bg-white",children:o.jsxs("div",{className:"flex gap-3 items-center p-4",children:[o.jsxs("div",{...l,...c,className:"flex-shrink-0 text-muted-foreground cursor-grab active:cursor-grabbing",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["#",e+1]})]}),o.jsx("img",{src:n(t.cover_image_url),alt:t.title,className:"w-32 h-24 object-cover rounded-lg flex-shrink-0",onError:y=>{y.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="128" height="96"%3E%3Crect fill="%23ddd" width="128" height="96"/%3E%3C/svg%3E'}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Ip,{variant:"outline",className:"text-xs",children:v4[t.property_type]}),o.jsx(Ip,{className:`${p4[t.status]} text-xs`,children:g4[t.status]})]}),o.jsx("h3",{className:"font-semibold text-base line-clamp-1",children:t.title}),t.subtitle&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:t.subtitle}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[o.jsx($a,{className:"h-3 w-3 flex-shrink-0"}),o.jsxs("span",{className:"truncate",children:["/properties/",t.slug]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-2",children:[o.jsx("span",{className:"font-mono",children:t.property_id_reference}),o.jsx("span",{children:""}),o.jsxs("span",{className:"truncate",children:[t.city,", ",t.country]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Published"}),o.jsx(_t,{checked:!!t.is_active,onCheckedChange:y=>i(t,y),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle property active"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-xs ${t.is_active?"text-muted-foreground":"text-gray-400"}`,children:"Show in Home"}),o.jsx(_t,{checked:!!t.show_in_home,onCheckedChange:y=>s(t,y),disabled:!t.is_active,className:"data-[state=checked]:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Toggle show in home"})]}),o.jsx(F,{variant:"ghost",size:"sm",asChild:!0,title:"View on site",children:o.jsx("a",{href:`${r}/new/properties/${t.slug}`,target:"_blank",rel:"noopener noreferrer",children:o.jsx(z2,{className:"h-4 w-4"})})}),o.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(on,{to:`/properties/${t.id}`,children:[o.jsx(Ua,{className:"mr-1 h-4 w-4"}),"Edit"]})}),o.jsx(F,{variant:"destructive",size:"sm",onClick:()=>a(t.id),children:o.jsx(za,{className:"h-4 w-4"})})]})]})})]})})}function x4(){var Me;const t=Nn(),e={search:"",status:"all",type:"all",category:"all",furnishing:"all"},[n,r]=h.useState(e.search),[i,s]=h.useState(e.status),[a,l]=h.useState(e.type),[c,u]=h.useState(e.category),[d,f]=h.useState(e.furnishing),[v,S]=h.useState(e.search),[y,g]=h.useState(e.status),[w,b]=h.useState(e.type),[p,m]=h.useState(e.category),[x,C]=h.useState(e.furnishing),[E,N]=h.useState([]),[A,k]=h.useState(null),[j,R]=h.useState(!1),P=HN(Nd(vh),Nd(gh,{coordinateGetter:g1})),M=()=>{r(v),s(y),l(w),u(p),f(x)},B=()=>{S(e.search),g(e.status),b(e.type),m(e.category),C(e.furnishing),r(e.search),s(e.status),l(e.type),u(e.category),f(e.furnishing)},Y=U=>{U.key==="Enter"&&M()},$="/api",G="https://buywithdali.com",O=h.useMemo(()=>$.replace(/\/api$/,""),[$]),L=U=>{if(!U)return"";const oe=O||window.location.origin;return U.startsWith("http")?U:U.startsWith("/")?`${oe}${U}`:`${oe}/${U}`},K=h.useMemo(()=>{const U=new URLSearchParams;return n&&U.append("q",n),i!=="all"&&U.append("status",i),a!=="all"&&U.append("property_type",a),c!=="all"&&U.append("property_category",c),d!=="all"&&U.append("furnishing_status",d),U.append("is_active","all"),U.append("per_page","100"),U.toString()},[n,i,a,c,d]),ee=h.useMemo(()=>{let U=0;return n.trim()&&(U+=1),i!==e.status&&(U+=1),a!==e.type&&(U+=1),c!==e.category&&(U+=1),d!==e.furnishing&&(U+=1),U},[n,i,a,c,d,e]),{data:V,isLoading:Oe,refetch:se}=yt({queryKey:["properties",K],queryFn:async()=>{var ot;const U=await z.get(`/properties?${K}`),oe=((ot=U.data)==null?void 0:ot.data)??U.data??[],Pe=Array.isArray(oe==null?void 0:oe.properties)?oe.properties:Array.isArray(oe)?oe:[],Je=(oe==null?void 0:oe.pagination)??null;return{properties:Pe,pagination:Je}},refetchOnWindowFocus:!1});h.useEffect(()=>{const U=(V==null?void 0:V.properties)||[];if(U.length){const oe=[...U].sort((Pe,Je)=>(Pe.order||0)-(Je.order||0));N(oe)}else N([])},[V]),h.useEffect(()=>{if(Oe){R(!1);return}const U=setTimeout(()=>R(!0),600);return()=>clearTimeout(U)},[Oe,n]);const Xe=async U=>{const{active:oe,over:Pe}=U;if(!Pe||oe.id===Pe.id)return;const Je=E.findIndex(He=>He.id===oe.id),ot=E.findIndex(He=>He.id===Pe.id),Ee=bh(E,Je,ot).map((He,Pt)=>({...He,order:Pt+1}));N(Ee);try{const He={order:Ee.map((In,wr)=>({id:In.id,display_order:wr+1}))};console.log("Reorder payload:",He);const Pt=await z.post("/properties/reorder",He);console.log("Reorder response:",Pt.data),t.invalidateQueries({queryKey:["properties"]})}catch(He){console.error("Failed to reorder properties:",He),se()}},[ie,Q]=h.useState(null),me=async(U,oe)=>{var Je,ot,Fe;const Pe={is_active:oe};!oe&&U.show_in_home&&(Pe.show_in_home=0),N(Ee=>Ee.map(He=>He.id===U.id?{...He,is_active:oe,...Pe.show_in_home!==void 0?{show_in_home:!1}:{}}:He));try{const Ee=await z.put(`/properties/${U.id}`,Pe);if(((Je=Ee.data)==null?void 0:Je.success)===!1)throw new Error(Ee.data.error||"Failed to update");t.invalidateQueries({queryKey:["properties"]})}catch(Ee){console.error("Failed to update is_active",Ee);const He=((Fe=(ot=Ee==null?void 0:Ee.response)==null?void 0:ot.data)==null?void 0:Fe.error)||(Ee==null?void 0:Ee.message)||"Failed to update property";Q(He),setTimeout(()=>Q(null),5e3),N(Pt=>Pt.map(In=>In.id===U.id?{...In,is_active:!oe,...Pe.show_in_home!==void 0?{show_in_home:!0}:{}}:In))}},Le=async(U,oe)=>{var Pe,Je,ot;if(oe&&!U.is_active){Q("Cannot show in home: property must be published first"),setTimeout(()=>Q(null),3e3);return}N(Fe=>Fe.map(Ee=>Ee.id===U.id?{...Ee,show_in_home:oe}:Ee));try{const Fe=await z.put(`/properties/${U.id}`,{show_in_home:oe?1:0});if(((Pe=Fe.data)==null?void 0:Pe.success)===!1)throw new Error(Fe.data.error||"Failed to update");t.invalidateQueries({queryKey:["properties"]})}catch(Fe){console.error("Failed to update show_in_home",Fe);const Ee=((ot=(Je=Fe==null?void 0:Fe.response)==null?void 0:Je.data)==null?void 0:ot.error)||(Fe==null?void 0:Fe.message)||"Failed to update property";Q(Ee),setTimeout(()=>Q(null),5e3),N(He=>He.map(Pt=>Pt.id===U.id?{...Pt,show_in_home:!oe}:Pt))}},J=Ye({mutationFn:async U=>z.delete(`/properties/${U}`),onSuccess:()=>{k(null),t.invalidateQueries({queryKey:["properties"]}),se()}}),xe=()=>{A&&J.mutate(A)};return Oe||!j?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Properties"}),o.jsx(F,{asChild:!0,children:o.jsxs(on,{to:"/properties/new",children:[o.jsx(_n,{className:"mr-2 h-4 w-4"}),"New Property"]})})]}),o.jsx("div",{className:"grid gap-4",children:[1,2,3].map(U=>o.jsxs(ae,{className:"animate-pulse",children:[o.jsx(Ve,{children:o.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"})]})})]},U))})]}):o.jsxs("div",{className:"space-y-6",children:[ie&&o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[o.jsx("strong",{className:"font-bold",children:"Error: "}),o.jsx("span",{children:ie}),o.jsx("button",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>Q(null),children:""})]}),o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Properties"}),o.jsxs("p",{className:"text-muted-foreground",children:[((Me=V==null?void 0:V.pagination)==null?void 0:Me.total)??E.length??0," total properties"]}),ee>0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[ee," filter",ee>1?"s":""," applied"]})]}),o.jsx(F,{asChild:!0,children:o.jsxs(on,{to:"/properties/new",children:[o.jsx(_n,{className:"mr-2 h-4 w-4"}),"New Property"]})})]}),o.jsx(ae,{className:"mt-4",children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx(q,{placeholder:"Search by title, city, country, tags...",value:v,onChange:U=>S(U.target.value),onKeyDown:Y,className:"flex-1 min-w-[280px]"}),o.jsxs(Vt,{value:y,onValueChange:g,children:[o.jsx(Lt,{className:"w-[140px]",children:o.jsx(Ht,{placeholder:"Status"})}),o.jsxs(It,{children:[o.jsx(ne,{value:"all",children:"All Status"}),o.jsx(ne,{value:"for_sale",children:"For Sale"}),o.jsx(ne,{value:"sold",children:"Sold"}),o.jsx(ne,{value:"reserved",children:"Reserved"})]})]}),o.jsxs(Vt,{value:w,onValueChange:b,children:[o.jsx(Lt,{className:"w-[140px]",children:o.jsx(Ht,{placeholder:"Type"})}),o.jsxs(It,{children:[o.jsx(ne,{value:"all",children:"All Types"}),o.jsx(ne,{value:"active",children:"Active"}),o.jsx(ne,{value:"development",children:"Development"})]})]}),o.jsxs(Vt,{value:p,onValueChange:m,children:[o.jsx(Lt,{className:"w-[140px]",children:o.jsx(Ht,{placeholder:"Category"})}),o.jsxs(It,{children:[o.jsx(ne,{value:"all",children:"All Categories"}),o.jsx(ne,{value:"apartment",children:"Apartment"}),o.jsx(ne,{value:"villa",children:"Villa"}),o.jsx(ne,{value:"penthouse",children:"Penthouse"}),o.jsx(ne,{value:"townhouse",children:"Townhouse"}),o.jsx(ne,{value:"land",children:"Land"}),o.jsx(ne,{value:"commercial",children:"Commercial"})]})]}),o.jsxs(Vt,{value:x,onValueChange:C,children:[o.jsx(Lt,{className:"w-[140px]",children:o.jsx(Ht,{placeholder:"Furnishing"})}),o.jsxs(It,{children:[o.jsx(ne,{value:"all",children:"All Furnishing"}),o.jsx(ne,{value:"furnished",children:"Furnished"}),o.jsx(ne,{value:"semi-furnished",children:"Semi-Furnished"}),o.jsx(ne,{value:"unfurnished",children:"Unfurnished"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsxs(F,{onClick:M,size:"sm",children:[o.jsx(BN,{className:"mr-2 h-4 w-4"}),"Search"]}),o.jsxs(F,{onClick:B,variant:"outline",size:"sm",children:[o.jsx(MN,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})})}),E.length===0?o.jsx(ae,{children:o.jsx(le,{className:"flex flex-col items-center justify-center py-16",children:o.jsx("p",{className:"text-muted-foreground",children:"No properties found"})})}):o.jsx(l1,{sensors:P,collisionDetection:QN,onDragEnd:Xe,children:o.jsx(f1,{items:E.map(U=>U.id),strategy:u1,children:o.jsx("div",{className:"grid gap-4",children:E.map((U,oe)=>o.jsx(y4,{property:U,index:oe,toAbsoluteUrl:L,SITE_URL:G,onToggleActive:me,onToggleHome:Le,onDelete:k},U.id))})})}),A&&o.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Delete property?"}),o.jsx("p",{className:"text-muted-foreground",children:"Are you sure? This action cannot be undone. All photos and data will be permanently deleted."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(F,{variant:"outline",onClick:()=>k(null),children:"Cancel"}),o.jsx(F,{variant:"destructive",onClick:xe,disabled:J.isPending,children:J.isPending?"Deleting...":"Delete"})]})]})})]})}const dt=h.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));dt.displayName="Textarea";var Bf="rovingFocusGroup.onEntryFocus",b4={bubbles:!1,cancelable:!0},Bc="RovingFocusGroup",[Kp,WE,w4]=Dv(Bc),[S4,VE]=vr(Bc,[w4]),[C4,N4]=S4(Bc),HE=h.forwardRef((t,e)=>o.jsx(Kp.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Kp.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(E4,{...t,ref:e})})}));HE.displayName=Bc;var E4=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,v=h.useRef(null),S=$e(e,v),y=Sh(s),[g,w]=$r({prop:a,defaultProp:l??null,onChange:c,caller:Bc}),[b,p]=h.useState(!1),m=hs(u),x=WE(n),C=h.useRef(!1),[E,N]=h.useState(0);return h.useEffect(()=>{const A=v.current;if(A)return A.addEventListener(Bf,m),()=>A.removeEventListener(Bf,m)},[m]),o.jsx(C4,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:h.useCallback(A=>w(A),[w]),onItemShiftTab:h.useCallback(()=>p(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(A=>A+1),[]),onFocusableItemRemove:h.useCallback(()=>N(A=>A-1),[]),children:o.jsx(he.div,{tabIndex:b||E===0?-1:0,"data-orientation":r,...f,ref:S,style:{outline:"none",...t.style},onMouseDown:ve(t.onMouseDown,()=>{C.current=!0}),onFocus:ve(t.onFocus,A=>{const k=!C.current;if(A.target===A.currentTarget&&k&&!b){const j=new CustomEvent(Bf,b4);if(A.currentTarget.dispatchEvent(j),!j.defaultPrevented){const R=x().filter($=>$.focusable),P=R.find($=>$.active),M=R.find($=>$.id===g),Y=[P,M,...R].filter(Boolean).map($=>$.ref.current);GE(Y,d)}}C.current=!1}),onBlur:ve(t.onBlur,()=>p(!1))})})}),qE="RovingFocusGroupItem",KE=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,c=Lr(),u=s||c,d=N4(qE,n),f=d.currentTabStopId===u,v=WE(n),{onFocusableItemAdd:S,onFocusableItemRemove:y,currentTabStopId:g}=d;return h.useEffect(()=>{if(r)return S(),()=>y()},[r,S,y]),o.jsx(Kp.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:o.jsx(he.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:ve(t.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:ve(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ve(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=R4(w,d.orientation,d.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let m=v().filter(x=>x.focusable).map(x=>x.ref.current);if(b==="last")m.reverse();else if(b==="prev"||b==="next"){b==="prev"&&m.reverse();const x=m.indexOf(w.currentTarget);m=d.loop?k4(m,x+1):m.slice(x+1)}setTimeout(()=>GE(m))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:g!=null}):a})})});KE.displayName=qE;var A4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function R4(t,e,n){const r=j4(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return A4[r]}function GE(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function k4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _4=HE,T4=KE;function P4(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var vo=t=>{const{present:e,children:n}=t,r=D4(e),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),s=$e(r.ref,O4(i));return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:s}):null};vo.displayName="Presence";function D4(t){const[e,n]=h.useState(),r=h.useRef(null),i=h.useRef(t),s=h.useRef("none"),a=t?"mounted":"unmounted",[l,c]=P4(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=gu(r.current);s.current=l==="mounted"?u:"none"},[l]),Bt(()=>{const u=r.current,d=i.current;if(d!==t){const v=s.current,S=gu(u);t?c("MOUNT"):S==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&v!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Bt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=S=>{const g=gu(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&g&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},v=S=>{S.target===e&&(s.current=gu(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function gu(t){return(t==null?void 0:t.animationName)||"none"}function O4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Th="Tabs",[L4]=vr(Th,[VE]),QE=VE(),[I4,Kv]=L4(Th),YE=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Sh(l),[f,v]=$r({prop:r,onChange:i,defaultProp:s??"",caller:Th});return o.jsx(I4,{scope:n,baseId:Lr(),value:f,onValueChange:v,orientation:a,dir:d,activationMode:c,children:o.jsx(he.div,{dir:d,"data-orientation":a,...u,ref:e})})});YE.displayName=Th;var XE="TabsList",JE=h.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=Kv(XE,n),a=QE(n);return o.jsx(_4,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(he.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});JE.displayName=XE;var ZE="TabsTrigger",eA=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=Kv(ZE,n),l=QE(n),c=rA(a.baseId,r),u=iA(a.baseId,r),d=r===a.value;return o.jsx(T4,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(he.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:ve(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ve(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ve(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});eA.displayName=ZE;var tA="TabsContent",nA=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,l=Kv(tA,n),c=rA(l.baseId,r),u=iA(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const v=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(v)},[]),o.jsx(vo,{present:i||d,children:({present:v})=>o.jsx(he.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!v,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:v&&s})})});nA.displayName=tA;function rA(t,e){return`${t}-trigger-${e}`}function iA(t,e){return`${t}-content-${e}`}var M4=YE,sA=JE,oA=eA,aA=nA;const F4=M4,lA=h.forwardRef(({className:t,...e},n)=>o.jsx(sA,{ref:n,className:ye("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));lA.displayName=sA.displayName;const Yr=h.forwardRef(({className:t,...e},n)=>o.jsx(oA,{ref:n,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Yr.displayName=oA.displayName;const Xr=h.forwardRef(({className:t,...e},n)=>o.jsx(aA,{ref:n,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Xr.displayName=aA.displayName;var B4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$4=B4.reduce((t,e)=>{const n=CN(`Primitive.${e}`),r=h.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),U4="Label",cA=h.forwardRef((t,e)=>o.jsx($4.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cA.displayName=U4;var uA=cA;const z4=fh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=h.forwardRef(({className:t,...e},n)=>o.jsx(uA,{ref:n,className:ye(z4(),t),...e}));Z.displayName=uA.displayName;var W4="2.1.16";const Ks="[data-trix-attachment]",Gv={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},an={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(t){return s0(t.parentNode)===an[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(t){return s0(t.parentNode)===an[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},s0=t=>{var e;return t==null||(e=t.tagName)===null||e===void 0?void 0:e.toLowerCase()},o0=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),$f=o0&&parseInt(o0[1]);var $c={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:$f&&$f>12,samsungAndroid:$f&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(t=>t in InputEvent.prototype)},dA={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},ue={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const V4=[ue.bytes,ue.KB,ue.MB,ue.GB,ue.TB,ue.PB];var hA={prefix:"IEC",precision:2,formatter(t){switch(t){case 0:return"0 ".concat(ue.bytes);case 1:return"1 ".concat(ue.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);const n=Math.floor(Math.log(t)/Math.log(e)),r=(t/Math.pow(e,n)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(r," ").concat(V4[n])}}};const Ph="\uFEFF",$i="",fA=function(t){for(const e in t){const n=t[e];this[e]=n}return this},Qv=document.documentElement,H4=Qv.matches,nt=function(t){let{onElement:e,matchingSelector:n,withCallback:r,inPhase:i,preventDefault:s,times:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=e||Qv,c=n,u=i==="capturing",d=function(f){a!=null&&--a==0&&d.destroy();const v=ps(f.target,{matchingSelector:c});v!=null&&(r==null||r.call(v,f,v),s&&f.preventDefault())};return d.destroy=()=>l.removeEventListener(t,d,u),l.addEventListener(t,d,u),d},mA=function(t){let{bubbles:e,cancelable:n,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e=e!==!1,n=n!==!1;const i=document.createEvent("Events");return i.initEvent(t,e,n),r!=null&&fA.call(i,r),i},Ml=function(t){let{onElement:e,bubbles:n,cancelable:r,attributes:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=e??Qv,a=mA(t,{bubbles:n,cancelable:r,attributes:i});return s.dispatchEvent(a)},pA=function(t,e){if((t==null?void 0:t.nodeType)===1)return H4.call(t,e)},ps=function(t){let{matchingSelector:e,untilNode:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(t!=null){if(e==null)return t;if(t.closest&&n==null)return t.closest(e);for(;t&&t!==n;){if(pA(t,e))return t;t=t.parentNode}}},Yv=t=>document.activeElement!==t&&Os(t,document.activeElement),Os=function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},Uf=function(t){var e;if((e=t)===null||e===void 0||!e.parentNode)return;let n=0;for(t=t.previousSibling;t;)n++,t=t.previousSibling;return n},gs=t=>{var e;return t==null||(e=t.parentNode)===null||e===void 0?void 0:e.removeChild(t)},Pd=function(t){let{onlyNodesOfType:e,usingFilter:n,expandEntityReferences:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(t,i,n??null,r===!0)},sn=t=>{var e;return t==null||(e=t.tagName)===null||e===void 0?void 0:e.toLowerCase()},be=function(t){let e,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof t=="object"?(r=t,t=r.tagName):r={attributes:r};const i=document.createElement(t);if(r.editable!=null&&(r.attributes==null&&(r.attributes={}),r.attributes.contenteditable=r.editable),r.attributes)for(e in r.attributes)n=r.attributes[e],i.setAttribute(e,n);if(r.style)for(e in r.style)n=r.style[e],i.style[e]=n;if(r.data)for(e in r.data)n=r.data[e],i.dataset[e]=n;return r.className&&r.className.split(" ").forEach(s=>{i.classList.add(s)}),r.textContent&&(i.textContent=r.textContent),r.childNodes&&[].concat(r.childNodes).forEach(s=>{i.appendChild(s)}),i};let cl;const Fl=function(){if(cl!=null)return cl;cl=[];for(const t in an){const e=an[t];e.tagName&&cl.push(e.tagName)}return cl},zf=t=>ta(t==null?void 0:t.firstChild),a0=function(t){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?ta(t):ta(t)||!ta(t.firstChild)&&function(n){return Fl().includes(sn(n))&&!Fl().includes(sn(n.firstChild))}(t)},ta=t=>q4(t)&&(t==null?void 0:t.data)==="block",q4=t=>(t==null?void 0:t.nodeType)===Node.COMMENT_NODE,na=function(t){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t)return Bl(t)?t.data===Ph?!e||t.parentNode.dataset.trixCursorTarget===e:void 0:na(t.firstChild)},Gs=t=>pA(t,Ks),gA=t=>Bl(t)&&(t==null?void 0:t.data)==="",Bl=t=>(t==null?void 0:t.nodeType)===Node.TEXT_NODE,Xv={level2Enabled:!0,getLevel(){return this.level2Enabled&&$c.supportsInputEvents?2:0},pickFiles(t){const e=be("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{t(e.files),gs(e)}),gs(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var Wu={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},oo={bold:{tagName:"strong",inheritable:!0,parser(t){const e=window.getComputedStyle(t);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:t=>window.getComputedStyle(t).fontStyle==="italic"},href:{groupTagName:"a",parser(t){const e="a:not(".concat(Ks,")"),n=t.closest(e);if(n)return n.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},vA={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(ue.bold,'" tabindex="-1">').concat(ue.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(ue.italic,'" tabindex="-1">').concat(ue.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(ue.strike,'" tabindex="-1">').concat(ue.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(ue.link,'" tabindex="-1">').concat(ue.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(ue.heading1,'" tabindex="-1">').concat(ue.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(ue.quote,'" tabindex="-1">').concat(ue.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(ue.code,'" tabindex="-1">').concat(ue.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(ue.bullets,'" tabindex="-1">').concat(ue.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(ue.numbers,'" tabindex="-1">').concat(ue.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(ue.outdent,'" tabindex="-1">').concat(ue.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(ue.indent,'" tabindex="-1">').concat(ue.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(ue.attachFiles,'" tabindex="-1">').concat(ue.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(ue.undo,'" tabindex="-1">').concat(ue.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(ue.redo,'" tabindex="-1">').concat(ue.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(ue.urlPlaceholder,'" aria-label="').concat(ue.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(ue.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(ue.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const Gp={interval:5e3};var Uc=Object.freeze({__proto__:null,attachments:Gv,blockAttributes:an,browser:$c,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:dA,fileSize:hA,input:Xv,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:ue,parser:Wu,textAttributes:oo,toolbar:vA,undo:Gp});class xt{static proxyMethod(e){const{name:n,toMethod:r,toProperty:i,optional:s}=K4(e);this.prototype[n]=function(){let a,l;var c,u;return r?l=s?(c=this[r])===null||c===void 0?void 0:c.call(this):this[r]():i&&(l=this[i]),s?(a=(u=l)===null||u===void 0?void 0:u[n],a?l0.call(a,l,arguments):void 0):(a=l[n],l0.call(a,l,arguments))}}}const K4=function(t){const e=t.match(G4);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(t));const n={name:e[4]};return e[2]!=null?n.toMethod=e[1]:n.toProperty=e[1],e[3]!=null&&(n.optional=!0),n},{apply:l0}=Function.prototype,G4=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Wf,Vf,Hf;class vc extends xt{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e==null?void 0:e.toString())}static fromUCS2String(e){return new this(e,Qp(e))}static fromCodepoints(e){return new this(Yp(e),e)}constructor(e,n){super(...arguments),this.ucs2String=e,this.codepoints=n,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return Yp(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return Qp(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Q4=((Wf=Array.from)===null||Wf===void 0?void 0:Wf.call(Array,"").length)===1,Y4=((Vf=" ".codePointAt)===null||Vf===void 0?void 0:Vf.call(" ",0))!=null,X4=((Hf=String.fromCodePoint)===null||Hf===void 0?void 0:Hf.call(String,32,128124))===" ";let Qp,Yp;Qp=Q4&&Y4?t=>Array.from(t).map(e=>e.codePointAt(0)):function(t){const e=[];let n=0;const{length:r}=t;for(;n<r;){let i=t.charCodeAt(n++);if(55296<=i&&i<=56319&&n<r){const s=t.charCodeAt(n++);(64512&s)==56320?i=((1023&i)<<10)+(1023&s)+65536:n--}e.push(i)}return e},Yp=X4?t=>String.fromCodePoint(...Array.from(t||[])):function(t){return(()=>{const e=[];return Array.from(t).forEach(n=>{let r="";n>65535&&(n-=65536,r+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),e.push(r+String.fromCharCode(n))}),e})().join("")};let J4=0;class yo extends xt{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++J4}hasSameConstructorAs(e){return this.constructor===(e==null?void 0:e.constructor)}isEqualTo(e){return this===e}inspect(){const e=[],n=this.contentsForInspection()||{};for(const r in n){const i=n[r];e.push("".concat(r,"=").concat(i))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return vc.box(this)}getCacheKey(){return this.id.toString()}}const ao=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Jv=function(t){const e=t.slice(0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.splice(...r),e},Z4=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,e3=function(){const t=be("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=be("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),n=be("form");n.appendChild(t),n.appendChild(e);const r=function(){try{return new FormData(n).has(e.dirName)}catch{return!1}}(),i=function(){try{return t.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return r?function(s){return e.value=s,new FormData(n).get(e.dirName)}:i?function(s){return t.value=s,t.matches(":dir(rtl)")?"rtl":"ltr"}:function(s){const a=s.trim().charAt(0);return Z4.test(a)?"rtl":"ltr"}}();let qf=null,Kf=null,Gf=null,vu=null;const Xp=()=>(qf||(qf=n3().concat(t3())),qf),ht=t=>an[t],t3=()=>(Kf||(Kf=Object.keys(an)),Kf),Jp=t=>oo[t],n3=()=>(Gf||(Gf=Object.keys(oo)),Gf),yA=function(t,e){r3(t).textContent=e.replace(/%t/g,t)},r3=function(t){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase());const n=i3();return n&&e.setAttribute("nonce",n),document.head.insertBefore(e,document.head.firstChild),e},i3=function(){const t=c0("trix-csp-nonce")||c0("csp-nonce");if(t){const{nonce:e,content:n}=t;return e==""?n:e}},c0=t=>document.head.querySelector("meta[name=".concat(t,"]")),u0={"application/x-trix-feature-detection":"test"},xA=function(t){const e=t.getData("text/plain"),n=t.getData("text/html");if(!e||!n)return e==null?void 0:e.length;{const{body:r}=new DOMParser().parseFromString(n,"text/html");if(r.textContent===e)return!r.querySelector("*")}},bA=/Mac|^iP/.test(navigator.platform)?t=>t.metaKey:t=>t.ctrlKey,Zv=t=>setTimeout(t,1),wA=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={};for(const n in t){const r=t[n];e[n]=r}return e},Qa=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0},Ue=function(t){if(t!=null)return Array.isArray(t)||(t=[t,t]),[d0(t[0]),d0(t[1]!=null?t[1]:t[0])]},ci=function(t){if(t==null)return;const[e,n]=Ue(t);return Zp(e,n)},Dd=function(t,e){if(t==null||e==null)return;const[n,r]=Ue(t),[i,s]=Ue(e);return Zp(n,i)&&Zp(r,s)},d0=function(t){return typeof t=="number"?t:wA(t)},Zp=function(t,e){return typeof t=="number"?t===e:Qa(t,e)};class SA extends xt{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(n=>n!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const lo=new SA,CA=function(){const t=window.getSelection();if(t.rangeCount>0)return t},$l=function(){var t;const e=(t=CA())===null||t===void 0?void 0:t.getRangeAt(0);if(e&&!s3(e))return e},NA=function(t){const e=window.getSelection();return e.removeAllRanges(),e.addRange(t),lo.update()},s3=t=>h0(t.startContainer)||h0(t.endContainer),h0=t=>!Object.getPrototypeOf(t),Nl=t=>t.replace(new RegExp("".concat(Ph),"g"),"").replace(new RegExp("".concat($i),"g")," "),ey=new RegExp("[^\\S".concat($i,"]")),ty=t=>t.replace(new RegExp("".concat(ey.source),"g")," ").replace(/\ {2,}/g," "),f0=function(t,e){if(t.isEqualTo(e))return["",""];const n=Qf(t,e),{length:r}=n.utf16String;let i;if(r){const{offset:s}=n,a=t.codepoints.slice(0,s).concat(t.codepoints.slice(s+r));i=Qf(e,vc.fromCodepoints(a))}else i=Qf(e,t);return[n.utf16String.toString(),i.utf16String.toString()]},Qf=function(t,e){let n=0,r=t.length,i=e.length;for(;n<r&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;r>n+1&&t.charAt(r-1).isEqualTo(e.charAt(i-1));)r--,i--;return{utf16String:t.slice(n,r),offset:n}};class Pn extends yo{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let n=ul(e[0]),r=n.getKeys();return e.slice(1).forEach(i=>{r=n.getKeysCommonToHash(ul(i)),n=n.slice(r)}),n}static box(e){return ul(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=Vu(e)}add(e,n){return this.merge(o3(e,n))}remove(e){return new Pn(Vu(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new Pn(a3(this.values,l3(e)))}slice(e){const n={};return Array.from(e).forEach(r=>{this.has(r)&&(n[r]=this.values[r])}),new Pn(n)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=ul(e),this.getKeys().filter(n=>this.values[n]===e.values[n])}isEqualTo(e){return ao(this.toArray(),ul(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const e=[];for(const n in this.values){const r=this.values[n];e.push(e.push(n,r))}this.array=e.slice(0)}return this.array}toObject(){return Vu(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const o3=function(t,e){const n={};return n[t]=e,n},a3=function(t,e){const n=Vu(t);for(const r in e){const i=e[r];n[r]=i}return n},Vu=function(t,e){const n={};return Object.keys(t).sort().forEach(r=>{r!==e&&(n[r]=t[r])}),n},ul=function(t){return t instanceof Pn?t:new Pn(t)},l3=function(t){return t instanceof Pn?t.values:t};class ny{static groupObjects(){let e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:r,asTree:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i&&r==null&&(r=0);const s=[];return Array.from(n).forEach(a=>{var l;if(e){var c,u,d;if((c=a.canBeGrouped)!==null&&c!==void 0&&c.call(a,r)&&(u=(d=e[e.length-1]).canBeGroupedWith)!==null&&u!==void 0&&u.call(d,a,r))return void e.push(a);s.push(new this(e,{depth:r,asTree:i})),e=null}(l=a.canBeGrouped)!==null&&l!==void 0&&l.call(a,r)?e=[a]:s.push(a)}),e&&s.push(new this(e,{depth:r,asTree:i})),s}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:n,asTree:r}=arguments.length>1?arguments[1]:void 0;this.objects=e,r&&(this.depth=n,this.objects=this.constructor.groupObjects(this.objects,{asTree:r,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const e=["objectGroup"];return Array.from(this.getObjects()).forEach(n=>{e.push(n.getCacheKey())}),e.join("/")}}class c3 extends xt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(n=>{const r=JSON.stringify(n);this.objects[r]==null&&(this.objects[r]=n)})}find(e){const n=JSON.stringify(e);return this.objects[n]}}class u3{constructor(e){this.reset(e)}add(e){const n=m0(e);this.elements[n]=e}remove(e){const n=m0(e),r=this.elements[n];if(r)return delete this.elements[n],r}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(n=>{this.add(n)}),e}}const m0=t=>t.dataset.trixStoreKey;class Od extends xt{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,n)=>(this.performing=!0,this.perform((r,i)=>{this.succeeded=r,this.performing=!1,this.performed=!0,this.succeeded?e(i):n(i)})))),this.promise}perform(e){return e(!1)}release(){var e,n;(e=this.promise)===null||e===void 0||(n=e.cancel)===null||n===void 0||n.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}Od.proxyMethod("getPromise().then"),Od.proxyMethod("getPromise().catch");class xo extends xt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=n,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var n;return(n=this.findViewForObject(e))===null||n===void 0?void 0:n.invalidate()}findOrCreateCachedChildView(e,n,r){let i=this.getCachedViewForObject(n);return i?this.recordChildView(i):(i=this.createChildView(...arguments),this.cacheViewForObject(i,n)),i}createChildView(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n instanceof ny&&(r.viewClass=e,e=d3);const i=new e(n,r);return this.recordChildView(i)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(n=>{e.push(n),e=e.concat(n.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){const n=e==null?void 0:e.id;if(n)return this.rootView.element.querySelector("[data-trix-id='".concat(n,"']"))}findViewForObject(e){for(const n of this.getAllChildViews())if(n.object===e)return n}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var n;return(n=this.getViewCache())===null||n===void 0?void 0:n[e.getCacheKey()]}cacheViewForObject(e,n){const r=this.getViewCache();r&&(r[n.getCacheKey()]=e)}garbageCollectCachedViews(){const e=this.getViewCache();if(e){const n=this.getAllChildViews().concat(this).map(r=>r.object.getCacheKey());for(const r in e)n.includes(r)||delete e[r]}}}class d3 extends xo{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){const e=this.createContainerElement();return this.getChildViews().forEach(n=>{Array.from(n.getNodes()).forEach(r=>{e.appendChild(r)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:EA,setPrototypeOf:p0,isFrozen:h3,getPrototypeOf:f3,getOwnPropertyDescriptor:m3}=Object;let{freeze:cn,seal:Gn,create:AA}=Object,{apply:eg,construct:tg}=typeof Reflect<"u"&&Reflect;cn||(cn=function(t){return t}),Gn||(Gn=function(t){return t}),eg||(eg=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t.apply(e,r)}),tg||(tg=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new t(...n)});const yu=un(Array.prototype.forEach),p3=un(Array.prototype.lastIndexOf),g0=un(Array.prototype.pop),dl=un(Array.prototype.push),g3=un(Array.prototype.splice),Hu=un(String.prototype.toLowerCase),Yf=un(String.prototype.toString),Xf=un(String.prototype.match),hl=un(String.prototype.replace),v3=un(String.prototype.indexOf),y3=un(String.prototype.trim),nr=un(Object.prototype.hasOwnProperty),Zt=un(RegExp.prototype.test),fl=(v0=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return tg(v0,e)});var v0;function un(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return eg(t,e,r)}}function we(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hu;p0&&p0(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(h3(e)||(e[r]=s),i=s)}t[i]=!0}return t}function x3(t){for(let e=0;e<t.length;e++)nr(t,e)||(t[e]=null);return t}function Jr(t){const e=AA(null);for(const[n,r]of EA(t))nr(t,n)&&(Array.isArray(r)?e[n]=x3(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Jr(r):e[n]=r);return e}function ml(t,e){for(;t!==null;){const n=m3(t,e);if(n){if(n.get)return un(n.get);if(typeof n.value=="function")return un(n.value)}t=f3(t)}return function(){return null}}const y0=cn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jf=cn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Zf=cn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),b3=cn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),em=cn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),w3=cn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),x0=cn(["#text"]),b0=cn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),tm=cn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),w0=cn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xu=cn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),S3=Gn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),C3=Gn(/<%[\w\W]*|[\w\W]*%>/gm),N3=Gn(/\$\{[\w\W]*/gm),E3=Gn(/^data-[\-\w.\u00B7-\uFFFF]+$/),A3=Gn(/^aria-[\-\w]+$/),jA=Gn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),j3=Gn(/^(?:\w+script|data):/i),R3=Gn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),RA=Gn(/^html$/i),k3=Gn(/^[a-z][.\w]*(-[.\w]+)+$/i);var S0=Object.freeze({__proto__:null,ARIA_ATTR:A3,ATTR_WHITESPACE:R3,CUSTOM_ELEMENT:k3,DATA_ATTR:E3,DOCTYPE_NAME:RA,ERB_EXPR:C3,IS_ALLOWED_URI:jA,IS_SCRIPT_OR_DATA:j3,MUSTACHE_EXPR:S3,TMPLIT_EXPR:N3});const _3=1,T3=3,P3=7,D3=8,O3=9,L3=function(){return typeof window>"u"?null:window};var yc=function t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L3();const n=T=>t(T);if(n.version="3.2.7",n.removed=[],!e||!e.document||e.document.nodeType!==O3||!e.Element)return n.isSupported=!1,n;let{document:r}=e;const i=r,s=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:d,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:v,DOMParser:S,trustedTypes:y}=e,g=u.prototype,w=ml(g,"cloneNode"),b=ml(g,"remove"),p=ml(g,"nextSibling"),m=ml(g,"childNodes"),x=ml(g,"parentNode");if(typeof l=="function"){const T=r.createElement("template");T.content&&T.content.ownerDocument&&(r=T.content.ownerDocument)}let C,E="";const{implementation:N,createNodeIterator:A,createDocumentFragment:k,getElementsByTagName:j}=r,{importNode:R}=i;let P={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported=typeof EA=="function"&&typeof x=="function"&&N&&N.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:B,TMPLIT_EXPR:Y,DATA_ATTR:$,ARIA_ATTR:G,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:K}=S0;let{IS_ALLOWED_URI:ee}=S0,V=null;const Oe=we({},[...y0,...Jf,...Zf,...em,...x0]);let se=null;const Xe=we({},[...b0,...tm,...w0,...xu]);let ie=Object.seal(AA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,me=null,Le=!0,J=!0,xe=!1,ce=!0,Me=!1,U=!0,oe=!1,Pe=!1,Je=!1,ot=!1,Fe=!1,Ee=!1,He=!0,Pt=!1,In=!0,wr=!1,wi={},Si=null;const Vr=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Hr=null;const Ci=we({},["audio","video","img","source","image","track"]);let wo=null;const Qn=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Cs="http://www.w3.org/1998/Math/MathML",So="http://www.w3.org/2000/svg",Yn="http://www.w3.org/1999/xhtml";let Sr=Yn,Co=!1,Xa=null;const zc=we({},[Cs,So,Yn],Yf);let No=we({},["mi","mo","mn","ms","mtext"]),Eo=we({},["annotation-xml"]);const Vh=we({},["title","style","font","a","script"]);let at=null;const Yt=["application/xhtml+xml","text/html"];let De=null,Xt=null;const fn=r.createElement("form"),Ut=function(T){return T instanceof RegExp||T instanceof Function},mn=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Xt||Xt!==T){if(T&&typeof T=="object"||(T={}),T=Jr(T),at=Yt.indexOf(T.PARSER_MEDIA_TYPE)===-1?"text/html":T.PARSER_MEDIA_TYPE,De=at==="application/xhtml+xml"?Yf:Hu,V=nr(T,"ALLOWED_TAGS")?we({},T.ALLOWED_TAGS,De):Oe,se=nr(T,"ALLOWED_ATTR")?we({},T.ALLOWED_ATTR,De):Xe,Xa=nr(T,"ALLOWED_NAMESPACES")?we({},T.ALLOWED_NAMESPACES,Yf):zc,wo=nr(T,"ADD_URI_SAFE_ATTR")?we(Jr(Qn),T.ADD_URI_SAFE_ATTR,De):Qn,Hr=nr(T,"ADD_DATA_URI_TAGS")?we(Jr(Ci),T.ADD_DATA_URI_TAGS,De):Ci,Si=nr(T,"FORBID_CONTENTS")?we({},T.FORBID_CONTENTS,De):Vr,Q=nr(T,"FORBID_TAGS")?we({},T.FORBID_TAGS,De):Jr({}),me=nr(T,"FORBID_ATTR")?we({},T.FORBID_ATTR,De):Jr({}),wi=!!nr(T,"USE_PROFILES")&&T.USE_PROFILES,Le=T.ALLOW_ARIA_ATTR!==!1,J=T.ALLOW_DATA_ATTR!==!1,xe=T.ALLOW_UNKNOWN_PROTOCOLS||!1,ce=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Me=T.SAFE_FOR_TEMPLATES||!1,U=T.SAFE_FOR_XML!==!1,oe=T.WHOLE_DOCUMENT||!1,ot=T.RETURN_DOM||!1,Fe=T.RETURN_DOM_FRAGMENT||!1,Ee=T.RETURN_TRUSTED_TYPE||!1,Je=T.FORCE_BODY||!1,He=T.SANITIZE_DOM!==!1,Pt=T.SANITIZE_NAMED_PROPS||!1,In=T.KEEP_CONTENT!==!1,wr=T.IN_PLACE||!1,ee=T.ALLOWED_URI_REGEXP||jA,Sr=T.NAMESPACE||Yn,No=T.MATHML_TEXT_INTEGRATION_POINTS||No,Eo=T.HTML_INTEGRATION_POINTS||Eo,ie=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&Ut(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ie.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&Ut(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ie.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ie.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(J=!1),Fe&&(ot=!0),wi&&(V=we({},x0),se=[],wi.html===!0&&(we(V,y0),we(se,b0)),wi.svg===!0&&(we(V,Jf),we(se,tm),we(se,xu)),wi.svgFilters===!0&&(we(V,Zf),we(se,tm),we(se,xu)),wi.mathMl===!0&&(we(V,em),we(se,w0),we(se,xu))),T.ADD_TAGS&&(V===Oe&&(V=Jr(V)),we(V,T.ADD_TAGS,De)),T.ADD_ATTR&&(se===Xe&&(se=Jr(se)),we(se,T.ADD_ATTR,De)),T.ADD_URI_SAFE_ATTR&&we(wo,T.ADD_URI_SAFE_ATTR,De),T.FORBID_CONTENTS&&(Si===Vr&&(Si=Jr(Si)),we(Si,T.FORBID_CONTENTS,De)),In&&(V["#text"]=!0),oe&&we(V,["html","head","body"]),V.table&&(we(V,["tbody"]),delete Q.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw fl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw fl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=T.TRUSTED_TYPES_POLICY,E=C.createHTML("")}else C===void 0&&(C=function(te,W){if(typeof te!="object"||typeof te.createPolicy!="function")return null;let Ae=null;const Ie="data-tt-policy-suffix";W&&W.hasAttribute(Ie)&&(Ae=W.getAttribute(Ie));const pe="dompurify"+(Ae?"#"+Ae:"");try{return te.createPolicy(pe,{createHTML:wt=>wt,createScriptURL:wt=>wt})}catch{return console.warn("TrustedTypes policy "+pe+" could not be created."),null}}(y,s)),C!==null&&typeof E=="string"&&(E=C.createHTML(""));cn&&cn(T),Xt=T}},qr=we({},[...Jf,...Zf,...b3]),gt=we({},[...em,...w3]),bt=function(T){dl(n.removed,{element:T});try{x(T).removeChild(T)}catch{b(T)}},At=function(T,te){try{dl(n.removed,{attribute:te.getAttributeNode(T),from:te})}catch{dl(n.removed,{attribute:null,from:te})}if(te.removeAttribute(T),T==="is")if(ot||Fe)try{bt(te)}catch{}else try{te.setAttribute(T,"")}catch{}},Mn=function(T){let te=null,W=null;if(Je)T="<remove></remove>"+T;else{const pe=Xf(T,/^[\r\n\t ]+/);W=pe&&pe[0]}at==="application/xhtml+xml"&&Sr===Yn&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");const Ae=C?C.createHTML(T):T;if(Sr===Yn)try{te=new S().parseFromString(Ae,at)}catch{}if(!te||!te.documentElement){te=N.createDocument(Sr,"template",null);try{te.documentElement.innerHTML=Co?E:Ae}catch{}}const Ie=te.body||te.documentElement;return T&&W&&Ie.insertBefore(r.createTextNode(W),Ie.childNodes[0]||null),Sr===Yn?j.call(te,oe?"html":"body")[0]:oe?te.documentElement:Ie},Ni=function(T){return A.call(T.ownerDocument||T,T,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Kr=function(T){return T instanceof v&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof f)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},Xn=function(T){return typeof c=="function"&&T instanceof c};function Jt(T,te,W){yu(T,Ae=>{Ae.call(n,te,W,Xt)})}const Ao=function(T){let te=null;if(Jt(P.beforeSanitizeElements,T,null),Kr(T))return bt(T),!0;const W=De(T.nodeName);if(Jt(P.uponSanitizeElement,T,{tagName:W,allowedTags:V}),U&&T.hasChildNodes()&&!Xn(T.firstElementChild)&&Zt(/<[/\w!]/g,T.innerHTML)&&Zt(/<[/\w!]/g,T.textContent)||T.nodeType===P3||U&&T.nodeType===D3&&Zt(/<[/\w]/g,T.data))return bt(T),!0;if(!V[W]||Q[W]){if(!Q[W]&&vy(W)&&(ie.tagNameCheck instanceof RegExp&&Zt(ie.tagNameCheck,W)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(W)))return!1;if(In&&!Si[W]){const Ae=x(T)||T.parentNode,Ie=m(T)||T.childNodes;if(Ie&&Ae)for(let pe=Ie.length-1;pe>=0;--pe){const wt=w(Ie[pe],!0);wt.__removalCount=(T.__removalCount||0)+1,Ae.insertBefore(wt,p(T))}}return bt(T),!0}return T instanceof u&&!function(Ae){let Ie=x(Ae);Ie&&Ie.tagName||(Ie={namespaceURI:Sr,tagName:"template"});const pe=Hu(Ae.tagName),wt=Hu(Ie.tagName);return!!Xa[Ae.namespaceURI]&&(Ae.namespaceURI===So?Ie.namespaceURI===Yn?pe==="svg":Ie.namespaceURI===Cs?pe==="svg"&&(wt==="annotation-xml"||No[wt]):!!qr[pe]:Ae.namespaceURI===Cs?Ie.namespaceURI===Yn?pe==="math":Ie.namespaceURI===So?pe==="math"&&Eo[wt]:!!gt[pe]:Ae.namespaceURI===Yn?!(Ie.namespaceURI===So&&!Eo[wt])&&!(Ie.namespaceURI===Cs&&!No[wt])&&!gt[pe]&&(Vh[pe]||!qr[pe]):!(at!=="application/xhtml+xml"||!Xa[Ae.namespaceURI]))}(T)?(bt(T),!0):W!=="noscript"&&W!=="noembed"&&W!=="noframes"||!Zt(/<\/no(script|embed|frames)/i,T.innerHTML)?(Me&&T.nodeType===T3&&(te=T.textContent,yu([M,B,Y],Ae=>{te=hl(te,Ae," ")}),T.textContent!==te&&(dl(n.removed,{element:T.cloneNode()}),T.textContent=te)),Jt(P.afterSanitizeElements,T,null),!1):(bt(T),!0)},gy=function(T,te,W){if(He&&(te==="id"||te==="name")&&(W in r||W in fn))return!1;if(!(J&&!me[te]&&Zt($,te))){if(!(Le&&Zt(G,te))){if(!se[te]||me[te]){if(!(vy(T)&&(ie.tagNameCheck instanceof RegExp&&Zt(ie.tagNameCheck,T)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(T))&&(ie.attributeNameCheck instanceof RegExp&&Zt(ie.attributeNameCheck,te)||ie.attributeNameCheck instanceof Function&&ie.attributeNameCheck(te,T))||te==="is"&&ie.allowCustomizedBuiltInElements&&(ie.tagNameCheck instanceof RegExp&&Zt(ie.tagNameCheck,W)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(W))))return!1}else if(!wo[te]){if(!Zt(ee,hl(W,L,""))){if((te!=="src"&&te!=="xlink:href"&&te!=="href"||T==="script"||v3(W,"data:")!==0||!Hr[T])&&!(xe&&!Zt(O,hl(W,L,"")))){if(W)return!1}}}}}return!0},vy=function(T){return T!=="annotation-xml"&&Xf(T,K)},yy=function(T){Jt(P.beforeSanitizeAttributes,T,null);const{attributes:te}=T;if(!te||Kr(T))return;const W={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se,forceKeepAttr:void 0};let Ae=te.length;for(;Ae--;){const Ie=te[Ae],{name:pe,namespaceURI:wt,value:Ei}=Ie,Jn=De(pe),Hh=Ei;let Dt=pe==="value"?Hh:y3(Hh);if(W.attrName=Jn,W.attrValue=Dt,W.keepAttr=!0,W.forceKeepAttr=void 0,Jt(P.uponSanitizeAttribute,T,W),Dt=W.attrValue,!Pt||Jn!=="id"&&Jn!=="name"||(At(pe,T),Dt="user-content-"+Dt),U&&Zt(/((--!?|])>)|<\/(style|title|textarea)/i,Dt)){At(pe,T);continue}if(Jn==="attributename"&&Xf(Dt,"href")){At(pe,T);continue}if(W.forceKeepAttr)continue;if(!W.keepAttr){At(pe,T);continue}if(!ce&&Zt(/\/>/i,Dt)){At(pe,T);continue}Me&&yu([M,B,Y],by=>{Dt=hl(Dt,by," ")});const xy=De(T.nodeName);if(gy(xy,Jn,Dt)){if(C&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!wt)switch(y.getAttributeType(xy,Jn)){case"TrustedHTML":Dt=C.createHTML(Dt);break;case"TrustedScriptURL":Dt=C.createScriptURL(Dt)}if(Dt!==Hh)try{wt?T.setAttributeNS(wt,pe,Dt):T.setAttribute(pe,Dt),Kr(T)?bt(T):g0(n.removed)}catch{At(pe,T)}}else At(pe,T)}Jt(P.afterSanitizeAttributes,T,null)},CR=function T(te){let W=null;const Ae=Ni(te);for(Jt(P.beforeSanitizeShadowDOM,te,null);W=Ae.nextNode();)Jt(P.uponSanitizeShadowNode,W,null),Ao(W),yy(W),W.content instanceof a&&T(W.content);Jt(P.afterSanitizeShadowDOM,te,null)};return n.sanitize=function(T){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=null,Ae=null,Ie=null,pe=null;if(Co=!T,Co&&(T="<!-->"),typeof T!="string"&&!Xn(T)){if(typeof T.toString!="function")throw fl("toString is not a function");if(typeof(T=T.toString())!="string")throw fl("dirty is not a string, aborting")}if(!n.isSupported)return T;if(Pe||mn(te),n.removed=[],typeof T=="string"&&(wr=!1),wr){if(T.nodeName){const Jn=De(T.nodeName);if(!V[Jn]||Q[Jn])throw fl("root node is forbidden and cannot be sanitized in-place")}}else if(T instanceof c)W=Mn("<!---->"),Ae=W.ownerDocument.importNode(T,!0),Ae.nodeType===_3&&Ae.nodeName==="BODY"||Ae.nodeName==="HTML"?W=Ae:W.appendChild(Ae);else{if(!ot&&!Me&&!oe&&T.indexOf("<")===-1)return C&&Ee?C.createHTML(T):T;if(W=Mn(T),!W)return ot?null:Ee?E:""}W&&Je&&bt(W.firstChild);const wt=Ni(wr?T:W);for(;Ie=wt.nextNode();)Ao(Ie),yy(Ie),Ie.content instanceof a&&CR(Ie.content);if(wr)return T;if(ot){if(Fe)for(pe=k.call(W.ownerDocument);W.firstChild;)pe.appendChild(W.firstChild);else pe=W;return(se.shadowroot||se.shadowrootmode)&&(pe=R.call(i,pe,!0)),pe}let Ei=oe?W.outerHTML:W.innerHTML;return oe&&V["!doctype"]&&W.ownerDocument&&W.ownerDocument.doctype&&W.ownerDocument.doctype.name&&Zt(RA,W.ownerDocument.doctype.name)&&(Ei="<!DOCTYPE "+W.ownerDocument.doctype.name+`>
`+Ei),Me&&yu([M,B,Y],Jn=>{Ei=hl(Ei,Jn," ")}),C&&Ee?C.createHTML(Ei):Ei},n.setConfig=function(){mn(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),Pe=!0},n.clearConfig=function(){Xt=null,Pe=!1},n.isValidAttribute=function(T,te,W){Xt||mn({});const Ae=De(T),Ie=De(te);return gy(Ae,Ie,W)},n.addHook=function(T,te){typeof te=="function"&&dl(P[T],te)},n.removeHook=function(T,te){if(te!==void 0){const W=p3(P[T],te);return W===-1?void 0:g3(P[T],W,1)[0]}return g0(P[T])},n.removeHooks=function(T){P[T]=[]},n.removeAllHooks=function(){P={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();yc.addHook("uponSanitizeAttribute",function(t,e){/^data-trix-/.test(e.attrName)&&(e.forceKeepAttr=!0)});const I3="style href src width height language class".split(" "),M3="javascript:".split(" "),F3="script iframe form noscript".split(" ");class Dh extends xt{static setHTML(e,n,r){const i=new this(n,r).sanitize(),s=i.getHTML?i.getHTML():i.outerHTML;e.innerHTML=s}static sanitize(e,n){const r=new this(e,n);return r.sanitize(),r}constructor(e){let{allowedAttributes:n,forbiddenProtocols:r,forbiddenElements:i,purifyOptions:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=n||I3,this.forbiddenProtocols=r||M3,this.forbiddenElements=i||F3,this.purifyOptions=s||{},this.body=B3(e)}sanitize(){this.sanitizeElements(),this.normalizeListElementNesting();const e=Object.assign({},dA,this.purifyOptions);return yc.setConfig(e),this.body=yc.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const e=Pd(this.body),n=[];for(;e.nextNode();){const r=e.currentNode;switch(r.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(r)?n.push(r):this.sanitizeElement(r);break;case Node.COMMENT_NODE:n.push(r)}}return n.forEach(r=>gs(r)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(n=>{let{name:r}=n;this.allowedAttributes.includes(r)||r.indexOf("data-trix")===0||e.removeAttribute(r)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{const n=e.previousElementSibling;n&&sn(n)==="li"&&n.appendChild(e)}),this.body}elementIsRemovable(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(sn(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!Gs(e)}}const B3=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>");const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,Array.from(e.head.querySelectorAll("style")).forEach(n=>{e.body.appendChild(n)}),e.body},{css:ki}=Uc;class ry extends xo{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e;const n=e=be({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),r=this.getHref();return r&&(e=be({tagName:"a",editable:!1,attributes:{href:r,tabindex:-1}}),n.appendChild(e)),this.attachment.hasContent()?Dh.setHTML(e,this.attachment.getContent()):this.createContentNodes().forEach(i=>{e.appendChild(i)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=be({tagName:"progress",attributes:{class:ki.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),n.appendChild(this.progressElement)),[C0("left"),n,C0("right")]}createCaptionElement(){const e=be({tagName:"figcaption",className:ki.attachmentCaption}),n=this.attachmentPiece.getCaption();if(n)e.classList.add("".concat(ki.attachmentCaption,"--edited")),e.textContent=n;else{let r,i;const s=this.getCaptionConfig();if(s.name&&(r=this.attachment.getFilename()),s.size&&(i=this.attachment.getFormattedFilesize()),r){const a=be({tagName:"span",className:ki.attachmentName,textContent:r});e.appendChild(a)}if(i){r&&e.appendChild(document.createTextNode(" "));const a=be({tagName:"span",className:ki.attachmentSize,textContent:i});e.appendChild(a)}}return e}getClassName(){const e=[ki.attachment,"".concat(ki.attachment,"--").concat(this.attachment.getType())],n=this.attachment.getExtension();return n&&e.push("".concat(ki.attachment,"--").concat(n)),e.join(" ")}getData(){const e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:n}=this.attachmentPiece;return n.isEmpty()||(e.trixAttributes=JSON.stringify(n)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!$3(this.attachment.getContent(),"a")){const e=this.attachment.getHref();if(e&&yc.isValidAttribute("a","href",e))return e}}getCaptionConfig(){var e;const n=this.attachment.getType(),r=wA((e=Gv[n])===null||e===void 0?void 0:e.caption);return n==="file"&&(r.name=!0),r}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){const e=this.attachment.getUploadProgress(),n=this.findProgressElement();n&&(n.value=e)}}const C0=t=>be({tagName:"span",textContent:Ph,data:{trixCursorTarget:t,trixSerialize:!1}}),$3=function(t,e){const n=be("div");return Dh.setHTML(n,t||""),n.querySelector(e)};class kA extends ry{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=be({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",ue.captionPlaceholder),e}refresh(e){var n;if(e||(e=(n=this.findElement())===null||n===void 0?void 0:n.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){const n=this.attachment.getURL(),r=this.attachment.getPreviewURL();if(e.src=r||n,r===n)e.removeAttribute("data-trix-serialized-attributes");else{const c=JSON.stringify({src:n});e.setAttribute("data-trix-serialized-attributes",c)}const i=this.attachment.getWidth(),s=this.attachment.getHeight(),a=this.attachment.getAttribute("alt");i!=null&&(e.width=i),s!=null&&(e.height=s),a!=null&&(e.alt=a);const l=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=l}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class _A extends xo{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes();const n=this.createElement();if(n){const r=function(i){for(;(s=i)!==null&&s!==void 0&&s.firstElementChild;){var s;i=i.firstElementChild}return i}(n);Array.from(e).forEach(i=>{r.appendChild(i)}),e=[n]}return e}createAttachmentNodes(){const e=this.attachment.isPreviewable()?kA:ry;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{const n=[],r=this.string.split(`
`);for(let i=0;i<r.length;i++){const s=r[i];if(i>0){const a=be("br");n.push(a)}if(s.length){const a=document.createTextNode(this.preserveSpaces(s));n.push(a)}}return n}}createElement(){let e,n,r;const i={};for(n in this.attributes){r=this.attributes[n];const a=Jp(n);if(a){if(a.tagName){var s;const l=be(a.tagName);s?(s.appendChild(l),s=l):e=s=l}if(a.styleProperty&&(i[a.styleProperty]=r),a.style)for(n in a.style)r=a.style[n],i[n]=r}}if(Object.keys(i).length)for(n in e||(e=be("span")),i)r=i[n],e.style[n]=r;return e}createContainerElement(){for(const e in this.attributes){const n=this.attributes[e],r=Jp(e);if(r&&r.groupTagName){const i={};return i[e]=n,be(r.groupTagName,i)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,$i)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat($i," $2")).replace(/\ {2}/g,"".concat($i," ")).replace(/\ {2}/g," ".concat($i)),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,$i)),e}}class TA extends xo{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const e=[],n=ny.groupObjects(this.getPieces()),r=n.length-1;for(let s=0;s<n.length;s++){const a=n[s],l={};s===0&&(l.isFirst=!0),s===r&&(l.isLast=!0),U3(i)&&(l.followsWhitespace=!0);const c=this.findOrCreateCachedChildView(_A,a,{textConfig:this.textConfig,context:l});e.push(...Array.from(c.getNodes()||[]));var i=a}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}}const U3=t=>/\s$/.test(t==null?void 0:t.toString()),{css:N0}=Uc;class PA extends xo{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const e=[document.createComment("block")];if(this.block.isEmpty())e.push(be("br"));else{var n;const r=(n=ht(this.block.getLastAttribute()))===null||n===void 0?void 0:n.text,i=this.findOrCreateCachedChildView(TA,this.block.text,{textConfig:r});e.push(...Array.from(i.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(be("br"))}if(this.attributes.length)return e;{let r;const{tagName:i}=an.default;this.block.isRTL()&&(r={dir:"rtl"});const s=be({tagName:i,attributes:r});return e.forEach(a=>s.appendChild(a)),[s]}}createContainerElement(e){const n={};let r;const i=this.attributes[e],{tagName:s,htmlAttributes:a=[]}=ht(i);if(e===0&&this.block.isRTL()&&Object.assign(n,{dir:"rtl"}),i==="attachmentGallery"){const l=this.block.getBlockBreakPosition();r="".concat(N0.attachmentGallery," ").concat(N0.attachmentGallery,"--").concat(l)}return Object.entries(this.block.htmlAttributes).forEach(l=>{let[c,u]=l;a.includes(c)&&(n[c]=u)}),be({tagName:s,className:r,attributes:n})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class Oh extends xo{static render(e){const n=be("div"),r=new this(e,{element:n});return r.render(),r.sync(),n}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new u3,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=be("div"),!this.document.isEmpty()){const e=ny.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(n=>{const r=this.findOrCreateCachedChildView(PA,n);Array.from(r.getNodes()).map(i=>this.shadowElement.appendChild(i))})}}isSynced(){return z3(this.shadowElement,this.element)}sync(){const e=mA("trix-before-render",{cancelable:!1,attributes:{render:(r,i)=>{for(;r.lastChild;)r.removeChild(r.lastChild);r.appendChild(i)}}});this.element.dispatchEvent(e);const n=this.createDocumentFragmentForSync();return e.render(this.element,n),this.didSync()}didSync(){return this.elementStore.reset(E0(this.element)),Zv(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(n=>{e.appendChild(n.cloneNode(!0))}),Array.from(E0(e)).forEach(n=>{const r=this.elementStore.remove(n);r&&n.parentNode.replaceChild(r,n)}),e}}const E0=t=>t.querySelectorAll("[data-trix-store-key]"),z3=(t,e)=>A0(t.innerHTML)===A0(e.innerHTML),A0=t=>t.replace(/&nbsp;/g," ");function W3(t){var e=function(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return typeof e=="symbol"?e:String(e)}function Gt(t,e,n){return(e=W3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ke(t,e){return V3(t,DA(t,e,"get"))}function Ul(t,e,n){return H3(t,DA(t,e,"set"),n),n}function DA(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function V3(t,e){return e.get?e.get.call(t):e.value}function H3(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function bu(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function OA(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ra(t,e,n){OA(t,e),e.set(t,n)}class bo extends yo{static registerType(e,n){n.type=e,this.types[e]=n}static fromJSON(e){const n=this.types[e.type];if(n)return n.fromJSON(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Pn.box(n)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}}Gt(bo,"types",{});class LA extends Od{constructor(e){super(...arguments),this.url=e}perform(e){const n=new Image;n.onload=()=>(n.width=this.width=n.naturalWidth,n.height=this.height=n.naturalHeight,e(!0,n)),n.onerror=()=>e(!1),n.src=this.url}}class Ya extends yo{static attachmentForFile(e){const n=new this(this.attributesForFile(e));return n.setFile(e),n}static attributesForFile(e){return new Pn({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=Pn.box(e),this.didChangeAttributes()}setAttribute(e,n){this.setAttributes({[e]:n})}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.attributes.merge(e);var r,i,s,a;if(!this.attributes.isEqualTo(n))return this.attributes=n,this.didChangeAttributes(),(r=this.previewDelegate)===null||r===void 0||(i=r.attachmentDidChangeAttributes)===null||i===void 0||i.call(r,this),(s=this.delegate)===null||s===void 0||(a=s.attachmentDidChangeAttributes)===null||a===void 0?void 0:a.call(s,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Ya.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const e=this.attributes.get("filesize");return typeof e=="number"?hA.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var n,r;if(this.uploadProgress!==e)return this.uploadProgress=e,(n=this.uploadProgressDelegate)===null||n===void 0||(r=n.attachmentDidChangeUploadProgress)===null||r===void 0?void 0:r.call(n,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var n,r,i,s;if(e!==this.getPreviewURL())return this.previewURL=e,(n=this.previewDelegate)===null||n===void 0||(r=n.attachmentDidChangeAttributes)===null||r===void 0||r.call(n,this),(i=this.delegate)===null||i===void 0||(s=i.attachmentDidChangePreviewURL)===null||s===void 0?void 0:s.call(i,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,n){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new LA(e).then(r=>{let{width:i,height:s}=r;return this.getWidth()&&this.getHeight()||this.setAttributes({width:i,height:s}),this.preloadingURL=null,this.setPreviewURL(e),n==null?void 0:n()}).catch(()=>(this.preloadingURL=null,n==null?void 0:n()))}}Gt(Ya,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Ra extends bo{static fromJSON(e){return new this(Ya.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){const e=this.attributes.slice(Ra.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var n;return super.isEqualTo(e)&&this.attachment.id===(e==null||(n=e.attachment)===null||n===void 0?void 0:n.id)}toString(){return""}toJSON(){const e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}Gt(Ra,"permittedAttributes",["caption","presentation"]),bo.registerType("attachment",Ra);class iy extends bo{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(n=>n.replace(/\r\n?/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let n,r;return e===0?(n=null,r=this):e===this.length?(n=this,r=null):(n=new this.constructor(this.string.slice(0,e),this.attributes),r=new this.constructor(this.string.slice(e),this.attributes)),[n,r]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+""),JSON.stringify(e.toString())}}bo.registerType("string",iy);class Ld extends yo{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new this.constructor(Jv(this.objects,...n))}eachObject(e){return this.objects.map((n,r)=>e(n,r))}insertObjectAtIndex(e,n){return this.splice(n,0,e)}insertSplittableListAtIndex(e,n){return this.splice(n,0,...e.objects)}insertSplittableListAtPosition(e,n){const[r,i]=this.splitObjectAtPosition(n);return new this.constructor(r).insertSplittableListAtIndex(e,i)}editObjectAtIndex(e,n){return this.replaceObjectAtIndex(n(this.objects[e]),e)}replaceObjectAtIndex(e,n){return this.splice(n,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){const[n,r,i]=this.splitObjectsAtRange(e);return new this.constructor(n.slice(r,i+1))}selectSplittableList(e){const n=this.objects.filter(r=>e(r));return new this.constructor(n)}removeObjectsInRange(e){const[n,r,i]=this.splitObjectsAtRange(e);return new this.constructor(n).splice(r,i-r+1)}transformObjectsInRange(e,n){const[r,i,s]=this.splitObjectsAtRange(e),a=r.map((l,c)=>i<=c&&c<=s?n(l):l);return new this.constructor(a)}splitObjectsAtRange(e){let n,[r,i,s]=this.splitObjectAtPosition(K3(e));return[r,n]=new this.constructor(r).splitObjectAtPosition(G3(e)+s),[r,i,n-1]}getObjectAtPosition(e){const{index:n}=this.findIndexAndOffsetAtPosition(e);return this.objects[n]}splitObjectAtPosition(e){let n,r;const{index:i,offset:s}=this.findIndexAndOffsetAtPosition(e),a=this.objects.slice(0);if(i!=null)if(s===0)n=i,r=0;else{const l=this.getObjectAtIndex(i),[c,u]=l.splitAtOffset(s);a.splice(i,1,c,u),n=i+1,r=c.getLength()-s}else n=a.length,r=0;return[a,n,r]}consolidate(){const e=[];let n=this.objects[0];return this.objects.slice(1).forEach(r=>{var i,s;(i=(s=n).canBeConsolidatedWith)!==null&&i!==void 0&&i.call(s,r)?n=n.consolidateWith(r):(e.push(n),n=r)}),n&&e.push(n),new this.constructor(e)}consolidateFromIndexToIndex(e,n){const r=this.objects.slice(0).slice(e,n+1),i=new this.constructor(r).consolidate().toArray();return this.splice(e,r.length,...i)}findIndexAndOffsetAtPosition(e){let n,r=0;for(n=0;n<this.objects.length;n++){const i=r+this.objects[n].getLength();if(r<=e&&e<i)return{index:n,offset:e-r};r=i}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,n){let r=0;for(let i=0;i<this.objects.length;i++){const s=this.objects[i];if(i<e)r+=s.getLength();else if(i===e){r+=n;break}}return r}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||q3(this.objects,e==null?void 0:e.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}}const q3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(t.length!==e.length)return!1;let n=!0;for(let r=0;r<t.length;r++){const i=t[r];n&&!i.isEqualTo(e[r])&&(n=!1)}return n},K3=t=>t[0],G3=t=>t[1];class cr extends yo{static textForAttachmentWithAttributes(e,n){return new this([new Ra(e,n)])}static textForStringWithAttributes(e,n){return new this([new iy(e,n)])}static fromJSON(e){return new this(Array.from(e).map(n=>bo.fromJSON(n)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const n=e.filter(r=>!r.isEmpty());this.pieceList=new Ld(n)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){const n=this.getPieces().map(r=>e.find(r)||r);return new this.constructor(n)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,n){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,n))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,n){return this.removeTextAtRange(n).insertTextAtPosition(e,n[0])}moveTextFromRangeToPosition(e,n){if(e[0]<=n&&n<=e[1])return;const r=this.getTextAtRange(e),i=r.getLength();return e[0]<n&&(n-=i),this.removeTextAtRange(e).insertTextAtPosition(r,n)}addAttributeAtRange(e,n,r){const i={};return i[e]=n,this.addAttributesAtRange(i,r)}addAttributesAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithoutAttribute(e)))}setAttributesAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAttributes(e)))}getAttributesAtPosition(e){var n;return((n=this.pieceList.getObjectAtPosition(e))===null||n===void 0?void 0:n.getAttributes())||{}}getCommonAttributes(){const e=Array.from(this.pieceList.toArray()).map(n=>n.getAttributes());return Pn.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,n){let r,i=r=n;const s=this.getLength();for(;i>0&&this.getCommonAttributesAtRange([i-1,r])[e];)i--;for(;r<s&&this.getCommonAttributesAtRange([n,r+1])[e];)r++;return[i,r]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){const n=this.getLength();return this.getStringAtRange([n-e.length,n])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let n=0;for(const i of this.pieceList.toArray()){var r;if(((r=i.attachment)===null||r===void 0?void 0:r.id)===e)return{attachment:i.attachment,position:n};n+=i.length}return{attachment:null,position:null}}getAttachmentById(e){const{attachment:n}=this.getAttachmentAndPositionById(e);return n}getRangeOfAttachment(e){const n=this.getAttachmentAndPositionById(e.id),r=n.position;if(e=n.attachment)return[r,r+1]}updateAttributesForAttachment(e,n){const r=this.getRangeOfAttachment(n);return r?this.addAttributesAtRange(e,r):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var n;return super.isEqualTo(e)||(e==null||(n=e.pieceList)===null||n===void 0?void 0:n.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const e=this.pieceList.selectSplittableList(n=>n.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return e3(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Pr extends yo{static fromJSON(e){return new this(cr.fromJSON(e.text),e.attributes,e.htmlAttributes)}constructor(e,n,r){super(...arguments),this.text=Q3(e||new cr),this.attributes=n||[],this.htmlAttributes=r||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e==null?void 0:e.text)&&ao(this.attributes,e==null?void 0:e.attributes)&&Qa(this.htmlAttributes,e==null?void 0:e.htmlAttributes)}copyWithText(e){return new Pr(e,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new Pr(this.text,e,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){const n=e.find(this.text);return n?this.copyWithText(n):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){const n=this.attributes.concat(j0(e));return this.copyWithAttributes(n)}addHTMLAttribute(e,n){const r=Object.assign({},this.htmlAttributes,{[e]:n});return new Pr(this.text,this.attributes,r)}removeAttribute(e){const{listAttribute:n}=ht(e),r=k0(k0(this.attributes,e),n);return this.copyWithAttributes(r)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return R0(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return R0(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>ht(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){const e=this.getLastNestableAttribute();if(e){const n=this.attributes.lastIndexOf(e),r=Jv(this.attributes,n+1,0,...j0(e));return this.copyWithAttributes(r)}return this}getListItemAttributes(){return this.attributes.filter(e=>ht(e).listAttribute)}isListItem(){var e;return(e=ht(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=ht(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=ht(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,n){const r=this.toString();let i;switch(e){case"forward":i=r.indexOf(`
`,n);break;case"backward":i=r.slice(0,n).lastIndexOf(`
`)}if(i!==-1)return i}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){const n=cr.textForStringWithAttributes(`
`),r=this.getTextWithoutBlockBreak().appendText(n);return this.copyWithText(r.appendText(e.text))}splitAtOffset(e){let n,r;return e===0?(n=null,r=this):e===this.getLength()?(n=this,r=null):(n=this.copyWithText(this.text.getTextAtRange([0,e])),r=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[n,r]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return IA(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,n){const r=e.getAttributes(),i=r[n],s=this.attributes[n];return s===i&&!(ht(s).group===!1&&!(()=>{if(!vu){vu=[];for(const a in an){const{listAttribute:l}=an[a];l!=null&&vu.push(l)}}return vu})().includes(r[n+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}}const Q3=function(t){return t=Y3(t),t=J3(t)},Y3=function(t){let e=!1;const n=t.getPieces();let r=n.slice(0,n.length-1);const i=n[n.length-1];return i?(r=r.map(s=>s.isBlockBreak()?(e=!0,Z3(s)):s),e?new cr([...r,i]):t):t},X3=cr.textForStringWithAttributes(`
`,{blockBreak:!0}),J3=function(t){return IA(t)?t:t.appendText(X3)},IA=function(t){const e=t.getLength();return e===0?!1:t.getTextAtRange([e-1,e]).isBlockBreak()},Z3=t=>t.copyWithoutAttribute("blockBreak"),j0=function(t){const{listAttribute:e}=ht(t);return e?[e,t]:[t]},R0=t=>t.slice(-1)[0],k0=function(t,e){const n=t.lastIndexOf(e);return n===-1?t:Jv(t,n,1)};class Wn extends yo{static fromJSON(e){return new this(Array.from(e).map(n=>Pr.fromJSON(n)))}static fromString(e,n){const r=cr.textForStringWithAttributes(e,n);return new this([new Pr(r)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new Pr]),this.blockList=Ld.box(e)}isEmpty(){const e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){const n=new c3(e.getObjects());return this.copyUsingObjectMap(n)}copyUsingObjectMap(e){const n=this.getBlocks().map(r=>e.find(r)||r.copyUsingObjectMap(e));return new this.constructor(n)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.getBlocks().map(r=>{const i=e.concat(r.getAttributes());return r.copyWithAttributes(i)});return new this.constructor(n)}replaceBlock(e,n){const r=this.blockList.indexOf(e);return r===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(n,r))}insertDocumentAtRange(e,n){const{blockList:r}=e;n=Ue(n);let[i]=n;const{index:s,offset:a}=this.locationFromPosition(i);let l=this;const c=this.getBlockAtPosition(i);return ci(n)&&c.isEmpty()&&!c.hasAttributes()?l=new this.constructor(l.blockList.removeObjectAtIndex(s)):c.getBlockBreakPosition()===a&&i++,l=l.removeTextAtRange(n),new this.constructor(l.blockList.insertSplittableListAtPosition(r,i))}mergeDocumentAtRange(e,n){let r,i;n=Ue(n);const[s]=n,a=this.locationFromPosition(s),l=this.getBlockAtIndex(a.index).getAttributes(),c=e.getBaseBlockAttributes(),u=l.slice(-c.length);if(ao(c,u)){const v=l.slice(0,-c.length);r=e.copyWithBaseBlockAttributes(v)}else r=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(l);const d=r.getBlockCount(),f=r.getBlockAtIndex(0);if(ao(l,f.getAttributes())){const v=f.getTextWithoutBlockBreak();if(i=this.insertTextAtRange(v,n),d>1){r=new this.constructor(r.getBlocks().slice(1));const S=s+v.getLength();i=i.insertDocumentAtRange(r,S)}}else i=this.insertDocumentAtRange(r,n);return i}insertTextAtRange(e,n){n=Ue(n);const[r]=n,{index:i,offset:s}=this.locationFromPosition(r),a=this.removeTextAtRange(n);return new this.constructor(a.blockList.editObjectAtIndex(i,l=>l.copyWithText(l.text.insertTextAtPosition(e,s))))}removeTextAtRange(e){let n;e=Ue(e);const[r,i]=e;if(ci(e))return this;const[s,a]=Array.from(this.locationRangeFromRange(e)),l=s.index,c=s.offset,u=this.getBlockAtIndex(l),d=a.index,f=a.offset,v=this.getBlockAtIndex(d);if(i-r==1&&u.getBlockBreakPosition()===c&&v.getBlockBreakPosition()!==f&&v.text.getStringAtPosition(f)===`
`)n=this.blockList.editObjectAtIndex(d,S=>S.copyWithText(S.text.removeTextAtRange([f,f+1])));else{let S;const y=u.text.getTextAtRange([0,c]),g=v.text.getTextAtRange([f,v.getLength()]),w=y.appendText(g);S=l!==d&&c===0&&u.getAttributeLevel()>=v.getAttributeLevel()?v.copyWithText(w):u.copyWithText(w);const b=d+1-l;n=this.blockList.splice(l,b,S)}return new this.constructor(n)}moveTextFromRangeToPosition(e,n){let r;e=Ue(e);const[i,s]=e;if(i<=n&&n<=s)return this;let a=this.getDocumentAtRange(e),l=this.removeTextAtRange(e);const c=i<n;c&&(n-=a.getLength());const[u,...d]=a.getBlocks();return d.length===0?(r=u.getTextWithoutBlockBreak(),c&&(n+=1)):r=u.text,l=l.insertTextAtRange(r,n),d.length===0?l:(a=new this.constructor(d),n+=r.getLength(),l.insertDocumentAtRange(a,n))}addAttributeAtRange(e,n,r){let{blockList:i}=this;return this.eachBlockAtRange(r,(s,a,l)=>i=i.editObjectAtIndex(l,function(){return ht(e)?s.addAttribute(e,n):a[0]===a[1]?s:s.copyWithText(s.text.addAttributeAtRange(e,n,a))})),new this.constructor(i)}addAttribute(e,n){let{blockList:r}=this;return this.eachBlock((i,s)=>r=r.editObjectAtIndex(s,()=>i.addAttribute(e,n))),new this.constructor(r)}removeAttributeAtRange(e,n){let{blockList:r}=this;return this.eachBlockAtRange(n,function(i,s,a){ht(e)?r=r.editObjectAtIndex(a,()=>i.removeAttribute(e)):s[0]!==s[1]&&(r=r.editObjectAtIndex(a,()=>i.copyWithText(i.text.removeAttributeAtRange(e,s))))}),new this.constructor(r)}updateAttributesForAttachment(e,n){const r=this.getRangeOfAttachment(n),[i]=Array.from(r),{index:s}=this.locationFromPosition(i),a=this.getTextAtIndex(s);return new this.constructor(this.blockList.editObjectAtIndex(s,l=>l.copyWithText(a.updateAttributesForAttachment(e,n))))}removeAttributeForAttachment(e,n){const r=this.getRangeOfAttachment(n);return this.removeAttributeAtRange(e,r)}setHTMLAttributeAtPosition(e,n,r){const i=this.getBlockAtPosition(e),s=i.addHTMLAttribute(n,r);return this.replaceBlock(i,s)}insertBlockBreakAtRange(e){let n;e=Ue(e);const[r]=e,{offset:i}=this.locationFromPosition(r),s=this.removeTextAtRange(e);return i===0&&(n=[new Pr]),new this.constructor(s.blockList.insertSplittableListAtPosition(new Ld(n),r))}applyBlockAttributeAtRange(e,n,r){const i=this.expandRangeToLineBreaksAndSplitBlocks(r);let s=i.document;r=i.range;const a=ht(e);if(a.listAttribute){s=s.removeLastListAttributeAtRange(r,{exceptAttributeName:e});const l=s.convertLineBreaksToBlockBreaksInRange(r);s=l.document,r=l.range}else s=a.exclusive?s.removeBlockAttributesAtRange(r):a.terminal?s.removeLastTerminalAttributeAtRange(r):s.consolidateBlocksAtRange(r);return s.addAttributeAtRange(e,n,r)}removeLastListAttributeAtRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:r}=this;return this.eachBlockAtRange(e,function(i,s,a){const l=i.getLastAttribute();l&&ht(l).listAttribute&&l!==n.exceptAttributeName&&(r=r.editObjectAtIndex(a,()=>i.removeAttribute(l)))}),new this.constructor(r)}removeLastTerminalAttributeAtRange(e){let{blockList:n}=this;return this.eachBlockAtRange(e,function(r,i,s){const a=r.getLastAttribute();a&&ht(a).terminal&&(n=n.editObjectAtIndex(s,()=>r.removeAttribute(a)))}),new this.constructor(n)}removeBlockAttributesAtRange(e){let{blockList:n}=this;return this.eachBlockAtRange(e,function(r,i,s){r.hasAttributes()&&(n=n.editObjectAtIndex(s,()=>r.copyWithoutAttributes()))}),new this.constructor(n)}expandRangeToLineBreaksAndSplitBlocks(e){let n;e=Ue(e);let[r,i]=e;const s=this.locationFromPosition(r),a=this.locationFromPosition(i);let l=this;const c=l.getBlockAtIndex(s.index);if(s.offset=c.findLineBreakInDirectionFromPosition("backward",s.offset),s.offset!=null&&(n=l.positionFromLocation(s),l=l.insertBlockBreakAtRange([n,n+1]),a.index+=1,a.offset-=l.getBlockAtIndex(s.index).getLength(),s.index+=1),s.offset=0,a.offset===0&&a.index>s.index)a.index-=1,a.offset=l.getBlockAtIndex(a.index).getBlockBreakPosition();else{const u=l.getBlockAtIndex(a.index);u.text.getStringAtRange([a.offset-1,a.offset])===`
`?a.offset-=1:a.offset=u.findLineBreakInDirectionFromPosition("forward",a.offset),a.offset!==u.getBlockBreakPosition()&&(n=l.positionFromLocation(a),l=l.insertBlockBreakAtRange([n,n+1]))}return r=l.positionFromLocation(s),i=l.positionFromLocation(a),{document:l,range:e=Ue([r,i])}}convertLineBreaksToBlockBreaksInRange(e){e=Ue(e);let[n]=e;const r=this.getStringAtRange(e).slice(0,-1);let i=this;return r.replace(/.*?\n/g,function(s){n+=s.length,i=i.insertBlockBreakAtRange([n-1,n])}),{document:i,range:e}}consolidateBlocksAtRange(e){e=Ue(e);const[n,r]=e,i=this.locationFromPosition(n).index,s=this.locationFromPosition(r).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(i,s))}getDocumentAtRange(e){e=Ue(e);const n=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(n)}getStringAtRange(e){let n;const r=e=Ue(e);return r[r.length-1]!==this.getLength()&&(n=-1),this.getDocumentAtRange(e).toString().slice(0,n)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){const{index:n}=this.locationFromPosition(e);return this.getBlockAtIndex(n)}getTextAtIndex(e){var n;return(n=this.getBlockAtIndex(e))===null||n===void 0?void 0:n.text}getTextAtPosition(e){const{index:n}=this.locationFromPosition(e);return this.getTextAtIndex(n)}getPieceAtPosition(e){const{index:n,offset:r}=this.locationFromPosition(e);return this.getTextAtIndex(n).getPieceAtPosition(r)}getCharacterAtPosition(e){const{index:n,offset:r}=this.locationFromPosition(e);return this.getTextAtIndex(n).getStringAtRange([r,r+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,n){let r,i;e=Ue(e);const[s,a]=e,l=this.locationFromPosition(s),c=this.locationFromPosition(a);if(l.index===c.index)return r=this.getBlockAtIndex(l.index),i=[l.offset,c.offset],n(r,i,l.index);for(let u=l.index;u<=c.index;u++)if(r=this.getBlockAtIndex(u),r){switch(u){case l.index:i=[l.offset,r.text.getLength()];break;case c.index:i=[0,c.offset];break;default:i=[0,r.text.getLength()]}n(r,i,u)}}getCommonAttributesAtRange(e){e=Ue(e);const[n]=e;if(ci(e))return this.getCommonAttributesAtPosition(n);{const r=[],i=[];return this.eachBlockAtRange(e,function(s,a){if(a[0]!==a[1])return r.push(s.text.getCommonAttributesAtRange(a)),i.push(_0(s))}),Pn.fromCommonAttributesOfObjects(r).merge(Pn.fromCommonAttributesOfObjects(i)).toObject()}}getCommonAttributesAtPosition(e){let n,r;const{index:i,offset:s}=this.locationFromPosition(e),a=this.getBlockAtIndex(i);if(!a)return{};const l=_0(a),c=a.text.getAttributesAtPosition(s),u=a.text.getAttributesAtPosition(s-1),d=Object.keys(oo).filter(f=>oo[f].inheritable);for(n in u)r=u[n],(r===c[n]||d.includes(n))&&(l[n]=r);return l}getRangeOfCommonAttributeAtPosition(e,n){const{index:r,offset:i}=this.locationFromPosition(n),s=this.getTextAtIndex(r),[a,l]=Array.from(s.getExpandedRangeForAttributeAtOffset(e,i)),c=this.positionFromLocation({index:r,offset:a}),u=this.positionFromLocation({index:r,offset:l});return Ue([c,u])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let n=1;n<this.getBlockCount();n++){const r=this.getBlockAtIndex(n).getAttributes(),i=Math.min(e.length,r.length);e=(()=>{const s=[];for(let a=0;a<i&&r[a]===e[a];a++)s.push(r[a]);return s})()}return e}getAttachmentById(e){for(const n of this.getAttachments())if(n.id===e)return n}getAttachmentPieces(){let e=[];return this.blockList.eachObject(n=>{let{text:r}=n;return e=e.concat(r.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let n=0;const r=this.blockList.toArray();for(let i=0;i<r.length;i++){const{text:s}=r[i],a=s.getRangeOfAttachment(e);if(a)return Ue([n+a[0],n+a[1]]);n+=s.getLength()}}getLocationRangeOfAttachment(e){const n=this.getRangeOfAttachment(e);return this.locationRangeFromRange(n)}getAttachmentPieceForAttachment(e){for(const n of this.getAttachmentPieces())if(n.attachment===e)return n}findRangesForBlockAttribute(e){let n=0;const r=[];return this.getBlocks().forEach(i=>{const s=i.getLength();i.hasAttribute(e)&&r.push([n,n+s]),n+=s}),r}findRangesForTextAttribute(e){let{withValue:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=0,i=[];const s=[];return this.getPieces().forEach(a=>{const l=a.getLength();(function(c){return n?c.getAttribute(e)===n:c.hasAttribute(e)})(a)&&(i[1]===r?i[1]=r+l:s.push(i=[r,r+l])),r+=l}),s}locationFromPosition(e){const n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(n.index!=null)return n;{const r=this.getBlocks();return{index:r.length-1,offset:r[r.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return Ue(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=Ue(e)))return;const[n,r]=Array.from(e),i=this.locationFromPosition(n),s=this.locationFromPosition(r);return Ue([i,s])}rangeFromLocationRange(e){let n;e=Ue(e);const r=this.positionFromLocation(e[0]);return ci(e)||(n=this.positionFromLocation(e[1])),Ue([r,n])}isEqualTo(e){return this.blockList.isEqualTo(e==null?void 0:e.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){const e=[];return Array.from(this.getTexts()).forEach(n=>{e.push(...Array.from(n.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const e=[];return this.blockList.eachObject(n=>e.push(n.copyWithText(n.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(e=>JSON.parse(e.text.toConsole())))}}const _0=function(t){const e={},n=t.getLastAttribute();return n&&(e[n]=!0),e},nm=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:t=Nl(t),attributes:e,type:"string"}},T0=(t,e)=>{try{return JSON.parse(t.getAttribute("data-trix-".concat(e)))}catch{return{}}};class xc extends xt{static parse(e,n){const r=new this(e,n);return r.parse(),r}constructor(e){let{referenceElement:n,purifyOptions:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=n,this.purifyOptions=r,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Wn.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),Dh.setHTML(this.containerElement,this.html,{purifyOptions:this.purifyOptions});const e=Pd(this.containerElement,{usingFilter:t$});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=be({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return gs(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){const n=e.parentNode;if(n===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(n===this.containerElement||this.isBlockElement(n)){var r;const i=this.getBlockAttributes(n),s=this.getBlockHTMLAttributes(n);ao(i,(r=this.currentBlock)===null||r===void 0?void 0:r.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(i,n,s),this.currentBlockElement=n)}}appendBlockForElement(e){const n=this.isBlockElement(e),r=Os(this.currentBlockElement,e);if(n&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){const i=this.getBlockAttributes(e),s=this.getBlockHTMLAttributes(e);if(e.firstChild){if(r&&ao(i,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(i,e,s),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!r&&!n){const i=this.findParentBlockElement(e);if(i)return this.appendBlockForElement(i);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:n}=e;for(;n&&n!==this.containerElement;){if(this.isBlockElement(n)&&this.blockElements.includes(n))return n;n=n.parentElement}return null}processTextNode(e){let n=e.data;var r;return P0(e.parentNode)||(n=ty(n),MA((r=e.previousSibling)===null||r===void 0?void 0:r.textContent)&&(n=n$(n))),this.appendStringWithAttributes(n,this.getTextAttributes(e.parentNode))}processElement(e){let n;if(Gs(e)){if(n=T0(e,"attachment"),Object.keys(n).length){const r=this.getTextAttributes(e);this.appendAttachmentWithAttributes(n,r),e.innerHTML=""}return this.processedElements.push(e)}switch(sn(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":n={url:e.getAttribute("src"),contentType:"image"};const r=(i=>{const s=i.getAttribute("width"),a=i.getAttribute("height"),l={};return s&&(l.width=parseInt(s,10)),a&&(l.height=parseInt(a,10)),l})(e);for(const i in r){const s=r[i];n[i]=s}return this.appendAttachmentWithAttributes(n,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(Wu.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(Wu.tableCellSeparator)}}appendBlockForAttributesWithElement(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(n);const i=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(e,r);return this.blocks.push(i),i}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,n){return this.appendPiece(nm(e,n))}appendAttachmentWithAttributes(e,n){return this.appendPiece(function(r){return{attachment:r,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,n))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,n){const{text:r}=this.blocks[n],i=r[r.length-1];if((i==null?void 0:i.type)!=="string")return r.push(nm(e));i.string+=e}prependStringToTextAtIndex(e,n){const{text:r}=this.blocks[n],i=r[0];if((i==null?void 0:i.type)!=="string")return r.unshift(nm(e));i.string=e+i.string}getTextAttributes(e){let n;const r={};for(const i in oo){const s=oo[i];if(s.tagName&&ps(e,{matchingSelector:s.tagName,untilNode:this.containerElement}))r[i]=!0;else if(s.parser){if(n=s.parser(e),n){let a=!1;for(const l of this.findBlockElementAncestors(e))if(s.parser(l)===n){a=!0;break}a||(r[i]=n)}}else s.styleProperty&&(n=e.style[s.styleProperty],n&&(r[i]=n))}if(Gs(e)){const i=T0(e,"attributes");for(const s in i)n=i[s],r[s]=n}return r}getBlockAttributes(e){const n=[];for(;e&&e!==this.containerElement;){for(const i in an){const s=an[i];var r;s.parse!==!1&&sn(e)===s.tagName&&((r=s.test)!==null&&r!==void 0&&r.call(s,e)||!s.test)&&(n.push(i),s.listAttribute&&n.push(s.listAttribute))}e=e.parentNode}return n.reverse()}getBlockHTMLAttributes(e){const n={},r=Object.values(an).find(i=>i.tagName===sn(e));return((r==null?void 0:r.htmlAttributes)||[]).forEach(i=>{e.hasAttribute(i)&&(n[i]=e.getAttribute(i))}),n}findBlockElementAncestors(e){const n=[];for(;e&&e!==this.containerElement;){const r=sn(e);Fl().includes(r)&&n.push(e),e=e.parentNode}return n}isBlockElement(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE&&!Gs(e)&&!ps(e,{matchingSelector:"td",untilNode:this.containerElement}))return Fl().includes(sn(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if((e==null?void 0:e.nodeType)!==Node.TEXT_NODE||!r$(e.data))return;const{parentNode:n,previousSibling:r,nextSibling:i}=e;return e$(n.previousSibling)&&!this.isBlockElement(n.previousSibling)||P0(n)?void 0:!r||this.isBlockElement(r)||!i||this.isBlockElement(i)}isExtraBR(e){return sn(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(Wu.removeBlankTableCells){var n;const r=(n=e.previousSibling)===null||n===void 0?void 0:n.textContent;return r&&/\S/.test(r)}return e.previousSibling}translateBlockElementMarginsToNewlines(){const e=this.getMarginOfDefaultBlockElement();for(let n=0;n<this.blocks.length;n++){const r=this.getMarginOfBlockElementAtIndex(n);r&&(r.top>2*e.top&&this.prependStringToTextAtIndex(`
`,n),r.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,n))}}getMarginOfBlockElementAtIndex(e){const n=this.blockElements[e];if(n&&n.textContent&&!Fl().includes(sn(n))&&!this.processedElements.includes(n))return D0(n)}getMarginOfDefaultBlockElement(){const e=be(an.default.tagName);return this.containerElement.appendChild(e),D0(e)}}const P0=function(t){const{whiteSpace:e}=window.getComputedStyle(t);return["pre","pre-wrap","pre-line"].includes(e)},e$=t=>t&&!MA(t.textContent),D0=function(t){const e=window.getComputedStyle(t);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},t$=function(t){return sn(t)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},n$=t=>t.replace(new RegExp("^".concat(ey.source,"+")),""),r$=t=>new RegExp("^".concat(ey.source,"*$")).test(t),MA=t=>/\s$/.test(t),i$=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],ng="data-trix-serialized-attributes",s$="[".concat(ng,"]"),o$=new RegExp("<!--block-->","g"),a$={"application/json":function(t){let e;if(t instanceof Wn)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=xc.parse(t.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(t){let e;if(t instanceof Wn)e=Oh.render(t);else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=t.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(n=>{gs(n)}),i$.forEach(n=>{Array.from(e.querySelectorAll("[".concat(n,"]"))).forEach(r=>{r.removeAttribute(n)})}),Array.from(e.querySelectorAll(s$)).forEach(n=>{try{const r=JSON.parse(n.getAttribute(ng));n.removeAttribute(ng);for(const i in r){const s=r[i];n.setAttribute(i,s)}}catch{}}),e.innerHTML.replace(o$,"")}};var l$=Object.freeze({__proto__:null});class et extends xt{constructor(e,n){super(...arguments),this.attachmentManager=e,this.attachment=n,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}et.proxyMethod("attachment.getAttribute"),et.proxyMethod("attachment.hasAttribute"),et.proxyMethod("attachment.setAttribute"),et.proxyMethod("attachment.getAttributes"),et.proxyMethod("attachment.setAttributes"),et.proxyMethod("attachment.isPending"),et.proxyMethod("attachment.isPreviewable"),et.proxyMethod("attachment.getURL"),et.proxyMethod("attachment.getPreviewURL"),et.proxyMethod("attachment.setPreviewURL"),et.proxyMethod("attachment.getHref"),et.proxyMethod("attachment.getFilename"),et.proxyMethod("attachment.getFilesize"),et.proxyMethod("attachment.getFormattedFilesize"),et.proxyMethod("attachment.getExtension"),et.proxyMethod("attachment.getContentType"),et.proxyMethod("attachment.getFile"),et.proxyMethod("attachment.setFile"),et.proxyMethod("attachment.releaseFile"),et.proxyMethod("attachment.getUploadProgress"),et.proxyMethod("attachment.setUploadProgress");class FA extends xt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(n=>{this.manageAttachment(n)})}getAttachments(){const e=[];for(const n in this.managedAttachments){const r=this.managedAttachments[n];e.push(r)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new et(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var n,r;if(this.attachmentIsManaged(e))return(n=this.delegate)===null||n===void 0||(r=n.attachmentManagerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,e)}unmanageAttachment(e){const n=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],n}}class BA{constructor(e){this.composition=e,this.document=this.composition.document;const n=this.composition.getSelectedRange();this.startPosition=n[0],this.endPosition=n[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Mi extends xt{constructor(){super(...arguments),this.document=new Wn,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var n,r;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeDocument)===null||r===void 0?void 0:r.call(n,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var n,r,i,s;let{document:a,selectedRange:l}=e;return(n=this.delegate)===null||n===void 0||(r=n.compositionWillLoadSnapshot)===null||r===void 0||r.call(n),this.setDocument(a??new Wn),this.setSelection(l??[0,0]),(i=this.delegate)===null||i===void 0||(s=i.compositionDidLoadSnapshot)===null||s===void 0?void 0:s.call(i)}insertText(e){let{updatePosition:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const r=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,r));const i=r[0],s=i+e.getLength();return n&&this.setSelection(s),this.notifyDelegateOfInsertionAtRange([i,s])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Pr;const n=new Wn([e]);return this.insertDocument(n)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Wn;const n=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,n));const r=n[0],i=r+e.getLength();return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([r,i])}insertString(e,n){const r=this.getCurrentTextAttributes(),i=cr.textForStringWithAttributes(e,r);return this.insertText(i,n)}insertBlockBreak(){const e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));const n=e[0],r=n+1;return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}insertLineBreak(){const e=new BA(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){const n=new Wn([e.block.copyWithoutText()]);return this.insertDocument(n)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){const n=xc.parse(e,{purifyOptions:{SAFE_FOR_XML:!0}}).getDocument(),r=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(n,r));const i=r[0],s=i+n.getLength()-1;return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([i,s])}replaceHTML(e){const n=xc.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),r=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(r);return this.setDocument(n),this.setSelection(i)}insertFile(e){return this.insertFiles([e])}insertFiles(e){const n=[];return Array.from(e).forEach(r=>{var i;if((i=this.delegate)!==null&&i!==void 0&&i.compositionShouldAcceptFile(r)){const s=Ya.attachmentForFile(r);n.push(s)}}),this.insertAttachments(n)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let n=new cr;return Array.from(e).forEach(r=>{var i;const s=r.getType(),a=(i=Gv[s])===null||i===void 0?void 0:i.presentation,l=this.getCurrentTextAttributes();a&&(l.presentation=a);const c=cr.textForAttachmentWithAttributes(r,l);n=n.appendText(c)}),this.insertText(n)}shouldManageDeletingInDirection(e){const n=this.getLocationRange();if(ci(n)){if(e==="backward"&&n[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(n[0].index!==n[1].index)return!0;return!1}deleteInDirection(e){let n,r,i,{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getLocationRange();let l=this.getSelectedRange();const c=ci(l);if(c?r=e==="backward"&&a[0].offset===0:i=a[0].index!==a[1].index,r&&this.canDecreaseBlockAttributeLevel()){const u=this.getBlock();if(u.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(l[0]),u.isEmpty())return!1}return c&&(l=this.getExpandedRangeInDirection(e,{length:s}),e==="backward"&&(n=this.getAttachmentAtRange(l))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(l)),this.setSelection(l[0]),!r&&!i&&void 0)}moveTextFromRange(e){const[n]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,n)),this.setSelection(n)}removeAttachment(e){const n=this.document.getRangeOfAttachment(e);if(n)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(n)),this.setSelection(n[0])}removeLastBlockAttribute(){const[e,n]=Array.from(this.getSelectedRange()),r=this.document.getBlockAtPosition(n);return this.removeCurrentAttribute(r.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){const n=this.currentAttributes[e];return n!=null&&n!==!1}toggleCurrentAttribute(e){const n=!this.currentAttributes[e];return n?this.setCurrentAttribute(e,n):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return ht(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){const n=this.getSelectedDocument();if(n){for(const r of Array.from(n.getAttachments()))if(!r.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){const n=this.getBlock();if(n)return!n.isTerminalBlock()}setCurrentAttribute(e,n){return ht(e)?this.setBlockAttribute(e,n):(this.setTextAttribute(e,n),this.currentAttributes[e]=n,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(e,n,r){var i;const s=this.document.getBlockAtPosition(e),a=(i=ht(s.getLastAttribute()))===null||i===void 0?void 0:i.htmlAttributes;if(s&&a!=null&&a.includes(n)){const l=this.document.setHTMLAttributeAtPosition(e,n,r);this.setDocument(l)}}setTextAttribute(e,n){const r=this.getSelectedRange();if(!r)return;const[i,s]=Array.from(r);if(i!==s)return this.setDocument(this.document.addAttributeAtRange(e,n,r));if(e==="href"){const a=cr.textForStringWithAttributes(n,{href:n});return this.insertText(a)}}setBlockAttribute(e,n){const r=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,n,r)),this.setSelection(r)}removeCurrentAttribute(e){return ht(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(e,n))}removeBlockAttribute(e){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(e,n))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;const n=this.getBlock();if(n){if((e=ht(n.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return n.getNestingLevel()>0;{const r=this.getPreviousBlock();if(r)return function(){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return ao((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,i.length),i)}(r.getListItemAttributes(),n.getListItemAttributes())}}}decreaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;const n=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(n)return this.removeCurrentAttribute(n)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange());const{index:n}=this.document.locationFromPosition(e);let r=n;const i=this.getBlock().getAttributeLevel();let s=this.document.getBlockAtIndex(r+1);for(;s&&s.isListItem()&&!(s.getAttributeLevel()<=i);)r++,s=this.document.getBlockAtIndex(r+1);e=this.document.positionFromLocation({index:n,offset:0});const a=this.document.positionFromLocation({index:r,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,a]))}updateCurrentAttributes(){const e=this.getSelectedRange({ignoreLock:!0});if(e){const n=this.document.getCommonAttributesAtRange(e);if(Array.from(Xp()).forEach(r=>{n[r]||this.canSetCurrentAttribute(r)||(n[r]=!1)}),!Qa(n,this.currentAttributes))return this.currentAttributes=n,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return fA.call({},this.currentAttributes)}getCurrentTextAttributes(){const e={};for(const n in this.currentAttributes){const r=this.currentAttributes[n];r!==!1&&Jp(n)&&(e[n]=r)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var n;const r=this.document.locationRangeFromRange(e);return(n=this.delegate)===null||n===void 0?void 0:n.compositionDidRequestChangingSelectionToLocationRange(r)}getSelectedRange(){const e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){const n=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(n)}getPosition(){const e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||Ue({index:0,offset:0})}withTargetLocationRange(e,n){let r;this.targetLocationRange=e;try{r=n()}finally{this.targetLocationRange=null}return r}withTargetRange(e,n){const r=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(r,n)}withTargetDOMRange(e,n){const r=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(r,n)}getExpandedRangeInDirection(e){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[r,i]=Array.from(this.getSelectedRange());return e==="backward"?n?r-=n:r=this.translateUTF16PositionFromOffset(r,-1):n?i+=n:i=this.translateUTF16PositionFromOffset(i,1),Ue([r,i])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;const n=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(n)!=null}moveCursorInDirection(e){let n,r;if(this.editingAttachment)r=this.document.getRangeOfAttachment(this.editingAttachment);else{const i=this.getSelectedRange();r=this.getExpandedRangeInDirection(e),n=!Dd(i,r)}if(e==="backward"?this.setSelectedRange(r[0]):this.setSelectedRange(r[1]),n){const i=this.getAttachmentAtRange(r);if(i)return this.editAttachment(i)}}expandSelectionInDirection(e){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getExpandedRangeInDirection(e,{length:n});return this.setSelectedRange(r)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){const n=this.getPosition(),r=this.document.getRangeOfCommonAttributeAtPosition(e,n);return this.setSelectedRange(r)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){const n=this.document.locationFromPosition(e);if(n)return this.locationIsCursorTarget(n)}positionIsBlockBreak(e){var n;return(n=this.document.getPieceAtPosition(e))===null||n===void 0?void 0:n.isBlockBreak()}getSelectedDocument(){const e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const e=this.document.getAttachments(),{added:n,removed:r}=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const a=[],l=[],c=new Set;i.forEach(d=>{c.add(d)});const u=new Set;return s.forEach(d=>{u.add(d),c.has(d)||a.push(d)}),i.forEach(d=>{u.has(d)||l.push(d)}),{added:a,removed:l}}(this.attachments,e);return this.attachments=e,Array.from(r).forEach(i=>{var s,a;i.delegate=null,(s=this.delegate)===null||s===void 0||(a=s.compositionDidRemoveAttachment)===null||a===void 0||a.call(s,i)}),(()=>{const i=[];return Array.from(n).forEach(s=>{var a,l;s.delegate=this,i.push((a=this.delegate)===null||a===void 0||(l=a.compositionDidAddAttachment)===null||l===void 0?void 0:l.call(a,s))}),i})()}attachmentDidChangeAttributes(e){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidEditAttachment)===null||r===void 0?void 0:r.call(n,e)}attachmentDidChangePreviewURL(e){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeAttachmentPreviewURL)===null||r===void 0?void 0:r.call(n,e)}editAttachment(e,n){var r,i;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(r=this.delegate)===null||r===void 0||(i=r.compositionDidStartEditingAttachment)===null||i===void 0?void 0:i.call(r,this.editingAttachment,n)}stopEditingAttachment(){var e,n;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(n=e.compositionDidStopEditingAttachment)===null||n===void 0||n.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,n){return this.setDocument(this.document.updateAttributesForAttachment(e,n))}removeAttributeForAttachment(e,n){return this.setDocument(this.document.removeAttributeForAttachment(e,n))}breakFormattedBlock(e){let{document:n}=e;const{block:r}=e;let i=e.startPosition,s=[i-1,i];r.getBlockBreakPosition()===e.startLocation.offset?(r.breaksOnReturn()&&e.nextCharacter===`
`?i+=1:n=n.removeTextAtRange(s),s=[i,i]):e.nextCharacter===`
`?e.previousCharacter===`
`?s=[i-1,i+1]:(s=[i,i+1],i+=1):e.startLocation.offset-1!=0&&(i+=1);const a=new Wn([r.removeLastAttribute().copyWithoutText()]);return this.setDocument(n.insertDocumentAtRange(a,s)),this.setSelection(i)}getPreviousBlock(){const e=this.getLocationRange();if(e){const{index:n}=e[0];if(n>0)return this.document.getBlockAtIndex(n-1)}}getBlock(){const e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){const n=this.document.getDocumentAtRange(e);if(n.toString()==="".concat("",`
`))return n.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.compositionDidChangeCurrentAttributes)===null||n===void 0?void 0:n.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionDidPerformInsertionAtRange)===null||r===void 0?void 0:r.call(n,e)}translateUTF16PositionFromOffset(e,n){const r=this.document.toUTF16String(),i=r.offsetFromUCS2Offset(e);return r.offsetToUCS2Offset(i+n)}}Mi.proxyMethod("getSelectionManager().getPointRange"),Mi.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Mi.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Mi.proxyMethod("getSelectionManager().locationIsCursorTarget"),Mi.proxyMethod("getSelectionManager().selectionIsExpanded"),Mi.proxyMethod("delegate?.getSelectionManager");class rg extends xt{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.undoEntries.slice(-1)[0];if(!r||!c$(i,e,n)){const s=this.createEntry({description:e,context:n});this.undoEntries.push(s),this.redoEntries=[]}}undo(){const e=this.undoEntries.pop();if(e){const n=this.createEntry(e);return this.redoEntries.push(n),this.composition.loadSnapshot(e.snapshot)}}redo(){const e=this.redoEntries.pop();if(e){const n=this.createEntry(e);return this.undoEntries.push(n),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e==null?void 0:e.toString(),context:JSON.stringify(n),snapshot:this.composition.getSnapshot()}}}const c$=(t,e,n)=>(t==null?void 0:t.description)===(e==null?void 0:e.toString())&&(t==null?void 0:t.context)===JSON.stringify(n),rm="attachmentGallery";class $A{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange(rm,e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(n=>{n[1]-n[0]>1&&(n[0]+=e,n[1]+=e,this.document.getCharacterAtPosition(n[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[1]),n[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),n[1]++,e++),n[0]!==0&&this.document.getCharacterAtPosition(n[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[0]),n[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),n[0]++,e++),this.document=this.document.applyBlockAttributeAtRange(rm,!0,n))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(rm)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const UA=function(t){const e=new $A(t);return e.perform(),e.getSnapshot()},u$=[UA];class zA{constructor(e,n,r){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=n,this.element=r,this.undoManager=new rg(this.composition),this.filters=u$.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=xc.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(n)}loadJSON(e){let{document:n,selectedRange:r}=e;return n=Wn.fromJSON(n),this.loadSnapshot({document:n,selectedRange:r})}loadSnapshot(e){return this.undoManager=new rg(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){const n=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(n)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,n)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}setHTMLAtributeAtPosition(e,n,r){this.composition.setHTMLAtributeAtPosition(e,n,r)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:n,consolidatable:r})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class WA{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,n){let{strict:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},i=0,s=!1;const a={index:0,offset:0},l=this.findAttachmentElementParentForNode(e);l&&(e=l.parentNode,n=Uf(l));const c=Pd(this.element,{usingFilter:VA});for(;c.nextNode();){const u=c.currentNode;if(u===e&&Bl(e)){na(u)||(a.offset+=n);break}if(u.parentNode===e){if(i++===n)break}else if(!Os(e,u)&&i>0)break;a0(u,{strict:r})?(s&&a.index++,a.offset=0,s=!0):a.offset+=im(u)}return a}findContainerAndOffsetFromLocation(e){let n,r;if(e.index===0&&e.offset===0){for(n=this.element,r=0;n.firstChild;)if(n=n.firstChild,zf(n)){r=1;break}return[n,r]}let[i,s]=this.findNodeAndOffsetFromLocation(e);if(i){if(Bl(i))im(i)===0?(n=i.parentNode.parentNode,r=Uf(i.parentNode),na(i,{name:"right"})&&r++):(n=i,r=e.offset-s);else{if(n=i.parentNode,!a0(i.previousSibling)&&!zf(n))for(;i===n.lastChild&&(i=n,n=n.parentNode,!zf(n)););r=Uf(i),e.offset!==0&&r++}return[n,r]}}findNodeAndOffsetFromLocation(e){let n,r,i=0;for(const s of this.getSignificantNodesForIndex(e.index)){const a=im(s);if(e.offset<=i+a)if(Bl(s)){if(n=s,r=i,e.offset===r&&na(n))break}else n||(n=s,r=i);if(i+=a,i>e.offset)break}return[n,r]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(Gs(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){const n=[],r=Pd(this.element,{usingFilter:d$});let i=!1;for(;r.nextNode();){const a=r.currentNode;var s;if(ta(a)){if(s!=null?s++:s=0,s===e)i=!0;else if(i)break}else i&&n.push(a)}return n}}const im=function(t){return t.nodeType===Node.TEXT_NODE?na(t)?0:t.textContent.length:sn(t)==="br"||Gs(t)?1:0},d$=function(t){return h$(t)===NodeFilter.FILTER_ACCEPT?VA(t):NodeFilter.FILTER_REJECT},h$=function(t){return gA(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},VA=function(t){return Gs(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class HA{createDOMRangeFromPoint(e){let n,{x:r,y:i}=e;if(document.caretPositionFromPoint){const{offsetNode:s,offset:a}=document.caretPositionFromPoint(r,i);return n=document.createRange(),n.setStart(s,a),n}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(r,i);if(document.body.createTextRange){const s=$l();try{const a=document.body.createTextRange();a.moveToPoint(r,i),a.select()}catch{}return n=$l(),NA(s),n}}getClientRectsForDOMRange(e){const n=Array.from(e.getClientRects());return[n[0],n[n.length-1]]}}class Rs extends xt{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new WA(this.element),this.pointMapper=new HA,this.lockCount=0,nt("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange($l()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=Ue(e);const n=this.createDOMRangeFromLocationRange(e);n&&(NA(n),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=Ue(e);const n=this.getLocationAtPoint(e[0]),r=this.getLocationAtPoint(e[1]);this.setLocationRange([n,r])}getClientRectAtLocationRange(e){const n=this.createDOMRangeFromLocationRange(e);if(n)return this.getClientRectsForDOMRange(n)[1]}locationIsCursorTarget(e){const n=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return na(n)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=CA())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=$l())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,n){if(e==null||!this.domRangeWithinElement(e))return;const r=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,n);if(!r)return;const i=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,n);return Ue([r,i])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;const n=()=>{if(this.paused=!1,clearTimeout(r),Array.from(e).forEach(i=>{i.destroy()}),Os(document,this.element))return this.selectionDidChange()},r=setTimeout(n,200);e=["mousemove","keydown"].map(i=>nt(i,{onElement:document,withCallback:n}))}selectionDidChange(){if(!this.paused&&!Yv(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var n,r;if((e??(e=this.createLocationRangeFromDOMRange($l())))&&!Dd(e,this.currentLocationRange))return this.currentLocationRange=e,(n=this.delegate)===null||n===void 0||(r=n.locationRangeDidChange)===null||r===void 0?void 0:r.call(n,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){const n=this.findContainerAndOffsetFromLocation(e[0]),r=ci(e)?n:this.findContainerAndOffsetFromLocation(e[1])||n;if(n!=null&&r!=null){const i=document.createRange();return i.setStart(...Array.from(n||[])),i.setEnd(...Array.from(r||[])),i}}getLocationAtPoint(e){const n=this.createDOMRangeFromPoint(e);var r;if(n)return(r=this.createLocationRangeFromDOMRange(n))===null||r===void 0?void 0:r[0]}domRangeWithinElement(e){return e.collapsed?Os(this.element,e.startContainer):Os(this.element,e.startContainer)&&Os(this.element,e.endContainer)}}Rs.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Rs.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Rs.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Rs.proxyMethod("pointMapper.createDOMRangeFromPoint"),Rs.proxyMethod("pointMapper.getClientRectsForDOMRange");var qA=Object.freeze({__proto__:null,Attachment:Ya,AttachmentManager:FA,AttachmentPiece:Ra,Block:Pr,Composition:Mi,Document:Wn,Editor:zA,HTMLParser:xc,HTMLSanitizer:Dh,LineBreakInsertion:BA,LocationMapper:WA,ManagedAttachment:et,Piece:bo,PointMapper:HA,SelectionManager:Rs,SplittableList:Ld,StringPiece:iy,Text:cr,UndoManager:rg}),f$=Object.freeze({__proto__:null,ObjectView:xo,AttachmentView:ry,BlockView:PA,DocumentView:Oh,PieceView:_A,PreviewableAttachmentView:kA,TextView:TA});const{lang:sm,css:Ns,keyNames:m$}=Uc,om=function(t){return function(){const e=t.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}};class KA extends xt{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Gt(this,"makeElementMutable",om(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Gt(this,"addToolbar",om(()=>{const s=be({tagName:"div",className:Ns.attachmentToolbar,data:{trixMutable:!0},childNodes:be({tagName:"div",className:"trix-button-row",childNodes:be({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:be({tagName:"button",className:"trix-button trix-button--remove",textContent:sm.remove,attributes:{title:sm.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&s.appendChild(be({tagName:"div",className:Ns.attachmentMetadataContainer,childNodes:be({tagName:"span",className:Ns.attachmentMetadata,childNodes:[be({tagName:"span",className:Ns.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),be({tagName:"span",className:Ns.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),nt("click",{onElement:s,withCallback:this.didClickToolbar}),nt("click",{onElement:s,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),Ml("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:s,attachment:this.attachment}}),{do:()=>this.element.appendChild(s),undo:()=>gs(s)}})),Gt(this,"installCaptionEditor",om(()=>{const s=be({tagName:"textarea",className:Ns.attachmentCaptionEditor,attributes:{placeholder:sm.captionPlaceholder},data:{trixMutable:!0}});s.value=this.attachmentPiece.getCaption();const a=s.cloneNode();a.classList.add("trix-autoresize-clone"),a.tabIndex=-1;const l=function(){a.value=s.value,s.style.height=a.scrollHeight+"px"};nt("input",{onElement:s,withCallback:l}),nt("input",{onElement:s,withCallback:this.didInputCaption}),nt("keydown",{onElement:s,withCallback:this.didKeyDownCaption}),nt("change",{onElement:s,withCallback:this.didChangeCaption}),nt("blur",{onElement:s,withCallback:this.didBlurCaption});const c=this.element.querySelector("figcaption"),u=c.cloneNode();return{do:()=>{if(c.style.display="none",u.appendChild(s),u.appendChild(a),u.classList.add("".concat(Ns.attachmentCaption,"--editing")),c.parentElement.insertBefore(u,c),l(),this.options.editCaption)return Zv(()=>s.focus())},undo(){gs(u),c.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=n,this.container=r,this.options=i,this.attachment=this.attachmentPiece.attachment,sn(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let n=this.undos.pop();for(this.savePendingCaption();n;)n(),n=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const s=this.pendingCaption;var e,n,r,i;this.pendingCaption=null,s?(e=this.delegate)===null||e===void 0||(n=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||n===void 0||n.call(e,{caption:s},this.attachment):(r=this.delegate)===null||r===void 0||(i=r.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||i===void 0||i.call(r,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var n;if(e.target.getAttribute("data-trix-action")==="remove")return(n=this.delegate)===null||n===void 0?void 0:n.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var n,r;if(m$[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(n=this.delegate)===null||n===void 0||(r=n.attachmentEditorDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}}class GA extends xt{constructor(e,n){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=n,this.documentView=new Oh(this.composition.document,{element:this.element}),nt("focus",{onElement:this.element,withCallback:this.didFocus}),nt("blur",{onElement:this.element,withCallback:this.didBlur}),nt("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),nt("mousedown",{onElement:this.element,matchingSelector:Ks,withCallback:this.didClickAttachment}),nt("click",{onElement:this.element,matchingSelector:"a".concat(Ks),preventDefault:!0})}didFocus(e){var n;const r=()=>{var i,s;if(!this.focused)return this.focused=!0,(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidFocus)===null||s===void 0?void 0:s.call(i)};return((n=this.blurPromise)===null||n===void 0?void 0:n.then(r))||r()}didBlur(e){this.blurPromise=new Promise(n=>Zv(()=>{var r,i;return Yv(this.element)||(this.focused=null,(r=this.delegate)===null||r===void 0||(i=r.compositionControllerDidBlur)===null||i===void 0||i.call(r)),this.blurPromise=null,n()}))}didClickAttachment(e,n){var r,i;const s=this.findAttachmentForElement(n),a=!!ps(e.target,{matchingSelector:"figcaption"});return(r=this.delegate)===null||r===void 0||(i=r.compositionControllerDidSelectAttachment)===null||i===void 0?void 0:i.call(r,s,{editCaption:a})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,n,r,i,s,a;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((r=this.delegate)===null||r===void 0||(i=r.compositionControllerWillSyncDocumentView)===null||i===void 0||i.call(r),this.documentView.sync(),(s=this.delegate)===null||s===void 0||(a=s.compositionControllerDidSyncDocumentView)===null||a===void 0||a.call(s)),(e=this.delegate)===null||e===void 0||(n=e.compositionControllerDidRender)===null||n===void 0?void 0:n.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,n){var r;if(((r=this.attachmentEditor)===null||r===void 0?void 0:r.attachment)===e)return;const i=this.documentView.findElementForObject(e);if(!i)return;this.uninstallAttachmentEditor();const s=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new KA(s,i,this.element,n),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,n){var r,i;return(r=this.delegate)===null||r===void 0||(i=r.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(r,n),this.composition.updateAttributesForAttachment(e,n)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,n){var r,i;return(r=this.delegate)===null||r===void 0||(i=r.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(r,n),this.composition.removeAttributeForAttachment(e,n)}attachmentEditorDidRequestRemovalOfAttachment(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,e)}attachmentEditorDidRequestDeselectingAttachment(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}}class QA extends xt{}const YA="data-trix-mutable",p$="[".concat(YA,"]"),g$={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class XA extends xt{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,g$)}stop(){return this.observer.disconnect()}didMutate(e){var n,r;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(n=this.delegate)===null||n===void 0||(r=n.elementDidMutate)===null||r===void 0||r.call(n,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(n=>this.mutationIsSignificant(n))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(const n of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(n))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!gA(e)}nodeIsMutable(e){return ps(e,{matchingSelector:p$})}nodesModifiedByMutation(e){const n=[];switch(e.type){case"attributes":e.attributeName!==YA&&n.push(e.target);break;case"characterData":n.push(e.target.parentNode),n.push(e.target);break;case"childList":n.push(...Array.from(e.addedNodes||[])),n.push(...Array.from(e.removedNodes||[]))}return n}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:e,deletions:n}=this.getTextChangesFromCharacterData(),r=this.getTextChangesFromChildList();Array.from(r.additions).forEach(l=>{Array.from(e).includes(l)||e.push(l)}),n.push(...Array.from(r.deletions||[]));const i={},s=e.join("");s&&(i.textAdded=s);const a=n.join("");return a&&(i.textDeleted=a),i}getMutationsByType(e){return Array.from(this.mutations).filter(n=>n.type===e)}getTextChangesFromChildList(){let e,n;const r=[],i=[];Array.from(this.getMutationsByType("childList")).forEach(l=>{r.push(...Array.from(l.addedNodes||[])),i.push(...Array.from(l.removedNodes||[]))}),r.length===0&&i.length===1&&ta(i[0])?(e=[],n=[`
`]):(e=ig(r),n=ig(i));const s=e.filter((l,c)=>l!==n[c]).map(Nl),a=n.filter((l,c)=>l!==e[c]).map(Nl);return{additions:s,deletions:a}}getTextChangesFromCharacterData(){let e,n;const r=this.getMutationsByType("characterData");if(r.length){const i=r[0],s=r[r.length-1],a=function(l,c){let u,d;return l=vc.box(l),(c=vc.box(c)).length<l.length?[d,u]=f0(l,c):[u,d]=f0(c,l),{added:u,removed:d}}(Nl(i.oldValue),Nl(s.target.data));e=a.added,n=a.removed}return{additions:e?[e]:[],deletions:n?[n]:[]}}}const ig=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];for(const n of Array.from(t))switch(n.nodeType){case Node.TEXT_NODE:e.push(n.data);break;case Node.ELEMENT_NODE:sn(n)==="br"?e.push(`
`):e.push(...Array.from(ig(n.childNodes)||[]))}return e};class JA extends Od{constructor(e){super(...arguments),this.file=e}perform(e){const n=new FileReader;return n.onerror=()=>e(!1),n.onload=()=>{n.onerror=null;try{n.abort()}catch{}return e(!0,this.file)},n.readAsArrayBuffer(this.file)}}class v${constructor(e){this.element=e}shouldIgnore(e){return!!$c.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&y$(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,n;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((n=this.previousEvent)===null||n===void 0?void 0:n.key)==="Unidentified"}}const y$=(t,e)=>O0(t)===O0(e),x$=new RegExp("(".concat("","|").concat(Ph,"|").concat($i,"|\\s)+"),"g"),O0=t=>t.replace(x$," ").trim();class Lh extends xt{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new XA(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new v$(this.element);for(const n in this.constructor.events)nt(n,{onElement:this.element,withCallback:this.handlerFor(n)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidRequestRender)===null||n===void 0?void 0:n.call(e)}requestReparse(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidRequestReparse)===null||n===void 0||n.call(e),this.requestRender()}attachFiles(e){const n=Array.from(e).map(r=>new JA(r));return Promise.all(n).then(r=>{this.handleInput(function(){var i,s;return(i=this.delegate)===null||i===void 0||i.inputControllerWillAttachFiles(),(s=this.responder)===null||s===void 0||s.insertFiles(r),this.requestRender()})})}handlerFor(e){return n=>{n.defaultPrevented||this.handleInput(()=>{if(!Yv(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(n))return;this.eventName=e,this.constructor.events[e].call(this,n)}})}}handleInput(e){try{var n;(n=this.delegate)===null||n===void 0||n.inputControllerWillHandleInput(),e.call(this)}finally{var r;(r=this.delegate)===null||r===void 0||r.inputControllerDidHandleInput()}}createLinkHTML(e,n){const r=document.createElement("a");return r.href=e,r.textContent=n||e,r.outerHTML}}var am;Gt(Lh,"events",{});const{browser:b$,keyNames:ZA}=Uc;let w$=0;class ei extends Lh{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const n in e){const r=e[n];this.inputSummary[n]=r}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),lo.reset()}elementDidMutate(e){var n,r;return this.isComposing()?(n=this.delegate)===null||n===void 0||(r=n.inputControllerDidAllowUnhandledInput)===null||r===void 0?void 0:r.call(n):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:n,textDeleted:r}=e;if(this.inputSummary.preferDocument)return!0;const i=n!=null?n===this.inputSummary.textAdded:!this.inputSummary.textAdded,s=r!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,a=[`
`,` 
`].includes(n)&&!i,l=r===`
`&&!s;if(a&&!l||l&&!a){const u=this.getSelectedRange();if(u){var c;const d=a?n.replace(/\n$/,"").length||-1:(n==null?void 0:n.length)||1;if((c=this.responder)!==null&&c!==void 0&&c.positionIsBlockBreak(u[1]+d))return!0}}return i&&s}mutationIsSignificant(e){var n;const r=Object.keys(e).length>0,i=((n=this.compositionInput)===null||n===void 0?void 0:n.getEndData())==="";return r||!i}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new Di(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,n){var r;return((r=this.responder)===null||r===void 0?void 0:r.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):n?(n.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var n;if(!function(i){if(i==null||!i.setData)return!1;for(const s in u0){const a=u0[s];try{if(i.setData(s,a),!i.getData(s)===a)return!1}catch{return!1}}return!0}(e))return;const r=(n=this.responder)===null||n===void 0?void 0:n.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(r)),e.setData("text/html",Oh.render(r).innerHTML),e.setData("text/plain",r.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){const n={};return Array.from((e==null?void 0:e.types)||[]).forEach(r=>{n[r]=!0}),n.Files||n["application/x-trix-document"]||n["text/html"]||n["text/plain"]}getPastedHTMLUsingHiddenElement(e){const n=this.getSelectedRange(),r={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},i=be({style:r,tagName:"div",editable:!0});return document.body.appendChild(i),i.focus(),requestAnimationFrame(()=>{const s=i.innerHTML;return gs(i),this.setSelectedRange(n),e(s)})}}Gt(ei,"events",{keydown(t){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=ZA[t.keyCode];if(e){var n;let i=this.keys;["ctrl","alt","shift","meta"].forEach(s=>{var a;t["".concat(s,"Key")]&&(s==="ctrl"&&(s="control"),i=(a=i)===null||a===void 0?void 0:a[s])}),((n=i)===null||n===void 0?void 0:n[e])!=null&&(this.setInputSummary({keyName:e}),lo.reset(),i[e].call(this,t))}if(bA(t)){const i=String.fromCharCode(t.keyCode).toLowerCase();if(i){var r;const s=["alt","shift"].map(a=>{if(t["".concat(a,"Key")])return a}).filter(a=>a);s.push(i),(r=this.delegate)!==null&&r!==void 0&&r.inputControllerDidReceiveKeyboardCommand(s)&&t.preventDefault()}}},keypress(t){if(this.inputSummary.eventName!=null||t.metaKey||t.ctrlKey&&!t.altKey)return;const e=N$(t);var n,r;return e?((n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(t){const{data:e}=t,{textAdded:n}=this.inputSummary;if(n&&n!==e&&n.toUpperCase()===e){var r;const i=this.getSelectedRange();return this.setSelectedRange([i[0],i[1]+n.length]),(r=this.responder)===null||r===void 0||r.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(i)}},dragenter(t){t.preventDefault()},dragstart(t){var e,n;return this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidStartDrag)===null||n===void 0?void 0:n.call(e)},dragover(t){if(this.draggedRange||this.canAcceptDataTransfer(t.dataTransfer)){t.preventDefault();const r={x:t.clientX,y:t.clientY};var e,n;if(!Qa(r,this.draggingPoint))return this.draggingPoint=r,(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidReceiveDragOverPoint)===null||n===void 0?void 0:n.call(e,this.draggingPoint)}},dragend(t){var e,n;(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidCancelDrag)===null||n===void 0||n.call(e),this.draggedRange=null,this.draggingPoint=null},drop(t){var e,n;t.preventDefault();const r=(e=t.dataTransfer)===null||e===void 0?void 0:e.files,i=t.dataTransfer.getData("application/x-trix-document"),s={x:t.clientX,y:t.clientY};if((n=this.responder)===null||n===void 0||n.setLocationRangeFromPointRange(s),r!=null&&r.length)this.attachFiles(r);else if(this.draggedRange){var a,l;(a=this.delegate)===null||a===void 0||a.inputControllerWillMoveText(),(l=this.responder)===null||l===void 0||l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(i){var c;const u=Wn.fromJSONString(i);(c=this.responder)===null||c===void 0||c.insertDocument(u),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(t){var e,n;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),(n=this.delegate)===null||n===void 0||n.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented))return this.requestRender()},copy(t){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault()},paste(t){const e=t.clipboardData||t.testClipboardData,n={clipboard:e};if(!e||E$(t))return void this.getPastedHTMLUsingHiddenElement(x=>{var C,E,N;return n.type="text/html",n.html=x,(C=this.delegate)===null||C===void 0||C.inputControllerWillPaste(n),(E=this.responder)===null||E===void 0||E.insertHTML(n.html),this.requestRender(),(N=this.delegate)===null||N===void 0?void 0:N.inputControllerDidPaste(n)});const r=e.getData("URL"),i=e.getData("text/html"),s=e.getData("public.url-name");if(r){var a,l,c;let x;n.type="text/html",x=s?ty(s).trim():r,n.html=this.createLinkHTML(r,x),(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(n),this.setInputSummary({textAdded:x,didDelete:this.selectionIsExpanded()}),(l=this.responder)===null||l===void 0||l.insertHTML(n.html),this.requestRender(),(c=this.delegate)===null||c===void 0||c.inputControllerDidPaste(n)}else if(xA(e)){var u,d,f;n.type="text/plain",n.string=e.getData("text/plain"),(u=this.delegate)===null||u===void 0||u.inputControllerWillPaste(n),this.setInputSummary({textAdded:n.string,didDelete:this.selectionIsExpanded()}),(d=this.responder)===null||d===void 0||d.insertString(n.string),this.requestRender(),(f=this.delegate)===null||f===void 0||f.inputControllerDidPaste(n)}else if(i){var v,S,y;n.type="text/html",n.html=i,(v=this.delegate)===null||v===void 0||v.inputControllerWillPaste(n),(S=this.responder)===null||S===void 0||S.insertHTML(n.html),this.requestRender(),(y=this.delegate)===null||y===void 0||y.inputControllerDidPaste(n)}else if(Array.from(e.types).includes("Files")){var g,w;const x=(g=e.items)===null||g===void 0||(g=g[0])===null||g===void 0||(w=g.getAsFile)===null||w===void 0?void 0:w.call(g);if(x){var b,p,m;const C=S$(x);!x.name&&C&&(x.name="pasted-file-".concat(++w$,".").concat(C)),n.type="File",n.file=x,(b=this.delegate)===null||b===void 0||b.inputControllerWillAttachFiles(),(p=this.responder)===null||p===void 0||p.insertFile(n.file),this.requestRender(),(m=this.delegate)===null||m===void 0||m.inputControllerDidPaste(n)}}t.preventDefault()},compositionstart(t){return this.getCompositionInput().start(t.data)},compositionupdate(t){return this.getCompositionInput().update(t.data)},compositionend(t){return this.getCompositionInput().end(t.data)},beforeinput(t){this.inputSummary.didInput=!0},input(t){return this.inputSummary.didInput=!0,t.stopPropagation()}}),Gt(ei,"keys",{backspace(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},delete(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},return(t){var e,n;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0?void 0:n.insertLineBreak()},tab(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.increaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o(t){var e,n;return t.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(t){var e,n;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`),this.requestRender(),t.preventDefault()},tab(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.decreaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("backward")},right(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),ei.proxyMethod("responder?.getSelectedRange"),ei.proxyMethod("responder?.setSelectedRange"),ei.proxyMethod("responder?.expandSelectionInDirection"),ei.proxyMethod("responder?.selectionIsInCursorTarget"),ei.proxyMethod("responder?.selectionIsExpanded");const S$=t=>{var e;return(e=t.type)===null||e===void 0||(e=e.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},C$=!((am=" ".codePointAt)===null||am===void 0||!am.call(" ",0)),N$=function(t){if(t.key&&C$&&t.key.codePointAt(0)===t.keyCode)return t.key;{let e;if(t.which===null?e=t.keyCode:t.which!==0&&t.charCode!==0&&(e=t.charCode),e!=null&&ZA[e]!=="escape")return vc.fromCodepoints([e]).toString()}},E$=function(t){const e=t.clipboardData;if(e){if(e.types.includes("text/html")){for(const n of e.types){const r=/^CorePasteboardFlavorType/.test(n),i=/^dyn\./.test(n)&&e.getData(n);if(r||i)return!0}return!1}{const n=e.types.includes("com.apple.webarchive"),r=e.types.includes("com.apple.flat-rtfd");return n||r}}};class Di extends xt{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var n,r;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((r=this.responder)===null||r===void 0||r.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){const n=this.selectPlaceholder();n&&(this.forgetPlaceholder(),this.range=n)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.setSelectedRange(this.range),(i=this.responder)===null||i===void 0||i.insertString(this.data.end),(s=this.responder)===null||s===void 0?void 0:s.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var n,r,i,s}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!b$.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,n;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((n=this.data.end)===null||n===void 0?void 0:n.length)>0&&this.range}}Di.proxyMethod("inputController.setInputSummary"),Di.proxyMethod("inputController.requestRender"),Di.proxyMethod("inputController.requestReparse"),Di.proxyMethod("responder?.selectionIsExpanded"),Di.proxyMethod("responder?.insertPlaceholder"),Di.proxyMethod("responder?.selectPlaceholder"),Di.proxyMethod("responder?.forgetPlaceholder");class zl extends Lh{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidAllowUnhandledInput)===null||n===void 0?void 0:n.call(e):void 0:this.reparse();var e,n}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,n;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(n=this.delegate)===null||n===void 0||n.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.insertString(n,r)})}toggleAttributeIfSupported(e){var n;if(Xp().includes(e))return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,n){var r;if(Xp().includes(e))return(r=this.delegate)===null||r===void 0||r.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.setCurrentAttribute(e,n)})}deleteInDirection(e){let{recordUndoEntry:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var r;n&&((r=this.delegate)===null||r===void 0||r.inputControllerWillPerformTyping());const i=()=>{var a;return(a=this.responder)===null||a===void 0?void 0:a.deleteInDirection(e)},s=this.getTargetDOMRange({minLength:this.composing?1:2});return s?this.withTargetDOMRange(s,i):i()}withTargetDOMRange(e,n){var r;return typeof e=="function"&&(n=e,e=this.getTargetDOMRange()),e?(r=this.responder)===null||r===void 0?void 0:r.withTargetDOMRange(e,n.bind(this)):(lo.reset(),n.call(this))}getTargetDOMRange(){var e,n;let{minLength:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const i=(e=(n=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(n);if(i&&i.length){const s=A$(i[0]);if(r===0||s.toString().length>=r)return s}}withEvent(e,n){let r;this.event=e;try{r=n.call(this)}finally{this.event=null}return r}}Gt(zl,"events",{keydown(t){if(bA(t)){var e;const n=k$(t);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(n)&&t.preventDefault()}else{let n=t.key;t.altKey&&(n+="+Alt"),t.shiftKey&&(n+="+Shift");const r=this.constructor.keys[n];if(r)return this.withEvent(t,r)}},paste(t){var e;let n;const r=(e=t.clipboardData)===null||e===void 0?void 0:e.getData("URL");return ej(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):R$(t)?(t.preventDefault(),n={type:"text/plain",string:t.clipboardData.getData("text/plain")},(i=this.delegate)===null||i===void 0||i.inputControllerWillPaste(n),(s=this.responder)===null||s===void 0||s.insertString(n.string),this.render(),(a=this.delegate)===null||a===void 0?void 0:a.inputControllerDidPaste(n)):r?(t.preventDefault(),n={type:"text/html",html:this.createLinkHTML(r)},(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(n),(c=this.responder)===null||c===void 0||c.insertHTML(n.html),this.render(),(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(n)):void 0;var i,s,a,l,c,u},beforeinput(t){const e=this.constructor.inputTypes[t.inputType],n=(r=t,!(!/iPhone|iPad/.test(navigator.userAgent)||r.inputType&&r.inputType!=="insertParagraph"));var r;e&&(this.withEvent(t,e),n||this.scheduleRender()),n&&this.render()},input(t){lo.reset()},dragstart(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(t.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange(),point:cm(t)})},dragenter(t){lm(t)&&t.preventDefault()},dragover(t){if(this.dragging){t.preventDefault();const n=cm(t);var e;if(!Qa(n,this.dragging.point))return this.dragging.point=n,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(n)}else lm(t)&&t.preventDefault()},drop(t){var e,n;if(this.dragging)return t.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(n=this.responder)===null||n===void 0||n.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(lm(t)){var r;t.preventDefault();const i=cm(t);return(r=this.responder)===null||r===void 0||r.setLocationRangeFromPointRange(i),this.attachFiles(t.dataTransfer.files)}},dragend(){var t;this.dragging&&((t=this.responder)===null||t===void 0||t.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(t){this.composing&&(this.composing=!1,$c.recentAndroid||this.scheduleRender())}}),Gt(zl,"keys",{ArrowLeft(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var t,e,n;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.deleteInDirection("backward"),this.render()},Tab(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),Gt(zl,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var t;this.deleteByDragRange=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var t;if((t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var t;if((t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const n in(t=this.responder)===null||t===void 0?void 0:t.getCurrentAttributes()){var t,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(n)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformRedo()},historyUndo(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const t=this.deleteByDragRange;var e;if(t)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var n;return(n=this.responder)===null||n===void 0?void 0:n.moveTextFromRange(t)})},insertFromPaste(){const{dataTransfer:t}=this.event,e={dataTransfer:t},n=t.getData("URL"),r=t.getData("text/html");if(n){var i;let c;this.event.preventDefault(),e.type="text/html";const u=t.getData("public.url-name");c=u?ty(u).trim():n,e.html=this.createLinkHTML(n,c),(i=this.delegate)===null||i===void 0||i.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var d;return(d=this.responder)===null||d===void 0?void 0:d.insertHTML(e.html)}),this.afterRender=()=>{var d;return(d=this.delegate)===null||d===void 0?void 0:d.inputControllerDidPaste(e)}}else if(xA(t)){var s;e.type="text/plain",e.string=t.getData("text/plain"),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertString(e.string)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(j$(this.event)){var a;e.type="File",e.file=t.files[0],(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertFile(e.file)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(r){var l;this.event.preventDefault(),e.type="text/html",e.html=r,(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertHTML(e.html)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){const t=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(t,{updatePosition:!1})})},insertText(){var t;return this.insertString(this.event.data||((t=this.event.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const A$=function(t){const e=document.createRange();return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},lm=t=>{var e;return Array.from(((e=t.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},j$=t=>{var e;return((e=t.dataTransfer.files)===null||e===void 0?void 0:e[0])&&!ej(t)&&!(n=>{let{dataTransfer:r}=n;return r.types.includes("Files")&&r.types.includes("text/html")&&r.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(t)},ej=function(t){const e=t.clipboardData;if(e)return Array.from(e.types).filter(n=>n.match(/file/i)).length===e.types.length&&e.files.length>=1},R$=function(t){const e=t.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},k$=function(t){const e=[];return t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.push(t.key),e},cm=t=>({x:t.clientX,y:t.clientY}),sg="[data-trix-attribute]",og="[data-trix-action]",_$="".concat(sg,", ").concat(og),Ih="[data-trix-dialog]",T$="".concat(Ih,"[data-trix-active]"),P$="".concat(Ih," [data-trix-method]"),L0="".concat(Ih," [data-trix-input]"),I0=(t,e)=>(e||(e=Po(t)),t.querySelector("[data-trix-input][name='".concat(e,"']"))),M0=t=>t.getAttribute("data-trix-action"),Po=t=>t.getAttribute("data-trix-attribute")||t.getAttribute("data-trix-dialog-attribute");class tj extends xt{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),nt("mousedown",{onElement:this.element,matchingSelector:og,withCallback:this.didClickActionButton}),nt("mousedown",{onElement:this.element,matchingSelector:sg,withCallback:this.didClickAttributeButton}),nt("click",{onElement:this.element,matchingSelector:_$,preventDefault:!0}),nt("click",{onElement:this.element,matchingSelector:P$,withCallback:this.didClickDialogButton}),nt("keydown",{onElement:this.element,matchingSelector:L0,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),e.preventDefault();const i=M0(n);return this.getDialog(i)?this.toggleDialog(i):(s=this.delegate)===null||s===void 0?void 0:s.toolbarDidInvokeAction(i,n);var s}didClickAttributeButton(e,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),e.preventDefault();const i=Po(n);var s;return this.getDialog(i)?this.toggleDialog(i):(s=this.delegate)===null||s===void 0||s.toolbarDidToggleAttribute(i),this.refreshAttributeButtons()}didClickDialogButton(e,n){const r=ps(n,{matchingSelector:Ih});return this[n.getAttribute("data-trix-method")].call(this,r)}didKeyDownDialogInput(e,n){if(e.keyCode===13){e.preventDefault();const r=n.getAttribute("name"),i=this.getDialog(r);this.setAttribute(i)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,n)=>{e.disabled=this.actions[n]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll(og)).map(n=>e(n,M0(n)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,n)=>(e.disabled=this.attributes[n]===!1,this.attributes[n]||this.dialogIsVisible(n)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll(sg)).map(n=>e(n,Po(n)))}applyKeyboardCommand(e){const n=JSON.stringify(e.sort());for(const r of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const i=r.getAttribute("data-trix-key").split("+");if(JSON.stringify(i.sort())===n)return Ml("mousedown",{onElement:r}),!0}return!1}dialogIsVisible(e){const n=this.getDialog(e);if(n)return n.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var n,r;this.hideDialog(),(n=this.delegate)===null||n===void 0||n.toolbarWillShowDialog();const i=this.getDialog(e);i.setAttribute("data-trix-active",""),i.classList.add("trix-active"),Array.from(i.querySelectorAll("input[disabled]")).forEach(a=>{a.removeAttribute("disabled")});const s=Po(i);if(s){const a=I0(i,e);a&&(a.value=this.attributes[s]||"",a.select())}return(r=this.delegate)===null||r===void 0?void 0:r.toolbarDidShowDialog(e)}setAttribute(e){var n;const r=Po(e),i=I0(e,r);return!i.willValidate||(i.setCustomValidity(""),i.checkValidity()&&this.isSafeAttribute(i))?((n=this.delegate)===null||n===void 0||n.toolbarDidUpdateAttribute(r,i.value),this.hideDialog()):(i.setCustomValidity("Invalid value"),i.setAttribute("data-trix-validate",""),i.classList.add("trix-validate"),i.focus())}isSafeAttribute(e){return!e.hasAttribute("data-trix-validate-href")||yc.isValidAttribute("a","href",e.value)}removeAttribute(e){var n;const r=Po(e);return(n=this.delegate)===null||n===void 0||n.toolbarDidRemoveAttribute(r),this.hideDialog()}hideDialog(){const e=this.element.querySelector(T$);var n;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(n=this.delegate)===null||n===void 0?void 0:n.toolbarDidHideDialog((r=>r.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(L0)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}}class Wl extends QA{constructor(e){let{editorElement:n,document:r,html:i}=e;super(...arguments),this.editorElement=n,this.selectionManager=new Rs(this.editorElement),this.selectionManager.delegate=this,this.composition=new Mi,this.composition.delegate=this,this.attachmentManager=new FA(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=Xv.getLevel()===2?new zl(this.editorElement):new ei(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new GA(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new tj(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new zA(this.composition,this.selectionManager,this.editorElement),r?this.editor.loadDocument(r):this.editor.loadHTML(i)}registerSelectionManager(){return lo.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return lo.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){const n=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:n})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);const n=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:n}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){const n=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:n})}compositionDidStartEditingAttachment(e,n){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,n),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,n){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,n)}compositionControllerDidRequestDeselectingAttachment(e){const n=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(n[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Dd(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e,n){return this.invokeAction(e,n)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,n){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,n),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((n=this.actions[e])===null||n===void 0||(n=n.test)===null||n===void 0||!n.call(this));var n}invokeAction(e,n){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e,invokingElement:n}):(r=this.actions[e])===null||r===void 0||(r=r.perform)===null||r===void 0?void 0:r.call(this);var r}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){const e={};for(const n in this.actions)e[n]=this.canInvokeAction(n);return e}updateCurrentActions(){const e=this.getCurrentActions();if(!Qa(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(i=>{const{document:s,selectedRange:a}=e;e=i.call(this.editor,e)||{},e.document||(e.document=s),e.selectedRange||(e.selectedRange=a)}),n=e,r=this.composition.getSnapshot(),!Dd(n.selectedRange,r.selectedRange)||!n.document.isEqualTo(r.document))return this.composition.loadSnapshot(e);var n,r}updateInputElement(){const e=function(n,r){const i=a$[r];if(i)return i(n);throw new Error("unknown content type: ".concat(r))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(e)}notifyEditorElement(e,n){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,n)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){const n=ht(e),r=this.selectionManager.getLocationRange();if(n||!ci(r))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return[this.getLocationContext(),this.getTimeContext(),...Array.from(n)]}getLocationContext(){const e=this.selectionManager.getLocationRange();return ci(e)?e[0].index:e}getTimeContext(){return Gp.interval>0?Math.floor(new Date().getTime()/Gp.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Gt(Wl,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return Xv.pickFiles(this.editor.insertFiles)}}}),Wl.proxyMethod("getSelectionManager().setLocationRange"),Wl.proxyMethod("getSelectionManager().getLocationRange");var D$=Object.freeze({__proto__:null,AttachmentEditorController:KA,CompositionController:GA,Controller:QA,EditorController:Wl,InputController:Lh,Level0InputController:ei,Level2InputController:zl,ToolbarController:tj}),O$=Object.freeze({__proto__:null,MutationObserver:XA,SelectionChangeObserver:SA}),L$=Object.freeze({__proto__:null,FileVerificationOperation:JA,ImagePreloadOperation:LA});yA("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class nj extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=vA.getDefaultHTML())}get editorElements(){if(this.id){var e;const n=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll('trix-editor[toolbar="'.concat(this.id,'"]'));return Array.from(n)}return[]}get editorElement(){const[e]=this.editorElements;return e}}let I$=0;const M$=function(t){if(!t.hasAttribute("contenteditable"))return t.toggleAttribute("contenteditable",!t.disabled),function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.times=1,nt(e,n)}("focus",{onElement:t,withCallback:()=>F$(t)})},F$=function(t){return B$(t),$$()},B$=function(t){var e,n;if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),nt("mscontrolselect",{onElement:t,preventDefault:!0})},$$=function(t){var e,n;if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"DefaultParagraphSeparator")){const{tagName:r}=an.default;if(["div","p"].includes(r))return document.execCommand("DefaultParagraphSeparator",!1,r)}},F0=$c.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};yA("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Ks,` figcaption textarea {
    resize: none;
}

%t `).concat(Ks,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Ks,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(F0.display,` !important;
    width: `).concat(F0.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var er=new WeakMap,wu=new WeakMap,pl=new WeakSet;class U${constructor(e){var n,r;OA(n=this,r=pl),r.add(n),Gt(this,"value",""),ra(this,er,{writable:!0,value:void 0}),ra(this,wu,{writable:!0,value:void 0}),this.element=e,Ul(this,er,e.attachInternals()),Ul(this,wu,!1)}connectedCallback(){bu(this,pl,Su).call(this)}disconnectedCallback(){}get form(){return ke(this,er).form}get name(){return this.element.getAttribute("name")}set name(e){this.element.setAttribute("name",e)}get labels(){return ke(this,er).labels}get disabled(){return ke(this,wu)||this.element.hasAttribute("disabled")}set disabled(e){this.element.toggleAttribute("disabled",e)}get required(){return this.element.hasAttribute("required")}set required(e){this.element.toggleAttribute("required",e),bu(this,pl,Su).call(this)}get validity(){return ke(this,er).validity}get validationMessage(){return ke(this,er).validationMessage}get willValidate(){return ke(this,er).willValidate}formDisabledCallback(e){Ul(this,wu,e)}setFormValue(e){this.value=e,bu(this,pl,Su).call(this),ke(this,er).setFormValue(this.element.disabled?void 0:this.value)}checkValidity(){return ke(this,er).checkValidity()}reportValidity(){return ke(this,er).reportValidity()}setCustomValidity(e){bu(this,pl,Su).call(this,e)}}function Su(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:e,value:n}=this.element,r=e&&!n,i=!!t,s=be("input",{required:e}),a=t||s.validationMessage;ke(this,er).setValidity({valueMissing:r,customError:i},a)}var um=new WeakMap,dm=new WeakMap,hm=new WeakMap;class z${constructor(e){ra(this,um,{writable:!0,value:void 0}),ra(this,dm,{writable:!0,value:n=>{n.defaultPrevented||n.target===this.element.form&&this.element.reset()}}),ra(this,hm,{writable:!0,value:n=>{if(n.defaultPrevented||this.element.contains(n.target))return;const r=ps(n.target,{matchingSelector:"label"});r&&Array.from(this.labels).includes(r)&&this.element.focus()}}),this.element=e}connectedCallback(){Ul(this,um,function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;const n=function(){const r=Array.from(e.labels).map(s=>{if(!s.contains(e))return s.textContent}).filter(s=>s),i=r.join(" ");return i?e.setAttribute("aria-label",i):e.removeAttribute("aria-label")};return n(),nt("focus",{onElement:e,withCallback:n})}(this.element)),window.addEventListener("reset",ke(this,dm),!1),window.addEventListener("click",ke(this,hm),!1)}disconnectedCallback(){var e;(e=ke(this,um))===null||e===void 0||e.destroy(),window.removeEventListener("reset",ke(this,dm),!1),window.removeEventListener("click",ke(this,hm),!1)}get labels(){const e=[];this.element.id&&this.element.ownerDocument&&e.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const n=ps(this.element,{matchingSelector:"label"});return n&&[this.element,null].includes(n.control)&&e.push(n),e}get form(){return console.warn("This browser does not support the .form property for trix-editor elements."),null}get name(){return console.warn("This browser does not support the .name property for trix-editor elements."),null}set name(e){console.warn("This browser does not support the .name property for trix-editor elements.")}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(e){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(e){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}formDisabledCallback(e){}setFormValue(e){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(e){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var ut=new WeakMap;class Id extends HTMLElement{constructor(){super(),ra(this,ut,{writable:!0,value:void 0}),this.willCreateInput=!0,Ul(this,ut,this.constructor.formAssociated?new U$(this):new z$(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++I$),this.trixId)}get labels(){return ke(this,ut).labels}get disabled(){const{inputElement:e}=this;return e?e.disabled:ke(this,ut).disabled}set disabled(e){const{inputElement:n}=this;n&&(n.disabled=e),ke(this,ut).disabled=e}get required(){return ke(this,ut).required}set required(e){ke(this,ut).required=e}get validity(){return ke(this,ut).validity}get validationMessage(){return ke(this,ut).validationMessage}get willValidate(){return ke(this,ut).willValidate}get type(){return this.localName}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const n="trix-toolbar-".concat(this.trixId);return this.setAttribute("toolbar",n),this.internalToolbar=be("trix-toolbar",{id:n}),this.parentNode.insertBefore(this.internalToolbar,this),this.internalToolbar}}get form(){const{inputElement:e}=this;return e?e.form:ke(this,ut).form}get inputElement(){var e;return this.hasAttribute("input")?(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input")):void 0}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){const{inputElement:e}=this;return e?e.name:ke(this,ut).name}set name(e){const{inputElement:n}=this;n?n.name=e:ke(this,ut).name=e}get value(){const{inputElement:e}=this;return e?e.value:ke(this,ut).value}set value(e){var n;this.defaultValue=e,(n=this.editor)===null||n===void 0||n.loadHTML(this.defaultValue)}attributeChangedCallback(e,n,r){e==="connected"&&this.isConnected&&n!=null&&n!==r&&requestAnimationFrame(()=>this.reconnect())}notify(e,n){if(this.editorController)return Ml("trix-".concat(e),{onElement:this,attributes:n})}setFormValue(e){const{inputElement:n}=this;n&&(n.value=e),ke(this,ut).setFormValue(e)}connectedCallback(){if(!this.hasAttribute("data-trix-internal")){if(M$(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),!this.editorController){if(Ml("trix-before-initialize",{onElement:this}),this.defaultValue=this.inputElement?this.inputElement.value:this.innerHTML,!this.hasAttribute("input")&&this.parentNode&&this.willCreateInput){const e="trix-input-".concat(this.trixId);this.setAttribute("input",e);const n=be("input",{type:"hidden",id:e});this.parentNode.insertBefore(n,this.nextElementSibling)}this.editorController=new Wl({editorElement:this,html:this.defaultValue}),requestAnimationFrame(()=>Ml("trix-initialize",{onElement:this}))}this.editorController.registerSelectionManager(),ke(this,ut).connectedCallback(),this.toggleAttribute("connected",!0),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this)}}disconnectedCallback(){var e;(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),ke(this,ut).disconnectedCallback(),this.toggleAttribute("connected",!1)}reconnect(){this.removeInternalToolbar(),this.disconnectedCallback(),this.connectedCallback()}removeInternalToolbar(){var e;(e=this.internalToolbar)===null||e===void 0||e.remove(),this.internalToolbar=null}checkValidity(){return ke(this,ut).checkValidity()}reportValidity(){return ke(this,ut).reportValidity()}setCustomValidity(e){ke(this,ut).setCustomValidity(e)}formDisabledCallback(e){const{inputElement:n}=this;n&&(n.disabled=e),this.toggleAttribute("contenteditable",!e),ke(this,ut).formDisabledCallback(e)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}Gt(Id,"formAssociated","ElementInternals"in window),Gt(Id,"observedAttributes",["connected"]);const B0={VERSION:W4,config:Uc,core:l$,models:qA,views:f$,controllers:D$,observers:O$,operations:L$,elements:Object.freeze({__proto__:null,TrixEditorElement:Id,TrixToolbarElement:nj}),filters:Object.freeze({__proto__:null,Filter:$A,attachmentGalleryFilter:UA})};Object.assign(B0,qA),window.Trix=B0,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",nj),customElements.get("trix-editor")||customElements.define("trix-editor",Id)},0);const Mh=({value:t,onChange:e,placeholder:n})=>{const r=h.useRef(null),i=h.useRef(null),s=h.useRef(!0);return h.useEffect(()=>{var c;const a=(c=r.current)==null?void 0:c.querySelector("trix-editor");if(!a)return;const l=u=>{e(u.target.value)};return a.addEventListener("trix-change",l),s.current&&t&&(a.value=t,s.current=!1),()=>{a.removeEventListener("trix-change",l)}},[e,t]),o.jsxs("div",{ref:r,className:"trix-editor-container",children:[o.jsx("input",{ref:i,id:"trix-editor-input",type:"hidden",value:t}),o.jsx("trix-editor",{input:"trix-editor-input",placeholder:n||"Start writing..."})]})};function W$(t){const e=V$(t),n=h.forwardRef((r,i)=>{const{children:s,...a}=r,l=h.Children.toArray(s),c=l.find(q$);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function V$(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const a=G$(i),l=K$(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var H$=Symbol("radix.slottable");function q$(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===H$}function K$(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function G$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Fh="Dialog",[rj,ij]=vr(Fh),[Q$,yr]=rj(Fh),sj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=h.useRef(null),c=h.useRef(null),[u,d]=$r({prop:r,defaultProp:i??!1,onChange:s,caller:Fh});return o.jsx(Q$,{scope:e,triggerRef:l,contentRef:c,contentId:Lr(),titleId:Lr(),descriptionId:Lr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};sj.displayName=Fh;var oj="DialogTrigger",aj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(oj,n),s=$e(e,i.triggerRef);return o.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ay(i.open),...r,ref:s,onClick:ve(t.onClick,i.onOpenToggle)})});aj.displayName=oj;var sy="DialogPortal",[Y$,lj]=rj(sy,{forceMount:void 0}),cj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=yr(sy,e);return o.jsx(Y$,{scope:e,forceMount:n,children:h.Children.map(r,a=>o.jsx(vo,{present:n||s.open,children:o.jsx(Vv,{asChild:!0,container:i,children:a})}))})};cj.displayName=sy;var Md="DialogOverlay",uj=h.forwardRef((t,e)=>{const n=lj(Md,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=yr(Md,t.__scopeDialog);return s.modal?o.jsx(vo,{present:r||s.open,children:o.jsx(J$,{...i,ref:e})}):null});uj.displayName=Md;var X$=W$("DialogOverlay.RemoveScroll"),J$=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(Md,n);return o.jsx(Hv,{as:X$,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(he.div,{"data-state":ay(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),co="DialogContent",dj=h.forwardRef((t,e)=>{const n=lj(co,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=yr(co,t.__scopeDialog);return o.jsx(vo,{present:r||s.open,children:s.modal?o.jsx(Z$,{...i,ref:e}):o.jsx(eU,{...i,ref:e})})});dj.displayName=co;var Z$=h.forwardRef((t,e)=>{const n=yr(co,t.__scopeDialog),r=h.useRef(null),i=$e(e,n.contentRef,r);return h.useEffect(()=>{const s=r.current;if(s)return J1(s)},[]),o.jsx(hj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ve(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:ve(t.onFocusOutside,s=>s.preventDefault())})}),eU=h.forwardRef((t,e)=>{const n=yr(co,t.__scopeDialog),r=h.useRef(!1),i=h.useRef(!1);return o.jsx(hj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),hj=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=yr(co,n),c=h.useRef(null),u=$e(e,c);return A1(),o.jsxs(o.Fragment,{children:[o.jsx(Lv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Ov,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ay(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(nU,{titleId:l.titleId}),o.jsx(iU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),oy="DialogTitle",fj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(oy,n);return o.jsx(he.h2,{id:i.titleId,...r,ref:e})});fj.displayName=oy;var mj="DialogDescription",pj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(mj,n);return o.jsx(he.p,{id:i.descriptionId,...r,ref:e})});pj.displayName=mj;var gj="DialogClose",vj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(gj,n);return o.jsx(he.button,{type:"button",...r,ref:e,onClick:ve(t.onClick,()=>i.onOpenChange(!1))})});vj.displayName=gj;function ay(t){return t?"open":"closed"}var yj="DialogTitleWarning",[tU,xj]=II(yj,{contentName:co,titleName:oy,docsSlug:"dialog"}),nU=({titleId:t})=>{const e=xj(yj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},rU="DialogDescriptionWarning",iU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xj(rU).contentName}}.`;return h.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},sU=sj,oU=aj,aU=cj,lU=uj,cU=dj,uU=fj,dU=pj,bj=vj,hU=Symbol("radix.slottable");function fU(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=hU,e}var wj="AlertDialog",[mU]=vr(wj,[ij]),bi=ij(),Sj=t=>{const{__scopeAlertDialog:e,...n}=t,r=bi(e);return o.jsx(sU,{...r,...n,modal:!0})};Sj.displayName=wj;var pU="AlertDialogTrigger",gU=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=bi(n);return o.jsx(oU,{...i,...r,ref:e})});gU.displayName=pU;var vU="AlertDialogPortal",Cj=t=>{const{__scopeAlertDialog:e,...n}=t,r=bi(e);return o.jsx(aU,{...r,...n})};Cj.displayName=vU;var yU="AlertDialogOverlay",Nj=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=bi(n);return o.jsx(lU,{...i,...r,ref:e})});Nj.displayName=yU;var ia="AlertDialogContent",[xU,bU]=mU(ia),wU=fU("AlertDialogContent"),Ej=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=bi(n),a=h.useRef(null),l=$e(e,a),c=h.useRef(null);return o.jsx(tU,{contentName:ia,titleName:Aj,docsSlug:"alert-dialog",children:o.jsx(xU,{scope:n,cancelRef:c,children:o.jsxs(cU,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:ve(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(wU,{children:r}),o.jsx(CU,{contentRef:a})]})})})});Ej.displayName=ia;var Aj="AlertDialogTitle",jj=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=bi(n);return o.jsx(uU,{...i,...r,ref:e})});jj.displayName=Aj;var Rj="AlertDialogDescription",kj=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=bi(n);return o.jsx(dU,{...i,...r,ref:e})});kj.displayName=Rj;var SU="AlertDialogAction",_j=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=bi(n);return o.jsx(bj,{...i,...r,ref:e})});_j.displayName=SU;var Tj="AlertDialogCancel",Pj=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=bU(Tj,n),s=bi(n),a=$e(e,i);return o.jsx(bj,{...s,...r,ref:a})});Pj.displayName=Tj;var CU=({contentRef:t})=>{const e=`\`${ia}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ia}\` by passing a \`${Rj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ia}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},NU=Sj,EU=Cj,Dj=Nj,Oj=Ej,Lj=_j,Ij=Pj,Mj=jj,Fj=kj;const AU=NU,jU=EU,Bj=h.forwardRef(({className:t,...e},n)=>o.jsx(Dj,{className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Bj.displayName=Dj.displayName;const $j=h.forwardRef(({className:t,...e},n)=>o.jsxs(jU,{children:[o.jsx(Bj,{}),o.jsx(Oj,{ref:n,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));$j.displayName=Oj.displayName;const Uj=({className:t,...e})=>o.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",t),...e});Uj.displayName="AlertDialogHeader";const zj=({className:t,...e})=>o.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});zj.displayName="AlertDialogFooter";const Wj=h.forwardRef(({className:t,...e},n)=>o.jsx(Mj,{ref:n,className:ye("text-lg font-semibold",t),...e}));Wj.displayName=Mj.displayName;const Vj=h.forwardRef(({className:t,...e},n)=>o.jsx(Fj,{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));Vj.displayName=Fj.displayName;const Hj=h.forwardRef(({className:t,...e},n)=>o.jsx(Lj,{ref:n,className:ye(Cv(),t),...e}));Hj.displayName=Lj.displayName;const qj=h.forwardRef(({className:t,...e},n)=>o.jsx(Ij,{ref:n,className:ye(Cv({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));qj.displayName=Ij.displayName;function ka({src:t,alt:e="",className:n="",fallback:r="gradient",style:i={},...s}){const[a,l]=h.useState(!1),[c,u]=h.useState(!1),d=()=>{l(!0)},f=()=>{u(!0)};return!t||a?o.jsx("div",{className:`relative flex items-center justify-center ${n}`,style:{width:"100%",height:"100%",background:r==="gradient"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#e5e7eb",...i},children:r==="gradient"&&o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"opacity-50",children:o.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z",fill:"white"})})}):o.jsxs("div",{className:"relative",style:{width:"100%",height:"100%"},children:[!c&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-purple-600"})}),o.jsx("img",{src:t,alt:e,className:n,style:{...i,opacity:c?1:0,transition:"opacity 0.3s ease-in-out"},onError:d,onLoad:f,...s})]})}const RU="/api",$0=RU.replace(/\/api$/,""),kU=t=>t?t.startsWith("http")?t:t.startsWith("/")?`${$0}${t}`:`${$0}/${t}`:"";function _U({photo:t,index:e,onDelete:n,onUpdateAlt:r}){const[i,s]=h.useState(!1),[a,l]=h.useState(t.alt_text),{attributes:c,listeners:u,setNodeRef:d,transform:f,transition:v,isDragging:S}=p1({id:t.id}),y={transform:Aa.Transform.toString(f),transition:v,opacity:S?.5:1},g=()=>{r(t.id,a),s(!1)};return o.jsxs("div",{ref:d,style:y,className:"flex items-center gap-3 p-3 bg-white border rounded-lg hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"text-xs text-muted-foreground font-mono w-6 text-center",children:["#",e+1]}),o.jsx("div",{...c,...u,className:"cursor-grab active:cursor-grabbing",children:o.jsx(go,{className:"w-5 h-5 text-muted-foreground"})}),o.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 rounded overflow-hidden bg-muted",children:[o.jsx(ka,{src:kU(t.url),alt:t.alt_text||"Property photo",className:"w-full h-full object-cover"}),e===0&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-green-600 text-white text-xs text-center py-0.5",children:"Cover"})]}),o.jsx("div",{className:"flex-1 min-w-0",children:i?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(q,{value:a,onChange:w=>l(w.target.value),placeholder:"Alt text...",className:"flex-1"}),o.jsx(F,{size:"sm",onClick:g,children:"Save"}),o.jsx(F,{size:"sm",variant:"outline",onClick:()=>s(!1),children:"Cancel"})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground truncate flex-1",children:t.alt_text||o.jsx("span",{className:"italic",children:"No alt text"})}),o.jsx(F,{size:"sm",variant:"ghost",onClick:()=>s(!0),className:"text-xs",children:"Edit"})]})}),o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:o.jsx(F,{size:"sm",variant:"destructive",onClick:()=>n(t.id),title:"Delete photo",children:o.jsx(za,{className:"w-4 h-4"})})})]})}function TU({propertyId:t}){const e=Nn(),[n,r]=h.useState(!1),[i,s]=h.useState(null),a=HN(Nd(vh),Nd(gh,{coordinateGetter:g1})),{data:l=[],isLoading:c}=yt({queryKey:["property-photos",t],queryFn:async()=>(await z.get(`/property-photos/property/${t}`)).data.data}),u=Ye({mutationFn:async g=>{const w=new FormData;w.append("image",g);const p=(await z.post("/upload/property-image",w,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;return(await z.post("/property-photos",{property_id:t,url:p,alt_text:"",is_cover:l.length===0})).data},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})}}),d=Ye({mutationFn:async g=>{await z.delete(`/property-photos/${g}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]}),s(null)}}),f=Ye({mutationFn:async({id:g,alt_text:w})=>{await z.put(`/property-photos/${g}`,{alt_text:w})},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})}}),v=Ye({mutationFn:async g=>(await z.post("/property-photos/reorder",{items:g})).data,onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})},onError:g=>{console.error("Reorder failed:",g),e.invalidateQueries({queryKey:["property-photos",t]})}}),S=async g=>{const w=g.target.files;if(!(!w||w.length===0)){r(!0);try{for(let b=0;b<w.length;b++){const p=w[b];if(!p.type.startsWith("image/")){alert(`${p.name} is not an image`);continue}if(p.size>5*1024*1024){alert(`${p.name} is too large (max 5MB)`);continue}await u.mutateAsync(p)}}catch(b){console.error("Upload error:",b),alert("Failed to upload one or more images")}finally{r(!1),g.target.value=""}}},y=g=>{const{active:w,over:b}=g;if(!b||w.id===b.id)return;const p=l.findIndex(E=>E.id===w.id),m=l.findIndex(E=>E.id===b.id),x=bh(l,p,m);e.setQueryData(["property-photos",t],x.map((E,N)=>({...E,order:N+1})));const C=x.map((E,N)=>({id:E.id,order:N+1}));v.mutate(C)};return c?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Z,{htmlFor:"photo-upload",className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md cursor-pointer hover:bg-primary/90 transition-colors",children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary-foreground border-t-transparent"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Mr,{className:"w-4 h-4"}),"Upload Photos"]})}),o.jsx(q,{id:"photo-upload",type:"file",accept:"image/*",multiple:!0,onChange:S,disabled:n,className:"hidden"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Max 5MB per image. JPEG, PNG, WebP supported. Multiple selection allowed."})]})})}),l.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(LN,{className:"w-12 h-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No photos uploaded yet"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload your first photo to get started"})]})}):o.jsx(ae,{children:o.jsxs(le,{className:"pt-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-sm font-medium",children:[l.length," ",l.length===1?"Photo":"Photos"]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Drag to reorder. The first photo is used as cover."})]}),o.jsx(l1,{sensors:a,collisionDetection:QN,onDragEnd:y,children:o.jsx(f1,{items:l.map(g=>g.id),strategy:u1,children:o.jsx("div",{className:"space-y-2",children:l.map((g,w)=>o.jsx(_U,{photo:g,index:w,onDelete:b=>s(b),onUpdateAlt:(b,p)=>f.mutate({id:b,alt_text:p})},g.id))})})})]})}),o.jsx(AU,{open:i!==null,onOpenChange:g=>!g&&s(null),children:o.jsxs($j,{children:[o.jsxs(Uj,{children:[o.jsx(Wj,{children:"Delete Photo?"}),o.jsx(Vj,{children:"This action cannot be undone. This will permanently delete the photo from the property gallery."})]}),o.jsxs(zj,{children:[o.jsx(qj,{children:"Cancel"}),o.jsx(Hj,{onClick:()=>i&&d.mutate(i),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}var Bh="Checkbox",[PU]=vr(Bh),[DU,ly]=PU(Bh);function OU(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[v,S]=$r({prop:n,defaultProp:i??!1,onChange:c,caller:Bh}),[y,g]=h.useState(null),[w,b]=h.useState(null),p=h.useRef(!1),m=y?!!a||!!y.closest("form"):!0,x={checked:v,disabled:s,setChecked:S,control:y,setControl:g,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:p,required:u,defaultChecked:cs(i)?!1:i,isFormControl:m,bubbleInput:w,setBubbleInput:b};return o.jsx(DU,{scope:e,...x,children:LU(f)?f(x):r})}var Kj="CheckboxTrigger",Gj=h.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:v,isFormControl:S,bubbleInput:y}=ly(Kj,t),g=$e(i,d),w=h.useRef(c);return h.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const p=()=>f(w.current);return b.addEventListener("reset",p),()=>b.removeEventListener("reset",p)}},[s,f]),o.jsx(he.button,{type:"button",role:"checkbox","aria-checked":cs(c)?"mixed":c,"aria-required":u,"data-state":Zj(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:g,onKeyDown:ve(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ve(n,b=>{f(p=>cs(p)?!0:!p),y&&S&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})})});Gj.displayName=Kj;var cy=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(OU,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:v})=>o.jsxs(o.Fragment,{children:[o.jsx(Gj,{...f,ref:e,__scopeCheckbox:n}),v&&o.jsx(Jj,{__scopeCheckbox:n})]})})});cy.displayName=Bh;var Qj="CheckboxIndicator",Yj=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=ly(Qj,n);return o.jsx(vo,{present:r||cs(s.checked)||s.checked===!0,children:o.jsx(he.span,{"data-state":Zj(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Yj.displayName=Qj;var Xj="CheckboxBubbleInput",Jj=h.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:v,setBubbleInput:S}=ly(Xj,t),y=$e(n,S),g=Tv(s),w=Pv(r);h.useEffect(()=>{const p=v;if(!p)return;const m=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(m,"checked").set,E=!i.current;if(g!==s&&C){const N=new Event("click",{bubbles:E});p.indeterminate=cs(s),C.call(p,cs(s)?!1:s),p.dispatchEvent(N)}},[v,g,s,i]);const b=h.useRef(cs(s)?!1:s);return o.jsx(he.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Jj.displayName=Xj;function LU(t){return typeof t=="function"}function cs(t){return t==="indeterminate"}function Zj(t){return cs(t)?"indeterminate":t?"checked":"unchecked"}const ag=h.forwardRef(({className:t,...e},n)=>o.jsx(cy,{ref:n,className:ye("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(Yj,{className:ye("grid place-content-center text-current"),children:o.jsx(DN,{className:"h-4 w-4"})})}));ag.displayName=cy.displayName;var $h="Collapsible",[IU,eR]=vr($h),[MU,uy]=IU($h),tR=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...l}=t,[c,u]=$r({prop:r,defaultProp:i??!1,onChange:a,caller:$h});return o.jsx(MU,{scope:n,disabled:s,contentId:Lr(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:o.jsx(he.div,{"data-state":hy(c),"data-disabled":s?"":void 0,...l,ref:e})})});tR.displayName=$h;var nR="CollapsibleTrigger",rR=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=uy(nR,n);return o.jsx(he.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":hy(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:ve(t.onClick,i.onOpenToggle)})});rR.displayName=nR;var dy="CollapsibleContent",iR=h.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=uy(dy,t.__scopeCollapsible);return o.jsx(vo,{present:n||i.open,children:({present:s})=>o.jsx(FU,{...r,ref:e,present:s})})});iR.displayName=dy;var FU=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,a=uy(dy,n),[l,c]=h.useState(r),u=h.useRef(null),d=$e(e,u),f=h.useRef(0),v=f.current,S=h.useRef(0),y=S.current,g=a.open||l,w=h.useRef(g),b=h.useRef(void 0);return h.useEffect(()=>{const p=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(p)},[]),Bt(()=>{const p=u.current;if(p){b.current=b.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const m=p.getBoundingClientRect();f.current=m.height,S.current=m.width,w.current||(p.style.transitionDuration=b.current.transitionDuration,p.style.animationName=b.current.animationName),c(r)}},[a.open,r]),o.jsx(he.div,{"data-state":hy(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!g,...s,ref:d,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&i})});function hy(t){return t?"open":"closed"}var BU=tR,$U=rR,UU=iR,xr="Accordion",zU=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[fy,WU,VU]=Dv(xr),[Uh]=vr(xr,[VU,eR]),my=eR(),sR=Ce.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return o.jsx(fy.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(GU,{...s,ref:e}):o.jsx(KU,{...i,ref:e})})});sR.displayName=xr;var[oR,HU]=Uh(xr),[aR,qU]=Uh(xr,{collapsible:!1}),KU=Ce.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...a}=t,[l,c]=$r({prop:n,defaultProp:r??"",onChange:i,caller:xr});return o.jsx(oR,{scope:t.__scopeAccordion,value:Ce.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Ce.useCallback(()=>s&&c(""),[s,c]),children:o.jsx(aR,{scope:t.__scopeAccordion,collapsible:s,children:o.jsx(lR,{...a,ref:e})})})}),GU=Ce.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[a,l]=$r({prop:n,defaultProp:r??[],onChange:i,caller:xr}),c=Ce.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=Ce.useCallback(d=>l((f=[])=>f.filter(v=>v!==d)),[l]);return o.jsx(oR,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:o.jsx(aR,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(lR,{...s,ref:e})})})}),[QU,zh]=Uh(xr),lR=Ce.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...a}=t,l=Ce.useRef(null),c=$e(l,e),u=WU(n),f=Sh(i)==="ltr",v=ve(t.onKeyDown,S=>{var A;if(!zU.includes(S.key))return;const y=S.target,g=u().filter(k=>{var j;return!((j=k.ref.current)!=null&&j.disabled)}),w=g.findIndex(k=>k.ref.current===y),b=g.length;if(w===-1)return;S.preventDefault();let p=w;const m=0,x=b-1,C=()=>{p=w+1,p>x&&(p=m)},E=()=>{p=w-1,p<m&&(p=x)};switch(S.key){case"Home":p=m;break;case"End":p=x;break;case"ArrowRight":s==="horizontal"&&(f?C():E());break;case"ArrowDown":s==="vertical"&&C();break;case"ArrowLeft":s==="horizontal"&&(f?E():C());break;case"ArrowUp":s==="vertical"&&E();break}const N=p%b;(A=g[N].ref.current)==null||A.focus()});return o.jsx(QU,{scope:n,disabled:r,direction:i,orientation:s,children:o.jsx(fy.Slot,{scope:n,children:o.jsx(he.div,{...a,"data-orientation":s,ref:c,onKeyDown:r?void 0:v})})})}),Fd="AccordionItem",[YU,py]=Uh(Fd),cR=Ce.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=zh(Fd,n),a=HU(Fd,n),l=my(n),c=Lr(),u=r&&a.value.includes(r)||!1,d=s.disabled||t.disabled;return o.jsx(YU,{scope:n,open:u,disabled:d,triggerId:c,children:o.jsx(BU,{"data-orientation":s.orientation,"data-state":pR(u),...l,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?a.onItemOpen(r):a.onItemClose(r)}})})});cR.displayName=Fd;var uR="AccordionHeader",dR=Ce.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=zh(xr,n),s=py(uR,n);return o.jsx(he.h3,{"data-orientation":i.orientation,"data-state":pR(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});dR.displayName=uR;var lg="AccordionTrigger",hR=Ce.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=zh(xr,n),s=py(lg,n),a=qU(lg,n),l=my(n);return o.jsx(fy.ItemSlot,{scope:n,children:o.jsx($U,{"aria-disabled":s.open&&!a.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...r,ref:e})})});hR.displayName=lg;var fR="AccordionContent",mR=Ce.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=zh(xr,n),s=py(fR,n),a=my(n);return o.jsx(UU,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});mR.displayName=fR;function pR(t){return t?"open":"closed"}var XU=sR,JU=cR,ZU=dR,gR=hR,vR=mR;const yR=XU,Bd=h.forwardRef(({className:t,...e},n)=>o.jsx(JU,{ref:n,className:ye("border-b",t),...e}));Bd.displayName="AccordionItem";const $d=h.forwardRef(({className:t,children:e,...n},r)=>o.jsx(ZU,{className:"flex",children:o.jsxs(gR,{ref:r,className:ye("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(Nv,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));$d.displayName=gR.displayName;const Ud=h.forwardRef(({className:t,children:e,...n},r)=>o.jsx(vR,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:ye("pb-4 pt-0",t),children:e})}));Ud.displayName=vR.displayName;function ez({propertyId:t}){const e=Nn(),[n,r]=h.useState([]),[i,s]=h.useState(!1),{data:a=[]}=yt({queryKey:["cities"],queryFn:async()=>{var g,w,b;const y=await z.get("/cities");return((w=(g=y.data)==null?void 0:g.data)==null?void 0:w.cities)||((b=y.data)==null?void 0:b.data)||[]}}),{data:l=[]}=yt({queryKey:["areas"],queryFn:async()=>{var g,w,b;const y=await z.get("/areas");return((w=(g=y.data)==null?void 0:g.data)==null?void 0:w.areas)||((b=y.data)==null?void 0:b.data)||[]}}),c=Array.isArray(a)?a:[],u=Array.isArray(l)?l:[],{data:d=[],isLoading:f}=yt({queryKey:["property-landing-pages",t],queryFn:async()=>(await z.get(`/properties/${t}/landing-pages`)).data.data||[]});h.useEffect(()=>{d.length>=0&&r(d)},[d]);const v=async y=>{s(!0);try{await z.put(`/properties/${t}/landing-pages`,{landing_pages:y}),e.invalidateQueries({queryKey:["property-landing-pages",t]})}catch(g){console.error("Failed to save landing pages:",g)}finally{s(!1)}},S=(y,g)=>{const w=g?[...n,y]:n.filter(b=>b!==y);r(w),v(w)};return f?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-medium mb-2",children:"Landing Pages Association"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Select which landing pages (Cities & Areas) will display this property."}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",n.length," landing page",n.length!==1?"s":"",i&&o.jsx("span",{className:"ml-2 text-blue-500",children:"Saving..."})]})]})})})}),o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsxs(yR,{type:"multiple",defaultValue:["cities","areas"],className:"w-full",children:[o.jsxs(Bd,{value:"cities",children:[o.jsx($d,{className:"text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wd,{className:"w-4 h-4"}),"Cities (",c.length,")"]})}),o.jsx(Ud,{children:c.length===0?o.jsx("p",{className:"text-sm text-muted-foreground italic py-4",children:"No cities available"}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-2",children:c.map(y=>{const g=n.includes(y.slug);return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ag,{id:`city-${y.id}`,checked:g,onCheckedChange:w=>S(y.slug,!!w)}),o.jsx(Z,{htmlFor:`city-${y.id}`,className:"text-sm font-normal cursor-pointer",children:y.title})]},y.id)})})})]}),o.jsxs(Bd,{value:"areas",children:[o.jsx($d,{className:"text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(IN,{className:"w-4 h-4"}),"Areas (",u.length,")"]})}),o.jsx(Ud,{children:u.length===0?o.jsx("p",{className:"text-sm text-muted-foreground italic py-4",children:"No areas available"}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-2",children:u.map(y=>{const g=n.includes(y.slug);return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ag,{id:`area-${y.id}`,checked:g,onCheckedChange:w=>S(y.slug,!!w)}),o.jsx(Z,{htmlFor:`area-${y.id}`,className:"text-sm font-normal cursor-pointer",children:y.title})]},y.id)})})})]})]})})}),o.jsx(ae,{className:"bg-muted/50",children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"text-sm space-y-2",children:[o.jsx("p",{className:"font-medium",children:"How it works:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[o.jsx("li",{children:"Select landing pages where this property should appear"}),o.jsx("li",{children:"Cities: Main destination pages (e.g., Tulum, Playa del Carmen)"}),o.jsx("li",{children:"Areas: Sub-locations within cities (e.g., Downtown, Beach Zone)"}),o.jsx("li",{children:"Property will be visible in search results on selected pages"}),o.jsx("li",{children:o.jsx("strong",{children:"Changes are saved automatically"})})]})]})})})]})}const U0={"Essential Features":["A/C","Elevator","Laundry Room","Fireplace","Storage Room","Basement"],"Outdoor & Terraces":["Terrace","Balcony","Rooftop","Solarium","Garden","Private Garden","Zen Garden","Patio"],"Parking & Mobility":["Parking","Garage","Underground Parking","Covered Parking","Street Parking","Bike Parking","Shuttle Service"],"Security & Access":["Controlled Access","Security 24/7","CCTV","Perimeter Fence","Concierge","Gated Community","Intercom","Alarm System"],"Pools & Water":["Pool","Rooftop Pool","Infinity Pool","Beach-like Pool","Waterfront","Beach Club","Jacuzzi"],"Wellness & Spa":["Spa","Sauna","Steam Room","Temazcal","Yoga Area","Meditation Space"],"Fitness & Sports":["Gym","Jogging Track","Paddle Court","Pickleball Court","Tennis Court","Mini Golf","Pet Park"],"Community & Entertainment":["Clubhouse","Lounge","Cinema Room","Bar","Kids Area","Playground","BBQ Area"],"Work & Connectivity":["Co-working Space","Business Lounge","High Speed Internet","Smart Home"],Sustainability:["Solar Panels","Rainwater Harvesting","Water Treatment","Energy Efficient","Eco-Friendly"],"Views & Setting":["Ocean View","Beach Front","Golf View","City View","Mountain View","Lake View","Marina View","Jungle View"],"Interior Features":["Furnished","Semi-Furnished","Unfurnished","Walk-in Closet","High Ceilings","Hardwood Floors","Marble Floors","Modern Kitchen","Open Plan"],"Property Status":["New Construction","Recently Renovated","Move-in Ready","Pre-sale","Investment Opportunity"],"Legal & Rentals":["HOA","No HOA","Short Term Rental OK","Long Term Rental OK","Pet Friendly"],Proximity:["Near Beach","Near Golf","Near Downtown","Near Airport","Near Shopping","Near Schools","Near Hospital","Quiet Neighborhood"]};function tz({selectedTags:t,onChange:e,maxTags:n}){const[r,i]=h.useState(""),[s,a]=h.useState(""),l=h.useMemo(()=>{if(!r)return U0;const v={};return Object.entries(U0).forEach(([S,y])=>{const g=y.filter(w=>w.toLowerCase().includes(r.toLowerCase()));g.length>0&&(v[S]=g)}),v},[r]),c=v=>{n!==void 0&&t.length>=n||t.includes(v)||e([...t,v])},u=v=>{e(t.filter(S=>S!==v))},d=()=>{const v=s.trim();if(v){if(t.includes(v)){a("");return}n!==void 0&&t.length>=n||(e([...t,v]),a(""))}},f=v=>{v.key==="Enter"&&(v.preventDefault(),d())};return o.jsxs("div",{className:"space-y-4",children:[o.jsx(ae,{children:o.jsxs(le,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center justif{maxTags !== undefined ? `/${maxTags}` : '' mb-3",children:[o.jsxs("h3",{className:"text-sm font-medium",children:["Selected Tags (",t.length,"/",n,")"]}),t.length>0&&o.jsx(F,{size:"sm",type:"button",variant:"ghost",onClick:()=>e([]),className:"h-7 text-xs",children:"Clear All"})]}),t.length===0?o.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No tags selected"}):o.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(v=>o.jsxs(Ip,{variant:"secondary",className:"px-3 py-1.5 text-sm",children:[v,o.jsx("button",{type:"button",onClick:()=>u(v),className:"ml-2 hover:text-destructive transition-colors",children:o.jsx(Fr,{className:"w-3 h-3"})})]},v))})]})}),o.jsxs("div",{className:"relative",children:[o.jsx(BN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(q,{placeholder:"Search tags...",value:r,onChange:v=>i(v.target.value),className:"pl-9"})]}),o.jsx(ae,{children:o.jsxs(le,{className:"pt-6",children:[o.jsx("h3",{className:"text-sm font-medium mb-3",children:"Add Custom Tag"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(q,{placeholder:"Enter custom tag...",value:s,onChange:v=>a(v.target.value),onKeyDown:f,className:"flex-1"}),o.jsxs(F,{type:"button",onClick:d,disabled:!s.trim(),children:[o.jsx(_n,{className:"w-4 h-4 mr-2"}),"Add"]})]})]})}),o.jsx(ae,{children:o.jsxs(le,{className:"pt-6",children:[o.jsx("h3",{className:"text-sm font-medium mb-3",children:"Predefined Tags"}),Object.keys(l).length===0?o.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No tags found"}):o.jsx(yR,{type:"multiple",className:"w-full",children:Object.entries(l).map(([v,S])=>o.jsxs(Bd,{value:v,children:[o.jsxs($d,{className:"text-sm font-medium",children:[v," (",S.length,")"]}),o.jsx(Ud,{children:o.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:S.map(y=>{const g=t.includes(y),w=!g&&n!==void 0&&t.length>=n;return o.jsxs(F,{type:"button",size:"sm",variant:g?"default":"outline",onClick:()=>g?u(y):c(y),disabled:w,className:"h-7 text-xs",children:[g&&o.jsx(Fr,{className:"w-3 h-3 mr-1"}),!g&&o.jsx(_n,{className:"w-3 h-3 mr-1"}),y]},y)})})})]},v))})]})})]})}function fm(){const{id:t}=po(),e=$t(),n=!!t,[r,i]=h.useState({title:"",subtitle:"",property_type:"active",status:"for_sale",property_category:"apartment",property_categories:[],description:"",content:"",price_base_currency:"USD",price_usd:"",price_mxn:"",exchange_rate:"",price_on_demand:!1,price_negotiable:!1,price_from_usd:"",price_to_usd:"",price_from_mxn:"",price_to_mxn:"",bedrooms:"",bedrooms_min:"",bedrooms_max:"",bathrooms:"",bathrooms_min:"",bathrooms_max:"",sqm:"",sqft:"",lot_size_sqm:"",year_built:"",furnishing_status:"unfurnished",neighborhood:"",city:"",state:"",country:"Mexico",address:"",latitude:"",longitude:"",google_maps_url:"",tags:[],seo_title:"",seo_description:"",seo_keywords:"",og_title:"",og_description:"",is_active:!1,featured:!1,show_in_home:!1,order:"",internal_notes:""});yt({queryKey:["property",t],queryFn:async()=>{var C,E,N,A,k,j,R,P,M,B,Y,$,G,O;const x=(await z.get(`/properties/${t}`)).data.data;return i({title:x.title||"",subtitle:x.subtitle||"",property_type:x.property_type||"active",status:x.status||"for_sale",property_category:x.property_category||"apartment",property_categories:x.property_categories||[],description:x.description||"",content:x.content||"",price_base_currency:x.price_base_currency||"USD",price_usd:((C=x.price_usd)==null?void 0:C.toString())||"",price_mxn:((E=x.price_mxn)==null?void 0:E.toString())||"",exchange_rate:((N=x.exchange_rate)==null?void 0:N.toString())||"",price_on_demand:x.price_on_demand||!1,price_negotiable:x.price_negotiable||!1,price_from_usd:((A=x.price_from_usd)==null?void 0:A.toString())||"",price_to_usd:((k=x.price_to_usd)==null?void 0:k.toString())||"",price_from_mxn:((j=x.price_from_mxn)==null?void 0:j.toString())||"",price_to_mxn:((R=x.price_to_mxn)==null?void 0:R.toString())||"",bedrooms:x.bedrooms||"",bedrooms_min:x.bedrooms_min||"",bedrooms_max:x.bedrooms_max||"",bathrooms:x.bathrooms||"",bathrooms_min:x.bathrooms_min||"",bathrooms_max:x.bathrooms_max||"",sqm:((P=x.sqm)==null?void 0:P.toString())||"",sqft:((M=x.sqft)==null?void 0:M.toString())||"",lot_size_sqm:((B=x.lot_size_sqm)==null?void 0:B.toString())||"",year_built:((Y=x.year_built)==null?void 0:Y.toString())||"",furnishing_status:x.furnishing_status||"unfurnished",neighborhood:x.neighborhood||"",city:x.city||"",state:x.state||"",country:x.country||"Mexico",address:x.address||"",latitude:(($=x.latitude)==null?void 0:$.toString())||"",longitude:((G=x.longitude)==null?void 0:G.toString())||"",google_maps_url:x.google_maps_url||"",tags:x.tags||[],seo_title:x.seo_title||"",seo_description:x.seo_description||"",seo_keywords:x.seo_keywords||"",og_title:x.og_title||"",og_description:x.og_description||"",is_active:x.is_active||!1,featured:x.featured||!1,show_in_home:x.show_in_home||!1,order:((O=x.order)==null?void 0:O.toString())||"",internal_notes:x.internal_notes||""}),x},enabled:n});const s=Ye({mutationFn:async m=>n?z.put(`/properties/${t}`,m):z.post("/properties",m),onSuccess:m=>{var x,C;!n&&((C=(x=m.data)==null?void 0:x.data)!=null&&C.id)&&e(`/properties/${m.data.data.id}`)},onError:m=>{var x,C;alert(((C=(x=m.response)==null?void 0:x.data)==null?void 0:C.error)||"An error occurred")}}),[a,l]=h.useState(null),[c,u]=h.useState("info"),d={title:"info",subtitle:"info",property_type:"info",status:"info",property_category:"info",description:"info",content:"info",price_usd:"price",exchange_rate:"price",price_on_demand:"price",price_negotiable:"price",price_from_usd:"price",price_to_usd:"price",bedrooms:"price",bathrooms:"price",sqm:"price",lot_size_sqm:"price",year_built:"price",furnishing_status:"price",neighborhood:"location",city:"location",state:"location",country:"location",address:"location",google_maps_url:"location",seo_title:"seo",seo_description:"seo",og_title:"seo",og_description:"seo",internal_notes:"notes"},f=m=>{l(m);const x=d[m];x&&u(x),setTimeout(()=>{const C=document.querySelector(`[name="${m}"]`);C&&(C.focus(),C.scrollIntoView({behavior:"smooth",block:"center"}))},100)},v=m=>{if(m.preventDefault(),l(null),!t){if(!r.title.trim()){f("title");return}if(!r.city.trim()){f("city");return}}if(t){if(!r.title.trim()){f("title");return}if(!r.city.trim()){f("city");return}if(r.property_type==="active"){if(!r.property_category){f("property_category");return}}else if(r.property_type==="development"&&(!r.property_categories||r.property_categories.length===0)){alert("Please select at least one category for the development"),u("info");return}if(!r.price_on_demand&&(!r.price_usd||parseFloat(r.price_usd)<=0)){f("price_usd");return}if(!r.seo_title.trim()){f("seo_title");return}if(!r.seo_description.trim()){f("seo_description");return}if(!r.og_title.trim()){f("og_title");return}if(!r.og_description.trim()){f("og_description");return}}const x={title:r.title,subtitle:r.subtitle,property_type:r.property_type,status:r.status,description:r.description,content:r.content,city:r.city,neighborhood:r.neighborhood,country:r.country,latitude:r.latitude?parseFloat(r.latitude):null,longitude:r.longitude?parseFloat(r.longitude):null,price_base_currency:r.price_base_currency,price_usd:r.price_usd?parseFloat(r.price_usd):null,price_mxn:r.price_mxn?parseFloat(r.price_mxn):null,exchange_rate:r.exchange_rate?parseFloat(r.exchange_rate):20,price_on_demand:r.price_on_demand,price_negotiable:r.price_negotiable,price_from_usd:r.price_from_usd?parseFloat(r.price_from_usd):null,price_to_usd:r.price_to_usd?parseFloat(r.price_to_usd):null,price_from_mxn:r.price_from_mxn?parseFloat(r.price_from_mxn):null,price_to_mxn:r.price_to_mxn?parseFloat(r.price_to_mxn):null,sqm:r.sqm?parseFloat(r.sqm):null,sqft:r.sqft?parseFloat(r.sqft):null,lot_size_sqm:r.lot_size_sqm?parseFloat(r.lot_size_sqm):null,year_built:r.year_built?parseInt(r.year_built):null,furnishing_status:r.furnishing_status,tags:r.tags,is_active:r.is_active,featured:r.featured,show_in_home:r.show_in_home,order:r.order?parseInt(r.order):0,internal_notes:r.internal_notes,seo_title:r.seo_title,seo_description:r.seo_description,seo_keywords:r.seo_keywords};r.property_type==="development"?(x.property_categories=r.property_categories,x.bedrooms_min=r.bedrooms_min||null,x.bedrooms_max=r.bedrooms_max||null,x.bathrooms_min=r.bathrooms_min||null,x.bathrooms_max=r.bathrooms_max||null):(x.property_category=r.property_category,x.bedrooms=r.bedrooms||null,x.bathrooms=r.bathrooms||null),s.mutate(x)},S=m=>a===m?"border-red-500 ring-2 ring-red-200":"",y=m=>{const{name:x,value:C}=m.target;i(E=>({...E,[x]:C}))},g=(m,x)=>{i(C=>({...C,[m]:x}))},w=(m,x)=>{i(C=>({...C,[m]:x}))},b=o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(q,{name:"title",value:r.title,onChange:y,required:!0,className:S("title")})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"text-sm font-medium",children:"Subtitle"}),o.jsx(dt,{name:"subtitle",value:r.subtitle,onChange:y,rows:3})]}),o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["City ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(q,{name:"city",value:r.city,onChange:y,required:!0,className:S("city")})]}),o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["Property Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(Vt,{value:r.property_type,onValueChange:m=>g("property_type",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{})}),o.jsxs(It,{children:[o.jsx(ne,{value:"active",children:"Active Property"}),o.jsx(ne,{value:"development",children:"New Development"})]})]})]})]}),p=o.jsxs(F4,{value:c,onValueChange:u,className:"w-full",children:[o.jsxs(lA,{className:"grid w-full grid-cols-8",children:[o.jsx(Yr,{value:"info",children:"Basic Info"}),o.jsx(Yr,{value:"price",children:"Pricing"}),o.jsx(Yr,{value:"location",children:"Location"}),o.jsx(Yr,{value:"gallery",children:"Gallery"}),o.jsx(Yr,{value:"tags",children:"Tags"}),o.jsx(Yr,{value:"landing",children:"Landing"}),o.jsx(Yr,{value:"seo",children:"SEO"}),o.jsx(Yr,{value:"notes",children:"Notes"})]}),o.jsxs(Xr,{value:"info",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(q,{name:"title",value:r.title,onChange:y,required:!0,className:r.title.trim()?"":"border-red-300"})]}),o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["Property Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(Vt,{value:r.property_type,onValueChange:m=>g("property_type",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{})}),o.jsxs(It,{children:[o.jsx(ne,{value:"active",children:"Active Property"}),o.jsx(ne,{value:"development",children:"New Development"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Subtitle"}),o.jsx(dt,{name:"subtitle",value:r.subtitle,onChange:y,rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(Vt,{value:r.status,onValueChange:m=>g("status",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{})}),o.jsxs(It,{children:[o.jsx(ne,{value:"for_sale",children:"For Sale"}),o.jsx(ne,{value:"sold",children:"Sold"}),o.jsx(ne,{value:"reserved",children:"Reserved"})]})]})]}),o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["Property Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),r.property_type==="development"?o.jsxs("div",{className:"space-y-2 border rounded-md p-3 bg-slate-50",children:[["apartment","house","villa","condo","penthouse","land","commercial"].map(m=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`cat-${m}`,checked:r.property_categories.includes(m),onChange:x=>{x.target.checked?i(C=>({...C,property_categories:[...C.property_categories,m]})):i(C=>({...C,property_categories:C.property_categories.filter(E=>E!==m)}))},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary cursor-pointer"}),o.jsx("label",{htmlFor:`cat-${m}`,className:"capitalize cursor-pointer text-sm",children:m})]},m)),r.property_categories.length===0&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Select at least one category"})]}):o.jsxs(Vt,{value:r.property_category,onValueChange:m=>g("property_category",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{})}),o.jsxs(It,{children:[o.jsx(ne,{value:"apartment",children:"Apartment"}),o.jsx(ne,{value:"house",children:"House"}),o.jsx(ne,{value:"villa",children:"Villa"}),o.jsx(ne,{value:"condo",children:"Condo"}),o.jsx(ne,{value:"penthouse",children:"Penthouse"}),o.jsx(ne,{value:"land",children:"Land"}),o.jsx(ne,{value:"commercial",children:"Commercial"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Description"}),o.jsx(dt,{name:"description",value:r.description,onChange:y,rows:3})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Content (WYSIWYG)"}),o.jsx(Mh,{value:r.content,onChange:m=>i(x=>({...x,content:m}))})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_t,{checked:r.is_active,onCheckedChange:m=>w("is_active",m)}),o.jsx(Z,{children:"Published"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_t,{checked:r.featured,onCheckedChange:m=>w("featured",m)}),o.jsx(Z,{children:"Featured"})]})]})]}),o.jsxs(Xr,{value:"price",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(_t,{checked:r.price_on_demand,onCheckedChange:m=>w("price_on_demand",m)}),o.jsx(Z,{children:"Price on Demand"})]}),!r.price_on_demand&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-slate-50 border rounded-lg p-4 mb-4",children:[o.jsx(Z,{className:"text-sm font-medium mb-2 block",children:"Base Currency"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:()=>i(m=>({...m,price_base_currency:"USD"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${r.price_base_currency==="USD"?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:" USD (Dollars)"}),o.jsx("button",{type:"button",onClick:()=>i(m=>({...m,price_base_currency:"MXN"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${r.price_base_currency==="MXN"?"bg-green-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:" MXN (Pesos)"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:r.price_base_currency==="USD"?"Prices entered in USD will be automatically converted to MXN":"Prices entered in MXN will be automatically converted to USD"})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Exchange Rate (1 USD = ? MXN)"}),o.jsx(q,{type:"number",step:"0.01",name:"exchange_rate",value:r.exchange_rate,onChange:m=>{const x=m.target.value;i(C=>{const E={...C,exchange_rate:x};return C.price_base_currency==="USD"&&C.price_usd?E.price_mxn=(parseFloat(C.price_usd)*parseFloat(x||"0")).toFixed(2):C.price_base_currency==="MXN"&&C.price_mxn&&(E.price_usd=(parseFloat(C.price_mxn)/parseFloat(x||"1")).toFixed(2)),E})}})]}),r.price_base_currency==="USD"?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["Price USD ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(q,{type:"number",name:"price_usd",value:r.price_usd,onChange:m=>{const x=m.target.value,C=parseFloat(r.exchange_rate||"0"),E=x&&C?(parseFloat(x)*C).toFixed(2):"";i(N=>({...N,price_usd:x,price_mxn:E}))},step:"0.01",className:S("price_usd")})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"text-sm text-gray-600",children:"Price MXN (auto-calculated)"}),o.jsx(q,{type:"text",value:r.price_mxn?`$${parseFloat(r.price_mxn).toLocaleString("es-MX")}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["Price MXN ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(q,{type:"number",name:"price_mxn",value:r.price_mxn,onChange:m=>{const x=m.target.value,C=parseFloat(r.exchange_rate||"1"),E=x&&C?(parseFloat(x)/C).toFixed(2):"";i(N=>({...N,price_mxn:x,price_usd:E}))},step:"0.01",className:S("price_mxn")})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"text-sm text-gray-600",children:"Price USD (auto-calculated)"}),o.jsx(q,{type:"text",value:r.price_usd?`$${parseFloat(r.price_usd).toLocaleString("en-US")}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]})]}),r.property_type==="development"&&!r.price_on_demand&&o.jsxs("div",{children:[o.jsx(Z,{className:"text-sm font-medium mb-2",children:"Price Range (for developments)"}),r.price_base_currency==="USD"?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs",children:"From USD"}),o.jsx(q,{type:"number",name:"price_from_usd",value:r.price_from_usd,onChange:m=>{const x=m.target.value,C=x?(parseFloat(x)*parseFloat(r.exchange_rate||"0")).toFixed(2):"";i(E=>({...E,price_from_usd:x,price_from_mxn:C}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs",children:"To USD"}),o.jsx(q,{type:"number",name:"price_to_usd",value:r.price_to_usd,onChange:m=>{const x=m.target.value,C=x?(parseFloat(x)*parseFloat(r.exchange_rate||"0")).toFixed(2):"";i(E=>({...E,price_to_usd:x,price_to_mxn:C}))},step:"0.01"})]})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs",children:"From MXN"}),o.jsx(q,{type:"number",name:"price_from_mxn",value:r.price_from_mxn,onChange:m=>{const x=m.target.value,C=x?(parseFloat(x)/parseFloat(r.exchange_rate||"1")).toFixed(2):"";i(E=>({...E,price_from_mxn:x,price_from_usd:C}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs",children:"To MXN"}),o.jsx(q,{type:"number",name:"price_to_mxn",value:r.price_to_mxn,onChange:m=>{const x=m.target.value,C=x?(parseFloat(x)/parseFloat(r.exchange_rate||"1")).toFixed(2):"";i(E=>({...E,price_to_mxn:x,price_to_usd:C}))},step:"0.01"})]})]})]}),r.price_negotiable&&r.property_type!=="development"&&!r.price_on_demand&&o.jsxs("div",{children:[o.jsx(Z,{className:"text-sm font-medium mb-2",children:"Negotiable Range"}),r.price_base_currency==="USD"?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs",children:"From USD"}),o.jsx(q,{type:"number",name:"price_from_usd",value:r.price_from_usd,onChange:y,step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs",children:"To USD"}),o.jsx(q,{type:"number",name:"price_to_usd",value:r.price_to_usd,onChange:y,step:"0.01"})]})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs",children:"From MXN"}),o.jsx(q,{type:"number",name:"price_from_mxn",value:r.price_from_mxn,onChange:y,step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs",children:"To MXN"}),o.jsx(q,{type:"number",name:"price_to_mxn",value:r.price_to_mxn,onChange:y,step:"0.01"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_t,{checked:r.price_negotiable,onCheckedChange:m=>w("price_negotiable",m)}),o.jsx(Z,{children:"Price Negotiable"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.property_type==="active"?o.jsxs("div",{children:[o.jsx(Z,{children:"Bedrooms"}),o.jsxs(Vt,{value:r.bedrooms,onValueChange:m=>g("bedrooms",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{placeholder:"Select"})}),o.jsxs(It,{children:[o.jsx(ne,{value:"studio",children:"Studio"}),o.jsx(ne,{value:"1",children:"1"}),o.jsx(ne,{value:"2",children:"2"}),o.jsx(ne,{value:"3",children:"3"}),o.jsx(ne,{value:"4",children:"4"}),o.jsx(ne,{value:"5+",children:"5+"})]})]})]}):o.jsxs("div",{children:[o.jsx(Z,{className:"text-sm font-medium mb-2",children:"Bedrooms Range"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs text-gray-600",children:"From"}),o.jsxs(Vt,{value:r.bedrooms_min,onValueChange:m=>g("bedrooms_min",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{placeholder:"Min"})}),o.jsxs(It,{children:[o.jsx(ne,{value:"studio",children:"Studio"}),o.jsx(ne,{value:"1",children:"1"}),o.jsx(ne,{value:"2",children:"2"}),o.jsx(ne,{value:"3",children:"3"}),o.jsx(ne,{value:"4",children:"4"}),o.jsx(ne,{value:"5+",children:"5+"})]})]})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs text-gray-600",children:"To"}),o.jsxs(Vt,{value:r.bedrooms_max,onValueChange:m=>g("bedrooms_max",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{placeholder:"Max"})}),o.jsxs(It,{children:[o.jsx(ne,{value:"studio",children:"Studio"}),o.jsx(ne,{value:"1",children:"1"}),o.jsx(ne,{value:"2",children:"2"}),o.jsx(ne,{value:"3",children:"3"}),o.jsx(ne,{value:"4",children:"4"}),o.jsx(ne,{value:"5+",children:"5+"})]})]})]})]})]}),r.property_type==="active"?o.jsxs("div",{children:[o.jsx(Z,{children:"Bathrooms"}),o.jsxs(Vt,{value:r.bathrooms,onValueChange:m=>g("bathrooms",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{placeholder:"Select"})}),o.jsx(It,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(m=>o.jsx(ne,{value:m,children:m},m))})]})]}):o.jsxs("div",{children:[o.jsx(Z,{className:"text-sm font-medium mb-2",children:"Bathrooms Range"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs text-gray-600",children:"From"}),o.jsxs(Vt,{value:r.bathrooms_min,onValueChange:m=>g("bathrooms_min",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{placeholder:"Min"})}),o.jsx(It,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(m=>o.jsx(ne,{value:m,children:m},m))})]})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"text-xs text-gray-600",children:"To"}),o.jsxs(Vt,{value:r.bathrooms_max,onValueChange:m=>g("bathrooms_max",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{placeholder:"Max"})}),o.jsx(It,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(m=>o.jsx(ne,{value:m,children:m},m))})]})]})]})]})]}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.jsxs("div",{children:[o.jsx(Z,{children:"SQM"}),o.jsx(q,{type:"number",name:"sqm",value:r.sqm,onChange:y,step:"0.01"})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Z,{children:"Lot Size SQM"}),o.jsx(q,{type:"number",name:"lot_size_sqm",value:r.lot_size_sqm,onChange:y,step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Year Built"}),o.jsx(q,{type:"number",name:"year_built",value:r.year_built,onChange:y})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Furnishing Status"}),o.jsxs(Vt,{value:r.furnishing_status,onValueChange:m=>g("furnishing_status",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{})}),o.jsxs(It,{children:[o.jsx(ne,{value:"furnished",children:"Furnished"}),o.jsx(ne,{value:"semi-furnished",children:"Semi-Furnished"}),o.jsx(ne,{value:"unfurnished",children:"Unfurnished"})]})]})]})]})]}),o.jsxs(Xr,{value:"location",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Z,{className:"text-sm font-medium",children:["City ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(q,{name:"city",value:r.city,onChange:y,required:!0,className:r.city.trim()?"":"border-red-300"})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Neighborhood"}),o.jsx(q,{name:"neighborhood",value:r.neighborhood,onChange:y})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Z,{children:"State"}),o.jsx(q,{name:"state",value:r.state,onChange:y})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Country"}),o.jsxs(Vt,{value:r.country,onValueChange:m=>g("country",m),children:[o.jsx(Lt,{children:o.jsx(Ht,{})}),o.jsxs(It,{children:[o.jsx(ne,{value:"Mexico",children:"Mexico"}),o.jsx(ne,{value:"USA",children:"USA"}),o.jsx(ne,{value:"Italy",children:"Italy"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Address"}),o.jsx(dt,{name:"address",value:r.address,onChange:y,rows:2})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Google Maps Embed URL"}),o.jsx(dt,{name:"google_maps_url",value:r.google_maps_url,onChange:y,rows:3,placeholder:"Paste your Google Maps embed URL here (e.g. https://www.google.com/maps/embed?pb=...)"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get the embed URL from Google Maps: Share  Embed a map  Copy the src URL from the iframe"})]})]}),o.jsx(Xr,{value:"gallery",className:"space-y-4",children:t?o.jsx(TU,{propertyId:parseInt(t)}):o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center bg-muted/50",children:[o.jsx("p",{className:"text-muted-foreground mb-2",children:"Gallery Upload"}),o.jsx("p",{className:"text-sm",children:"Save the property first to upload images"})]})}),o.jsx(Xr,{value:"tags",className:"space-y-4",children:o.jsx(tz,{selectedTags:r.tags,onChange:m=>i(x=>({...x,tags:m}))})}),o.jsx(Xr,{value:"landing",className:"space-y-4",children:t?o.jsx(ez,{propertyId:Number(t)}):o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center bg-muted/50",children:[o.jsx("p",{className:"text-muted-foreground mb-2",children:"Landing Pages"}),o.jsx("p",{className:"text-sm",children:"Save the property first to associate landing pages"})]})}),o.jsxs(Xr,{value:"seo",className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs(Z,{children:["SEO Title (max 160 chars) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(q,{name:"seo_title",value:r.seo_title,onChange:y,maxLength:160,className:S("seo_title")}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.seo_title.length,"/160"]})]}),o.jsxs("div",{children:[o.jsxs(Z,{children:["SEO Description (max 320 chars) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(dt,{name:"seo_description",value:r.seo_description,onChange:y,maxLength:320,rows:3,className:S("seo_description")}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.seo_description.length,"/320"]})]}),o.jsxs("div",{children:[o.jsxs(Z,{children:["OG Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(q,{name:"og_title",value:r.og_title,onChange:y,maxLength:160,className:S("og_title")})]}),o.jsxs("div",{children:[o.jsxs(Z,{children:["OG Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(dt,{name:"og_description",value:r.og_description,onChange:y,maxLength:320,rows:3,className:S("og_description")})]})]}),o.jsxs(Xr,{value:"notes",className:"space-y-4",children:[o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-amber-800",children:[o.jsx("strong",{children:"Internal Notes:"})," These notes are only visible in the admin panel and will NOT be displayed on the public website."]})}),o.jsxs("div",{children:[o.jsx(Z,{children:"Internal Notes"}),o.jsx(dt,{name:"internal_notes",value:r.internal_notes,onChange:y,rows:10,placeholder:"Add private notes about this property..."})]})]})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>e("/properties"),children:o.jsx(xi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Property":"New Property"})]}),o.jsxs(F,{type:"button",onClick:v,disabled:s.isPending,children:[o.jsx(FN,{className:"mr-2 h-4 w-4"}),s.isPending?"Saving...":n?"Update":"Create"]})]}),o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsx("form",{onSubmit:v,children:n?p:b})})})]})}const nz=fh("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),cg=h.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:ye(nz({variant:e}),t),...n}));cg.displayName="Alert";const rz=h.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:ye("mb-1 font-medium leading-none tracking-tight",t),...e}));rz.displayName="AlertTitle";const ug=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ye("text-sm [&_p]:leading-relaxed",t),...e}));ug.displayName="AlertDescription";function iz(){var S,y,g,w,b;const t=$t(),[e,n]=h.useState(""),[r,i]=h.useState(null),[s,a]=h.useState([]),l={title:"Luxury Beachfront Villa in Tulum",subtitle:"Modern 3BR villa with private pool",property_type:"active",status:"for_sale",property_category:"villa",description:"Stunning beachfront villa...",content:"<h2>Welcome</h2><p>Description...</p>",price_usd:85e4,price_on_demand:!1,bedrooms:"3",bathrooms:"3.5",sqm:250,furnishing_status:"furnished",neighborhood:"Tulum Beach",city:"Tulum",country:"Mexico",latitude:20.2114185,longitude:-87.4653502,tags:["Ocean View","Private Pool","Security 24/7"],seo_title:"Luxury Villa in Tulum - 3BR with Pool",seo_description:"Discover this stunning villa...",is_active:!0,featured:!1},c=Ye({mutationFn:async p=>z.post("/properties/import-json?validate_only=true",p),onSuccess:p=>{i(p.data.data),a([])},onError:p=>{var x,C;const m=((C=(x=p.response)==null?void 0:x.data)==null?void 0:C.error)||"Validation failed";a([m]),i(null)}}),u=Ye({mutationFn:async p=>z.post("/properties/import-json",p),onSuccess:p=>{var x;const m=(x=p.data.data)==null?void 0:x.id;alert("Property imported successfully!"),t(m?`/properties/${m}`:"/properties")},onError:p=>{var x,C;const m=((C=(x=p.response)==null?void 0:x.data)==null?void 0:C.error)||"Import failed";a([m])}}),d=()=>{a([]),i(null);try{const p=JSON.parse(e);c.mutate(p)}catch(p){a([`Invalid JSON syntax: ${p.message}`])}},f=()=>{if(!(r!=null&&r.valid)){a(["Please validate JSON first"]);return}try{const p=JSON.parse(e);u.mutate(p)}catch(p){a([`Invalid JSON: ${p.message}`])}},v=()=>{n(JSON.stringify(l,null,2)),i(null),a([])};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t("/properties"),children:o.jsx(xi,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Import Property from JSON"}),o.jsx("p",{className:"text-muted-foreground",children:"Import properties in bulk or migrate from external systems"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(rt,{children:"JSON Data"}),o.jsxs(F,{variant:"outline",size:"sm",onClick:v,children:[o.jsx(W2,{className:"mr-2 h-4 w-4"}),"Show Example"]})]})}),o.jsxs(le,{className:"space-y-4",children:[o.jsx(dt,{value:e,onChange:p=>n(p.target.value),placeholder:"Paste your JSON here...",rows:20,className:"font-mono text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(F,{onClick:d,disabled:!e||c.isPending,variant:"outline",children:c.isPending?"Validating...":"Validate JSON"}),o.jsxs(F,{onClick:f,disabled:!(r!=null&&r.valid)||u.isPending,children:[o.jsx(Mr,{className:"mr-2 h-4 w-4"}),u.isPending?"Importing...":"Import Property"]})]})]})]}),r&&o.jsxs(cg,{className:"border-green-500 bg-green-50",children:[o.jsx($2,{className:"h-4 w-4 text-green-600"}),o.jsxs(ug,{children:[o.jsx("strong",{className:"text-green-900",children:" JSON is valid"}),o.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[o.jsxs("p",{children:["Title: ",(S=r.preview)==null?void 0:S.title]}),o.jsxs("p",{children:["Type: ",(y=r.preview)==null?void 0:y.property_type]}),o.jsxs("p",{children:["Price: $",(w=(g=r.preview)==null?void 0:g.price_usd)==null?void 0:w.toLocaleString()]}),o.jsxs("p",{children:["City: ",(b=r.preview)==null?void 0:b.city]})]})]})]}),s.length>0&&o.jsxs(cg,{variant:"destructive",children:[o.jsx(X2,{className:"h-4 w-4"}),o.jsxs(ug,{children:[o.jsx("strong",{children:"Validation Errors:"}),o.jsx("ul",{className:"mt-2 list-disc list-inside",children:s.map((p,m)=>o.jsx("li",{children:p},m))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(rt,{className:"text-lg",children:"Required Fields"})}),o.jsx(le,{className:"text-sm space-y-2",children:o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:"title (string)"}),o.jsx("li",{children:"property_type (active/development)"}),o.jsx("li",{children:"property_category"}),o.jsx("li",{children:"city (string)"}),o.jsx("li",{children:"latitude (number)"}),o.jsx("li",{children:"longitude (number)"}),o.jsx("li",{children:"price_usd or price_on_demand"})]})})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(rt,{className:"text-lg",children:"Tags Format"})}),o.jsxs(le,{className:"text-sm",children:[o.jsx("p",{className:"mb-2",children:"Tags must be an array:"}),o.jsx("code",{className:"block bg-gray-100 p-2 rounded text-xs",children:'"tags": ["Pool", "Gym", "Security 24/7"]'}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Max 20 tags"})]})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(rt,{className:"text-lg",children:"Use Cases"})}),o.jsx(le,{className:"text-sm space-y-2",children:o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[o.jsx("li",{children:"Migrate from WordPress"}),o.jsx("li",{children:"Bulk property import"}),o.jsx("li",{children:"Duplicate existing property"}),o.jsx("li",{children:"Backup & restore"}),o.jsx("li",{children:"Testing with sample data"})]})})]})]})]})]})}function br(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function uo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const xR=6048e5,sz=864e5;let oz={};function Wh(){return oz}function bc(t,e){var l,c,u,d;const n=Wh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=br(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function zd(t){return bc(t,{weekStartsOn:1})}function bR(t){const e=br(t),n=e.getFullYear(),r=uo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=zd(r),s=uo(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=zd(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function z0(t){const e=br(t);return e.setHours(0,0,0,0),e}function W0(t){const e=br(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function az(t,e){const n=z0(t),r=z0(e),i=+n-W0(n),s=+r-W0(r);return Math.round((i-s)/sz)}function lz(t){const e=bR(t),n=uo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),zd(n)}function cz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function uz(t){if(!cz(t)&&typeof t!="number")return!1;const e=br(t);return!isNaN(Number(e))}function dz(t){const e=br(t),n=uo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const hz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fz=(t,e,n)=>{let r;const i=hz[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function mm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const mz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vz={date:mm({formats:mz,defaultWidth:"full"}),time:mm({formats:pz,defaultWidth:"full"}),dateTime:mm({formats:gz,defaultWidth:"full"})},yz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xz=(t,e,n,r)=>yz[t];function gl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const bz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ez={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Az=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jz={ordinalNumber:Az,era:gl({values:bz,defaultWidth:"wide"}),quarter:gl({values:wz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gl({values:Sz,defaultWidth:"wide"}),day:gl({values:Cz,defaultWidth:"wide"}),dayPeriod:gl({values:Nz,defaultWidth:"wide",formattingValues:Ez,defaultFormattingWidth:"wide"})};function vl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?kz(l,f=>f.test(a)):Rz(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function Rz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function _z(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const Tz=/^(\d+)(th|st|nd|rd)?/i,Pz=/\d+/i,Dz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Oz={any:[/^b/i,/^(a|c)/i]},Lz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Iz={any:[/1/i,/2/i,/3/i,/4/i]},Mz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$z={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Uz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wz={ordinalNumber:_z({matchPattern:Tz,parsePattern:Pz,valueCallback:t=>parseInt(t,10)}),era:vl({matchPatterns:Dz,defaultMatchWidth:"wide",parsePatterns:Oz,defaultParseWidth:"any"}),quarter:vl({matchPatterns:Lz,defaultMatchWidth:"wide",parsePatterns:Iz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vl({matchPatterns:Mz,defaultMatchWidth:"wide",parsePatterns:Fz,defaultParseWidth:"any"}),day:vl({matchPatterns:Bz,defaultMatchWidth:"wide",parsePatterns:$z,defaultParseWidth:"any"}),dayPeriod:vl({matchPatterns:Uz,defaultMatchWidth:"any",parsePatterns:zz,defaultParseWidth:"any"})},Vz={code:"en-US",formatDistance:fz,formatLong:vz,formatRelative:xz,localize:jz,match:Wz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hz(t){const e=br(t);return az(e,dz(e))+1}function qz(t){const e=br(t),n=+zd(e)-+lz(e);return Math.round(n/xR)+1}function wR(t,e){var d,f,v,S;const n=br(t),r=n.getFullYear(),i=Wh(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(v=i.locale)==null?void 0:v.options)==null?void 0:S.firstWeekContainsDate)??1,a=uo(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=bc(a,e),c=uo(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=bc(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Kz(t,e){var l,c,u,d;const n=Wh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=wR(t,e),s=uo(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),bc(s,e)}function Gz(t,e){const n=br(t),r=+bc(n,e)-+Kz(n,e);return Math.round(r/xR)+1}function ze(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _i={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ze(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ze(n+1,2)},d(t,e){return ze(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ze(t.getHours()%12||12,e.length)},H(t,e){return ze(t.getHours(),e.length)},m(t,e){return ze(t.getMinutes(),e.length)},s(t,e){return ze(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ze(i,e.length)}},To={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V0={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _i.y(t,e)},Y:function(t,e,n,r){const i=wR(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return ze(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ze(s,e.length)},R:function(t,e){const n=bR(t);return ze(n,e.length)},u:function(t,e){const n=t.getFullYear();return ze(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ze(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ze(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _i.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ze(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Gz(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},I:function(t,e,n){const r=qz(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ze(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_i.d(t,e)},D:function(t,e,n){const r=Hz(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ze(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ze(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ze(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ze(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=To.noon:r===0?i=To.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=To.evening:r>=12?i=To.afternoon:r>=4?i=To.morning:i=To.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _i.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_i.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ze(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ze(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_i.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_i.s(t,e)},S:function(t,e){return _i.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return q0(r);case"XXXX":case"XX":return js(r);case"XXXXX":case"XXX":default:return js(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return q0(r);case"xxxx":case"xx":return js(r);case"xxxxx":case"xxx":default:return js(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+H0(r,":");case"OOOO":default:return"GMT"+js(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+H0(r,":");case"zzzz":default:return"GMT"+js(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ze(r,e.length)},T:function(t,e,n){const r=t.getTime();return ze(r,e.length)}};function H0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+ze(s,2)}function q0(t,e){return t%60===0?(t>0?"-":"+")+ze(Math.abs(t)/60,2):js(t,e)}function js(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ze(Math.trunc(r/60),2),s=ze(r%60,2);return n+i+e+s}const K0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},SR=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Qz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return K0(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",K0(r,e)).replace("{{time}}",SR(i,e))},Yz={p:SR,P:Qz},Xz=/^D+$/,Jz=/^Y+$/,Zz=["D","DD","YY","YYYY"];function eW(t){return Xz.test(t)}function tW(t){return Jz.test(t)}function nW(t,e,n){const r=rW(t,e,n);if(console.warn(r),Zz.includes(t))throw new RangeError(r)}function rW(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oW=/^'([^]*?)'?$/,aW=/''/g,lW=/[a-zA-Z]/;function dg(t,e,n){var d,f,v,S;const r=Wh(),i=r.locale??Vz,s=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((S=(v=r.locale)==null?void 0:v.options)==null?void 0:S.weekStartsOn)??0,l=br(t);if(!uz(l))throw new RangeError("Invalid time value");let c=e.match(sW).map(y=>{const g=y[0];if(g==="p"||g==="P"){const w=Yz[g];return w(y,i.formatLong)}return y}).join("").match(iW).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:cW(y)};if(V0[g])return{isToken:!0,value:y};if(g.match(lW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const g=y.value;(tW(g)||eW(g))&&nW(g,e,String(t));const w=V0[g[0]];return w(l,g,i.localize,u)}).join("")}function cW(t){const e=t.match(oW);return e?e[1].replace(aW,"'"):t}function uW(){var E;const t=Nn(),[e,n]=h.useState(""),[r,i]=h.useState([]),[s,a]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!1),f="/api",v=h.useMemo(()=>f.replace(/\/api$/,""),[f]),S=N=>{if(!N)return"";const A=v||window.location.origin;return N.startsWith("http")?N:N.startsWith("/")?`${A}${N}`:`${A}/${N}`},{data:y,isLoading:g,refetch:w}=yt({queryKey:["blogs",e],queryFn:async()=>{var P;const N=e?`&q=${encodeURIComponent(e)}`:"",A=await z.get(`/blogs?include_deleted=false${N}`),k=((P=A.data)==null?void 0:P.data)??A.data??[],j=Array.isArray(k==null?void 0:k.blogs)?k.blogs:Array.isArray(k)?k:[],R=(k==null?void 0:k.pagination)??null;return{blogs:j,pagination:R}},refetchOnWindowFocus:!1});h.useEffect(()=>{const N=(y==null?void 0:y.blogs)||[];if(N.length){const A=[...N].sort((k,j)=>(k.display_order||0)-(j.display_order||0));i(A)}else i([])},[y]),h.useEffect(()=>{if(g){d(!1);return}const N=setTimeout(()=>d(!0),600);return()=>clearTimeout(N)},[g,e]);const b=async N=>{if(s===null||s===N){a(null);return}const A=[...r],[k]=A.splice(s,1);A.splice(N,0,k);const j=A.map((R,P)=>({...R,display_order:P+1}));i(j),a(null);try{await z.post("/blogs/reorder",{order:j.map((R,P)=>({id:R.id,display_order:P+1}))}),t.invalidateQueries({queryKey:["blogs"]}),w()}catch(R){console.error("Failed to reorder blogs:",R),w()}},p=async(N,A)=>{try{i(k=>k.map(j=>j.id===N.id?{...j,is_home:A}:j)),await z.put(`/blogs/${N.id}`,{is_home:A?1:0}),t.invalidateQueries({queryKey:["blogs"]})}catch(k){console.error("Failed to update isHome",k),w()}},m=Ye({mutationFn:async N=>z.delete(`/blogs/${N}`),onSuccess:async N=>{var A,k;c(null),t.invalidateQueries({queryKey:["blogs"]}),w(),console.log(((k=(A=N==null?void 0:N.data)==null?void 0:A.data)==null?void 0:k.message)||"Blog removed")},onError:N=>{var A,k;console.error(((k=(A=N==null?void 0:N.response)==null?void 0:A.data)==null?void 0:k.error)||"Failed to delete blog")}}),x=()=>{l&&m.mutate(l)};return g||!u?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Blogs"}),o.jsx(F,{asChild:!0,children:o.jsxs(on,{to:"/blogs/new",children:[o.jsx(_n,{className:"mr-2 h-4 w-4"}),"Add Blog"]})})]}),o.jsx("div",{className:"grid gap-4",children:[1,2,3].map(N=>o.jsxs(ae,{className:"animate-pulse",children:[o.jsx(Ve,{children:o.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"})]})})]},N))})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Blogs"}),o.jsxs("p",{className:"text-muted-foreground",children:[((E=y==null?void 0:y.pagination)==null?void 0:E.total)??r.length??0," total blogs"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(q,{placeholder:"Search blogs...",value:e,onChange:N=>n(N.target.value),className:"w-56"}),o.jsx(F,{asChild:!0,children:o.jsxs(on,{to:"/blogs/new",children:[o.jsx(_n,{className:"mr-2 h-4 w-4"}),"Add Blog"]})})]})]}),r.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No blogs found"}),o.jsx(F,{asChild:!0,children:o.jsxs(on,{to:"/blogs/new",children:[o.jsx(_n,{className:"mr-2 h-4 w-4"}),"Create your first blog"]})})]})}):o.jsx("div",{className:"grid gap-4",children:r.map((N,A)=>o.jsx(ae,{className:"overflow-hidden border border-dashed",draggable:!0,onDragStart:()=>a(A),onDragOver:k=>k.preventDefault(),onDrop:()=>b(A),onDragEnd:()=>a(null),children:o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsxs("div",{className:"p-2 text-muted-foreground cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",A+1]})]}),o.jsx(ka,{src:S(N.featured_image),alt:N.featured_image_alt||N.title,className:"w-48 h-48 object-cover my-4 ml-2 mr-4 rounded-lg"}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(rt,{className:"line-clamp-1",children:N.title}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[o.jsx($a,{className:"h-3 w-3"}),o.jsxs("span",{className:"break-all",children:["/blog/",N.slug]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(_t,{checked:!!N.is_home,onCheckedChange:k=>p(N,k),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle blog on home"})]})]})}),o.jsxs(le,{className:"p-0",children:[N.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:N.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(_p,{className:"h-4 w-4"}),o.jsx("span",{children:N.published_date?dg(new Date(N.published_date),"MMM dd, yyyy"):"No date"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(on,{to:`/blogs/${N.id}/edit`,children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]})}),o.jsx(F,{variant:"destructive",size:"sm",onClick:()=>c(N.id),children:o.jsx(za,{className:"h-4 w-4"})})]})]})]})]})]})},N.id))}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Delete blog?"}),o.jsx("p",{className:"text-muted-foreground",children:"If the blog is older than 24h it will be archived (not removed) and a redirect placeholder will be created for SEO safety."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(F,{variant:"outline",onClick:()=>c(null),children:"Close"}),o.jsx(F,{variant:"destructive",onClick:x,disabled:m.isPending,children:m.isPending?"Deleting...":"Delete"})]})]})})]})}function G0(){const{id:t}=po(),e=$t(),n=!!t,i="/api".replace(/\/api$/,""),s=A=>A?A.startsWith("http")?A:`${i}${A}`:"",a=A=>A.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),[l,c]=h.useState({title:"",slug:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",description:"",content:"",featured_image:"",featured_image_alt:"",content_image:"",content_image_alt:"",is_home:!1,published_date:new Date().toISOString().split("T")[0]}),[u,d]=h.useState(!1),[f,v]=h.useState(!1),[S,y]=h.useState(""),[g,w]=h.useState(""),b=h.useRef(null),p=h.useRef(null);yt({queryKey:["blog",t],queryFn:async()=>{const k=(await z.get(`/blogs/${t}`)).data.data;return c({title:k.title||"",slug:k.slug||"",seoTitle:k.seoTitle||"",seoDescription:k.seoDescription||"",ogTitle:k.ogTitle||"",ogDescription:k.ogDescription||"",description:k.description||"",content:k.content||"",featured_image:k.featured_image||"",featured_image_alt:k.featured_image_alt||"",content_image:k.content_image||"",content_image_alt:k.content_image_alt||"",is_home:k.is_home,published_date:k.published_date||new Date().toISOString().split("T")[0]}),k.featured_image&&y(s(k.featured_image)),k.content_image&&w(s(k.content_image)),k},enabled:n});const m=Ye({mutationFn:async A=>n?z.put(`/blogs/${t}`,A):z.post("/blogs",A),onSuccess:()=>{e("/blogs")},onError:A=>{var k,j;alert(((j=(k=A.response)==null?void 0:k.data)==null?void 0:j.error)||"An error occurred")}}),x=A=>{var R;A.preventDefault();const k=((R=l.slug)==null?void 0:R.trim())||a(l.title);if(!l.seoTitle.trim()||!l.seoDescription.trim()||!l.ogTitle.trim()||!l.ogDescription.trim()){alert("SEO fields (title, meta description, OG title, OG description) are required");return}if(l.featured_image&&!l.featured_image_alt.trim()){alert("Alt text is required when you upload an image");return}if(l.content_image&&!l.content_image_alt.trim()){alert("Alt text is required when you upload the content image");return}const j={...l,slug:k,is_home:l.is_home?1:0};m.mutate(j)},C=A=>{const{name:k,value:j,type:R}=A.target;c(P=>({...P,[k]:R==="checkbox"?A.target.checked:j,...k==="title"&&!n?{slug:P.slug?P.slug:a(j)}:{}}))},E=async(A,k)=>{var B;const j=(B=A.target.files)==null?void 0:B[0];if(!j)return;if(!j.type.startsWith("image/")){console.warn("Please select an image file");return}if(j.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const R=k==="featured"?d:v,P=k==="featured"?y:w,M=k==="featured"?"featured_image":"content_image";R(!0);try{const Y=new FormData;Y.append("image",j);const G=(await z.post("/upload/blog-image",Y,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;c(O=>({...O,[M]:G})),P(s(G))}catch(Y){console.error("Upload failed:",Y)}finally{R(!1)}},N=async A=>{const k=A==="featured"?l.featured_image:l.content_image;if(k&&confirm("Remove this image?")){try{await z.delete(`/upload/file?url=${encodeURIComponent(k)}`)}catch(j){console.error("Failed to delete image:",j)}c(j=>({...j,...A==="featured"?{featured_image:"",featured_image_alt:""}:{content_image:"",content_image_alt:""}})),A==="featured"?y(""):w("")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>e("/blogs"),children:o.jsx(xi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Blog":"New Blog"})]}),o.jsx("form",{onSubmit:x,children:o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(rt,{children:"Blog Information"})}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Page title (H1) *"}),o.jsx(q,{id:"title",name:"title",value:l.title,onChange:C,required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Short description"}),o.jsx(dt,{id:"description",name:"description",value:l.description,onChange:C,rows:3,placeholder:"Short summary for listings"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"published_date",className:"text-sm font-medium",children:"Published date"}),o.jsx(q,{id:"published_date",name:"published_date",type:"date",value:l.published_date,onChange:C})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_t,{checked:l.is_home,onCheckedChange:A=>c(k=>({...k,is_home:A})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-base font-semibold",children:"Images"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("p",{className:"text-sm font-semibold",children:"Cover image"})}),S?o.jsxs("div",{className:"relative inline-block",children:[o.jsx(ka,{src:S,alt:"Preview",style:{width:"340px",height:"250px"},className:"object-cover rounded-lg border"}),o.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>N("featured"),children:[o.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Rimuovi"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var A;return(A=b.current)==null?void 0:A.click()},onKeyDown:A=>{var k;(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),(k=b.current)==null||k.click())},children:[o.jsx(Mr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload image"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"340 x 250px"}),o.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:A=>E(A,"featured"),disabled:u,className:"hidden"}),u&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}),o.jsx("p",{className:"text-sm text-primary",children:"Uploading..."})]})]}),o.jsxs("div",{className:"space-y-1 pt-1 max-w-xl",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),o.jsx(q,{name:"featured_image_alt",value:l.featured_image_alt,onChange:C,required:!!l.featured_image})]})]}),o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"})}),g?o.jsxs("div",{className:"relative inline-block",children:[o.jsx(ka,{src:g,alt:"Content preview",style:{width:"340px",height:"250px"},className:"object-cover rounded-lg border"}),o.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>N("content"),children:[o.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Rimuovi"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var A;return(A=p.current)==null?void 0:A.click()},onKeyDown:A=>{var k;(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),(k=p.current)==null||k.click())},children:[o.jsx(Mr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"16:9 recommended, max 10MB"}),o.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:A=>E(A,"content"),disabled:f,className:"hidden"}),f&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}),o.jsx("p",{className:"text-sm text-primary",children:"Uploading..."})]})]}),o.jsxs("div",{className:"space-y-1 pt-1 max-w-xl",children:[o.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),o.jsx(q,{name:"content_image_alt",value:l.content_image_alt,onChange:C,required:!!l.content_image})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Full content"}),o.jsx(Mh,{value:l.content,onChange:A=>c(k=>({...k,content:A})),placeholder:"Write your blog content..."})]}),o.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsx("div",{className:"flex items-center justify-between gap-2",children:o.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{htmlFor:"slug",className:"text-sm font-medium",children:"LNK (url)"}),o.jsx(q,{id:"slug",name:"slug",value:l.slug,onChange:A=>{n||c(k=>({...k,slug:a(A.target.value)}))},disabled:n})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),o.jsx(q,{name:"seoTitle",value:l.seoTitle,onChange:C,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),o.jsx(dt,{name:"seoDescription",value:l.seoDescription,onChange:C,rows:3,maxLength:320})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Title  (meta="og:title")'}),o.jsx(q,{name:"ogTitle",value:l.ogTitle,onChange:C,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Description  (meta="og:description")'}),o.jsx(dt,{name:"ogDescription",value:l.ogDescription,onChange:C,rows:3,maxLength:320})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(F,{type:"submit",disabled:m.isPending,children:m.isPending?"Saving...":n?"Update Blog":"Create Blog"}),o.jsx(F,{type:"button",variant:"outline",onClick:()=>e("/blogs"),children:"Close"})]})]})]})})]})}function dW(){return o.jsx("div",{className:"space-y-6",children:o.jsx(ae,{className:"p-10 text-center border-dashed",children:o.jsxs(le,{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(UN,{className:"h-10 w-10 text-muted-foreground"})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Photo Gallery  work in progress"}),o.jsx("p",{className:"text-muted-foreground",children:"This section is under construction. Check back soon."})]})})})}function Q0(){const t=$t(),{id:e}=po(),[n]=rP(),r=Nn(),i=!!e,s=n.get("property_id"),[a,l]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState({property_id:s?parseInt(s):0,image_url:"",caption:"",alt_text:"",display_order:0,is_featured:!1}),{data:v}=yt({queryKey:["photo",e],queryFn:async()=>(await z.get(`/photogallery/${e}`)).data.data,enabled:i});h.useEffect(()=>{v&&(f({property_id:v.property_id,image_url:v.image_url,thumbnail_url:v.thumbnail_url,medium_url:v.medium_url,caption:v.caption||"",alt_text:v.alt_text||"",display_order:v.display_order,is_featured:v.is_featured}),u(v.medium_url||v.image_url))},[v]);const S=Ye({mutationFn:async m=>{await z.post("/photogallery",m)},onSuccess:()=>{r.invalidateQueries({queryKey:["photos"]}),t(`/photogallery?property_id=${d.property_id}`)}}),y=Ye({mutationFn:async m=>{await z.put(`/photogallery/${e}`,m)},onSuccess:()=>{r.invalidateQueries({queryKey:["photos"]}),r.invalidateQueries({queryKey:["photo",e]}),t(`/photogallery?property_id=${d.property_id}`)}}),g=async m=>{var C;const x=(C=m.target.files)==null?void 0:C[0];if(x){if(!x.type.startsWith("image/")){alert("Please select an image file");return}if(x.size>10*1024*1024){alert("Il file  troppo grande. Massimo 10MB");return}try{l(!0);const E=new FormData;E.append("image",x);const A=(await z.post("/upload/property-image",E,{headers:{"Content-Type":"multipart/form-data"}})).data.data;f(k=>({...k,image_url:A.original,thumbnail_url:A.thumbnail,medium_url:A.medium})),u(A.medium)}catch(E){console.error("Upload error:",E),alert("Error while uploading the image")}finally{l(!1)}}},w=async()=>{if(confirm("Do you want to remove this image?")){if(d.image_url)try{await z.delete(`/upload/file?url=${encodeURIComponent(d.image_url)}`)}catch(m){console.error("Error deleting file:",m)}f(m=>({...m,image_url:"",thumbnail_url:"",medium_url:""})),u("")}},b=m=>{if(m.preventDefault(),!d.image_url){alert("Please upload an image");return}if(i){const x={caption:d.caption,alt_text:d.alt_text,display_order:d.display_order,is_featured:d.is_featured};y.mutate(x)}else S.mutate(d)},p=()=>{const m=d.property_id||s;t(m?`/photogallery?property_id=${m}`:"/photogallery")};return o.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:i?"Edit Photo":"Upload New Photo"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:i?"Update photo details":"Add a new photo to the gallery"})]}),o.jsx("form",{onSubmit:b,children:o.jsxs(ae,{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:"Image *"}),c?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:c,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}),!i&&o.jsxs(F,{type:"button",variant:"destructive",size:"sm",onClick:w,className:"absolute top-2 right-2",children:[o.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-12 text-center hover:border-primary/50 transition-colors",children:[o.jsx(q,{type:"file",accept:"image/*",onChange:g,disabled:a,className:"hidden",id:"image-upload"}),o.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[a?o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto mb-4"}):o.jsx(Mr,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-sm font-medium mb-1",children:a?"Uploading...":"Click to upload or drag here"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP up to 10MB"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"caption",children:"Didascalia"}),o.jsx(q,{id:"caption",value:d.caption,onChange:m=>f(x=>({...x,caption:m.target.value})),placeholder:"Es: Vista del soggiorno"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"alt_text",children:"Testo Alternativo"}),o.jsx(q,{id:"alt_text",value:d.alt_text,onChange:m=>f(x=>({...x,alt_text:m.target.value})),placeholder:"Descrizione per accessibilit e SEO"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"display_order",children:"Ordine di Visualizzazione"}),o.jsx(q,{id:"display_order",type:"number",value:d.display_order,onChange:m=>f(x=>({...x,display_order:parseInt(m.target.value)||0})),min:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Numeri pi bassi appaiono per primi"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Z,{htmlFor:"is_featured",children:"Featured Photo"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This will be the main photo for the property"})]}),o.jsx(_t,{id:"is_featured",checked:d.is_featured,onCheckedChange:m=>f(x=>({...x,is_featured:m}))})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(F,{type:"submit",disabled:S.isPending||y.isPending,className:"flex-1",children:S.isPending||y.isPending?"Salvataggio...":i?"Update Photo":"Upload Photo"}),o.jsx(F,{type:"button",variant:"outline",onClick:p,children:"Annulla"})]})]})})]})}function hW(){const t=Nn(),[e,n]=h.useState(""),[r,i]=h.useState([]),[s,a]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!1),f="/api",v=h.useMemo(()=>f.replace(/\/api$/,""),[f]),S=C=>C?C.startsWith("http")?C:C.startsWith("/")?`${v}${C}`:`${v}/${C}`:"",{data:y,isLoading:g,refetch:w}=yt({queryKey:["videos",e],queryFn:async()=>{var A;const C=e?`&q=${encodeURIComponent(e)}`:"",E=await z.get(`/videos?include_deleted=false${C}`),N=((A=E.data)==null?void 0:A.data)??E.data??{};return Array.isArray(N==null?void 0:N.videos)?{videos:N.videos,pagination:N.pagination??null}:Array.isArray(N)?{videos:N,pagination:null}:{videos:[],pagination:null}},refetchOnWindowFocus:!1});h.useEffect(()=>{const C=(y==null?void 0:y.videos)||[];if(C.length){const E=[...C].sort((N,A)=>(N.display_order||0)-(A.display_order||0));i(E)}else i([])},[y]),h.useEffect(()=>{if(g){d(!1);return}const C=setTimeout(()=>d(!0),1e3);return()=>clearTimeout(C)},[g,e]);const b=async C=>{if(s===null||s===C){a(null);return}const E=[...r],[N]=E.splice(s,1);E.splice(C,0,N);const A=E.map((k,j)=>({...k,display_order:j+1}));i(A),a(null);try{await z.post("/videos/reorder",{order:A.map((k,j)=>({id:k.id,display_order:j+1}))}),t.invalidateQueries({queryKey:["videos"]}),w()}catch(k){console.error("Failed to reorder videos:",k),w()}},p=async(C,E)=>{try{i(N=>N.map(A=>A.id===C.id?{...A,is_home:E}:A)),await z.put(`/videos/${C.id}`,{is_home:E?1:0}),t.invalidateQueries({queryKey:["videos"]})}catch(N){console.error("Failed to update home flag",N),w()}},m=async()=>{if(l)try{await z.delete(`/videos/${l}`),c(null),w()}catch(C){console.error("Failed to delete video:",C)}};return g||!u?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Videos"}),o.jsx(on,{to:"/videos/new",children:o.jsxs(F,{children:[o.jsx(_n,{className:"mr-2 h-4 w-4"}),"Add Video"]})})]}),o.jsx("div",{className:"grid gap-4",children:[1,2,3].map(C=>o.jsxs(ae,{className:"animate-pulse",children:[o.jsx(Ve,{children:o.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),o.jsx(le,{children:o.jsx("div",{className:"h-4 w-full bg-gray-100 rounded"})})]},C))})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Videos"}),o.jsx(on,{to:"/videos/new",children:o.jsxs(F,{children:[o.jsx(_n,{className:"mr-2 h-4 w-4"}),"Add Video"]})})]}),o.jsx(q,{placeholder:"Search videos...",value:e,onChange:C=>n(C.target.value)}),r.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"pt-6 text-center text-muted-foreground",children:["No videos found."," ",o.jsx(on,{to:"/videos/new",className:"text-primary hover:underline",children:"Create your first video"})]})}):o.jsx("div",{className:"grid gap-4",children:r.map((C,E)=>o.jsx(ae,{draggable:!0,onDragStart:()=>a(E),onDragOver:N=>N.preventDefault(),onDrop:()=>b(E),onDragEnd:()=>a(null),className:`overflow-hidden border border-dashed cursor-move transition ${s===E?"opacity-50":""}`,children:o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsxs("div",{className:"p-3 text-muted-foreground cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",E+1]})]}),o.jsx(ka,{src:S(C.thumbnail_url),alt:C.thumbnail_alt||C.title,className:"w-48 h-48 object-cover my-4 mr-4 rounded-lg"}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(rt,{className:"line-clamp-1",children:C.title}),C.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:C.description})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(_t,{checked:!!C.is_home,onCheckedChange:N=>p(C,N),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle video on home"})]})]})}),o.jsx(le,{className:"p-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(on,{to:`/videos/${C.id}/edit`,children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]})}),o.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>c(C.id),children:[o.jsx(za,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]})},C.id))}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs(ae,{className:"w-full max-w-md",children:[o.jsx(Ve,{children:o.jsx(rt,{children:"Confirm Delete"})}),o.jsxs(le,{className:"space-y-4",children:[o.jsx("p",{children:"Are you sure you want to delete this video?"}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(F,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),o.jsx(F,{variant:"destructive",onClick:m,children:"Delete"})]})]})]})})]})}function Y0(){const{id:t}=po(),e=$t(),n=!!t,i="/api".replace(/\/api$/,""),s=p=>p?p.startsWith("http")?p:`${i}${p}`:"",[a,l]=h.useState({title:"",description:"",video_url:"",thumbnail_url:"",thumbnail_alt:"",is_home:!1}),[c,u]=h.useState(!1),[d,f]=h.useState(""),v=h.useRef(null);yt({queryKey:["video",t],queryFn:async()=>{const m=(await z.get(`/videos/${t}`)).data.data;return l({title:m.title||"",description:m.description||"",video_url:m.video_url||"",thumbnail_url:m.thumbnail_url||"",thumbnail_alt:m.thumbnail_alt||"",is_home:m.is_home}),m.thumbnail_url&&f(s(m.thumbnail_url)),m},enabled:n});const S=Ye({mutationFn:async p=>n?z.put(`/videos/${t}`,p):z.post("/videos",p),onSuccess:()=>{e("/videos")},onError:p=>{var m,x;alert(((x=(m=p.response)==null?void 0:m.data)==null?void 0:x.error)||"An error occurred")}}),y=p=>{if(p.preventDefault(),!a.thumbnail_url){alert("Thumbnail image is required");return}if(!a.thumbnail_alt.trim()){alert("Thumbnail alt text is required");return}const m={...a,is_home:a.is_home?1:0};S.mutate(m)},g=p=>{const{name:m,value:x,type:C}=p.target;l(E=>({...E,[m]:C==="checkbox"?p.target.checked:x}))},w=async p=>{var x;const m=(x=p.target.files)==null?void 0:x[0];if(m){if(!m.type.startsWith("image/")){console.warn("Please select an image file");return}if(m.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}u(!0);try{const C=new FormData;C.append("image",m);const N=(await z.post("/upload/video-thumbnail",C,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;l(A=>({...A,thumbnail_url:N})),f(s(N))}catch(C){console.error("Upload failed:",C)}finally{u(!1)}}},b=async()=>{if(a.thumbnail_url&&confirm("Remove this thumbnail?")){try{await z.delete(`/upload/file?url=${encodeURIComponent(a.thumbnail_url)}`)}catch(p){console.error("Failed to delete image:",p)}l(p=>({...p,thumbnail_url:"",thumbnail_alt:""})),f("")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>e("/videos"),children:o.jsx(xi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Video":"New Video"})]}),o.jsx("form",{onSubmit:y,children:o.jsxs(ae,{children:[o.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[o.jsx(rt,{children:"Video Information"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_t,{checked:a.is_home,onCheckedChange:p=>l(m=>({...m,is_home:p})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title *"}),o.jsx(q,{id:"title",name:"title",value:a.title,onChange:g,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),o.jsx(dt,{id:"description",name:"description",value:a.description,onChange:g,rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"video_url",className:"text-sm font-medium",children:"Video URL *"}),o.jsx(q,{id:"video_url",name:"video_url",type:"url",value:a.video_url,onChange:g,placeholder:"YouTube, Instagram, or Vimeo URL",required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports YouTube, Instagram Reels, and Vimeo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Thumbnail Image *"}),d?o.jsxs("div",{className:"relative w-full",children:[o.jsx(ka,{src:d,alt:"Thumbnail preview",className:"w-full max-w-md rounded-md"}),o.jsx(F,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:b,children:o.jsx(Fr,{className:"h-4 w-4"})})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(q,{ref:v,type:"file",accept:"image/*",onChange:w,className:"hidden"}),o.jsx(F,{type:"button",variant:"outline",onClick:()=>{var p;return(p=v.current)==null?void 0:p.click()},disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent mr-2"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Upload Thumbnail"]})})]})]}),a.thumbnail_url&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"thumbnail_alt",className:"text-sm font-medium",children:"Thumbnail Alt Text *"}),o.jsx(q,{id:"thumbnail_alt",name:"thumbnail_alt",value:a.thumbnail_alt,onChange:g,placeholder:"Describe the thumbnail image",required:!0})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(F,{type:"submit",disabled:S.isPending,children:S.isPending?"Saving...":n?"Update Video":"Create Video"}),o.jsx(F,{type:"button",variant:"outline",onClick:()=>e("/videos"),children:"Cancel"})]})]})]})})]})}function fW(){return o.jsx("div",{className:"space-y-6",children:o.jsx(ae,{className:"p-10 text-center border-dashed",children:o.jsxs(le,{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(UN,{className:"h-10 w-10 text-muted-foreground"})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Link Generation  work in progress"}),o.jsx("p",{className:"text-muted-foreground",children:"This section will be available soon."})]})})})}function mW(){var b;const t=Nn(),[e,n]=h.useState(""),[r,i]=h.useState([]),[s,a]=h.useState(null),[l,c]=h.useState(null),{data:u,isLoading:d,refetch:f}=yt({queryKey:["testimonials",e],queryFn:async()=>{const p=e?`&q=${encodeURIComponent(e)}`:"";return(await z.get(`/testimonials${p?`?${p.slice(1)}`:""}`)).data.data},refetchOnWindowFocus:!1});h.useEffect(()=>{if(u!=null&&u.testimonials){const p=[...u.testimonials].sort((m,x)=>(m.display_order||0)-(x.display_order||0));i(p)}},[u]);const v=async p=>{if(s===null||s===p){a(null);return}const m=[...r],[x]=m.splice(s,1);m.splice(p,0,x);const C=m.map((E,N)=>({...E,display_order:N+1}));i(C),a(null);try{await z.post("/testimonials/reorder",{order:C.map((E,N)=>({id:E.id,display_order:N+1}))}),t.invalidateQueries({queryKey:["testimonials"]}),f()}catch(E){console.error("Failed to reorder testimonials:",E),f()}},S=async(p,m)=>{try{i(x=>x.map(C=>C.id===p.id?{...C,is_home:m}:C)),await z.put(`/testimonials/${p.id}`,{is_home:m?1:0}),t.invalidateQueries({queryKey:["testimonials"]})}catch(x){console.error("Failed to update home flag",x),f()}},y=async()=>{if(l)try{await z.delete(`/testimonials/${l}`),i(p=>p.filter(m=>m.id!==l)),t.invalidateQueries({queryKey:["testimonials"]})}catch(p){console.error("Failed to delete testimonial",p)}finally{c(null)}},g=p=>p.replace(/<[^>]+>/g,""),w=p=>{const m=g(p||"");return m.length<=160?m:`${m.slice(0,160)}`};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Testimonials"}),o.jsxs("p",{className:"text-muted-foreground",children:[((b=u==null?void 0:u.pagination)==null?void 0:b.total)||0," total testimonials"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(q,{placeholder:"Search testimonials...",value:e,onChange:p=>n(p.target.value),className:"w-56"}),o.jsx(on,{to:"/testimonials/new",children:o.jsxs(F,{children:[o.jsx(_n,{className:"mr-2 h-4 w-4"}),"Add Testimonial"]})})]})]}),r.length===0&&!d&&o.jsx(ae,{children:o.jsxs(le,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No testimonials yet"}),o.jsx(on,{to:"/testimonials/new",children:o.jsxs(F,{children:[o.jsx(_n,{className:"mr-2 h-4 w-4"}),"Create your first testimonial"]})})]})}),o.jsx("div",{className:"grid gap-4",children:r.map((p,m)=>o.jsx(ae,{className:"overflow-hidden border border-dashed",draggable:!0,onDragStart:()=>a(m),onDragOver:x=>x.preventDefault(),onDrop:()=>v(m),onDragEnd:()=>a(null),children:o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsxs("div",{className:"p-3 text-muted-foreground cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",m+1]})]}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(rt,{className:"line-clamp-1",children:p.author}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[o.jsx(_p,{className:"h-3 w-3"}),o.jsx("span",{children:p.testimonial_date?dg(new Date(p.testimonial_date),"dd MMM yyyy"):"No date"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(_t,{checked:!!p.is_home,onCheckedChange:x=>S(p,x),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle testimonial visibility"})]})]})}),o.jsxs(le,{className:"p-0",children:[o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:w(p.content)}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(_p,{className:"h-4 w-4"}),o.jsx("span",{children:p.testimonial_date?dg(new Date(p.testimonial_date),"dd MMM yyyy"):"No date"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(on,{to:`/testimonials/${p.id}/edit`,children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]})}),o.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>c(p.id),children:[o.jsx(za,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]})]})},p.id))}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Delete testimonial?"}),o.jsx("p",{className:"text-muted-foreground",children:"This action cannot be undone. The testimonial will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(F,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),o.jsx(F,{variant:"destructive",onClick:y,children:"Delete"})]})]})})]})}function X0(){const{id:t}=po(),e=$t(),n=!!t,[r,i]=h.useState({author:"",content:"",testimonial_date:new Date().toISOString().split("T")[0],is_home:!1});yt({queryKey:["testimonial",t],queryFn:async()=>{const u=(await z.get(`/testimonials/${t}`)).data.data;return i({author:u.author||"",content:u.content||"",testimonial_date:u.testimonial_date||new Date().toISOString().split("T")[0],is_home:u.is_home}),u},enabled:n});const s=Ye({mutationFn:async c=>n?z.put(`/testimonials/${t}`,c):z.post("/testimonials",c),onSuccess:()=>{e("/testimonials")},onError:c=>{var u,d;alert(((d=(u=c.response)==null?void 0:u.data)==null?void 0:d.error)||"An error occurred")}}),a=c=>{c.preventDefault();const u={...r,is_home:r.is_home?1:0};s.mutate(u)},l=c=>{const{name:u,value:d}=c.target;i(f=>({...f,[u]:d}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>e("/testimonials"),children:o.jsx(xi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Testimonial":"New Testimonial"})]}),o.jsx("form",{onSubmit:a,children:o.jsxs(ae,{children:[o.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[o.jsx(rt,{children:"Testimonial Information"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_t,{checked:r.is_home,onCheckedChange:c=>i(u=>({...u,is_home:c})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"author",className:"text-sm font-medium",children:"Author *"}),o.jsx(q,{id:"author",name:"author",value:r.author,onChange:l,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Testimonial Content *"}),o.jsx(dt,{id:"content",name:"content",value:r.content,onChange:l,rows:5,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"testimonial_date",className:"text-sm font-medium",children:"Date"}),o.jsx(q,{id:"testimonial_date",name:"testimonial_date",type:"date",value:r.testimonial_date,onChange:l})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(F,{type:"submit",disabled:s.isPending,children:s.isPending?"Saving...":n?"Update Testimonial":"Create Testimonial"}),o.jsx(F,{type:"button",variant:"outline",onClick:()=>e("/testimonials"),children:"Cancel"})]})]})]})})]})}const oi=t=>{const e=(t||"").trim().toLowerCase();if(!e)return"";try{let r=new URL(e,"https://dummy.host").pathname||"/";return r=r.replace(/\/\/+/g,"/").replace(/\/+$/,""),r===""&&(r="/"),r}catch{const n=e.replace(/\/\/+/g,"/").replace(/\/+$/,"");return n===""?"/":n}},pW=(t,e,n,r)=>{if(!n)return!1;const i={};t.forEach(c=>{r&&c.id===r||c.urlNew&&(i[oi(c.urlOld)]=oi(c.urlNew))}),i[oi(e)]=oi(n);const s=oi(e),a={};let l=s;for(;i[l];){if(l=i[l],l===s)return!0;if(a[l])break;a[l]=!0}return!1},J0=(t,e,n,r)=>{const i=oi(t),s=oi(e);if(!i)throw new Error("urlOld is required");if(!s)throw new Error("urlNew is required");if(s&&i===s)throw new Error("urlOld and urlNew cannot match");if(n.some(a=>oi(a.urlOld)===i&&a.id!==r))throw new Error("urlOld must be unique");if(s&&n.some(a=>oi(a.urlOld)===s&&a.id!==r))throw new Error("urlNew already exists as urlOld (double redirect)");if(pW(n,i,s,r))throw new Error("Rule would create a redirect loop");return{urlOld:i,urlNew:s}};function gW(){const t=Nn(),{data:e,isLoading:n}=yt({queryKey:["redirects"],queryFn:async()=>{var E;return((E=(await z.get("/redirects")).data.data)==null?void 0:E.redirects)||[]},refetchOnWindowFocus:!1}),[r,i]=h.useState({urlOld:"",urlNew:""}),[s,a]=h.useState({old:!1,neu:!1}),[l,c]=h.useState({}),[u,d]=h.useState(""),[f,v]=h.useState(""),S=h.useMemo(()=>{const C=e||[];if(!f.trim())return C;const E=f.trim().toLowerCase();return C.filter(N=>N.urlOld.toLowerCase().includes(E)||N.urlNew.toLowerCase().includes(E))},[e,f]),y=Ye({mutationFn:async C=>z.post("/redirects",C),onSuccess:()=>{t.invalidateQueries({queryKey:["redirects"]}),i({urlOld:"",urlNew:""}),a({old:!1,neu:!1}),d("")},onError:C=>{var E,N;d(((N=(E=C==null?void 0:C.response)==null?void 0:E.data)==null?void 0:N.error)||"Errore creazione redirect"),a({old:!0,neu:!0})}}),g=Ye({mutationFn:async({id:C,urlOld:E,urlNew:N})=>z.put(`/redirects/${C}`,{urlOld:E,urlNew:N}),onSuccess:()=>{t.invalidateQueries({queryKey:["redirects"]}),d(""),c(C=>{const E={...C};return delete E[0],E})},onError:(C,E)=>{var N,A;d(((A=(N=C==null?void 0:C.response)==null?void 0:N.data)==null?void 0:A.error)||"Errore salvataggio redirect"),c(k=>({...k,[E.id]:{old:!0,neu:!0}}))}}),w=Ye({mutationFn:async C=>z.delete(`/redirects/${C}`),onSuccess:()=>t.invalidateQueries({queryKey:["redirects"]})}),b=()=>{try{const C=J0(r.urlOld,r.urlNew,S);y.mutate(C)}catch(C){d((C==null?void 0:C.message)||"Validazione fallita");const E=((C==null?void 0:C.message)||"").toLowerCase();a({old:E.includes("old")||E.includes("loop")||E.includes("match"),neu:E.includes("new")||E.includes("loop")||E.includes("match")})}},p=C=>{try{const E=J0(C.urlOld,C.urlNew,S,C.id);g.mutate({id:C.id,...E})}catch(E){d((E==null?void 0:E.message)||"Validazione fallita");const N=((E==null?void 0:E.message)||"").toLowerCase();c(A=>({...A,[C.id]:{old:N.includes("old")||N.includes("loop")||N.includes("match"),neu:N.includes("new")||N.includes("loop")||N.includes("match")}}))}},m=C=>{confirm("Delete this redirect?")&&w.mutate(C)},x=(C,E,N)=>{const A=S.map(k=>k.id===C?{...k,[E]:N}:k);t.setQueryData(["redirects"],A),N.trim()&&c(k=>({...k,[C]:{...k[C]||{},[E==="urlOld"?"old":"neu"]:!1}}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Redirect"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage 301 redirects with anti-loop checks."})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx(q,{placeholder:"search",value:f,onChange:C=>v(C.target.value),className:"w-56"})})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(rt,{children:"new redirect"})}),o.jsxs(le,{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"OLD *"}),o.jsx(q,{value:r.urlOld,onChange:C=>{const E=C.target.value;i(N=>({...N,urlOld:E})),E.trim()&&a(N=>({...N,old:!1}))},className:s.old&&!r.urlOld.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"NEW *"}),o.jsx(q,{value:r.urlNew,onChange:C=>{const E=C.target.value;i(N=>({...N,urlNew:E})),E.trim()&&a(N=>({...N,neu:!1}))},className:s.neu&&!r.urlNew.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),o.jsx("div",{className:"pt-1",children:o.jsx(F,{onClick:b,disabled:y.isPending,className:"w-full md:w-auto",children:y.isPending?"Saving...":"Add redirect"})})]}),u&&o.jsx("p",{className:"text-sm text-red-500",children:u})]})]}),o.jsxs(ae,{children:[o.jsx(Ve,{}),o.jsxs(le,{className:"space-y-4",children:[n&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}),!n&&S.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"No redirects found."}),!n&&S.length>0&&o.jsx("div",{className:"space-y-3",children:S.map(C=>{var E,N;return o.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-xs uppercase tracking-[2px] text-muted-foreground",children:"OLD"}),o.jsx(q,{value:C.urlOld,onChange:A=>x(C.id,"urlOld",A.target.value),className:(E=l[C.id])!=null&&E.old&&!C.urlOld.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-xs uppercase tracking-[2px] text-muted-foreground",children:"NEW"}),o.jsx(q,{value:C.urlNew,onChange:A=>x(C.id,"urlNew",A.target.value),className:(N=l[C.id])!=null&&N.neu&&!C.urlNew.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),o.jsxs("div",{className:"flex items-center gap-2 justify-end md:justify-start",children:[o.jsxs(F,{variant:"outline",size:"sm",onClick:()=>p(C),disabled:g.isPending,children:[o.jsx(FN,{className:"h-4 w-4 mr-2"}),"Save"]}),o.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>m(C.id),children:[o.jsx(za,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})},C.id)})})]})]})]})}function vW(){const t=[{number:1,title:"URL",icon:$a,color:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",description:"Every piece of content must have a clear, readable, and concise URL. It's recommended not to exceed 80 characters and to avoid unnecessary elements like numbers, dates, or redundant words. Once published, a URL should never be deleted.",example:{title:"Example",good:"buywithdali.com/luxury-properties-playa-del-carmen",bad:"buywithdali.com/page-123-luxury-prop-2024-01-22-final"}},{number:2,title:"Page Title",icon:V2,color:"bg-purple-50",borderColor:"border-purple-200",iconColor:"text-purple-600",description:"The title must always be consistent with the article's content. It should clearly describe the topic covered and use the main keywords developed throughout the text. The title should not exceed 60 characters.",example:{title:"Example",good:"Luxury Beachfront Properties in Playa del Carmen",bad:"Amazing Properties You Won't Believe Exist"}},{number:3,title:"Meta Description",icon:ON,color:"bg-pink-50",borderColor:"border-pink-200",iconColor:"text-pink-600",description:"The description should align with the title and reinforce its meaning. It's important to use the same words from the title, writing a clear and natural sentence that previews the page content. The recommended length is between 140 and 160 characters.",example:{title:"Example",good:"Discover exclusive luxury beachfront properties in Playa del Carmen. Premium real estate with ocean views, modern amenities, and prime locations.",bad:"This page has great properties"}},{number:4,title:"Content",icon:PN,color:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-600",description:"Content must be original, clear, and genuinely useful to the reader. The text should address the topic declared by the title and avoid content that is too brief, generic, or misleading.",example:{title:"Example",good:"Detailed neighborhood guide with local amenities, market trends, investment potential, property types, and buyer testimonials.",bad:"Nice houses here. Very good."}},{number:5,title:"Pages & Redirects",icon:MN,color:"bg-orange-50",borderColor:"border-orange-200",iconColor:"text-orange-600",description:"Pages should never be deleted. If content is updated or replaced with new material, it's mandatory to create a redirect from the old page to the new one to avoid losing traffic and visibility.",example:{title:"Example",good:"Old URL  301 Redirect  New URL (preserves all link value)",bad:"Delete old page (loses all traffic and backlinks)"}},{number:6,title:"Images & Alt Text",icon:LN,color:"bg-indigo-50",borderColor:"border-indigo-200",iconColor:"text-indigo-600",description:"All inserted images must have alt text filled in. The alt text should describe the image simply and relevantly to the content, avoiding automatic or generic descriptions.",example:{title:"Example",good:"Modern luxury villa with ocean view and private pool in Playa del Carmen",bad:"image123.jpg or image"}},{number:7,title:"Image Weight",icon:J2,color:"bg-yellow-50",borderColor:"border-yellow-200",iconColor:"text-yellow-600",description:"Images should not be too heavy. Large file sizes slow down page loading and worsen user experience. It's always recommended to use web-optimized images.",example:{title:"Example",good:"JPG 100KB - WebP 45KB - PNG optimized 80KB (all load in <2s)",bad:"RAW image 5MB - RAW 8MB (slow loading, poor UX)"}},{number:8,title:"Open Graph & Social",icon:Q2,color:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600",description:"For social sharing, Open Graph fields must be correctly filled out, particularly the title and image. The social title should be consistent with the page title and article content.",example:{title:"Example",good:'og:title: "Luxury Properties in Playa del Carmen" | og:image: high-quality-property.jpg',bad:"Missing Open Graph tags or mismatched titles"}},{number:9,title:"Overall Consistency",icon:IN,color:"bg-teal-50",borderColor:"border-teal-200",iconColor:"text-teal-600",description:"Title, description, URL, content, and images should all address the same topic. Consistency is fundamental to helping readers immediately understand the page subject.",example:{title:"Example",good:'URL, Title, Description, Content & Images all about "Beachfront Luxury"',bad:"Title: Luxury Properties | Description: Budget homes | Content: Investment tips"}},{number:10,title:"Core Principle",icon:bb,color:"bg-lime-50",borderColor:"border-lime-200",iconColor:"text-lime-600",description:"If content is clear and understandable to the reader, it is also correct from an SEO perspective.",example:{title:"Example",good:"Reader understands immediately what the page offers  Google ranks it well",bad:"Confusing content  Poor user experience  Lower rankings"}}];return o.jsxs("div",{className:"seo-rules-container",children:[o.jsx("div",{className:"seo-rules-header",children:o.jsxs("div",{className:"header-content",children:[o.jsx("h1",{children:"SEO RULES"}),o.jsx("p",{children:"Essential guide to optimize content according to SEO best practices"})]})}),o.jsx("div",{className:"seo-rules-grid",children:t.map(e=>{const n=e.icon;return o.jsxs(ae,{className:`seo-rule-card ${e.color} border-2 ${e.borderColor}`,children:[o.jsxs(Ve,{className:"pb-3",children:[o.jsxs("div",{className:"rule-header",children:[o.jsx("div",{className:`rule-number ${e.iconColor}`,children:e.number}),o.jsx(n,{className:`rule-icon ${e.iconColor}`})]}),o.jsx(rt,{className:"text-lg",children:e.title})]}),o.jsxs(le,{children:[o.jsx("p",{className:"rule-description",children:e.description}),o.jsxs("div",{className:"rule-example mt-4 pt-4 border-t border-gray-200",children:[o.jsx("p",{className:"example-label font-semibold text-sm mb-3",children:e.example.title}),o.jsxs("div",{className:"example-item mb-3",children:[o.jsx("p",{className:"example-type text-xs font-bold text-green-700 mb-1",children:" GOOD:"}),o.jsx("p",{className:"example-text text-sm text-gray-700 bg-green-50 p-2 rounded border-l-2 border-green-500",children:e.example.good})]}),o.jsxs("div",{className:"example-item",children:[o.jsx("p",{className:"example-type text-xs font-bold text-red-700 mb-1",children:" BAD:"}),o.jsx("p",{className:"example-text text-sm text-gray-700 bg-red-50 p-2 rounded border-l-2 border-red-500",children:e.example.bad})]})]})]})]},e.number)})}),o.jsx("div",{className:"seo-rules-footer",children:o.jsxs("div",{className:"footer-content",children:[o.jsx(bb,{className:"check-icon"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Remember:"})," Consistency between URL, title, description, content, and images is the foundation of a good SEO strategy. Follow these rules to ensure the best results."]})]})})]})}function yW(){const t=$t();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Landing Pages"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage Cities and Areas landing pages"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(ae,{className:"hover:shadow-md transition",children:[o.jsx(Ve,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(wd,{className:"h-5 w-5 text-primary"}),"Cities"]})}),o.jsxs(le,{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and edit city landing pages with hero images, content, and SEO meta tags."}),o.jsx(F,{onClick:()=>t("/cities"),children:"Manage Cities"})]})]}),o.jsxs(ae,{className:"hover:shadow-md transition",children:[o.jsx(Ve,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(B2,{className:"h-5 w-5 text-primary"}),"Areas"]})}),o.jsxs(le,{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage area landing pages linked to cities, with full SEO controls and images."}),o.jsx(F,{onClick:()=>t("/areas"),children:"Manage Areas"})]})]})]})]})}function xW(){const t=$t(),e=Nn(),[n,r]=h.useState(""),[i,s]=h.useState([]),a="/api",l=h.useMemo(()=>a.replace(/\/api$/,""),[a]),c=x=>x?x.startsWith("http")?x:x.startsWith("/")?`${l}${x}`:`${l}/${x}`:"",[u,d]=h.useState({}),{data:f,isLoading:v}=yt({queryKey:["cities"],queryFn:async()=>{var C,E;return((E=(C=(await z.get("/cities")).data)==null?void 0:C.data)==null?void 0:E.cities)||[]}}),S=h.useMemo(()=>{if(!f)return[];const x=n.toLowerCase();return f.filter(C=>!x||C.title.toLowerCase().includes(x)||C.slug.toLowerCase().includes(x)).sort((C,E)=>(C.display_order??0)-(E.display_order??0))},[f,n]);h.useEffect(()=>{s(S.map((x,C)=>({...x,display_order:x.display_order??C+1})))},[S]);const y=Ye({mutationFn:async({id:x,value:C})=>z.put(`/cities/${x}`,{is_home:C?1:0}),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),g=Ye({mutationFn:async x=>z.delete(`/cities/${x}`),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),w=Ye({mutationFn:async x=>z.put("/cities/reorder",{items:x}),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),[b,p]=h.useState(null),m=x=>{if(b===null||b===x){p(null);return}const C=[...i],[E]=C.splice(b,1);C.splice(x,0,E);const N=C.map((A,k)=>({...A,display_order:k+1}));s(N),p(null),w.mutate(N.map((A,k)=>({id:A.id,display_order:k+1})))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:o.jsx(xi,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Cities"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage city landing pages"})]})]}),o.jsxs(F,{onClick:()=>t("/cities/new"),children:[o.jsx(_n,{className:"h-4 w-4 mr-2"})," New City"]})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx(rt,{children:"All Cities"}),o.jsx(q,{placeholder:"Search...",value:n,onChange:x=>r(x.target.value),className:"max-w-xs"})]})}),o.jsxs(le,{className:"space-y-3",children:[v&&o.jsx("p",{children:"Loading..."}),!v&&i.length===0&&o.jsx("p",{className:"text-muted-foreground",children:"No cities found."}),!v&&i.map((x,C)=>o.jsxs(ae,{className:`flex gap-4 items-start ${b===C?"opacity-60 border-dashed":""}`,draggable:!0,onDragStart:()=>p(C),onDragOver:E=>E.preventDefault(),onDrop:()=>m(C),onDragEnd:()=>p(null),children:[o.jsxs("div",{className:"p-3 text-muted-foreground flex flex-col items-center justify-start cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-2xs text-muted-foreground mt-1",children:["#",C+1]})]}),x.cover_image&&!u[x.id]?o.jsx("img",{src:c(x.cover_image),alt:x.cover_image_alt||x.title,className:"w-40 h-32 md:w-48 md:h-48 object-cover my-4 ml-1 mr-3 rounded-lg",onError:()=>d(E=>({...E,[x.id]:!0}))}):o.jsx("div",{className:"w-40 h-32 md:w-48 md:h-48 flex items-center justify-center flex-shrink-0 my-4 ml-1 mr-3 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-amber-50 to-rose-50",children:o.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(rt,{className:"line-clamp-1",children:x.title}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o.jsx($a,{className:"h-3 w-3 inline mr-1"}),o.jsxs("span",{className:"break-all",children:["/community/",x.slug]})]}),x.subtitle&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:x.subtitle})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(_t,{checked:!!x.is_home,onCheckedChange:E=>y.mutate({id:x.id,value:E}),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle city on home"})]})]})}),o.jsx(le,{className:"p-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsx(F,{variant:"outline",size:"sm",onClick:()=>t(`/areas?city_id=${x.id}`),children:"View Areas"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(F,{variant:"outline",size:"sm",onClick:()=>t(`/cities/${x.id}/edit`),children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>{confirm("Delete this city?")&&g.mutate(x.id)},children:[o.jsx($N,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]},x.id))]})]})]})}const bW={title:"",subtitle:"",slug:"",cover_image:"",cover_image_alt:"",content_image:"",content_image_alt:"",fullContent:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",is_home:0,display_order:0};function Z0(){const{id:t}=po(),e=!!t,n=$t(),r=Nn(),[i,s]=h.useState(bW),[a,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[v,S]=h.useState(!1),y=h.useRef(null),g=h.useRef(null),w="/api",b=h.useMemo(()=>w.replace(/\/api$/,""),[w]),p=j=>j?j.startsWith("http")?j:`${b}${j}`:"",m=yt({queryKey:["city",t],enabled:e,queryFn:async()=>{var R;return(R=(await z.get(`/cities/${t}`)).data)==null?void 0:R.data}});h.useEffect(()=>{const j=m.data;j&&s({title:j.title||"",subtitle:j.subtitle||"",slug:j.slug||"",cover_image:j.cover_image||"",cover_image_alt:j.cover_image_alt||"",content_image:j.content_image||"",content_image_alt:j.content_image_alt||"",fullContent:j.fullContent||"",seoTitle:j.seoTitle||"",seoDescription:j.seoDescription||"",ogTitle:j.ogTitle||"",ogDescription:j.ogDescription||"",is_home:j.is_home?1:0,display_order:j.display_order||0})},[m.data]);const x=Ye({mutationFn:async j=>e?z.put(`/cities/${t}`,{...j,is_home:j.is_home?1:0}):z.post("/cities",{...j,is_home:j.is_home?1:0}),onSuccess:()=>{r.invalidateQueries({queryKey:["cities"]}),n("/cities")}}),C=j=>{const{name:R,value:P}=j.target;s(M=>({...M,[R]:P}))},E=j=>{j.preventDefault();const R=[];if(i.title.trim()||R.push("Title is required"),i.slug.trim()||R.push("URL is required"),i.seoTitle.trim()||R.push("Title tag is required"),i.seoDescription.trim()||R.push("Meta description is required"),i.ogTitle.trim()||R.push("OG Title is required"),i.ogDescription.trim()||R.push("OG Description is required"),i.cover_image&&!i.cover_image_alt.trim()&&R.push("Alt text is required for cover image"),i.content_image&&!i.content_image_alt.trim()&&R.push("Alt text is required for content image"),R.length){alert(R.join(`
`));return}const P={...i,slug:i.slug.trim()||N(i.title),is_home:i.is_home?1:0};x.mutate(P)},N=j=>j.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"city-slug",A=async(j,R)=>{var M,B;if(!j.type.startsWith("image/")){console.warn("Please select an image file");return}if(j.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const P=R==="cover_image"?l:u;P(!0);try{const Y=new FormData;Y.append("image",j);const G=(B=(M=(await z.post("/upload/city-image",Y,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:M.data)==null?void 0:B.url;G&&s(O=>({...O,[R]:G}))}catch(Y){console.error(Y)}finally{P(!1)}},k=async j=>{const R=i[j];if(R&&confirm("Remove this image?")){try{await z.delete(`/upload/file?url=${encodeURIComponent(R)}`)}catch(P){console.error(P)}s(P=>({...P,[j]:"",...j==="cover_image"?{cover_image_alt:""}:{content_image_alt:""}}))}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>n("/cities"),children:o.jsx(xi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:e?"Edit City":"New City"})]}),o.jsxs("form",{onSubmit:E,className:"space-y-6",children:[o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(rt,{children:"City Information"})}),o.jsxs(le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title (H1) *"}),o.jsx(q,{name:"title",value:i.title,onChange:j=>{s(R=>({...R,title:j.target.value})),e||s(R=>({...R,slug:N(j.target.value)}))},required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Short description"}),o.jsx(dt,{name:"subtitle",value:i.subtitle,onChange:C,rows:3,placeholder:"Brief summary for listings"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_t,{checked:!!i.is_home,onCheckedChange:j=>s(R=>({...R,is_home:j?1:0})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-base font-semibold",children:"Images"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("p",{className:"text-sm font-semibold",children:"Cover image"}),i.cover_image&&!d?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:p(i.cover_image),alt:"Cover",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>f(!0)}),o.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>k("cover_image"),children:[o.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var j;return(j=y.current)==null?void 0:j.click()},children:[o.jsx(Mr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload cover"}),o.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:j=>{var R;(R=j.target.files)!=null&&R[0]&&A(j.target.files[0],"cover_image")},disabled:a,className:"hidden"}),a&&o.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),o.jsx(q,{name:"cover_image_alt",value:i.cover_image_alt,onChange:C,required:!!i.cover_image})]})]}),o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"}),i.content_image&&!v?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:p(i.content_image),alt:"Content",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>S(!0)}),o.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>k("content_image"),children:[o.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var j;return(j=g.current)==null?void 0:j.click()},children:[o.jsx(Mr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),o.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:j=>{var R;(R=j.target.files)!=null&&R[0]&&A(j.target.files[0],"content_image")},disabled:c,className:"hidden"}),c&&o.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),o.jsx(q,{name:"content_image_alt",value:i.content_image_alt,onChange:C,required:!!i.content_image})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Full content"}),o.jsx(Mh,{value:i.fullContent,onChange:j=>s(R=>({...R,fullContent:j})),placeholder:"Write your content..."})]}),o.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsx("div",{className:"flex items-center justify-between gap-2",children:o.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"LNK (url)"}),o.jsx(q,{name:"slug",value:i.slug,onChange:j=>s(R=>({...R,slug:N(j.target.value)})),disabled:e,required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),o.jsx(q,{name:"seoTitle",value:i.seoTitle,onChange:C,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),o.jsx(dt,{name:"seoDescription",value:i.seoDescription,onChange:C,rows:3,maxLength:320})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Title (meta="og:title")'}),o.jsx(q,{name:"ogTitle",value:i.ogTitle,onChange:C,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Description (meta="og:description")'}),o.jsx(dt,{name:"ogDescription",value:i.ogDescription,onChange:C,rows:3,maxLength:320})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(F,{type:"submit",disabled:x.isPending,children:x.isPending?"Saving...":e?"Update City":"Create City"}),o.jsx(F,{variant:"outline",type:"button",onClick:()=>n("/cities"),children:"Close"})]})]})]})}function wW(){const t=$t(),e=Nn(),[n,r]=h.useState(""),[i,s]=h.useState([]),a=mo(),l="/api",c=h.useMemo(()=>l.replace(/\/api$/,""),[l]),u=N=>N?N.startsWith("http")?N:N.startsWith("/")?`${c}${N}`:`${c}/${N}`:"",[d,f]=h.useState({}),{data:v=[]}=yt({queryKey:["cities"],queryFn:async()=>{var A,k;return((k=(A=(await z.get("/cities")).data)==null?void 0:A.data)==null?void 0:k.cities)||[]}}),{data:S=[],isLoading:y}=yt({queryKey:["areas"],queryFn:async()=>{var A,k;return((k=(A=(await z.get("/areas")).data)==null?void 0:A.data)==null?void 0:k.areas)||[]}}),g=h.useMemo(()=>{const N=n.toLowerCase(),k=new URLSearchParams(a.search).get("city_id");return S.filter(j=>!N||j.title.toLowerCase().includes(N)||j.slug.toLowerCase().includes(N)).filter(j=>!k||String(j.city_id)===k).sort((j,R)=>(j.display_order??0)-(R.display_order??0))},[S,n,a.search]);h.useEffect(()=>{s(g.map((N,A)=>({...N,display_order:N.display_order??A+1})))},[g]);const w=Ye({mutationFn:async({id:N,value:A})=>z.put(`/areas/${N}`,{is_home:A?1:0}),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),b=Ye({mutationFn:async N=>z.put("/areas/reorder",{items:N}),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),p=Ye({mutationFn:async N=>z.delete(`/areas/${N}`),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),m=N=>v.find(A=>A.id===N),[x,C]=h.useState(null),E=N=>{if(x===null||x===N){C(null);return}const A=[...i],[k]=A.splice(x,1);A.splice(N,0,k);const j=A.map((R,P)=>({...R,display_order:P+1}));s(j),C(null),b.mutate(j.map((R,P)=>({id:R.id,display_order:P+1})))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:o.jsx(xi,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Areas"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage area landing pages"})]})]}),o.jsxs(F,{onClick:()=>t("/areas/new"),children:[o.jsx(_n,{className:"h-4 w-4 mr-2"})," New Area"]})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx(rt,{children:"All Areas"}),o.jsx(q,{placeholder:"Search...",value:n,onChange:N=>r(N.target.value),className:"max-w-xs"})]})}),o.jsxs(le,{className:"space-y-3",children:[y&&o.jsx("p",{children:"Loading..."}),!y&&i.length===0&&o.jsx("p",{className:"text-muted-foreground",children:"No areas found."}),!y&&i.map((N,A)=>{const k=m(N.city_id);return o.jsxs(ae,{className:`flex gap-4 items-start ${x===A?"opacity-60 border-dashed":""}`,draggable:!0,onDragStart:()=>C(A),onDragOver:j=>j.preventDefault(),onDrop:()=>E(A),onDragEnd:()=>C(null),children:[o.jsxs("div",{className:"p-3 text-muted-foreground flex flex-col items-center justify-start cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-2xs text-muted-foreground mt-1",children:["#",A+1]})]}),N.cover_image&&!d[N.id]?o.jsx("img",{src:u(N.cover_image),alt:N.cover_image_alt||N.title,className:"w-40 h-32 md:w-48 md:h-48 object-cover my-4 ml-1 mr-3 rounded-lg",onError:()=>f(j=>({...j,[N.id]:!0}))}):o.jsx("div",{className:"w-40 h-32 md:w-48 md:h-48 flex items-center justify-center flex-shrink-0 my-4 ml-1 mr-3 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-amber-50 to-rose-50",children:o.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(rt,{className:"line-clamp-1",children:N.title}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o.jsx($a,{className:"h-3 w-3 inline mr-1"}),o.jsxs("span",{className:"break-all",children:["/community/",k==null?void 0:k.slug,"/",N.slug]})]}),k&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["City: ",k.title]}),N.subtitle&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:N.subtitle})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(_t,{checked:!!N.is_home,onCheckedChange:j=>w.mutate({id:N.id,value:j}),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle area on home"})]})]})}),o.jsx(le,{className:"p-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(F,{variant:"outline",size:"sm",onClick:()=>t(`/areas/${N.id}/edit`),children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>{confirm("Delete this area?")&&p.mutate(N.id)},children:[o.jsx($N,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]},N.id)})]})]})]})}const SW={city_id:"",title:"",subtitle:"",slug:"",cover_image:"",cover_image_alt:"",content_image:"",content_image_alt:"",fullContent:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",is_home:0,display_order:0};function ew(){const{id:t}=po(),e=!!t,n=$t(),r=Nn(),[i,s]=h.useState(SW),[a,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[v,S]=h.useState(!1),y=h.useRef(null),g=h.useRef(null),w="/api",b=h.useMemo(()=>w.replace(/\/api$/,""),[w]),p=R=>R?R.startsWith("http")?R:`${b}${R}`:"",{data:m=[]}=yt({queryKey:["cities"],queryFn:async()=>{var P,M;return((M=(P=(await z.get("/cities")).data)==null?void 0:P.data)==null?void 0:M.cities)||[]}}),x=yt({queryKey:["area",t],enabled:e,queryFn:async()=>{var P;return(P=(await z.get(`/areas/${t}`)).data)==null?void 0:P.data}});h.useEffect(()=>{const R=x.data;R&&s({city_id:R.city_id,title:R.title||"",subtitle:R.subtitle||"",slug:R.slug||"",cover_image:R.cover_image||"",cover_image_alt:R.cover_image_alt||"",content_image:R.content_image||"",content_image_alt:R.content_image_alt||"",fullContent:R.fullContent||"",seoTitle:R.seoTitle||"",seoDescription:R.seoDescription||"",ogTitle:R.ogTitle||"",ogDescription:R.ogDescription||"",is_home:R.is_home?1:0,display_order:R.display_order||0})},[x.data]);const C=Ye({mutationFn:async R=>{const P={...R,is_home:R.is_home?1:0,city_id:Number(R.city_id)};return e?z.put(`/areas/${t}`,P):z.post("/areas",P)},onSuccess:()=>{r.invalidateQueries({queryKey:["areas"]}),n("/areas")}}),E=R=>{const{name:P,value:M}=R.target;s(B=>({...B,[P]:P==="city_id"?Number(M):M}))},N=R=>{R.preventDefault();const P=[];if(i.city_id||P.push("Select a city"),i.title.trim()||P.push("Title is required"),i.slug.trim()||P.push("URL is required"),i.seoTitle.trim()||P.push("Title tag is required"),i.seoDescription.trim()||P.push("Meta description is required"),i.ogTitle.trim()||P.push("OG Title is required"),i.ogDescription.trim()||P.push("OG Description is required"),i.cover_image&&!i.cover_image_alt.trim()&&P.push("Alt text is required for cover image"),i.content_image&&!i.content_image_alt.trim()&&P.push("Alt text is required for content image"),P.length){alert(P.join(`
`));return}C.mutate({...i,slug:i.slug.trim()||A(i.title),is_home:i.is_home?1:0})},A=R=>R.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"area-slug",k=async(R,P)=>{var B,Y;if(!R.type.startsWith("image/")){console.warn("Please select an image file");return}if(R.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const M=P==="cover_image"?l:u;M(!0);try{const $=new FormData;$.append("image",R);const O=(Y=(B=(await z.post("/upload/area-image",$,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:B.data)==null?void 0:Y.url;O&&s(L=>({...L,[P]:O}))}catch($){console.error($)}finally{M(!1)}},j=async R=>{const P=i[R];if(P&&confirm("Remove this image?")){try{await z.delete(`/upload/file?url=${encodeURIComponent(P)}`)}catch(M){console.error(M)}s(M=>({...M,[R]:"",...R==="cover_image"?{cover_image_alt:""}:{content_image_alt:""}}))}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>n("/areas"),children:o.jsx(xi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:e?"Edit Area":"New Area"})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(rt,{children:"Area Information"})}),o.jsxs(le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"City *"}),o.jsxs("select",{name:"city_id",value:i.city_id,onChange:E,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",required:!0,children:[o.jsx("option",{value:"",children:"Select a city"}),m.map(R=>o.jsx("option",{value:R.id,children:R.title},R.id))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title (H1) *"}),o.jsx(q,{name:"title",value:i.title,onChange:R=>{s(P=>({...P,title:R.target.value})),e||s(P=>({...P,slug:A(R.target.value)}))},required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Short description"}),o.jsx(dt,{name:"subtitle",value:i.subtitle,onChange:E,rows:3,placeholder:"Brief summary for listings"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_t,{checked:!!i.is_home,onCheckedChange:R=>s(P=>({...P,is_home:R?1:0})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-base font-semibold",children:"Images"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("p",{className:"text-sm font-semibold",children:"Cover image"}),i.cover_image&&!d?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:p(i.cover_image),alt:"Cover",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>f(!0)}),o.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>j("cover_image"),children:[o.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var R;return(R=y.current)==null?void 0:R.click()},children:[o.jsx(Mr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload cover"}),o.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:R=>{var P;(P=R.target.files)!=null&&P[0]&&k(R.target.files[0],"cover_image")},disabled:a,className:"hidden"}),a&&o.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),o.jsx(q,{name:"cover_image_alt",value:i.cover_image_alt,onChange:E,required:!!i.cover_image})]})]}),o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"}),i.content_image&&!v?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:p(i.content_image),alt:"Content",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>S(!0)}),o.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>j("content_image"),children:[o.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var R;return(R=g.current)==null?void 0:R.click()},children:[o.jsx(Mr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),o.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:R=>{var P;(P=R.target.files)!=null&&P[0]&&k(R.target.files[0],"content_image")},disabled:c,className:"hidden"}),c&&o.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),o.jsx(q,{name:"content_image_alt",value:i.content_image_alt,onChange:E,required:!!i.content_image})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Full content"}),o.jsx(Mh,{value:i.fullContent,onChange:R=>s(P=>({...P,fullContent:R})),placeholder:"Write your content..."})]}),o.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsx("div",{className:"flex items-center justify-between gap-2",children:o.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"LNK (url)"}),o.jsx(q,{name:"slug",value:i.slug,onChange:R=>s(P=>({...P,slug:A(R.target.value)})),disabled:e,required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),o.jsx(q,{name:"seoTitle",value:i.seoTitle,onChange:E,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),o.jsx(dt,{name:"seoDescription",value:i.seoDescription,onChange:E,rows:3,maxLength:320})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Title (meta="og:title")'}),o.jsx(q,{name:"ogTitle",value:i.ogTitle,onChange:E,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Description (meta="og:description")'}),o.jsx(dt,{name:"ogDescription",value:i.ogDescription,onChange:E,rows:3,maxLength:320})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(F,{type:"submit",disabled:C.isPending,children:C.isPending?"Saving...":e?"Update Area":"Create Area"}),o.jsx(F,{variant:"outline",type:"button",onClick:()=>n("/areas"),children:"Close"})]})]})]})}function CW(){return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Buyers Guide"}),o.jsx("p",{className:"text-muted-foreground",children:"Working in progress. This section will host the Buyers Guide landing and related content."})]})}function NW({children:t}){const e=$t(),{isAuthenticated:n,token:r,expiresAt:i,logout:s,refreshSession:a}=dc(u=>({isAuthenticated:u.isAuthenticated,token:u.token,expiresAt:u.expiresAt,logout:u.logout,refreshSession:u.refreshSession})),[l,c]=h.useState(!0);return h.useEffect(()=>{if(!n||!r||!i){s(),e("/login",{replace:!0});return}const u=Date.now();if(i<=u){s(),e("/login",{replace:!0});return}let d=!1;(async()=>{var S,y,g;try{const b=(g=(y=(S=(await z.post("/auth/verify")).data)==null?void 0:S.data)==null?void 0:y.user)==null?void 0:g.exp;if(b){const p=b*1e3;a(p)}d||c(!1)}catch{d||(s(),e("/login",{replace:!0}))}})();const v=window.setTimeout(()=>{s(),e("/login",{replace:!0})},Math.max(0,i-u));return()=>{d=!0,clearTimeout(v)}},[n,r,i,s,e,a]),!n||!r?o.jsx(OC,{to:"/login",replace:!0}):l?null:o.jsx(o.Fragment,{children:t})}function EW(){return o.jsxs(HT,{children:[o.jsx(_e,{path:"/login",element:o.jsx(I2,{})}),o.jsxs(_e,{path:"/",element:o.jsx(NW,{children:o.jsx(Z2,{})}),children:[o.jsx(_e,{index:!0,element:o.jsx(eL,{})}),o.jsx(_e,{path:"properties",element:o.jsx(x4,{})}),o.jsx(_e,{path:"properties/new",element:o.jsx(fm,{})}),o.jsx(_e,{path:"properties/import-json",element:o.jsx(iz,{})}),o.jsx(_e,{path:"properties/:id",element:o.jsx(fm,{})}),o.jsx(_e,{path:"properties/:id/edit",element:o.jsx(fm,{})}),o.jsx(_e,{path:"blogs",element:o.jsx(uW,{})}),o.jsx(_e,{path:"blogs/new",element:o.jsx(G0,{})}),o.jsx(_e,{path:"blogs/:id/edit",element:o.jsx(G0,{})}),o.jsx(_e,{path:"photogallery",element:o.jsx(dW,{})}),o.jsx(_e,{path:"photogallery/upload",element:o.jsx(Q0,{})}),o.jsx(_e,{path:"photogallery/:id/edit",element:o.jsx(Q0,{})}),o.jsx(_e,{path:"videos",element:o.jsx(hW,{})}),o.jsx(_e,{path:"videos/new",element:o.jsx(Y0,{})}),o.jsx(_e,{path:"videos/:id/edit",element:o.jsx(Y0,{})}),o.jsx(_e,{path:"testimonials",element:o.jsx(mW,{})}),o.jsx(_e,{path:"testimonials/new",element:o.jsx(X0,{})}),o.jsx(_e,{path:"testimonials/:id/edit",element:o.jsx(X0,{})}),o.jsx(_e,{path:"redirects",element:o.jsx(gW,{})}),o.jsx(_e,{path:"feedbacks",element:o.jsx(OC,{to:"/testimonials",replace:!0})}),o.jsx(_e,{path:"landing-pages",element:o.jsx(yW,{})}),o.jsx(_e,{path:"cities",element:o.jsx(xW,{})}),o.jsx(_e,{path:"cities/new",element:o.jsx(Z0,{})}),o.jsx(_e,{path:"cities/:id/edit",element:o.jsx(Z0,{})}),o.jsx(_e,{path:"areas",element:o.jsx(wW,{})}),o.jsx(_e,{path:"areas/new",element:o.jsx(ew,{})}),o.jsx(_e,{path:"areas/:id/edit",element:o.jsx(ew,{})}),o.jsx(_e,{path:"buyers-guide",element:o.jsx(CW,{})}),o.jsx(_e,{path:"link-generation",element:o.jsx(fW,{})}),o.jsx(_e,{path:"seo-rules",element:o.jsx(vW,{})})]})]})}const AW=new jP({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});NC(document.getElementById("root")).render(o.jsx(h.StrictMode,{children:o.jsx(RP,{client:AW,children:o.jsx(ZT,{basename:"/admin/",children:o.jsx(EW,{})})})}));
