var ry=t=>{throw TypeError(t)};var of=(t,e,n)=>e.has(t)||ry("Cannot "+n);var P=(t,e,n)=>(of(t,e,"read from private field"),n?n.call(t):e.get(t)),de=(t,e,n)=>e.has(t)?ry("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ne=(t,e,n,r)=>(of(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ne=(t,e,n)=>(of(t,e,"access private method"),n);var Zc=(t,e,n,r)=>({set _(s){ne(t,e,s,n)},get _(){return P(t,e,r)}});function Ck(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Rg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nS={exports:{}},sh={},rS={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc=Symbol.for("react.element"),jk=Symbol.for("react.portal"),Nk=Symbol.for("react.fragment"),Ek=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),Ak=Symbol.for("react.provider"),kk=Symbol.for("react.context"),Rk=Symbol.for("react.forward_ref"),Tk=Symbol.for("react.suspense"),Dk=Symbol.for("react.memo"),Pk=Symbol.for("react.lazy"),sy=Symbol.iterator;function Ok(t){return t===null||typeof t!="object"?null:(t=sy&&t[sy]||t["@@iterator"],typeof t=="function"?t:null)}var sS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iS=Object.assign,oS={};function Ia(t,e,n){this.props=t,this.context=e,this.refs=oS,this.updater=n||sS}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aS(){}aS.prototype=Ia.prototype;function Tg(t,e,n){this.props=t,this.context=e,this.refs=oS,this.updater=n||sS}var Dg=Tg.prototype=new aS;Dg.constructor=Tg;iS(Dg,Ia.prototype);Dg.isPureReactComponent=!0;var iy=Array.isArray,lS=Object.prototype.hasOwnProperty,Pg={current:null},cS={key:!0,ref:!0,__self:!0,__source:!0};function uS(t,e,n){var r,s={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)lS.call(e,r)&&!cS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Oc,type:t,key:o,ref:a,props:s,_owner:Pg.current}}function Lk(t,e){return{$$typeof:Oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Og(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oc}function Mk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oy=/\/+/g;function af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mk(""+t.key):e.toString(36)}function Pu(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Oc:case jk:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+af(a,0):r,iy(s)?(n="",t!=null&&(n=t.replace(oy,"$&/")+"/"),Pu(s,e,n,"",function(u){return u})):s!=null&&(Og(s)&&(s=Lk(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(oy,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",iy(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+af(o,l);a+=Pu(o,e,n,c,s)}else if(c=Ok(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+af(o,l++),a+=Pu(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function eu(t,e,n){if(t==null)return t;var r=[],s=0;return Pu(t,r,"","",function(o){return e.call(n,o,s++)}),r}function Ik(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Ou={transition:null},Fk={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Ou,ReactCurrentOwner:Pg};function dS(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:eu,forEach:function(t,e,n){eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eu(t,function(){e++}),e},toArray:function(t){return eu(t,function(e){return e})||[]},only:function(t){if(!Og(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=Ia;Re.Fragment=Nk;Re.Profiler=_k;Re.PureComponent=Tg;Re.StrictMode=Ek;Re.Suspense=Tk;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk;Re.act=dS;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iS({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Pg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)lS.call(e,c)&&!cS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Oc,type:t.type,key:s,ref:o,props:r,_owner:a}};Re.createContext=function(t){return t={$$typeof:kk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ak,_context:t},t.Consumer=t};Re.createElement=uS;Re.createFactory=function(t){var e=uS.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:Rk,render:t}};Re.isValidElement=Og;Re.lazy=function(t){return{$$typeof:Pk,_payload:{_status:-1,_result:t},_init:Ik}};Re.memo=function(t,e){return{$$typeof:Dk,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Ou.transition;Ou.transition={};try{t()}finally{Ou.transition=e}};Re.unstable_act=dS;Re.useCallback=function(t,e){return mn.current.useCallback(t,e)};Re.useContext=function(t){return mn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return mn.current.useEffect(t,e)};Re.useId=function(){return mn.current.useId()};Re.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return mn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Re.useRef=function(t){return mn.current.useRef(t)};Re.useState=function(t){return mn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return mn.current.useTransition()};Re.version="18.3.1";rS.exports=Re;var h=rS.exports;const Te=Rg(h),ih=Ck({__proto__:null,default:Te},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=h,$k=Symbol.for("react.element"),Uk=Symbol.for("react.fragment"),zk=Object.prototype.hasOwnProperty,qk=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wk={key:!0,ref:!0,__self:!0,__source:!0};function hS(t,e,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)zk.call(e,r)&&!Wk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$k,type:t,key:o,ref:a,props:s,_owner:qk.current}}sh.Fragment=Uk;sh.jsx=hS;sh.jsxs=hS;nS.exports=sh;var i=nS.exports,fS={exports:{}},Mn={},mS={exports:{}},pS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var Y=M.length;M.push(U);e:for(;0<Y;){var ee=Y-1>>>1,Z=M[ee];if(0<s(Z,U))M[ee]=U,M[Y]=Z,Y=ee;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],Y=M.pop();if(Y!==U){M[0]=Y;e:for(var ee=0,Z=M.length,ve=Z>>>1;ee<ve;){var ue=2*(ee+1)-1,Be=M[ue],T=ue+1,A=M[T];if(0>s(Be,Y))T<Z&&0>s(A,Be)?(M[ee]=A,M[T]=Y,ee=T):(M[ee]=Be,M[ue]=Y,ee=ue);else if(T<Z&&0>s(A,Y))M[ee]=A,M[T]=Y,ee=T;else break e}}return U}function s(M,U){var Y=M.sortIndex-U.sortIndex;return Y!==0?Y:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,g=3,w=!1,y=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=M)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function S(M){if(p=!1,v(M),!y)if(n(c)!==null)y=!0,F(j);else{var U=n(u);U!==null&&$(S,U.startTime-M)}}function j(M,U){y=!1,p&&(p=!1,x(N),N=-1),w=!0;var Y=g;try{for(v(U),f=n(c);f!==null&&(!(f.expirationTime>U)||M&&!_());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,g=f.priorityLevel;var Z=ee(f.expirationTime<=U);U=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(c)&&r(c),v(U)}else r(c);f=n(c)}if(f!==null)var ve=!0;else{var ue=n(u);ue!==null&&$(S,ue.startTime-U),ve=!1}return ve}finally{f=null,g=Y,w=!1}}var E=!1,C=null,N=-1,R=5,k=-1;function _(){return!(t.unstable_now()-k<R)}function D(){if(C!==null){var M=t.unstable_now();k=M;var U=!0;try{U=C(!0,M)}finally{U?L():(E=!1,C=null)}}else E=!1}var L;if(typeof m=="function")L=function(){m(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,I=q.port2;q.port1.onmessage=D,L=function(){I.postMessage(null)}}else L=function(){b(D,0)};function F(M){C=M,E||(E=!0,L())}function $(M,U){N=b(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||w||(y=!0,F(j))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var Y=g;g=U;try{return M()}finally{g=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=g;g=M;try{return U()}finally{g=Y}},t.unstable_scheduleCallback=function(M,U,Y){var ee=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ee+Y:ee):Y=ee,M){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,M={id:d++,callback:U,priorityLevel:M,startTime:Y,expirationTime:Z,sortIndex:-1},Y>ee?(M.sortIndex=Y,e(u,M),n(c)===null&&M===n(u)&&(p?(x(N),N=-1):p=!0,$(S,Y-ee))):(M.sortIndex=Z,e(c,M),y||w||(y=!0,F(j))),M},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(M){var U=g;return function(){var Y=g;g=U;try{return M.apply(this,arguments)}finally{g=Y}}}})(pS);mS.exports=pS;var Vk=mS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=h,Ln=Vk;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gS=new Set,Yl={};function xo(t,e){ja(t,e),ja(t+"Capture",e)}function ja(t,e){for(Yl[t]=e,t=0;t<e.length;t++)gS.add(e[t])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,Kk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},ly={};function Gk(t){return km.call(ly,t)?!0:km.call(ay,t)?!1:Kk.test(t)?ly[t]=!0:(ay[t]=!0,!1)}function Qk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yk(t,e,n,r){if(e===null||typeof e>"u"||Qk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lg=/[\-:]([a-z])/g;function Mg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lg,Mg);$t[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lg,Mg);$t[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lg,Mg);$t[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ig(t,e,n,r){var s=$t.hasOwnProperty(e)?$t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yk(e,n,s,r)&&(n=null),r||s===null?Gk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cs=Hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tu=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),xS=Symbol.for("react.provider"),vS=Symbol.for("react.context"),Bg=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Dm=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),Is=Symbol.for("react.lazy"),yS=Symbol.for("react.offscreen"),cy=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=cy&&t[cy]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,lf;function jl(t){if(lf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lf=e&&e[1]||""}return`
`+lf+t}var cf=!1;function uf(t,e){if(!t||cf)return"";cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{cf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jl(t):""}function Xk(t){switch(t.tag){case 5:return jl(t.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 2:case 15:return t=uf(t.type,!1),t;case 11:return t=uf(t.type.render,!1),t;case 1:return t=uf(t.type,!0),t;default:return""}}function Pm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fo:return"Fragment";case Io:return"Portal";case Rm:return"Profiler";case Fg:return"StrictMode";case Tm:return"Suspense";case Dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vS:return(t.displayName||"Context")+".Consumer";case xS:return(t._context.displayName||"Context")+".Provider";case Bg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $g:return e=t.displayName||null,e!==null?e:Pm(t.type)||"Memo";case Is:e=t._payload,t=t._init;try{return Pm(t(e))}catch{}}return null}function Jk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pm(e);case 8:return e===Fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zk(t){var e=bS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nu(t){t._valueTracker||(t._valueTracker=Zk(t))}function wS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Om(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SS(t,e){e=e.checked,e!=null&&Ig(t,"checked",e,!1)}function Lm(t,e){SS(t,e);var n=fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mm(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mm(t,e,n){(e!=="number"||id(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nl=Array.isArray;function Yo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Nl(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fi(n)}}function CS(t,e){var n=fi(e.value),r=fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ru,NS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eR=["Webkit","ms","Moz","O"];Object.keys(Tl).forEach(function(t){eR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tl[e]=Tl[t]})});function ES(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tl.hasOwnProperty(t)&&Tl[t]?(""+e).trim():e+"px"}function _S(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ES(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tR=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bm(t,e){if(e){if(tR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function $m(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Um=null;function Ug(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zm=null,Xo=null,Jo=null;function my(t){if(t=Ic(t)){if(typeof zm!="function")throw Error(X(280));var e=t.stateNode;e&&(e=uh(e),zm(t.stateNode,t.type,e))}}function AS(t){Xo?Jo?Jo.push(t):Jo=[t]:Xo=t}function kS(){if(Xo){var t=Xo,e=Jo;if(Jo=Xo=null,my(t),e)for(t=0;t<e.length;t++)my(e[t])}}function RS(t,e){return t(e)}function TS(){}var df=!1;function DS(t,e,n){if(df)return t(e,n);df=!0;try{return RS(t,e,n)}finally{df=!1,(Xo!==null||Jo!==null)&&(TS(),kS())}}function Jl(t,e){var n=t.stateNode;if(n===null)return null;var r=uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var qm=!1;if(xs)try{var il={};Object.defineProperty(il,"passive",{get:function(){qm=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{qm=!1}function nR(t,e,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Dl=!1,od=null,ad=!1,Wm=null,rR={onError:function(t){Dl=!0,od=t}};function sR(t,e,n,r,s,o,a,l,c){Dl=!1,od=null,nR.apply(rR,arguments)}function iR(t,e,n,r,s,o,a,l,c){if(sR.apply(this,arguments),Dl){if(Dl){var u=od;Dl=!1,od=null}else throw Error(X(198));ad||(ad=!0,Wm=u)}}function vo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function py(t){if(vo(t)!==t)throw Error(X(188))}function oR(t){var e=t.alternate;if(!e){if(e=vo(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return py(s),t;if(o===r)return py(s),e;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function OS(t){return t=oR(t),t!==null?LS(t):null}function LS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LS(t);if(e!==null)return e;t=t.sibling}return null}var MS=Ln.unstable_scheduleCallback,gy=Ln.unstable_cancelCallback,aR=Ln.unstable_shouldYield,lR=Ln.unstable_requestPaint,mt=Ln.unstable_now,cR=Ln.unstable_getCurrentPriorityLevel,zg=Ln.unstable_ImmediatePriority,IS=Ln.unstable_UserBlockingPriority,ld=Ln.unstable_NormalPriority,uR=Ln.unstable_LowPriority,FS=Ln.unstable_IdlePriority,oh=null,qr=null;function dR(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(oh,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:mR,hR=Math.log,fR=Math.LN2;function mR(t){return t>>>=0,t===0?32:31-(hR(t)/fR|0)|0}var su=64,iu=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=El(l):(o&=a,o!==0&&(r=El(o)))}else a=n&~s,a!==0?r=El(a):o!==0&&(r=El(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),s=1<<n,r|=t[n],e&=~s;return r}function pR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-yr(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=pR(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function Vm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BS(){var t=su;return su<<=1,!(su&4194240)&&(su=64),t}function hf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function xR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-yr(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function qg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ge=0;function $S(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var US,Wg,zS,qS,WS,Hm=!1,ou=[],ni=null,ri=null,si=null,Zl=new Map,ec=new Map,Us=[],vR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xy(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":Zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(e.pointerId)}}function ol(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Ic(e),e!==null&&Wg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yR(t,e,n,r,s){switch(e){case"focusin":return ni=ol(ni,t,e,n,r,s),!0;case"dragenter":return ri=ol(ri,t,e,n,r,s),!0;case"mouseover":return si=ol(si,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Zl.set(o,ol(Zl.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ec.set(o,ol(ec.get(o)||null,t,e,n,r,s)),!0}return!1}function VS(t){var e=Di(t.target);if(e!==null){var n=vo(e);if(n!==null){if(e=n.tag,e===13){if(e=PS(n),e!==null){t.blockedOn=e,WS(t.priority,function(){zS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Km(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Um=r,n.target.dispatchEvent(r),Um=null}else return e=Ic(n),e!==null&&Wg(e),t.blockedOn=n,!1;e.shift()}return!0}function vy(t,e,n){Lu(t)&&n.delete(e)}function bR(){Hm=!1,ni!==null&&Lu(ni)&&(ni=null),ri!==null&&Lu(ri)&&(ri=null),si!==null&&Lu(si)&&(si=null),Zl.forEach(vy),ec.forEach(vy)}function al(t,e){t.blockedOn===e&&(t.blockedOn=null,Hm||(Hm=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,bR)))}function tc(t){function e(s){return al(s,t)}if(0<ou.length){al(ou[0],t);for(var n=1;n<ou.length;n++){var r=ou[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&al(ni,t),ri!==null&&al(ri,t),si!==null&&al(si,t),Zl.forEach(e),ec.forEach(e),n=0;n<Us.length;n++)r=Us[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Us.length&&(n=Us[0],n.blockedOn===null);)VS(n),n.blockedOn===null&&Us.shift()}var Zo=Cs.ReactCurrentBatchConfig,ud=!0;function wR(t,e,n,r){var s=Ge,o=Zo.transition;Zo.transition=null;try{Ge=1,Vg(t,e,n,r)}finally{Ge=s,Zo.transition=o}}function SR(t,e,n,r){var s=Ge,o=Zo.transition;Zo.transition=null;try{Ge=4,Vg(t,e,n,r)}finally{Ge=s,Zo.transition=o}}function Vg(t,e,n,r){if(ud){var s=Km(t,e,n,r);if(s===null)Sf(t,e,r,dd,n),xy(t,r);else if(yR(s,t,e,n,r))r.stopPropagation();else if(xy(t,r),e&4&&-1<vR.indexOf(t)){for(;s!==null;){var o=Ic(s);if(o!==null&&US(o),o=Km(t,e,n,r),o===null&&Sf(t,e,r,dd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Sf(t,e,r,null,n)}}var dd=null;function Km(t,e,n,r){if(dd=null,t=Ug(r),t=Di(t),t!==null)if(e=vo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dd=t,null}function HS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cR()){case zg:return 1;case IS:return 4;case ld:case uR:return 16;case FS:return 536870912;default:return 16}default:return 16}}var Zs=null,Hg=null,Mu=null;function KS(){if(Mu)return Mu;var t,e=Hg,n=e.length,r,s="value"in Zs?Zs.value:Zs.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[o-r];r++);return Mu=s.slice(t,1<r?1-r:void 0)}function Iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function au(){return!0}function yy(){return!1}function In(t){function e(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?au:yy,this.isPropagationStopped=yy,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),e}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=In(Fa),Mc=at({},Fa,{view:0,detail:0}),CR=In(Mc),ff,mf,ll,ah=at({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ll&&(ll&&t.type==="mousemove"?(ff=t.screenX-ll.screenX,mf=t.screenY-ll.screenY):mf=ff=0,ll=t),ff)},movementY:function(t){return"movementY"in t?t.movementY:mf}}),by=In(ah),jR=at({},ah,{dataTransfer:0}),NR=In(jR),ER=at({},Mc,{relatedTarget:0}),pf=In(ER),_R=at({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),AR=In(_R),kR=at({},Fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RR=In(kR),TR=at({},Fa,{data:0}),wy=In(TR),DR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OR[t])?!!e[t]:!1}function Gg(){return LR}var MR=at({},Mc,{key:function(t){if(t.key){var e=DR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gg,charCode:function(t){return t.type==="keypress"?Iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IR=In(MR),FR=at({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sy=In(FR),BR=at({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gg}),$R=In(BR),UR=at({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zR=In(UR),qR=at({},ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WR=In(qR),VR=[9,13,27,32],Qg=xs&&"CompositionEvent"in window,Pl=null;xs&&"documentMode"in document&&(Pl=document.documentMode);var HR=xs&&"TextEvent"in window&&!Pl,GS=xs&&(!Qg||Pl&&8<Pl&&11>=Pl),Cy=" ",jy=!1;function QS(t,e){switch(t){case"keyup":return VR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bo=!1;function KR(t,e){switch(t){case"compositionend":return YS(e);case"keypress":return e.which!==32?null:(jy=!0,Cy);case"textInput":return t=e.data,t===Cy&&jy?null:t;default:return null}}function GR(t,e){if(Bo)return t==="compositionend"||!Qg&&QS(t,e)?(t=KS(),Mu=Hg=Zs=null,Bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GS&&e.locale!=="ko"?null:e.data;default:return null}}var QR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QR[t.type]:e==="textarea"}function XS(t,e,n,r){AS(r),e=hd(e,"onChange"),0<e.length&&(n=new Kg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ol=null,nc=null;function YR(t){lC(t,0)}function lh(t){var e=zo(t);if(wS(e))return t}function XR(t,e){if(t==="change")return e}var JS=!1;if(xs){var gf;if(xs){var xf="oninput"in document;if(!xf){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),xf=typeof Ey.oninput=="function"}gf=xf}else gf=!1;JS=gf&&(!document.documentMode||9<document.documentMode)}function _y(){Ol&&(Ol.detachEvent("onpropertychange",ZS),nc=Ol=null)}function ZS(t){if(t.propertyName==="value"&&lh(nc)){var e=[];XS(e,nc,t,Ug(t)),DS(YR,e)}}function JR(t,e,n){t==="focusin"?(_y(),Ol=e,nc=n,Ol.attachEvent("onpropertychange",ZS)):t==="focusout"&&_y()}function ZR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lh(nc)}function eT(t,e){if(t==="click")return lh(e)}function tT(t,e){if(t==="input"||t==="change")return lh(e)}function nT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:nT;function rc(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!km.call(e,s)||!wr(t[s],e[s]))return!1}return!0}function Ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ky(t,e){var n=Ay(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ay(n)}}function eC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tC(){for(var t=window,e=id();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=id(t.document)}return e}function Yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rT(t){var e=tC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eC(n.ownerDocument.documentElement,n)){if(r!==null&&Yg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=ky(n,o);var a=ky(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sT=xs&&"documentMode"in document&&11>=document.documentMode,$o=null,Gm=null,Ll=null,Qm=!1;function Ry(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qm||$o==null||$o!==id(r)||(r=$o,"selectionStart"in r&&Yg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ll&&rc(Ll,r)||(Ll=r,r=hd(Gm,"onSelect"),0<r.length&&(e=new Kg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$o)))}function lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uo={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},vf={},nC={};xs&&(nC=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function ch(t){if(vf[t])return vf[t];if(!Uo[t])return t;var e=Uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nC)return vf[t]=e[n];return t}var rC=ch("animationend"),sC=ch("animationiteration"),iC=ch("animationstart"),oC=ch("transitionend"),aC=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){aC.set(t,e),xo(e,[t])}for(var yf=0;yf<Ty.length;yf++){var bf=Ty[yf],iT=bf.toLowerCase(),oT=bf[0].toUpperCase()+bf.slice(1);bi(iT,"on"+oT)}bi(rC,"onAnimationEnd");bi(sC,"onAnimationIteration");bi(iC,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(oC,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Dy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iR(r,e,void 0,t),t.currentTarget=null}function lC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Dy(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Dy(s,l,u),o=c}}}if(ad)throw t=Wm,ad=!1,Wm=null,t}function Ze(t,e){var n=e[ep];n===void 0&&(n=e[ep]=new Set);var r=t+"__bubble";n.has(r)||(cC(e,t,2,!1),n.add(r))}function wf(t,e,n){var r=0;e&&(r|=4),cC(n,t,r,e)}var cu="_reactListening"+Math.random().toString(36).slice(2);function sc(t){if(!t[cu]){t[cu]=!0,gS.forEach(function(n){n!=="selectionchange"&&(aT.has(n)||wf(n,!1,t),wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cu]||(e[cu]=!0,wf("selectionchange",!1,e))}}function cC(t,e,n,r){switch(HS(e)){case 1:var s=wR;break;case 4:s=SR;break;default:s=Vg}n=s.bind(null,e,n,t),s=void 0,!qm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Sf(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Di(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}DS(function(){var u=o,d=Ug(n),f=[];e:{var g=aC.get(t);if(g!==void 0){var w=Kg,y=t;switch(t){case"keypress":if(Iu(n)===0)break e;case"keydown":case"keyup":w=IR;break;case"focusin":y="focus",w=pf;break;case"focusout":y="blur",w=pf;break;case"beforeblur":case"afterblur":w=pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=by;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=NR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=$R;break;case rC:case sC:case iC:w=AR;break;case oC:w=zR;break;case"scroll":w=CR;break;case"wheel":w=WR;break;case"copy":case"cut":case"paste":w=RR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Sy}var p=(e&4)!==0,b=!p&&t==="scroll",x=p?g!==null?g+"Capture":null:g;p=[];for(var m=u,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,x!==null&&(S=Jl(m,x),S!=null&&p.push(ic(m,S,v)))),b)break;m=m.return}0<p.length&&(g=new w(g,y,null,n,d),f.push({event:g,listeners:p}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==Um&&(y=n.relatedTarget||n.fromElement)&&(Di(y)||y[vs]))break e;if((w||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,w?(y=n.relatedTarget||n.toElement,w=u,y=y?Di(y):null,y!==null&&(b=vo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=u),w!==y)){if(p=by,S="onMouseLeave",x="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(p=Sy,S="onPointerLeave",x="onPointerEnter",m="pointer"),b=w==null?g:zo(w),v=y==null?g:zo(y),g=new p(S,m+"leave",w,n,d),g.target=b,g.relatedTarget=v,S=null,Di(d)===u&&(p=new p(x,m+"enter",y,n,d),p.target=v,p.relatedTarget=b,S=p),b=S,w&&y)t:{for(p=w,x=y,m=0,v=p;v;v=To(v))m++;for(v=0,S=x;S;S=To(S))v++;for(;0<m-v;)p=To(p),m--;for(;0<v-m;)x=To(x),v--;for(;m--;){if(p===x||x!==null&&p===x.alternate)break t;p=To(p),x=To(x)}p=null}else p=null;w!==null&&Py(f,g,w,p,!1),y!==null&&b!==null&&Py(f,b,y,p,!0)}}e:{if(g=u?zo(u):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var j=XR;else if(Ny(g))if(JS)j=tT;else{j=ZR;var E=JR}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=eT);if(j&&(j=j(t,u))){XS(f,j,n,d);break e}E&&E(t,g,u),t==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&Mm(g,"number",g.value)}switch(E=u?zo(u):window,t){case"focusin":(Ny(E)||E.contentEditable==="true")&&($o=E,Gm=u,Ll=null);break;case"focusout":Ll=Gm=$o=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,Ry(f,n,d);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":Ry(f,n,d)}var C;if(Qg)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Bo?QS(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(GS&&n.locale!=="ko"&&(Bo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Bo&&(C=KS()):(Zs=d,Hg="value"in Zs?Zs.value:Zs.textContent,Bo=!0)),E=hd(u,N),0<E.length&&(N=new wy(N,t,null,n,d),f.push({event:N,listeners:E}),C?N.data=C:(C=YS(n),C!==null&&(N.data=C)))),(C=HR?KR(t,n):GR(t,n))&&(u=hd(u,"onBeforeInput"),0<u.length&&(d=new wy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}lC(f,e)})}function ic(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Jl(t,n),o!=null&&r.unshift(ic(t,o,s)),o=Jl(t,e),o!=null&&r.push(ic(t,o,s))),t=t.return}return r}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Py(t,e,n,r,s){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Jl(n,o),c!=null&&a.unshift(ic(n,c,l))):s||(c=Jl(n,o),c!=null&&a.push(ic(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var lT=/\r\n?/g,cT=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(lT,`
`).replace(cT,"")}function uu(t,e,n){if(e=Oy(e),Oy(t)!==e&&n)throw Error(X(425))}function fd(){}var Ym=null,Xm=null;function Jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,dT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(t){return Ly.resolve(null).then(t).catch(hT)}:Zm;function hT(t){setTimeout(function(){throw t})}function Cf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);tc(e)}function ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function My(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ba,oc="__reactProps$"+Ba,vs="__reactContainer$"+Ba,ep="__reactEvents$"+Ba,fT="__reactListeners$"+Ba,mT="__reactHandles$"+Ba;function Di(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vs]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=My(t);t!==null;){if(n=t[Fr])return n;t=My(t)}return e}t=n,n=t.parentNode}return null}function Ic(t){return t=t[Fr]||t[vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function uh(t){return t[oc]||null}var tp=[],qo=-1;function wi(t){return{current:t}}function et(t){0>qo||(t.current=tp[qo],tp[qo]=null,qo--)}function Qe(t,e){qo++,tp[qo]=t.current,t.current=e}var mi={},Xt=wi(mi),Sn=wi(!1),Ji=mi;function Na(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Cn(t){return t=t.childContextTypes,t!=null}function md(){et(Sn),et(Xt)}function Iy(t,e,n){if(Xt.current!==mi)throw Error(X(168));Qe(Xt,e),Qe(Sn,n)}function uC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,Jk(t)||"Unknown",s));return at({},n,r)}function pd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,Ji=Xt.current,Qe(Xt,t),Qe(Sn,Sn.current),!0}function Fy(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=uC(t,e,Ji),r.__reactInternalMemoizedMergedChildContext=t,et(Sn),et(Xt),Qe(Xt,t)):et(Sn),Qe(Sn,n)}var os=null,dh=!1,jf=!1;function dC(t){os===null?os=[t]:os.push(t)}function pT(t){dh=!0,dC(t)}function Si(){if(!jf&&os!==null){jf=!0;var t=0,e=Ge;try{var n=os;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}os=null,dh=!1}catch(s){throw os!==null&&(os=os.slice(t+1)),MS(zg,Si),s}finally{Ge=e,jf=!1}}return null}var Wo=[],Vo=0,gd=null,xd=0,Hn=[],Kn=0,Zi=null,hs=1,fs="";function Ai(t,e){Wo[Vo++]=xd,Wo[Vo++]=gd,gd=t,xd=e}function hC(t,e,n){Hn[Kn++]=hs,Hn[Kn++]=fs,Hn[Kn++]=Zi,Zi=t;var r=hs;t=fs;var s=32-yr(r)-1;r&=~(1<<s),n+=1;var o=32-yr(e)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,hs=1<<32-yr(e)+s|n<<s|r,fs=o+t}else hs=1<<o|n<<s|r,fs=t}function Xg(t){t.return!==null&&(Ai(t,1),hC(t,1,0))}function Jg(t){for(;t===gd;)gd=Wo[--Vo],Wo[Vo]=null,xd=Wo[--Vo],Wo[Vo]=null;for(;t===Zi;)Zi=Hn[--Kn],Hn[Kn]=null,fs=Hn[--Kn],Hn[Kn]=null,hs=Hn[--Kn],Hn[Kn]=null}var Dn=null,Tn=null,nt=!1,gr=null;function fC(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function By(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,Tn=ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zi!==null?{id:hs,overflow:fs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,Tn=null,!0):!1;default:return!1}}function np(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rp(t){if(nt){var e=Tn;if(e){var n=e;if(!By(t,e)){if(np(t))throw Error(X(418));e=ii(n.nextSibling);var r=Dn;e&&By(t,e)?fC(r,n):(t.flags=t.flags&-4097|2,nt=!1,Dn=t)}}else{if(np(t))throw Error(X(418));t.flags=t.flags&-4097|2,nt=!1,Dn=t}}}function $y(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function du(t){if(t!==Dn)return!1;if(!nt)return $y(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jm(t.type,t.memoizedProps)),e&&(e=Tn)){if(np(t))throw mC(),Error(X(418));for(;e;)fC(t,e),e=ii(e.nextSibling)}if($y(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=Dn?ii(t.stateNode.nextSibling):null;return!0}function mC(){for(var t=Tn;t;)t=ii(t.nextSibling)}function Ea(){Tn=Dn=null,nt=!1}function Zg(t){gr===null?gr=[t]:gr.push(t)}var gT=Cs.ReactCurrentBatchConfig;function cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function hu(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uy(t){var e=t._init;return e(t._payload)}function pC(t){function e(x,m){if(t){var v=x.deletions;v===null?(x.deletions=[m],x.flags|=16):v.push(m)}}function n(x,m){if(!t)return null;for(;m!==null;)e(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function s(x,m){return x=ci(x,m),x.index=0,x.sibling=null,x}function o(x,m,v){return x.index=v,t?(v=x.alternate,v!==null?(v=v.index,v<m?(x.flags|=2,m):v):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,m,v,S){return m===null||m.tag!==6?(m=Tf(v,x.mode,S),m.return=x,m):(m=s(m,v),m.return=x,m)}function c(x,m,v,S){var j=v.type;return j===Fo?d(x,m,v.props.children,S,v.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Is&&Uy(j)===m.type)?(S=s(m,v.props),S.ref=cl(x,m,v),S.return=x,S):(S=Wu(v.type,v.key,v.props,null,x.mode,S),S.ref=cl(x,m,v),S.return=x,S)}function u(x,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Df(v,x.mode,S),m.return=x,m):(m=s(m,v.children||[]),m.return=x,m)}function d(x,m,v,S,j){return m===null||m.tag!==7?(m=Gi(v,x.mode,S,j),m.return=x,m):(m=s(m,v),m.return=x,m)}function f(x,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Tf(""+m,x.mode,v),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case tu:return v=Wu(m.type,m.key,m.props,null,x.mode,v),v.ref=cl(x,null,m),v.return=x,v;case Io:return m=Df(m,x.mode,v),m.return=x,m;case Is:var S=m._init;return f(x,S(m._payload),v)}if(Nl(m)||sl(m))return m=Gi(m,x.mode,v,null),m.return=x,m;hu(x,m)}return null}function g(x,m,v,S){var j=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(x,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case tu:return v.key===j?c(x,m,v,S):null;case Io:return v.key===j?u(x,m,v,S):null;case Is:return j=v._init,g(x,m,j(v._payload),S)}if(Nl(v)||sl(v))return j!==null?null:d(x,m,v,S,null);hu(x,v)}return null}function w(x,m,v,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(v)||null,l(m,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case tu:return x=x.get(S.key===null?v:S.key)||null,c(m,x,S,j);case Io:return x=x.get(S.key===null?v:S.key)||null,u(m,x,S,j);case Is:var E=S._init;return w(x,m,v,E(S._payload),j)}if(Nl(S)||sl(S))return x=x.get(v)||null,d(m,x,S,j,null);hu(m,S)}return null}function y(x,m,v,S){for(var j=null,E=null,C=m,N=m=0,R=null;C!==null&&N<v.length;N++){C.index>N?(R=C,C=null):R=C.sibling;var k=g(x,C,v[N],S);if(k===null){C===null&&(C=R);break}t&&C&&k.alternate===null&&e(x,C),m=o(k,m,N),E===null?j=k:E.sibling=k,E=k,C=R}if(N===v.length)return n(x,C),nt&&Ai(x,N),j;if(C===null){for(;N<v.length;N++)C=f(x,v[N],S),C!==null&&(m=o(C,m,N),E===null?j=C:E.sibling=C,E=C);return nt&&Ai(x,N),j}for(C=r(x,C);N<v.length;N++)R=w(C,x,N,v[N],S),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?N:R.key),m=o(R,m,N),E===null?j=R:E.sibling=R,E=R);return t&&C.forEach(function(_){return e(x,_)}),nt&&Ai(x,N),j}function p(x,m,v,S){var j=sl(v);if(typeof j!="function")throw Error(X(150));if(v=j.call(v),v==null)throw Error(X(151));for(var E=j=null,C=m,N=m=0,R=null,k=v.next();C!==null&&!k.done;N++,k=v.next()){C.index>N?(R=C,C=null):R=C.sibling;var _=g(x,C,k.value,S);if(_===null){C===null&&(C=R);break}t&&C&&_.alternate===null&&e(x,C),m=o(_,m,N),E===null?j=_:E.sibling=_,E=_,C=R}if(k.done)return n(x,C),nt&&Ai(x,N),j;if(C===null){for(;!k.done;N++,k=v.next())k=f(x,k.value,S),k!==null&&(m=o(k,m,N),E===null?j=k:E.sibling=k,E=k);return nt&&Ai(x,N),j}for(C=r(x,C);!k.done;N++,k=v.next())k=w(C,x,N,k.value,S),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?N:k.key),m=o(k,m,N),E===null?j=k:E.sibling=k,E=k);return t&&C.forEach(function(D){return e(x,D)}),nt&&Ai(x,N),j}function b(x,m,v,S){if(typeof v=="object"&&v!==null&&v.type===Fo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case tu:e:{for(var j=v.key,E=m;E!==null;){if(E.key===j){if(j=v.type,j===Fo){if(E.tag===7){n(x,E.sibling),m=s(E,v.props.children),m.return=x,x=m;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Is&&Uy(j)===E.type){n(x,E.sibling),m=s(E,v.props),m.ref=cl(x,E,v),m.return=x,x=m;break e}n(x,E);break}else e(x,E);E=E.sibling}v.type===Fo?(m=Gi(v.props.children,x.mode,S,v.key),m.return=x,x=m):(S=Wu(v.type,v.key,v.props,null,x.mode,S),S.ref=cl(x,m,v),S.return=x,x=S)}return a(x);case Io:e:{for(E=v.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(x,m.sibling),m=s(m,v.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else e(x,m);m=m.sibling}m=Df(v,x.mode,S),m.return=x,x=m}return a(x);case Is:return E=v._init,b(x,m,E(v._payload),S)}if(Nl(v))return y(x,m,v,S);if(sl(v))return p(x,m,v,S);hu(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(x,m.sibling),m=s(m,v),m.return=x,x=m):(n(x,m),m=Tf(v,x.mode,S),m.return=x,x=m),a(x)):n(x,m)}return b}var _a=pC(!0),gC=pC(!1),vd=wi(null),yd=null,Ho=null,ex=null;function tx(){ex=Ho=yd=null}function nx(t){var e=vd.current;et(vd),t._currentValue=e}function sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ea(t,e){yd=t,ex=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(ex!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(yd===null)throw Error(X(308));Ho=t,yd.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var Pi=null;function rx(t){Pi===null?Pi=[t]:Pi.push(t)}function xC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,rx(e)):(n.next=s.next,s.next=n),e.interleaved=n,ys(t,r)}function ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fs=!1;function sx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ys(t,n)}return s=r.interleaved,s===null?(e.next=e,rx(r)):(e.next=s.next,s.next=e),r.interleaved=e,ys(t,n)}function Fu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qg(t,n)}}function zy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bd(t,e,n,r){var s=t.updateQueue;Fs=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var g=l.lane,w=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,p=l;switch(g=e,w=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(w,f,g);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,g=typeof y=="function"?y.call(w,f,g):y,g==null)break e;f=at({},f,g);break e;case 2:Fs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=w,c=f):d=d.next=w,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);to|=a,t.lanes=a,t.memoizedState=f}}function qy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Fc={},Wr=wi(Fc),ac=wi(Fc),lc=wi(Fc);function Oi(t){if(t===Fc)throw Error(X(174));return t}function ix(t,e){switch(Qe(lc,e),Qe(ac,t),Qe(Wr,Fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fm(e,t)}et(Wr),Qe(Wr,e)}function Aa(){et(Wr),et(ac),et(lc)}function yC(t){Oi(lc.current);var e=Oi(Wr.current),n=Fm(e,t.type);e!==n&&(Qe(ac,t),Qe(Wr,n))}function ox(t){ac.current===t&&(et(Wr),et(ac))}var st=wi(0);function wd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nf=[];function ax(){for(var t=0;t<Nf.length;t++)Nf[t]._workInProgressVersionPrimary=null;Nf.length=0}var Bu=Cs.ReactCurrentDispatcher,Ef=Cs.ReactCurrentBatchConfig,eo=0,ot=null,Ct=null,Rt=null,Sd=!1,Ml=!1,cc=0,xT=0;function qt(){throw Error(X(321))}function lx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function cx(t,e,n,r,s,o){if(eo=o,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bu.current=t===null||t.memoizedState===null?wT:ST,t=n(r,s),Ml){o=0;do{if(Ml=!1,cc=0,25<=o)throw Error(X(301));o+=1,Rt=Ct=null,e.updateQueue=null,Bu.current=CT,t=n(r,s)}while(Ml)}if(Bu.current=Cd,e=Ct!==null&&Ct.next!==null,eo=0,Rt=Ct=ot=null,Sd=!1,e)throw Error(X(300));return t}function ux(){var t=cc!==0;return cc=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ot.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Jn(){if(Ct===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Rt===null?ot.memoizedState:Rt.next;if(e!==null)Rt=e,Ct=t;else{if(t===null)throw Error(X(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Rt===null?ot.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function uc(t,e){return typeof e=="function"?e(t):e}function _f(t){var e=Jn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Ct,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((eo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,ot.lanes|=d,to|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,wr(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,ot.lanes|=o,to|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Af(t){var e=Jn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);wr(o,e.memoizedState)||(wn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function bC(){}function wC(t,e){var n=ot,r=Jn(),s=e(),o=!wr(r.memoizedState,s);if(o&&(r.memoizedState=s,wn=!0),r=r.queue,dx(jC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,dc(9,CC.bind(null,n,r,s,e),void 0,null),Pt===null)throw Error(X(349));eo&30||SC(n,e,s)}return s}function SC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CC(t,e,n,r){e.value=n,e.getSnapshot=r,NC(e)&&EC(t)}function jC(t,e,n){return n(function(){NC(e)&&EC(t)})}function NC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function EC(t){var e=ys(t,1);e!==null&&br(e,t,1,-1)}function Wy(t){var e=Or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:t},e.queue=t,t=t.dispatch=bT.bind(null,ot,t),[e.memoizedState,t]}function dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _C(){return Jn().memoizedState}function $u(t,e,n,r){var s=Or();ot.flags|=t,s.memoizedState=dc(1|e,n,void 0,r===void 0?null:r)}function hh(t,e,n,r){var s=Jn();r=r===void 0?null:r;var o=void 0;if(Ct!==null){var a=Ct.memoizedState;if(o=a.destroy,r!==null&&lx(r,a.deps)){s.memoizedState=dc(e,n,o,r);return}}ot.flags|=t,s.memoizedState=dc(1|e,n,o,r)}function Vy(t,e){return $u(8390656,8,t,e)}function dx(t,e){return hh(2048,8,t,e)}function AC(t,e){return hh(4,2,t,e)}function kC(t,e){return hh(4,4,t,e)}function RC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TC(t,e,n){return n=n!=null?n.concat([t]):null,hh(4,4,RC.bind(null,e,t),n)}function hx(){}function DC(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PC(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OC(t,e,n){return eo&21?(wr(n,e)||(n=BS(),ot.lanes|=n,to|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function vT(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Ef.transition;Ef.transition={};try{t(!1),e()}finally{Ge=n,Ef.transition=r}}function LC(){return Jn().memoizedState}function yT(t,e,n){var r=li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MC(t))IC(e,n);else if(n=xC(t,e,n,r),n!==null){var s=dn();br(n,t,r,s),FC(n,e,r)}}function bT(t,e,n){var r=li(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MC(t))IC(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,wr(l,a)){var c=e.interleaved;c===null?(s.next=s,rx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=xC(t,e,s,r),n!==null&&(s=dn(),br(n,t,r,s),FC(n,e,r))}}function MC(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function IC(t,e){Ml=Sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qg(t,n)}}var Cd={readContext:Xn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},wT={readContext:Xn,useCallback:function(t,e){return Or().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:Vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$u(4194308,4,RC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $u(4194308,4,t,e)},useInsertionEffect:function(t,e){return $u(4,2,t,e)},useMemo:function(t,e){var n=Or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yT.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Or();return t={current:t},e.memoizedState=t},useState:Wy,useDebugValue:hx,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=Wy(!1),e=t[0];return t=vT.bind(null,t[1]),Or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,s=Or();if(nt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Pt===null)throw Error(X(349));eo&30||SC(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Vy(jC.bind(null,r,o,t),[t]),r.flags|=2048,dc(9,CC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Or(),e=Pt.identifierPrefix;if(nt){var n=fs,r=hs;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ST={readContext:Xn,useCallback:DC,useContext:Xn,useEffect:dx,useImperativeHandle:TC,useInsertionEffect:AC,useLayoutEffect:kC,useMemo:PC,useReducer:_f,useRef:_C,useState:function(){return _f(uc)},useDebugValue:hx,useDeferredValue:function(t){var e=Jn();return OC(e,Ct.memoizedState,t)},useTransition:function(){var t=_f(uc)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:bC,useSyncExternalStore:wC,useId:LC,unstable_isNewReconciler:!1},CT={readContext:Xn,useCallback:DC,useContext:Xn,useEffect:dx,useImperativeHandle:TC,useInsertionEffect:AC,useLayoutEffect:kC,useMemo:PC,useReducer:Af,useRef:_C,useState:function(){return Af(uc)},useDebugValue:hx,useDeferredValue:function(t){var e=Jn();return Ct===null?e.memoizedState=t:OC(e,Ct.memoizedState,t)},useTransition:function(){var t=Af(uc)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:bC,useSyncExternalStore:wC,useId:LC,unstable_isNewReconciler:!1};function hr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fh={isMounted:function(t){return(t=t._reactInternals)?vo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),s=li(t),o=ps(r,s);o.payload=e,n!=null&&(o.callback=n),e=oi(t,o,s),e!==null&&(br(e,t,s,r),Fu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),s=li(t),o=ps(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=oi(t,o,s),e!==null&&(br(e,t,s,r),Fu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=li(t),s=ps(n,r);s.tag=2,e!=null&&(s.callback=e),e=oi(t,s,r),e!==null&&(br(e,t,r,n),Fu(e,t,r))}};function Hy(t,e,n,r,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!rc(n,r)||!rc(s,o):!0}function BC(t,e,n){var r=!1,s=mi,o=e.contextType;return typeof o=="object"&&o!==null?o=Xn(o):(s=Cn(e)?Ji:Xt.current,r=e.contextTypes,o=(r=r!=null)?Na(t,s):mi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fh.enqueueReplaceState(e,e.state,null)}function op(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},sx(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Xn(o):(o=Cn(e)?Ji:Xt.current,s.context=Na(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ip(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&fh.enqueueReplaceState(s,s.state,null),bd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ka(t,e){try{var n="",r=e;do n+=Xk(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function kf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jT=typeof WeakMap=="function"?WeakMap:Map;function $C(t,e,n){n=ps(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nd||(Nd=!0,xp=r),ap(t,e)},n}function UC(t,e,n){n=ps(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ap(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ap(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Gy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FT.bind(null,t,e,n),e.then(t,t))}function Qy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ps(-1,1),e.tag=2,oi(n,e,1))),n.lanes|=1),t)}var NT=Cs.ReactCurrentOwner,wn=!1;function on(t,e,n,r){e.child=t===null?gC(e,null,n,r):_a(e,t.child,n,r)}function Xy(t,e,n,r,s){n=n.render;var o=e.ref;return ea(e,s),r=cx(t,e,n,r,o,s),n=ux(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bs(t,e,s)):(nt&&n&&Xg(e),e.flags|=1,on(t,e,r,s),e.child)}function Jy(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!bx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,zC(t,e,o,r,s)):(t=Wu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:rc,n(a,r)&&t.ref===e.ref)return bs(t,e,s)}return e.flags|=1,t=ci(o,r),t.ref=e.ref,t.return=e,e.child=t}function zC(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(rc(o,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,bs(t,e,s)}return lp(t,e,n,r,s)}function qC(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Go,kn),kn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Go,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(Go,kn),kn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qe(Go,kn),kn|=r;return on(t,e,s,n),e.child}function WC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lp(t,e,n,r,s){var o=Cn(n)?Ji:Xt.current;return o=Na(e,o),ea(e,s),n=cx(t,e,n,r,o,s),r=ux(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bs(t,e,s)):(nt&&r&&Xg(e),e.flags|=1,on(t,e,n,s),e.child)}function Zy(t,e,n,r,s){if(Cn(n)){var o=!0;pd(e)}else o=!1;if(ea(e,s),e.stateNode===null)Uu(t,e),BC(e,n,r),op(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=Cn(n)?Ji:Xt.current,u=Na(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Ky(e,a,r,u),Fs=!1;var g=e.memoizedState;a.state=g,bd(e,r,a,s),c=e.memoizedState,l!==r||g!==c||Sn.current||Fs?(typeof d=="function"&&(ip(e,n,d,r),c=e.memoizedState),(l=Fs||Hy(e,n,l,r,g,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,vC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:hr(e.type,l),a.props=u,f=e.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xn(c):(c=Cn(n)?Ji:Xt.current,c=Na(e,c));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||g!==c)&&Ky(e,a,r,c),Fs=!1,g=e.memoizedState,a.state=g,bd(e,r,a,s);var y=e.memoizedState;l!==f||g!==y||Sn.current||Fs?(typeof w=="function"&&(ip(e,n,w,r),y=e.memoizedState),(u=Fs||Hy(e,n,u,r,g,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return cp(t,e,n,r,o,s)}function cp(t,e,n,r,s,o){WC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Fy(e,n,!1),bs(t,e,o);r=e.stateNode,NT.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=_a(e,t.child,null,o),e.child=_a(e,null,l,o)):on(t,e,l,o),e.memoizedState=r.state,s&&Fy(e,n,!0),e.child}function VC(t){var e=t.stateNode;e.pendingContext?Iy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Iy(t,e.context,!1),ix(t,e.containerInfo)}function eb(t,e,n,r,s){return Ea(),Zg(s),e.flags|=256,on(t,e,n,r),e.child}var up={dehydrated:null,treeContext:null,retryLane:0};function dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function HC(t,e,n){var r=e.pendingProps,s=st.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Qe(st,s&1),t===null)return rp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=gh(a,r,0,null),t=Gi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=dp(n),e.memoizedState=up,t):fx(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ET(t,e,a,r,l,s,n);if(o){o=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ci(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=ci(l,o):(o=Gi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?dp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=up,r}return o=t.child,t=o.sibling,r=ci(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fx(t,e){return e=gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fu(t,e,n,r){return r!==null&&Zg(r),_a(e,t.child,null,n),t=fx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ET(t,e,n,r,s,o,a){if(n)return e.flags&256?(e.flags&=-257,r=kf(Error(X(422))),fu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=gh({mode:"visible",children:r.children},s,0,null),o=Gi(o,s,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&_a(e,t.child,null,a),e.child.memoizedState=dp(a),e.memoizedState=up,o);if(!(e.mode&1))return fu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(X(419)),r=kf(o,r,void 0),fu(t,e,a,r)}if(l=(a&t.childLanes)!==0,wn||l){if(r=Pt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ys(t,s),br(r,t,s,-1))}return yx(),r=kf(Error(X(421))),fu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=BT.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Tn=ii(s.nextSibling),Dn=e,nt=!0,gr=null,t!==null&&(Hn[Kn++]=hs,Hn[Kn++]=fs,Hn[Kn++]=Zi,hs=t.id,fs=t.overflow,Zi=e),e=fx(e,r.children),e.flags|=4096,e)}function tb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sp(t.return,e,n)}function Rf(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function KC(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(on(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tb(t,n,e);else if(t.tag===19)tb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(st,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&wd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Rf(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Rf(e,!0,n,null,o);break;case"together":Rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),to|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _T(t,e,n){switch(e.tag){case 3:VC(e),Ea();break;case 5:yC(e);break;case 1:Cn(e.type)&&pd(e);break;case 4:ix(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Qe(vd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?HC(t,e,n):(Qe(st,st.current&1),t=bs(t,e,n),t!==null?t.sibling:null);Qe(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return KC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qe(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,qC(t,e,n)}return bs(t,e,n)}var GC,hp,QC,YC;GC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hp=function(){};QC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Oi(Wr.current);var o=null;switch(n){case"input":s=Om(t,s),r=Om(t,r),o=[];break;case"select":s=at({},s,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":s=Im(t,s),r=Im(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fd)}Bm(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ze("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};YC=function(t,e,n,r){n!==r&&(e.flags|=4)};function ul(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AT(t,e,n){var r=e.pendingProps;switch(Jg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Cn(e.type)&&md(),Wt(e),null;case 3:return r=e.stateNode,Aa(),et(Sn),et(Xt),ax(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(bp(gr),gr=null))),hp(t,e),Wt(e),null;case 5:ox(e);var s=Oi(lc.current);if(n=e.type,t!==null&&e.stateNode!=null)QC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Wt(e),null}if(t=Oi(Wr.current),du(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Fr]=e,r[oc]=o,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)Ze(_l[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":uy(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":hy(r,o),Ze("invalid",r)}Bm(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&uu(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&uu(r.textContent,l,t),s=["children",""+l]):Yl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ze("scroll",r)}switch(n){case"input":nu(r),dy(r,o,!0);break;case"textarea":nu(r),fy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=fd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Fr]=e,t[oc]=r,GC(t,e,!1,!1),e.stateNode=t;e:{switch(a=$m(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),s=r;break;case"iframe":case"object":case"embed":Ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<_l.length;s++)Ze(_l[s],t);s=r;break;case"source":Ze("error",t),s=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),s=r;break;case"details":Ze("toggle",t),s=r;break;case"input":uy(t,r),s=Om(t,r),Ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=at({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":hy(t,r),s=Im(t,r),Ze("invalid",t);break;default:s=r}Bm(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?_S(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&NS(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xl(t,c):typeof c=="number"&&Xl(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ze("scroll",t):c!=null&&Ig(t,o,c,a))}switch(n){case"input":nu(t),dy(t,r,!1);break;case"textarea":nu(t),fy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Yo(t,!!r.multiple,o,!1):r.defaultValue!=null&&Yo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=fd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)YC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Oi(lc.current),Oi(Wr.current),du(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fr]=e,(o=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:uu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return Wt(e),null;case 13:if(et(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Tn!==null&&e.mode&1&&!(e.flags&128))mC(),Ea(),e.flags|=98560,o=!1;else if(o=du(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[Fr]=e}else Ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),o=!1}else gr!==null&&(bp(gr),gr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?Et===0&&(Et=3):yx())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Aa(),hp(t,e),t===null&&sc(e.stateNode.containerInfo),Wt(e),null;case 10:return nx(e.type._context),Wt(e),null;case 17:return Cn(e.type)&&md(),Wt(e),null;case 19:if(et(st),o=e.memoizedState,o===null)return Wt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ul(o,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=wd(t),a!==null){for(e.flags|=128,ul(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(st,st.current&1|2),e.child}t=t.sibling}o.tail!==null&&mt()>Ra&&(e.flags|=128,r=!0,ul(o,!1),e.lanes=4194304)}else{if(!r)if(t=wd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!nt)return Wt(e),null}else 2*mt()-o.renderingStartTime>Ra&&n!==1073741824&&(e.flags|=128,r=!0,ul(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=mt(),e.sibling=null,n=st.current,Qe(st,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return vx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function kT(t,e){switch(Jg(e),e.tag){case 1:return Cn(e.type)&&md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Aa(),et(Sn),et(Xt),ax(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ox(e),null;case 13:if(et(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(st),null;case 4:return Aa(),null;case 10:return nx(e.type._context),null;case 22:case 23:return vx(),null;case 24:return null;default:return null}}var mu=!1,Kt=!1,RT=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ko(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function fp(t,e,n){try{n()}catch(r){ut(t,e,r)}}var nb=!1;function TT(t,e){if(Ym=ud,t=tC(),Yg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,g=null;t:for(;;){for(var w;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(w=f.firstChild)!==null;)g=f,f=w;for(;;){if(f===t)break t;if(g===n&&++u===s&&(l=a),g===o&&++d===r&&(c=a),(w=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xm={focusedElem:t,selectionRange:n},ud=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,b=y.memoizedState,x=e.stateNode,m=x.getSnapshotBeforeUpdate(e.elementType===e.type?p:hr(e.type,p),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){ut(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return y=nb,nb=!1,y}function Il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&fp(e,n,o)}s=s.next}while(s!==r)}}function mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XC(t){var e=t.alternate;e!==null&&(t.alternate=null,XC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[oc],delete e[ep],delete e[fT],delete e[mT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JC(t){return t.tag===5||t.tag===3||t.tag===4}function rb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fd));else if(r!==4&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}function gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gp(t,e,n),t=t.sibling;t!==null;)gp(t,e,n),t=t.sibling}var Mt=null,pr=!1;function ks(t,e,n){for(n=n.child;n!==null;)ZC(t,e,n),n=n.sibling}function ZC(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(oh,n)}catch{}switch(n.tag){case 5:Kt||Ko(n,e);case 6:var r=Mt,s=pr;Mt=null,ks(t,e,n),Mt=r,pr=s,Mt!==null&&(pr?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(pr?(t=Mt,n=n.stateNode,t.nodeType===8?Cf(t.parentNode,n):t.nodeType===1&&Cf(t,n),tc(t)):Cf(Mt,n.stateNode));break;case 4:r=Mt,s=pr,Mt=n.stateNode.containerInfo,pr=!0,ks(t,e,n),Mt=r,pr=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&fp(n,e,a),s=s.next}while(s!==r)}ks(t,e,n);break;case 1:if(!Kt&&(Ko(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ut(n,e,l)}ks(t,e,n);break;case 21:ks(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,ks(t,e,n),Kt=r):ks(t,e,n);break;default:ks(t,e,n)}}function sb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RT),e.forEach(function(r){var s=$T.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,pr=!1;break e;case 3:Mt=l.stateNode.containerInfo,pr=!0;break e;case 4:Mt=l.stateNode.containerInfo,pr=!0;break e}l=l.return}if(Mt===null)throw Error(X(160));ZC(o,a,s),Mt=null,pr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ut(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ej(e,t),e=e.sibling}function ej(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Dr(t),r&4){try{Il(3,t,t.return),mh(3,t)}catch(p){ut(t,t.return,p)}try{Il(5,t,t.return)}catch(p){ut(t,t.return,p)}}break;case 1:lr(e,t),Dr(t),r&512&&n!==null&&Ko(n,n.return);break;case 5:if(lr(e,t),Dr(t),r&512&&n!==null&&Ko(n,n.return),t.flags&32){var s=t.stateNode;try{Xl(s,"")}catch(p){ut(t,t.return,p)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&SS(s,o),$m(l,a);var u=$m(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?_S(s,f):d==="dangerouslySetInnerHTML"?NS(s,f):d==="children"?Xl(s,f):Ig(s,d,f,u)}switch(l){case"input":Lm(s,o);break;case"textarea":CS(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Yo(s,!!o.multiple,w,!1):g!==!!o.multiple&&(o.defaultValue!=null?Yo(s,!!o.multiple,o.defaultValue,!0):Yo(s,!!o.multiple,o.multiple?[]:"",!1))}s[oc]=o}catch(p){ut(t,t.return,p)}}break;case 6:if(lr(e,t),Dr(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(p){ut(t,t.return,p)}}break;case 3:if(lr(e,t),Dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tc(e.containerInfo)}catch(p){ut(t,t.return,p)}break;case 4:lr(e,t),Dr(t);break;case 13:lr(e,t),Dr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(gx=mt())),r&4&&sb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(u=Kt)||d,lr(e,t),Kt=u):lr(e,t),Dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(f=se=d;se!==null;){switch(g=se,w=g.child,g.tag){case 0:case 11:case 14:case 15:Il(4,g,g.return);break;case 1:Ko(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(p){ut(r,n,p)}}break;case 5:Ko(g,g.return);break;case 22:if(g.memoizedState!==null){ob(f);continue}}w!==null?(w.return=g,se=w):ob(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ES("display",a))}catch(p){ut(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){ut(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lr(e,t),Dr(t),r&4&&sb(t);break;case 21:break;default:lr(e,t),Dr(t)}}function Dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(JC(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xl(s,""),r.flags&=-33);var o=rb(t);gp(t,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=rb(t);pp(t,l,a);break;default:throw Error(X(161))}}catch(c){ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DT(t,e,n){se=t,tj(t)}function tj(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var s=se,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||mu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Kt;l=mu;var u=Kt;if(mu=a,(Kt=c)&&!u)for(se=s;se!==null;)a=se,c=a.child,a.tag===22&&a.memoizedState!==null?ab(s):c!==null?(c.return=a,se=c):ab(s);for(;o!==null;)se=o,tj(o),o=o.sibling;se=s,mu=l,Kt=u}ib(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,se=o):ib(t)}}function ib(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||mh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:hr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qy(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qy(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Kt||e.flags&512&&mp(e)}catch(g){ut(e,e.return,g)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function ob(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function ab(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mh(4,e)}catch(c){ut(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ut(e,s,c)}}var o=e.return;try{mp(e)}catch(c){ut(e,o,c)}break;case 5:var a=e.return;try{mp(e)}catch(c){ut(e,a,c)}}}catch(c){ut(e,e.return,c)}if(e===t){se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,se=l;break}se=e.return}}var PT=Math.ceil,jd=Cs.ReactCurrentDispatcher,mx=Cs.ReactCurrentOwner,Yn=Cs.ReactCurrentBatchConfig,Fe=0,Pt=null,yt=null,Bt=0,kn=0,Go=wi(0),Et=0,hc=null,to=0,ph=0,px=0,Fl=null,bn=null,gx=0,Ra=1/0,ss=null,Nd=!1,xp=null,ai=null,pu=!1,ei=null,Ed=0,Bl=0,vp=null,zu=-1,qu=0;function dn(){return Fe&6?mt():zu!==-1?zu:zu=mt()}function li(t){return t.mode&1?Fe&2&&Bt!==0?Bt&-Bt:gT.transition!==null?(qu===0&&(qu=BS()),qu):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:HS(t.type)),t):1}function br(t,e,n,r){if(50<Bl)throw Bl=0,vp=null,Error(X(185));Lc(t,n,r),(!(Fe&2)||t!==Pt)&&(t===Pt&&(!(Fe&2)&&(ph|=n),Et===4&&zs(t,Bt)),jn(t,r),n===1&&Fe===0&&!(e.mode&1)&&(Ra=mt()+500,dh&&Si()))}function jn(t,e){var n=t.callbackNode;gR(t,e);var r=cd(t,t===Pt?Bt:0);if(r===0)n!==null&&gy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gy(n),e===1)t.tag===0?pT(lb.bind(null,t)):dC(lb.bind(null,t)),dT(function(){!(Fe&6)&&Si()}),n=null;else{switch($S(r)){case 1:n=zg;break;case 4:n=IS;break;case 16:n=ld;break;case 536870912:n=FS;break;default:n=ld}n=cj(n,nj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nj(t,e){if(zu=-1,qu=0,Fe&6)throw Error(X(327));var n=t.callbackNode;if(ta()&&t.callbackNode!==n)return null;var r=cd(t,t===Pt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_d(t,r);else{e=r;var s=Fe;Fe|=2;var o=sj();(Pt!==t||Bt!==e)&&(ss=null,Ra=mt()+500,Ki(t,e));do try{MT();break}catch(l){rj(t,l)}while(!0);tx(),jd.current=o,Fe=s,yt!==null?e=0:(Pt=null,Bt=0,e=Et)}if(e!==0){if(e===2&&(s=Vm(t),s!==0&&(r=s,e=yp(t,s))),e===1)throw n=hc,Ki(t,0),zs(t,r),jn(t,mt()),n;if(e===6)zs(t,r);else{if(s=t.current.alternate,!(r&30)&&!OT(s)&&(e=_d(t,r),e===2&&(o=Vm(t),o!==0&&(r=o,e=yp(t,o))),e===1))throw n=hc,Ki(t,0),zs(t,r),jn(t,mt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:ki(t,bn,ss);break;case 3:if(zs(t,r),(r&130023424)===r&&(e=gx+500-mt(),10<e)){if(cd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zm(ki.bind(null,t,bn,ss),e);break}ki(t,bn,ss);break;case 4:if(zs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-yr(r);o=1<<a,a=e[a],a>s&&(s=a),r&=~o}if(r=s,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PT(r/1960))-r,10<r){t.timeoutHandle=Zm(ki.bind(null,t,bn,ss),r);break}ki(t,bn,ss);break;case 5:ki(t,bn,ss);break;default:throw Error(X(329))}}}return jn(t,mt()),t.callbackNode===n?nj.bind(null,t):null}function yp(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(Ki(t,e).flags|=256),t=_d(t,e),t!==2&&(e=bn,bn=n,e!==null&&bp(e)),t}function bp(t){bn===null?bn=t:bn.push.apply(bn,t)}function OT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!wr(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zs(t,e){for(e&=~px,e&=~ph,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function lb(t){if(Fe&6)throw Error(X(327));ta();var e=cd(t,0);if(!(e&1))return jn(t,mt()),null;var n=_d(t,e);if(t.tag!==0&&n===2){var r=Vm(t);r!==0&&(e=r,n=yp(t,r))}if(n===1)throw n=hc,Ki(t,0),zs(t,e),jn(t,mt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t,bn,ss),jn(t,mt()),null}function xx(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(Ra=mt()+500,dh&&Si())}}function no(t){ei!==null&&ei.tag===0&&!(Fe&6)&&ta();var e=Fe;Fe|=1;var n=Yn.transition,r=Ge;try{if(Yn.transition=null,Ge=1,t)return t()}finally{Ge=r,Yn.transition=n,Fe=e,!(Fe&6)&&Si()}}function vx(){kn=Go.current,et(Go)}function Ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uT(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Jg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&md();break;case 3:Aa(),et(Sn),et(Xt),ax();break;case 5:ox(r);break;case 4:Aa();break;case 13:et(st);break;case 19:et(st);break;case 10:nx(r.type._context);break;case 22:case 23:vx()}n=n.return}if(Pt=t,yt=t=ci(t.current,null),Bt=kn=e,Et=0,hc=null,px=ph=to=0,bn=Fl=null,Pi!==null){for(e=0;e<Pi.length;e++)if(n=Pi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}Pi=null}return t}function rj(t,e){do{var n=yt;try{if(tx(),Bu.current=Cd,Sd){for(var r=ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sd=!1}if(eo=0,Rt=Ct=ot=null,Ml=!1,cc=0,mx.current=null,n===null||n.return===null){Et=1,hc=e,yt=null;break}e:{var o=t,a=n.return,l=n,c=e;if(e=Bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Qy(a);if(w!==null){w.flags&=-257,Yy(w,a,l,o,e),w.mode&1&&Gy(o,u,e),e=w,c=u;var y=e.updateQueue;if(y===null){var p=new Set;p.add(c),e.updateQueue=p}else y.add(c);break e}else{if(!(e&1)){Gy(o,u,e),yx();break e}c=Error(X(426))}}else if(nt&&l.mode&1){var b=Qy(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Yy(b,a,l,o,e),Zg(ka(c,l));break e}}o=c=ka(c,l),Et!==4&&(Et=2),Fl===null?Fl=[o]:Fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=$C(o,c,e);zy(o,x);break e;case 1:l=c;var m=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ai===null||!ai.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=UC(o,l,e);zy(o,S);break e}}o=o.return}while(o!==null)}oj(n)}catch(j){e=j,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function sj(){var t=jd.current;return jd.current=Cd,t===null?Cd:t}function yx(){(Et===0||Et===3||Et===2)&&(Et=4),Pt===null||!(to&268435455)&&!(ph&268435455)||zs(Pt,Bt)}function _d(t,e){var n=Fe;Fe|=2;var r=sj();(Pt!==t||Bt!==e)&&(ss=null,Ki(t,e));do try{LT();break}catch(s){rj(t,s)}while(!0);if(tx(),Fe=n,jd.current=r,yt!==null)throw Error(X(261));return Pt=null,Bt=0,Et}function LT(){for(;yt!==null;)ij(yt)}function MT(){for(;yt!==null&&!aR();)ij(yt)}function ij(t){var e=lj(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?oj(t):yt=e,mx.current=null}function oj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kT(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,yt=null;return}}else if(n=AT(n,e,kn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Et===0&&(Et=5)}function ki(t,e,n){var r=Ge,s=Yn.transition;try{Yn.transition=null,Ge=1,IT(t,e,n,r)}finally{Yn.transition=s,Ge=r}return null}function IT(t,e,n,r){do ta();while(ei!==null);if(Fe&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(xR(t,o),t===Pt&&(yt=Pt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pu||(pu=!0,cj(ld,function(){return ta(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yn.transition,Yn.transition=null;var a=Ge;Ge=1;var l=Fe;Fe|=4,mx.current=null,TT(t,n),ej(n,t),rT(Xm),ud=!!Ym,Xm=Ym=null,t.current=n,DT(n),lR(),Fe=l,Ge=a,Yn.transition=o}else t.current=n;if(pu&&(pu=!1,ei=t,Ed=s),o=t.pendingLanes,o===0&&(ai=null),dR(n.stateNode),jn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nd)throw Nd=!1,t=xp,xp=null,t;return Ed&1&&t.tag!==0&&ta(),o=t.pendingLanes,o&1?t===vp?Bl++:(Bl=0,vp=t):Bl=0,Si(),null}function ta(){if(ei!==null){var t=$S(Ed),e=Yn.transition,n=Ge;try{if(Yn.transition=null,Ge=16>t?16:t,ei===null)var r=!1;else{if(t=ei,ei=null,Ed=0,Fe&6)throw Error(X(331));var s=Fe;for(Fe|=4,se=t.current;se!==null;){var o=se,a=o.child;if(se.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Il(8,d,o)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var g=d.sibling,w=d.return;if(XC(d),d===u){se=null;break}if(g!==null){g.return=w,se=g;break}se=w}}}var y=o.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}se=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,se=a;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Il(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,se=x;break e}se=o.return}}var m=t.current;for(se=m;se!==null;){a=se;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,se=v;else e:for(a=m;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mh(9,l)}}catch(j){ut(l,l.return,j)}if(l===a){se=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,se=S;break e}se=l.return}}if(Fe=s,Si(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(oh,t)}catch{}r=!0}return r}finally{Ge=n,Yn.transition=e}}return!1}function cb(t,e,n){e=ka(n,e),e=$C(t,e,1),t=oi(t,e,1),e=dn(),t!==null&&(Lc(t,1,e),jn(t,e))}function ut(t,e,n){if(t.tag===3)cb(t,t,n);else for(;e!==null;){if(e.tag===3){cb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=ka(n,t),t=UC(e,t,1),e=oi(e,t,1),t=dn(),e!==null&&(Lc(e,1,t),jn(e,t));break}}e=e.return}}function FT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Bt&n)===n&&(Et===4||Et===3&&(Bt&130023424)===Bt&&500>mt()-gx?Ki(t,0):px|=n),jn(t,e)}function aj(t,e){e===0&&(t.mode&1?(e=iu,iu<<=1,!(iu&130023424)&&(iu=4194304)):e=1);var n=dn();t=ys(t,e),t!==null&&(Lc(t,e,n),jn(t,n))}function BT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aj(t,n)}function $T(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),aj(t,n)}var lj;lj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,_T(t,e,n);wn=!!(t.flags&131072)}else wn=!1,nt&&e.flags&1048576&&hC(e,xd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uu(t,e),t=e.pendingProps;var s=Na(e,Xt.current);ea(e,n),s=cx(null,e,r,t,s,n);var o=ux();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(o=!0,pd(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sx(e),s.updater=fh,e.stateNode=s,s._reactInternals=e,op(e,r,t,n),e=cp(null,e,r,!0,o,n)):(e.tag=0,nt&&o&&Xg(e),on(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=zT(r),t=hr(r,t),s){case 0:e=lp(null,e,r,t,n);break e;case 1:e=Zy(null,e,r,t,n);break e;case 11:e=Xy(null,e,r,t,n);break e;case 14:e=Jy(null,e,r,hr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hr(r,s),lp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hr(r,s),Zy(t,e,r,s,n);case 3:e:{if(VC(e),t===null)throw Error(X(387));r=e.pendingProps,o=e.memoizedState,s=o.element,vC(t,e),bd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ka(Error(X(423)),e),e=eb(t,e,r,n,s);break e}else if(r!==s){s=ka(Error(X(424)),e),e=eb(t,e,r,n,s);break e}else for(Tn=ii(e.stateNode.containerInfo.firstChild),Dn=e,nt=!0,gr=null,n=gC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ea(),r===s){e=bs(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return yC(e),t===null&&rp(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,Jm(r,s)?a=null:o!==null&&Jm(r,o)&&(e.flags|=32),WC(t,e),on(t,e,a,n),e.child;case 6:return t===null&&rp(e),null;case 13:return HC(t,e,n);case 4:return ix(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_a(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hr(r,s),Xy(t,e,r,s,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,Qe(vd,r._currentValue),r._currentValue=a,o!==null)if(wr(o.value,a)){if(o.children===s.children&&!Sn.current){e=bs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ps(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),sp(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(X(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),sp(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}on(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ea(e,n),s=Xn(s),r=r(s),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,s=hr(r,e.pendingProps),s=hr(r.type,s),Jy(t,e,r,s,n);case 15:return zC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hr(r,s),Uu(t,e),e.tag=1,Cn(r)?(t=!0,pd(e)):t=!1,ea(e,n),BC(e,r,s),op(e,r,s,n),cp(null,e,r,!0,t,n);case 19:return KC(t,e,n);case 22:return qC(t,e,n)}throw Error(X(156,e.tag))};function cj(t,e){return MS(t,e)}function UT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new UT(t,e,n,r)}function bx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zT(t){if(typeof t=="function")return bx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bg)return 11;if(t===$g)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wu(t,e,n,r,s,o){var a=2;if(r=t,typeof t=="function")bx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Fo:return Gi(n.children,s,o,e);case Fg:a=8,s|=8;break;case Rm:return t=Qn(12,n,e,s|2),t.elementType=Rm,t.lanes=o,t;case Tm:return t=Qn(13,n,e,s),t.elementType=Tm,t.lanes=o,t;case Dm:return t=Qn(19,n,e,s),t.elementType=Dm,t.lanes=o,t;case yS:return gh(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xS:a=10;break e;case vS:a=9;break e;case Bg:a=11;break e;case $g:a=14;break e;case Is:a=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Qn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Gi(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function gh(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=yS,t.lanes=n,t.stateNode={isHidden:!1},t}function Tf(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Df(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hf(0),this.expirationTimes=hf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wx(t,e,n,r,s,o,a,l,c){return t=new qT(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sx(o),t}function WT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uj(t){if(!t)return mi;t=t._reactInternals;e:{if(vo(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Cn(n))return uC(t,n,e)}return e}function dj(t,e,n,r,s,o,a,l,c){return t=wx(n,r,!0,t,s,o,a,l,c),t.context=uj(null),n=t.current,r=dn(),s=li(n),o=ps(r,s),o.callback=e??null,oi(n,o,s),t.current.lanes=s,Lc(t,s,r),jn(t,r),t}function xh(t,e,n,r){var s=e.current,o=dn(),a=li(s);return n=uj(n),e.context===null?e.context=n:e.pendingContext=n,e=ps(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oi(s,e,a),t!==null&&(br(t,s,a,o),Fu(t,s,a)),a}function Ad(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ub(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sx(t,e){ub(t,e),(t=t.alternate)&&ub(t,e)}function VT(){return null}var hj=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cx(t){this._internalRoot=t}vh.prototype.render=Cx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));xh(t,e,null,null)};vh.prototype.unmount=Cx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;no(function(){xh(null,t,null,null)}),e[vs]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=qS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Us.length&&e!==0&&e<Us[n].priority;n++);Us.splice(n,0,t),n===0&&VS(t)}};function jx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function db(){}function HT(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Ad(a);o.call(u)}}var a=dj(e,r,t,0,null,!1,!1,"",db);return t._reactRootContainer=a,t[vs]=a.current,sc(t.nodeType===8?t.parentNode:t),no(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ad(c);l.call(u)}}var c=wx(t,0,!1,null,null,!1,!1,"",db);return t._reactRootContainer=c,t[vs]=c.current,sc(t.nodeType===8?t.parentNode:t),no(function(){xh(e,c,n,r)}),c}function bh(t,e,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Ad(a);l.call(c)}}xh(e,a,t,s)}else a=HT(n,e,t,s,r);return Ad(a)}US=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=El(e.pendingLanes);n!==0&&(qg(e,n|1),jn(e,mt()),!(Fe&6)&&(Ra=mt()+500,Si()))}break;case 13:no(function(){var r=ys(t,1);if(r!==null){var s=dn();br(r,t,1,s)}}),Sx(t,1)}};Wg=function(t){if(t.tag===13){var e=ys(t,134217728);if(e!==null){var n=dn();br(e,t,134217728,n)}Sx(t,134217728)}};zS=function(t){if(t.tag===13){var e=li(t),n=ys(t,e);if(n!==null){var r=dn();br(n,t,e,r)}Sx(t,e)}};qS=function(){return Ge};WS=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};zm=function(t,e,n){switch(e){case"input":if(Lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=uh(r);if(!s)throw Error(X(90));wS(r),Lm(r,s)}}}break;case"textarea":CS(t,n);break;case"select":e=n.value,e!=null&&Yo(t,!!n.multiple,e,!1)}};RS=xx;TS=no;var KT={usingClientEntryPoint:!1,Events:[Ic,zo,uh,AS,kS,xx]},dl={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GT={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OS(t),t===null?null:t.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||VT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{oh=gu.inject(GT),qr=gu}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KT;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jx(e))throw Error(X(200));return WT(t,e,null,n)};Mn.createRoot=function(t,e){if(!jx(t))throw Error(X(299));var n=!1,r="",s=hj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wx(t,1,!1,null,null,n,!1,r,s),t[vs]=e.current,sc(t.nodeType===8?t.parentNode:t),new Cx(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=OS(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return no(t)};Mn.hydrate=function(t,e,n){if(!yh(e))throw Error(X(200));return bh(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!jx(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=hj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=dj(e,null,t,1,n??null,s,!1,o,a),t[vs]=e.current,sc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new vh(e)};Mn.render=function(t,e,n){if(!yh(e))throw Error(X(200));return bh(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!yh(t))throw Error(X(40));return t._reactRootContainer?(no(function(){bh(null,null,t,!1,function(){t._reactRootContainer=null,t[vs]=null})}),!0):!1};Mn.unstable_batchedUpdates=xx;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yh(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return bh(t,e,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function fj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fj)}catch(t){console.error(t)}}fj(),fS.exports=Mn;var xr=fS.exports;const QT=Rg(xr);var mj,hb=xr;mj=hb.createRoot,hb.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}var ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ti||(ti={}));const fb="popstate";function YT(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:a,hash:l}=r.location;return wp("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:kd(s)}return JT(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XT(){return Math.random().toString(36).substr(2,8)}function mb(t,e){return{usr:t.state,key:t.key,idx:e}}function wp(t,e,n,r){return n===void 0&&(n=null),fc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$a(e):e,{state:n,key:e&&e.key||r||XT()})}function kd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l=ti.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(fc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=ti.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:p.location,delta:x})}function g(b,x){l=ti.Push;let m=wp(p.location,b,x);u=d()+1;let v=mb(m,u),S=p.createHref(m);try{a.pushState(v,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}o&&c&&c({action:l,location:p.location,delta:1})}function w(b,x){l=ti.Replace;let m=wp(p.location,b,x);u=d();let v=mb(m,u),S=p.createHref(m);a.replaceState(v,"",S),o&&c&&c({action:l,location:p.location,delta:0})}function y(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:kd(b);return m=m.replace(/ $/,"%20"),pt(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let p={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fb,f),c=b,()=>{s.removeEventListener(fb,f),c=null}},createHref(b){return e(s,b)},createURL:y,encodeLocation(b){let x=y(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:w,go(b){return a.go(b)}};return p}var pb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pb||(pb={}));function ZT(t,e,n){return n===void 0&&(n="/"),e2(t,e,n)}function e2(t,e,n,r){let s=typeof e=="string"?$a(e):e,o=Ex(s.pathname||"/",n);if(o==null)return null;let a=pj(t);t2(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=f2(o);l=u2(a[c],u)}return l}function pj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ui([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pj(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:l2(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of gj(o.path))s(o,a,c)}),e}function gj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=gj(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function t2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n2=/^:[\w-]+$/,r2=3,s2=2,i2=1,o2=10,a2=-2,gb=t=>t==="*";function l2(t,e){let n=t.split("/"),r=n.length;return n.some(gb)&&(r+=a2),e&&(r+=s2),n.filter(s=>!gb(s)).reduce((s,o)=>s+(n2.test(o)?r2:o===""?i2:o2),r)}function c2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function u2(t,e,n){let{routesMeta:r}=t,s={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=d2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:ui([o,f.pathname]),pathnameBase:v2(ui([o,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(o=ui([o,f.pathnameBase]))}return a}function d2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:g,isOptional:w}=d;if(g==="*"){let p=l[f]||"";a=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const y=l[f];return w&&!y?u[g]=void 0:u[g]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function h2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Nx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function f2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ex(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const m2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p2=t=>m2.test(t);function g2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$a(t):t,o;if(n)if(p2(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Nx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=xb(n.substring(1),"/"):o=xb(n,e)}else o=e;return{pathname:o,search:y2(r),hash:b2(s)}}function xb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _x(t,e){let n=x2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ax(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=$a(t):(s=fc({},t),pt(!s.pathname||!s.pathname.includes("?"),Pf("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),Pf("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),Pf("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}l=f>=0?e[f]:"/"}let c=g2(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ui=t=>t.join("/").replace(/\/\/+/g,"/"),v2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function w2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xj=["post","put","patch","delete"];new Set(xj);const S2=["get",...xj];new Set(S2);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}const kx=h.createContext(null),C2=h.createContext(null),Ci=h.createContext(null),wh=h.createContext(null),Yr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),vj=h.createContext(null);function j2(t,e){let{relative:n}=e===void 0?{}:e;Ua()||pt(!1);let{basename:r,navigator:s}=h.useContext(Ci),{hash:o,pathname:a,search:l}=bj(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ui([r,a])),s.createHref({pathname:c,search:l,hash:o})}function Ua(){return h.useContext(wh)!=null}function yo(){return Ua()||pt(!1),h.useContext(wh).location}function yj(t){h.useContext(Ci).static||h.useLayoutEffect(t)}function Ot(){let{isDataRoute:t}=h.useContext(Yr);return t?B2():N2()}function N2(){Ua()||pt(!1);let t=h.useContext(kx),{basename:e,future:n,navigator:r}=h.useContext(Ci),{matches:s}=h.useContext(Yr),{pathname:o}=yo(),a=JSON.stringify(_x(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return yj(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Ax(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ui([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}const E2=h.createContext(null);function _2(t){let e=h.useContext(Yr).outlet;return e&&h.createElement(E2.Provider,{value:t},e)}function bo(){let{matches:t}=h.useContext(Yr),e=t[t.length-1];return e?e.params:{}}function bj(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(Ci),{matches:s}=h.useContext(Yr),{pathname:o}=yo(),a=JSON.stringify(_x(s,r.v7_relativeSplatPath));return h.useMemo(()=>Ax(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function A2(t,e){return k2(t,e)}function k2(t,e,n,r){Ua()||pt(!1);let{navigator:s}=h.useContext(Ci),{matches:o}=h.useContext(Yr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=yo(),d;if(e){var f;let b=typeof e=="string"?$a(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||pt(!1),d=b}else d=u;let g=d.pathname||"/",w=g;if(c!=="/"){let b=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=ZT(t,{pathname:w}),p=O2(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ui([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ui([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&p?h.createElement(wh.Provider,{value:{location:mc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ti.Pop}},p):p}function R2(){let t=F2(),e=w2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:s},n):null,null)}const T2=h.createElement(R2,null);class D2 extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(Yr.Provider,{value:this.props.routeContext},h.createElement(vj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P2(t){let{routeContext:e,match:n,children:r}=t,s=h.useContext(kx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Yr.Provider,{value:e},r)}function O2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||pt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:w}=n,y=f.route.loader&&g[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,g)=>{let w,y=!1,p=null,b=null;n&&(w=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||T2,c&&(u<0&&g===0?($2("route-fallback"),y=!0,b=null):u===g&&(y=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,g+1)),m=()=>{let v;return w?v=p:y?v=b:f.route.Component?v=h.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,h.createElement(P2,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?h.createElement(D2,{location:n.location,revalidation:n.revalidation,component:p,error:w,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var wj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wj||{}),Sj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sj||{});function L2(t){let e=h.useContext(kx);return e||pt(!1),e}function M2(t){let e=h.useContext(C2);return e||pt(!1),e}function I2(t){let e=h.useContext(Yr);return e||pt(!1),e}function Cj(t){let e=I2(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function F2(){var t;let e=h.useContext(vj),n=M2(),r=Cj();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function B2(){let{router:t}=L2(wj.UseNavigateStable),e=Cj(Sj.UseNavigateStable),n=h.useRef(!1);return yj(()=>{n.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,mc({fromRouteId:e},o)))},[t,e])}const vb={};function $2(t,e,n){vb[t]||(vb[t]=!0)}function U2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jj(t){let{to:e,replace:n,state:r,relative:s}=t;Ua()||pt(!1);let{future:o,static:a}=h.useContext(Ci),{matches:l}=h.useContext(Yr),{pathname:c}=yo(),u=Ot(),d=Ax(e,_x(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function z2(t){return _2(t.context)}function Oe(t){pt(!1)}function q2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ti.Pop,navigator:o,static:a=!1,future:l}=t;Ua()&&pt(!1);let c=e.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:a,future:mc({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=$a(r));let{pathname:d="/",search:f="",hash:g="",state:w=null,key:y="default"}=r,p=h.useMemo(()=>{let b=Ex(d,c);return b==null?null:{location:{pathname:b,search:f,hash:g,state:w,key:y},navigationType:s}},[c,d,f,g,w,y,s]);return p==null?null:h.createElement(Ci.Provider,{value:u},h.createElement(wh.Provider,{children:n,value:p}))}function W2(t){let{children:e,location:n}=t;return A2(Sp(e),n)}new Promise(()=>{});function Sp(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,s)=>{if(!h.isValidElement(r))return;let o=[...e,s];if(r.type===h.Fragment){n.push.apply(n,Sp(r.props.children,o));return}r.type!==Oe&&pt(!1),!r.props.index||!r.props.children||pt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Sp(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cp.apply(this,arguments)}function V2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function H2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K2(t,e){return t.button===0&&(!e||e==="_self")&&!H2(t)}function jp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function G2(t,e){let n=jp(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const Q2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y2="6";try{window.__reactRouterVersion=Y2}catch{}const X2="startTransition",yb=ih[X2];function J2(t){let{basename:e,children:n,future:r,window:s}=t,o=h.useRef();o.current==null&&(o.current=YT({window:s,v5Compat:!0}));let a=o.current,[l,c]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&yb?yb(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>a.listen(d),[a,d]),h.useEffect(()=>U2(r),[r]),h.createElement(q2,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const Z2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=h.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,g=V2(e,Q2),{basename:w}=h.useContext(Ci),y,p=!1;if(typeof u=="string"&&eD.test(u)&&(y=u,Z2))try{let v=new URL(window.location.href),S=u.startsWith("//")?new URL(v.protocol+u):new URL(u),j=Ex(S.pathname,w);S.origin===v.origin&&j!=null?u=j+S.search+S.hash:p=!0}catch{}let b=j2(u,{relative:s}),x=tD(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function m(v){r&&r(v),v.defaultPrevented||x(v)}return h.createElement("a",Cp({},g,{href:y||b,onClick:p||o?r:m,ref:n,target:c}))});var bb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bb||(bb={}));var wb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wb||(wb={}));function tD(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=e===void 0?{}:e,c=Ot(),u=yo(),d=bj(t,{relative:a});return h.useCallback(f=>{if(K2(f,n)){f.preventDefault();let g=r!==void 0?r:kd(u)===kd(d);c(t,{replace:g,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,r,s,n,t,o,a,l])}function nD(t){let e=h.useRef(jp(t)),n=h.useRef(!1),r=yo(),s=h.useMemo(()=>G2(r.search,n.current?null:e.current),[r.search]),o=Ot(),a=h.useCallback((l,c)=>{const u=jp(typeof l=="function"?l(s):l);n.current=!0,o("?"+u,c)},[o,s]);return[s,a]}var za=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rD={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ws,kg,Vw,sD=(Vw=class{constructor(){de(this,Ws,rD);de(this,kg,!1)}setTimeoutProvider(t){ne(this,Ws,t)}setTimeout(t,e){return P(this,Ws).setTimeout(t,e)}clearTimeout(t){P(this,Ws).clearTimeout(t)}setInterval(t,e){return P(this,Ws).setInterval(t,e)}clearInterval(t){P(this,Ws).clearInterval(t)}},Ws=new WeakMap,kg=new WeakMap,Vw),Li=new sD;function iD(t){setTimeout(t,0)}var ro=typeof window>"u"||"Deno"in globalThis;function an(){}function oD(t,e){return typeof t=="function"?t(e):t}function Np(t){return typeof t=="number"&&t>=0&&t!==1/0}function Nj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function di(t,e){return typeof t=="function"?t(e):t}function Wn(t,e){return typeof t=="function"?t(e):t}function Sb(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Rx(a,e.options))return!1}else if(!pc(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||o&&!o(e))}function Cb(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(so(e.options.mutationKey)!==so(o))return!1}else if(!pc(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Rx(t,e){return((e==null?void 0:e.queryKeyHashFn)||so)(t)}function so(t){return JSON.stringify(t,(e,n)=>Ep(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function pc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>pc(t[n],e[n])):!1}var aD=Object.prototype.hasOwnProperty;function Ej(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=jb(t)&&jb(e);if(!r&&!(Ep(t)&&Ep(e)))return e;const o=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),l=a.length,c=r?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=r?d:a[d],g=t[f],w=e[f];if(g===w){c[f]=g,(r?d<o:aD.call(t,f))&&u++;continue}if(g===null||w===null||typeof g!="object"||typeof w!="object"){c[f]=w;continue}const y=Ej(g,w,n+1);c[f]=y,y===g&&u++}return o===l&&u===o?t:c}function Rd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function jb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ep(t){if(!Nb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Nb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Nb(t){return Object.prototype.toString.call(t)==="[object Object]"}function lD(t){return new Promise(e=>{Li.setTimeout(e,t)})}function _p(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ej(t,e):e}function cD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function uD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Tx=Symbol();function _j(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Tx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Dx(t,e){return typeof t=="function"?t(...e):!!t}function dD(t,e,n){let r=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var Fi,Vs,ha,Hw,hD=(Hw=class extends za{constructor(){super();de(this,Fi);de(this,Vs);de(this,ha);ne(this,ha,e=>{if(!ro&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Vs)||this.setEventListener(P(this,ha))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Vs))==null||e.call(this),ne(this,Vs,void 0))}setEventListener(e){var n;ne(this,ha,e),(n=P(this,Vs))==null||n.call(this),ne(this,Vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,Fi)!==e&&(ne(this,Fi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof P(this,Fi)=="boolean"?P(this,Fi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fi=new WeakMap,Vs=new WeakMap,ha=new WeakMap,Hw),Px=new hD;function Ap(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var fD=iD;function mD(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=fD;const o=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Nt=mD(),fa,Hs,ma,Kw,pD=(Kw=class extends za{constructor(){super();de(this,fa,!0);de(this,Hs);de(this,ma);ne(this,ma,e=>{if(!ro&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Hs)||this.setEventListener(P(this,ma))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Hs))==null||e.call(this),ne(this,Hs,void 0))}setEventListener(e){var n;ne(this,ma,e),(n=P(this,Hs))==null||n.call(this),ne(this,Hs,e(this.setOnline.bind(this)))}setOnline(e){P(this,fa)!==e&&(ne(this,fa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,fa)}},fa=new WeakMap,Hs=new WeakMap,ma=new WeakMap,Kw),Td=new pD;function gD(t){return Math.min(1e3*2**t,3e4)}function Aj(t){return(t??"online")==="online"?Td.isOnline():!0}var kp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kj(t){let e=!1,n=0,r;const s=Ap(),o=()=>s.status!=="pending",a=p=>{var b;if(!o()){const x=new kp(p);g(x),(b=t.onCancel)==null||b.call(t,x)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>Px.isFocused()&&(t.networkMode==="always"||Td.isOnline())&&t.canRun(),d=()=>Aj(t.networkMode)&&t.canRun(),f=p=>{o()||(r==null||r(),s.resolve(p))},g=p=>{o()||(r==null||r(),s.reject(p))},w=()=>new Promise(p=>{var b;r=x=>{(o()||u())&&p(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var p;r=void 0,o()||(p=t.onContinue)==null||p.call(t)}),y=()=>{if(o())return;let p;const b=n===0?t.initialPromise:void 0;try{p=b??t.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var E;if(o())return;const m=t.retry??(ro?0:3),v=t.retryDelay??gD,S=typeof v=="function"?v(n,x):v,j=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,x);if(e||!j){g(x);return}n++,(E=t.onFail)==null||E.call(t,n,x),lD(S).then(()=>u()?void 0:w()).then(()=>{e?g(x):y()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():w().then(y),s)}}var Bi,Gw,Rj=(Gw=class{constructor(){de(this,Bi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Np(this.gcTime)&&ne(this,Bi,Li.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ro?1/0:5*60*1e3))}clearGcTimeout(){P(this,Bi)&&(Li.clearTimeout(P(this,Bi)),ne(this,Bi,void 0))}},Bi=new WeakMap,Gw),$i,pa,qn,Ui,kt,kc,zi,fr,ns,Qw,xD=(Qw=class extends Rj{constructor(e){super();de(this,fr);de(this,$i);de(this,pa);de(this,qn);de(this,Ui);de(this,kt);de(this,kc);de(this,zi);ne(this,zi,!1),ne(this,kc,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,Ui,e.client),ne(this,qn,P(this,Ui).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,$i,_b(this.options)),this.state=e.state??P(this,$i),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,kt))==null?void 0:e.promise}setOptions(e){if(this.options={...P(this,kc),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=_b(this.options);n.data!==void 0&&(this.setState(Eb(n.data,n.dataUpdatedAt)),ne(this,$i,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,qn).remove(this)}setData(e,n){const r=_p(this.state.data,e,this.options);return Ne(this,fr,ns).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ne(this,fr,ns).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=P(this,kt))==null?void 0:r.promise;return(s=P(this,kt))==null||s.cancel(e),n?n.then(an).catch(an):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,$i))}isActive(){return this.observers.some(e=>Wn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>di(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Nj(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,kt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,kt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(P(this,kt)&&(P(this,zi)?P(this,kt).cancel({revert:!0}):P(this,kt).cancelRetry()),this.scheduleGc()),P(this,qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ne(this,fr,ns).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,d,f,g,w,y,p,b,x,m,v;if(this.state.fetchStatus!=="idle"&&((c=P(this,kt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,kt))return P(this,kt).continueRetry(),P(this,kt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(j=>j.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(ne(this,zi,!0),r.signal)})},o=()=>{const S=_j(this.options,n),E=(()=>{const C={client:P(this,Ui),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return ne(this,zi,!1),this.options.persister?this.options.persister(S,E,this):S(E)},l=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,Ui),state:this.state,fetchFn:o};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),ne(this,pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ne(this,fr,ns).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ne(this,kt,kj({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof kp&&S.revert&&this.setState({...P(this,pa),fetchStatus:"idle"}),r.abort()},onFail:(S,j)=>{Ne(this,fr,ns).call(this,{type:"failed",failureCount:S,error:j})},onPause:()=>{Ne(this,fr,ns).call(this,{type:"pause"})},onContinue:()=>{Ne(this,fr,ns).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await P(this,kt).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(w=(g=P(this,qn).config).onSuccess)==null||w.call(g,S,this),(p=(y=P(this,qn).config).onSettled)==null||p.call(y,S,this.state.error,this),S}catch(S){if(S instanceof kp){if(S.silent)return P(this,kt).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw Ne(this,fr,ns).call(this,{type:"error",error:S}),(x=(b=P(this,qn).config).onError)==null||x.call(b,S,this),(v=(m=P(this,qn).config).onSettled)==null||v.call(m,this.state.data,S,this),S}finally{this.scheduleGc()}}},$i=new WeakMap,pa=new WeakMap,qn=new WeakMap,Ui=new WeakMap,kt=new WeakMap,kc=new WeakMap,zi=new WeakMap,fr=new WeakSet,ns=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Tj(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...Eb(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,pa,e.manual?s:void 0),s;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Nt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,qn).notify({query:this,type:"updated",action:e})})},Qw);function Tj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Aj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Eb(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _b(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vn,Le,Rc,rn,qi,ga,as,Ks,Tc,xa,va,Wi,Vi,Gs,ya,ze,Al,Rp,Tp,Dp,Pp,Op,Lp,Mp,Dj,Yw,vD=(Yw=class extends za{constructor(e,n){super();de(this,ze);de(this,vn);de(this,Le);de(this,Rc);de(this,rn);de(this,qi);de(this,ga);de(this,as);de(this,Ks);de(this,Tc);de(this,xa);de(this,va);de(this,Wi);de(this,Vi);de(this,Gs);de(this,ya,new Set);this.options=n,ne(this,vn,e),ne(this,Ks,null),ne(this,as,Ap()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Le).addObserver(this),Ab(P(this,Le),this.options)?Ne(this,ze,Al).call(this):this.updateResult(),Ne(this,ze,Pp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ip(P(this,Le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ip(P(this,Le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ne(this,ze,Op).call(this),Ne(this,ze,Lp).call(this),P(this,Le).removeObserver(this)}setOptions(e){const n=this.options,r=P(this,Le);if(this.options=P(this,vn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wn(this.options.enabled,P(this,Le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ne(this,ze,Mp).call(this),P(this,Le).setOptions(this.options),n._defaulted&&!Rd(this.options,n)&&P(this,vn).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Le),observer:this});const s=this.hasListeners();s&&kb(P(this,Le),r,this.options,n)&&Ne(this,ze,Al).call(this),this.updateResult(),s&&(P(this,Le)!==r||Wn(this.options.enabled,P(this,Le))!==Wn(n.enabled,P(this,Le))||di(this.options.staleTime,P(this,Le))!==di(n.staleTime,P(this,Le)))&&Ne(this,ze,Rp).call(this);const o=Ne(this,ze,Tp).call(this);s&&(P(this,Le)!==r||Wn(this.options.enabled,P(this,Le))!==Wn(n.enabled,P(this,Le))||o!==P(this,Gs))&&Ne(this,ze,Dp).call(this,o)}getOptimisticResult(e){const n=P(this,vn).getQueryCache().build(P(this,vn),e),r=this.createResult(n,e);return bD(this,r)&&(ne(this,rn,r),ne(this,ga,this.options),ne(this,qi,P(this,Le).state)),r}getCurrentResult(){return P(this,rn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&P(this,as).status==="pending"&&P(this,as).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){P(this,ya).add(e)}getCurrentQuery(){return P(this,Le)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=P(this,vn).defaultQueryOptions(e),r=P(this,vn).getQueryCache().build(P(this,vn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ne(this,ze,Al).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,rn)))}createResult(e,n){var R;const r=P(this,Le),s=this.options,o=P(this,rn),a=P(this,qi),l=P(this,ga),u=e!==r?e.state:P(this,Rc),{state:d}=e;let f={...d},g=!1,w;if(n._optimisticResults){const k=this.hasListeners(),_=!k&&Ab(e,n),D=k&&kb(e,r,n,s);(_||D)&&(f={...f,...Tj(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:p,status:b}=f;w=f.data;let x=!1;if(n.placeholderData!==void 0&&w===void 0&&b==="pending"){let k;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(k=o.data,x=!0):k=typeof n.placeholderData=="function"?n.placeholderData((R=P(this,va))==null?void 0:R.state.data,P(this,va)):n.placeholderData,k!==void 0&&(b="success",w=_p(o==null?void 0:o.data,k,n),g=!0)}if(n.select&&w!==void 0&&!x)if(o&&w===(a==null?void 0:a.data)&&n.select===P(this,Tc))w=P(this,xa);else try{ne(this,Tc,n.select),w=n.select(w),w=_p(o==null?void 0:o.data,w,n),ne(this,xa,w),ne(this,Ks,null)}catch(k){ne(this,Ks,k)}P(this,Ks)&&(y=P(this,Ks),w=P(this,xa),p=Date.now(),b="error");const m=f.fetchStatus==="fetching",v=b==="pending",S=b==="error",j=v&&m,E=w!==void 0,N={status:b,fetchStatus:f.fetchStatus,isPending:v,isSuccess:b==="success",isError:S,isInitialLoading:j,isLoading:j,data:w,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!v,isLoadingError:S&&!E,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:S&&E,isStale:Ox(e,n),refetch:this.refetch,promise:P(this,as),isEnabled:Wn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=N.data!==void 0,_=N.status==="error"&&!k,D=I=>{_?I.reject(N.error):k&&I.resolve(N.data)},L=()=>{const I=ne(this,as,N.promise=Ap());D(I)},q=P(this,as);switch(q.status){case"pending":e.queryHash===r.queryHash&&D(q);break;case"fulfilled":(_||N.data!==q.value)&&L();break;case"rejected":(!_||N.error!==q.reason)&&L();break}}return N}updateResult(){const e=P(this,rn),n=this.createResult(P(this,Le),this.options);if(ne(this,qi,P(this,Le).state),ne(this,ga,this.options),P(this,qi).data!==void 0&&ne(this,va,P(this,Le)),Rd(n,e))return;ne(this,rn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!P(this,ya).size)return!0;const a=new Set(o??P(this,ya));return this.options.throwOnError&&a.add("error"),Object.keys(P(this,rn)).some(l=>{const c=l;return P(this,rn)[c]!==e[c]&&a.has(c)})};Ne(this,ze,Dj).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ne(this,ze,Pp).call(this)}},vn=new WeakMap,Le=new WeakMap,Rc=new WeakMap,rn=new WeakMap,qi=new WeakMap,ga=new WeakMap,as=new WeakMap,Ks=new WeakMap,Tc=new WeakMap,xa=new WeakMap,va=new WeakMap,Wi=new WeakMap,Vi=new WeakMap,Gs=new WeakMap,ya=new WeakMap,ze=new WeakSet,Al=function(e){Ne(this,ze,Mp).call(this);let n=P(this,Le).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(an)),n},Rp=function(){Ne(this,ze,Op).call(this);const e=di(this.options.staleTime,P(this,Le));if(ro||P(this,rn).isStale||!Np(e))return;const r=Nj(P(this,rn).dataUpdatedAt,e)+1;ne(this,Wi,Li.setTimeout(()=>{P(this,rn).isStale||this.updateResult()},r))},Tp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Le)):this.options.refetchInterval)??!1},Dp=function(e){Ne(this,ze,Lp).call(this),ne(this,Gs,e),!(ro||Wn(this.options.enabled,P(this,Le))===!1||!Np(P(this,Gs))||P(this,Gs)===0)&&ne(this,Vi,Li.setInterval(()=>{(this.options.refetchIntervalInBackground||Px.isFocused())&&Ne(this,ze,Al).call(this)},P(this,Gs)))},Pp=function(){Ne(this,ze,Rp).call(this),Ne(this,ze,Dp).call(this,Ne(this,ze,Tp).call(this))},Op=function(){P(this,Wi)&&(Li.clearTimeout(P(this,Wi)),ne(this,Wi,void 0))},Lp=function(){P(this,Vi)&&(Li.clearInterval(P(this,Vi)),ne(this,Vi,void 0))},Mp=function(){const e=P(this,vn).getQueryCache().build(P(this,vn),this.options);if(e===P(this,Le))return;const n=P(this,Le);ne(this,Le,e),ne(this,Rc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Dj=function(e){Nt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(P(this,rn))}),P(this,vn).getQueryCache().notify({query:P(this,Le),type:"observerResultsUpdated"})})},Yw);function yD(t,e){return Wn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ab(t,e){return yD(t,e)||t.state.data!==void 0&&Ip(t,e,e.refetchOnMount)}function Ip(t,e,n){if(Wn(e.enabled,t)!==!1&&di(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ox(t,e)}return!1}function kb(t,e,n,r){return(t!==e||Wn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ox(t,n)}function Ox(t,e){return Wn(e.enabled,t)!==!1&&t.isStaleByTime(di(e.staleTime,t))}function bD(t,e){return!Rd(t.getCurrentResult(),e)}function Rb(t){return{onFetch:(e,n)=>{var d,f,g,w,y;const r=e.options,s=(g=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,o=((w=e.state.data)==null?void 0:w.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const b=v=>{dD(v,()=>e.signal,()=>p=!0)},x=_j(e.options,e.fetchOptions),m=async(v,S,j)=>{if(p)return Promise.reject();if(S==null&&v.pages.length)return Promise.resolve(v);const C=(()=>{const _={client:e.client,queryKey:e.queryKey,pageParam:S,direction:j?"backward":"forward",meta:e.options.meta};return b(_),_})(),N=await x(C),{maxPages:R}=e.options,k=j?uD:cD;return{pages:k(v.pages,N,R),pageParams:k(v.pageParams,S,R)}};if(s&&o.length){const v=s==="backward",S=v?wD:Tb,j={pages:o,pageParams:a},E=S(r,j);l=await m(j,E,v)}else{const v=t??o.length;do{const S=c===0?a[0]??r.initialPageParam:Tb(r,l);if(c>0&&S==null)break;l=await m(l,S),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var p,b;return(b=(p=e.options).persister)==null?void 0:b.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Tb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function wD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Dc,Lr,sn,Hi,Mr,Os,Xw,SD=(Xw=class extends Rj{constructor(e){super();de(this,Mr);de(this,Dc);de(this,Lr);de(this,sn);de(this,Hi);ne(this,Dc,e.client),this.mutationId=e.mutationId,ne(this,sn,e.mutationCache),ne(this,Lr,[]),this.state=e.state||Pj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,Lr).includes(e)||(P(this,Lr).push(e),this.clearGcTimeout(),P(this,sn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,Lr,P(this,Lr).filter(n=>n!==e)),this.scheduleGc(),P(this,sn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,Lr).length||(this.state.status==="pending"?this.scheduleGc():P(this,sn).remove(this))}continue(){var e;return((e=P(this,Hi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,u,d,f,g,w,y,p,b,x,m,v,S,j,E,C,N,R;const n=()=>{Ne(this,Mr,Os).call(this,{type:"continue"})},r={client:P(this,Dc),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,Hi,kj({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,_)=>{Ne(this,Mr,Os).call(this,{type:"failed",failureCount:k,error:_})},onPause:()=>{Ne(this,Mr,Os).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,sn).canRun(this)}));const s=this.state.status==="pending",o=!P(this,Hi).canStart();try{if(s)n();else{Ne(this,Mr,Os).call(this,{type:"pending",variables:e,isPaused:o}),await((l=(a=P(this,sn).config).onMutate)==null?void 0:l.call(a,e,this,r));const _=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));_!==this.state.context&&Ne(this,Mr,Os).call(this,{type:"pending",context:_,variables:e,isPaused:o})}const k=await P(this,Hi).start();return await((f=(d=P(this,sn).config).onSuccess)==null?void 0:f.call(d,k,e,this.state.context,this,r)),await((w=(g=this.options).onSuccess)==null?void 0:w.call(g,k,e,this.state.context,r)),await((p=(y=P(this,sn).config).onSettled)==null?void 0:p.call(y,k,null,this.state.variables,this.state.context,this,r)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,k,null,e,this.state.context,r)),Ne(this,Mr,Os).call(this,{type:"success",data:k}),k}catch(k){try{await((v=(m=P(this,sn).config).onError)==null?void 0:v.call(m,k,e,this.state.context,this,r))}catch(_){Promise.reject(_)}try{await((j=(S=this.options).onError)==null?void 0:j.call(S,k,e,this.state.context,r))}catch(_){Promise.reject(_)}try{await((C=(E=P(this,sn).config).onSettled)==null?void 0:C.call(E,void 0,k,this.state.variables,this.state.context,this,r))}catch(_){Promise.reject(_)}try{await((R=(N=this.options).onSettled)==null?void 0:R.call(N,void 0,k,e,this.state.context,r))}catch(_){Promise.reject(_)}throw Ne(this,Mr,Os).call(this,{type:"error",error:k}),k}finally{P(this,sn).runNext(this)}}},Dc=new WeakMap,Lr=new WeakMap,sn=new WeakMap,Hi=new WeakMap,Mr=new WeakSet,Os=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Nt.batch(()=>{P(this,Lr).forEach(r=>{r.onMutationUpdate(e)}),P(this,sn).notify({mutation:this,type:"updated",action:e})})},Xw);function Pj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ls,mr,Pc,Jw,CD=(Jw=class extends za{constructor(e={}){super();de(this,ls);de(this,mr);de(this,Pc);this.config=e,ne(this,ls,new Set),ne(this,mr,new Map),ne(this,Pc,0)}build(e,n,r){const s=new SD({client:e,mutationCache:this,mutationId:++Zc(this,Pc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){P(this,ls).add(e);const n=xu(e);if(typeof n=="string"){const r=P(this,mr).get(n);r?r.push(e):P(this,mr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,ls).delete(e)){const n=xu(e);if(typeof n=="string"){const r=P(this,mr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&P(this,mr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=xu(e);if(typeof n=="string"){const r=P(this,mr).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=xu(e);if(typeof n=="string"){const s=(r=P(this,mr).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{P(this,ls).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,ls).clear(),P(this,mr).clear()})}getAll(){return Array.from(P(this,ls))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Cb(n,r))}findAll(e={}){return this.getAll().filter(n=>Cb(e,n))}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Nt.batch(()=>Promise.all(e.map(n=>n.continue().catch(an))))}},ls=new WeakMap,mr=new WeakMap,Pc=new WeakMap,Jw);function xu(t){var e;return(e=t.options.scope)==null?void 0:e.id}var cs,Qs,yn,us,gs,Vu,Fp,Zw,jD=(Zw=class extends za{constructor(n,r){super();de(this,gs);de(this,cs);de(this,Qs);de(this,yn);de(this,us);ne(this,cs,n),this.setOptions(r),this.bindMethods(),Ne(this,gs,Vu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=P(this,cs).defaultMutationOptions(n),Rd(this.options,r)||P(this,cs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,yn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&so(r.mutationKey)!==so(this.options.mutationKey)?this.reset():((s=P(this,yn))==null?void 0:s.state.status)==="pending"&&P(this,yn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=P(this,yn))==null||n.removeObserver(this)}onMutationUpdate(n){Ne(this,gs,Vu).call(this),Ne(this,gs,Fp).call(this,n)}getCurrentResult(){return P(this,Qs)}reset(){var n;(n=P(this,yn))==null||n.removeObserver(this),ne(this,yn,void 0),Ne(this,gs,Vu).call(this),Ne(this,gs,Fp).call(this)}mutate(n,r){var s;return ne(this,us,r),(s=P(this,yn))==null||s.removeObserver(this),ne(this,yn,P(this,cs).getMutationCache().build(P(this,cs),this.options)),P(this,yn).addObserver(this),P(this,yn).execute(n)}},cs=new WeakMap,Qs=new WeakMap,yn=new WeakMap,us=new WeakMap,gs=new WeakSet,Vu=function(){var r;const n=((r=P(this,yn))==null?void 0:r.state)??Pj();ne(this,Qs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Fp=function(n){Nt.batch(()=>{var r,s,o,a,l,c,u,d;if(P(this,us)&&this.hasListeners()){const f=P(this,Qs).variables,g=P(this,Qs).context,w={client:P(this,cs),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=P(this,us)).onSuccess)==null||s.call(r,n.data,f,g,w)}catch(y){Promise.reject(y)}try{(a=(o=P(this,us)).onSettled)==null||a.call(o,n.data,null,f,g,w)}catch(y){Promise.reject(y)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=P(this,us)).onError)==null||c.call(l,n.error,f,g,w)}catch(y){Promise.reject(y)}try{(d=(u=P(this,us)).onSettled)==null||d.call(u,void 0,n.error,f,g,w)}catch(y){Promise.reject(y)}}}this.listeners.forEach(f=>{f(P(this,Qs))})})},Zw),Ir,eS,ND=(eS=class extends za{constructor(e={}){super();de(this,Ir);this.config=e,ne(this,Ir,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??Rx(s,n);let a=this.get(o);return a||(a=new xD({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){P(this,Ir).has(e.queryHash)||(P(this,Ir).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,Ir).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,Ir).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,Ir).get(e)}getAll(){return[...P(this,Ir).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Sb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Sb(e,r)):n}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ir=new WeakMap,eS),ct,Ys,Xs,ba,wa,Js,Sa,Ca,tS,ED=(tS=class{constructor(t={}){de(this,ct);de(this,Ys);de(this,Xs);de(this,ba);de(this,wa);de(this,Js);de(this,Sa);de(this,Ca);ne(this,ct,t.queryCache||new ND),ne(this,Ys,t.mutationCache||new CD),ne(this,Xs,t.defaultOptions||{}),ne(this,ba,new Map),ne(this,wa,new Map),ne(this,Js,0)}mount(){Zc(this,Js)._++,P(this,Js)===1&&(ne(this,Sa,Px.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,ct).onFocus())})),ne(this,Ca,Td.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,ct).onOnline())})))}unmount(){var t,e;Zc(this,Js)._--,P(this,Js)===0&&((t=P(this,Sa))==null||t.call(this),ne(this,Sa,void 0),(e=P(this,Ca))==null||e.call(this),ne(this,Ca,void 0))}isFetching(t){return P(this,ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,Ys).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,ct).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=P(this,ct).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(di(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return P(this,ct).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=P(this,ct).get(r.queryHash),o=s==null?void 0:s.state.data,a=oD(e,o);if(a!==void 0)return P(this,ct).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Nt.batch(()=>P(this,ct).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,ct).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=P(this,ct);Nt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,ct);return Nt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Nt.batch(()=>P(this,ct).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(an).catch(an)}invalidateQueries(t,e={}){return Nt.batch(()=>(P(this,ct).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Nt.batch(()=>P(this,ct).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(an)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(an)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=P(this,ct).build(this,e);return n.isStaleByTime(di(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(an).catch(an)}fetchInfiniteQuery(t){return t.behavior=Rb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(an).catch(an)}ensureInfiniteQueryData(t){return t.behavior=Rb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Td.isOnline()?P(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,ct)}getMutationCache(){return P(this,Ys)}getDefaultOptions(){return P(this,Xs)}setDefaultOptions(t){ne(this,Xs,t)}setQueryDefaults(t,e){P(this,ba).set(so(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,ba).values()],n={};return e.forEach(r=>{pc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){P(this,wa).set(so(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,wa).values()],n={};return e.forEach(r=>{pc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,Xs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Rx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,Xs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,ct).clear(),P(this,Ys).clear()}},ct=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,ba=new WeakMap,wa=new WeakMap,Js=new WeakMap,Sa=new WeakMap,Ca=new WeakMap,tS),Oj=h.createContext(void 0),_t=t=>{const e=h.useContext(Oj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_D=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(Oj.Provider,{value:t,children:e})),Lj=h.createContext(!1),AD=()=>h.useContext(Lj);Lj.Provider;function kD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var RD=h.createContext(kD()),TD=()=>h.useContext(RD),DD=(t,e,n)=>{const r=n!=null&&n.state.error&&typeof t.throwOnError=="function"?Dx(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},PD=t=>{h.useEffect(()=>{t.clearReset()},[t])},OD=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Dx(n,[t.error,r])),LD=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},MD=(t,e)=>t.isLoading&&t.isFetching&&!e,ID=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Db=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function FD(t,e,n){var g,w,y,p;const r=AD(),s=TD(),o=_t(),a=o.defaultQueryOptions(t);(w=(g=o.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||w.call(g,a);const l=o.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",LD(a),DD(a,s,l),PD(s);const c=!o.getQueryCache().get(a.queryHash),[u]=h.useState(()=>new e(o,a)),d=u.getOptimisticResult(a),f=!r&&t.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(b=>{const x=f?u.subscribe(Nt.batchCalls(b)):an;return u.updateResult(),x},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),h.useEffect(()=>{u.setOptions(a)},[a,u]),ID(a,d))throw Db(a,u,s);if(OD({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:l,suspense:a.suspense}))throw d.error;if((p=(y=o.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||p.call(y,a,d),a.experimental_prefetchInRender&&!ro&&MD(d,r)){const b=c?Db(a,u,s):l==null?void 0:l.promise;b==null||b.catch(an).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function Xe(t,e){return FD(t,vD)}function xe(t,e){const n=_t(),[r]=h.useState(()=>new jD(n,t));h.useEffect(()=>{r.setOptions(t)},[r,t]);const s=h.useSyncExternalStore(h.useCallback(a=>r.subscribe(Nt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=h.useCallback((a,l)=>{r.mutate(a,l).catch(an)},[r]);if(s.error&&Dx(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const BD={},Pb=t=>{let e;const n=new Set,r=(d,f)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const w=e;e=f??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(y=>y(e,w))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(BD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,c);return c},$D=t=>t?Pb(t):Pb;var Mj={exports:{}},Ij={},Fj={exports:{}},Bj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=h;function UD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zD=typeof Object.is=="function"?Object.is:UD,qD=Ta.useState,WD=Ta.useEffect,VD=Ta.useLayoutEffect,HD=Ta.useDebugValue;function KD(t,e){var n=e(),r=qD({inst:{value:n,getSnapshot:e}}),s=r[0].inst,o=r[1];return VD(function(){s.value=n,s.getSnapshot=e,Of(s)&&o({inst:s})},[t,n,e]),WD(function(){return Of(s)&&o({inst:s}),t(function(){Of(s)&&o({inst:s})})},[t]),HD(n),n}function Of(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zD(t,n)}catch{return!0}}function GD(t,e){return e()}var QD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GD:KD;Bj.useSyncExternalStore=Ta.useSyncExternalStore!==void 0?Ta.useSyncExternalStore:QD;Fj.exports=Bj;var YD=Fj.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=h,XD=YD;function JD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZD=typeof Object.is=="function"?Object.is:JD,eP=XD.useSyncExternalStore,tP=Sh.useRef,nP=Sh.useEffect,rP=Sh.useMemo,sP=Sh.useDebugValue;Ij.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var o=tP(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=rP(function(){function c(w){if(!u){if(u=!0,d=w,w=r(w),s!==void 0&&a.hasValue){var y=a.value;if(s(y,w))return f=y}return f=w}if(y=f,ZD(d,w))return y;var p=r(w);return s!==void 0&&s(y,p)?(d=w,y):(d=w,f=p)}var u=!1,d,f,g=n===void 0?null:n;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,n,r,s]);var l=eP(t,o[0],o[1]);return nP(function(){a.hasValue=!0,a.value=l},[l]),sP(l),l};Mj.exports=Ij;var iP=Mj.exports;const oP=Rg(iP),$j={},{useDebugValue:aP}=Te,{useSyncExternalStoreWithSelector:lP}=oP;let Ob=!1;const cP=t=>t;function uP(t,e=cP,n){($j?"production":void 0)!=="production"&&n&&!Ob&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ob=!0);const r=lP(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return aP(r),r}const dP=t=>{($j?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?$D(t):t,n=(r,s)=>uP(e,r,s);return Object.assign(n,e),n},hP=t=>dP,fP={};function Uj(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,void 0),l=(o=n.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const gc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return gc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return gc(r)(n)}}}},mP=(t,e)=>(n,r,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,x)=>({...x,...b}),...e},a=!1;const l=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...b)},r,s);const d=gc(o.serialize),f=()=>{const b=o.partialize({...r()});let x;const m=d({state:b,version:o.version}).then(v=>u.setItem(o.name,v)).catch(v=>{x=v});if(x)throw x;return m},g=s.setState;s.setState=(b,x)=>{g(b,x),f()};const w=t((...b)=>{n(...b),f()},r,s);let y;const p=()=>{var b;if(!u)return;a=!1,l.forEach(m=>m(r()));const x=((b=o.onRehydrateStorage)==null?void 0:b.call(o,r()))||void 0;return gc(u.getItem.bind(u))(o.name).then(m=>{if(m)return o.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==o.version){if(o.migrate)return o.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var v;return y=o.merge(m,(v=r())!=null?v:w),n(y,!0),f()}).then(()=>{x==null||x(y,void 0),a=!0,c.forEach(m=>m(y))}).catch(m=>{x==null||x(void 0,m)})};return s.persist={setOptions:b=>{o={...o,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},p(),y||w},pP=(t,e)=>(n,r,s)=>{let o={storage:Uj(()=>localStorage),partialize:p=>p,version:0,merge:(p,b)=>({...b,...p}),...e},a=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,s);const d=()=>{const p=o.partialize({...r()});return u.setItem(o.name,{state:p,version:o.version})},f=s.setState;s.setState=(p,b)=>{f(p,b),d()};const g=t((...p)=>{n(...p),d()},r,s);s.getInitialState=()=>g;let w;const y=()=>{var p,b;if(!u)return;a=!1,l.forEach(m=>{var v;return m((v=r())!=null?v:g)});const x=((b=o.onRehydrateStorage)==null?void 0:b.call(o,(p=r())!=null?p:g))||void 0;return gc(u.getItem.bind(u))(o.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==o.version){if(o.migrate)return[!0,o.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var v;const[S,j]=m;if(w=o.merge(j,(v=r())!=null?v:g),n(w,!0),S)return d()}).then(()=>{x==null||x(w,void 0),w=r(),a=!0,c.forEach(m=>m(w))}).catch(m=>{x==null||x(void 0,m)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||y(),w||g},gP=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((fP?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),mP(t,e)):pP(t,e),xP=gP,xc=hP()(xP(t=>({user:null,token:null,expiresAt:null,isAuthenticated:!1,login:(e,n,r=3600)=>{const s=Date.now()+r*1e3;sessionStorage.setItem("auth_token",n),sessionStorage.setItem("auth_expires_at",s.toString()),t({user:e,token:n,expiresAt:s,isAuthenticated:!0})},refreshSession:e=>{e&&t(n=>!n.token||n.expiresAt===e?n:(sessionStorage.setItem("auth_expires_at",e.toString()),{expiresAt:e}))},logout:()=>{sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_expires_at"),t({user:null,token:null,expiresAt:null,isAuthenticated:!1})}}),{name:"auth-storage",storage:Uj(()=>sessionStorage),partialize:t=>({user:t.user,token:t.token,expiresAt:t.expiresAt,isAuthenticated:t.isAuthenticated})}));function zj(t,e){return function(){return t.apply(e,arguments)}}const{toString:vP}=Object.prototype,{getPrototypeOf:Lx}=Object,{iterator:Ch,toStringTag:qj}=Symbol,jh=(t=>e=>{const n=vP.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Er=t=>(t=t.toLowerCase(),e=>jh(e)===t),Nh=t=>e=>typeof e===t,{isArray:qa}=Array,Da=Nh("undefined");function Bc(t){return t!==null&&!Da(t)&&t.constructor!==null&&!Da(t.constructor)&&Nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Wj=Er("ArrayBuffer");function yP(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Wj(t.buffer),e}const bP=Nh("string"),Nn=Nh("function"),Vj=Nh("number"),$c=t=>t!==null&&typeof t=="object",wP=t=>t===!0||t===!1,Hu=t=>{if(jh(t)!=="object")return!1;const e=Lx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(qj in t)&&!(Ch in t)},SP=t=>{if(!$c(t)||Bc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},CP=Er("Date"),jP=Er("File"),NP=Er("Blob"),EP=Er("FileList"),_P=t=>$c(t)&&Nn(t.pipe),AP=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Nn(t.append)&&((e=jh(t))==="formdata"||e==="object"&&Nn(t.toString)&&t.toString()==="[object FormData]"))},kP=Er("URLSearchParams"),[RP,TP,DP,PP]=["ReadableStream","Request","Response","Headers"].map(Er),OP=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),qa(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(Bc(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let l;for(r=0;r<a;r++)l=o[r],e.call(null,t[l],l,t)}}function Hj(t,e){if(Bc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Kj=t=>!Da(t)&&t!==Mi;function Bp(){const{caseless:t,skipUndefined:e}=Kj(this)&&this||{},n={},r=(s,o)=>{const a=t&&Hj(n,o)||o;Hu(n[a])&&Hu(s)?n[a]=Bp(n[a],s):Hu(s)?n[a]=Bp({},s):qa(s)?n[a]=s.slice():(!e||!Da(s))&&(n[a]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Uc(arguments[s],r);return n}const LP=(t,e,n,{allOwnKeys:r}={})=>(Uc(e,(s,o)=>{n&&Nn(s)?t[o]=zj(s,n):t[o]=s},{allOwnKeys:r}),t),MP=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),IP=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},FP=(t,e,n,r)=>{let s,o,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)a=s[o],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&Lx(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},BP=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},$P=t=>{if(!t)return null;if(qa(t))return t;let e=t.length;if(!Vj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},UP=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lx(Uint8Array)),zP=(t,e)=>{const r=(t&&t[Ch]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},qP=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},WP=Er("HTMLFormElement"),VP=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Lb=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),HP=Er("RegExp"),Gj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Uc(n,(s,o)=>{let a;(a=e(s,o,t))!==!1&&(r[o]=a||s)}),Object.defineProperties(t,r)},KP=t=>{Gj(t,(e,n)=>{if(Nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Nn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GP=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return qa(t)?r(t):r(String(t).split(e)),n},QP=()=>{},YP=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function XP(t){return!!(t&&Nn(t.append)&&t[qj]==="FormData"&&t[Ch])}const JP=t=>{const e=new Array(10),n=(r,s)=>{if($c(r)){if(e.indexOf(r)>=0)return;if(Bc(r))return r;if(!("toJSON"in r)){e[s]=r;const o=qa(r)?[]:{};return Uc(r,(a,l)=>{const c=n(a,s+1);!Da(c)&&(o[l]=c)}),e[s]=void 0,o}}return r};return n(t,0)},ZP=Er("AsyncFunction"),eO=t=>t&&($c(t)||Nn(t))&&Nn(t.then)&&Nn(t.catch),Qj=((t,e)=>t?setImmediate:e?((n,r)=>(Mi.addEventListener("message",({source:s,data:o})=>{s===Mi&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Mi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nn(Mi.postMessage)),tO=typeof queueMicrotask<"u"?queueMicrotask.bind(Mi):typeof process<"u"&&process.nextTick||Qj,nO=t=>t!=null&&Nn(t[Ch]),B={isArray:qa,isArrayBuffer:Wj,isBuffer:Bc,isFormData:AP,isArrayBufferView:yP,isString:bP,isNumber:Vj,isBoolean:wP,isObject:$c,isPlainObject:Hu,isEmptyObject:SP,isReadableStream:RP,isRequest:TP,isResponse:DP,isHeaders:PP,isUndefined:Da,isDate:CP,isFile:jP,isBlob:NP,isRegExp:HP,isFunction:Nn,isStream:_P,isURLSearchParams:kP,isTypedArray:UP,isFileList:EP,forEach:Uc,merge:Bp,extend:LP,trim:OP,stripBOM:MP,inherits:IP,toFlatObject:FP,kindOf:jh,kindOfTest:Er,endsWith:BP,toArray:$P,forEachEntry:zP,matchAll:qP,isHTMLForm:WP,hasOwnProperty:Lb,hasOwnProp:Lb,reduceDescriptors:Gj,freezeMethods:KP,toObjectSet:GP,toCamelCase:VP,noop:QP,toFiniteNumber:YP,findKey:Hj,global:Mi,isContextDefined:Kj,isSpecCompliantForm:XP,toJSONObject:JP,isAsyncFn:ZP,isThenable:eO,setImmediate:Qj,asap:tO,isIterable:nO};function we(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}B.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const Yj=we.prototype,Xj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Xj[t]={value:t}});Object.defineProperties(we,Xj);Object.defineProperty(Yj,"isAxiosError",{value:!0});we.from=(t,e,n,r,s,o)=>{const a=Object.create(Yj);B.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return we.call(a,l,c,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",o&&Object.assign(a,o),a};const rO=null;function $p(t){return B.isPlainObject(t)||B.isArray(t)}function Jj(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function Mb(t,e,n){return t?t.concat(e).map(function(s,o){return s=Jj(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function sO(t){return B.isArray(t)&&!t.some($p)}const iO=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Eh(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,b){return!B.isUndefined(b[p])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(B.isDate(y))return y.toISOString();if(B.isBoolean(y))return y.toString();if(!c&&B.isBlob(y))throw new we("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(y)||B.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,p,b){let x=y;if(y&&!b&&typeof y=="object"){if(B.endsWith(p,"{}"))p=r?p:p.slice(0,-2),y=JSON.stringify(y);else if(B.isArray(y)&&sO(y)||(B.isFileList(y)||B.endsWith(p,"[]"))&&(x=B.toArray(y)))return p=Jj(p),x.forEach(function(v,S){!(B.isUndefined(v)||v===null)&&e.append(a===!0?Mb([p],S,o):a===null?p:p+"[]",u(v))}),!1}return $p(y)?!0:(e.append(Mb(b,p,o),u(y)),!1)}const f=[],g=Object.assign(iO,{defaultVisitor:d,convertValue:u,isVisitable:$p});function w(y,p){if(!B.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(y),B.forEach(y,function(x,m){(!(B.isUndefined(x)||x===null)&&s.call(e,x,B.isString(m)?m.trim():m,p,g))===!0&&w(x,p?p.concat(m):[m])}),f.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return w(t),e}function Ib(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Mx(t,e){this._pairs=[],t&&Eh(t,this,e)}const Zj=Mx.prototype;Zj.append=function(e,n){this._pairs.push([e,n])};Zj.toString=function(e){const n=e?function(r){return e.call(this,r,Ib)}:Ib;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function oO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function eN(t,e,n){if(!e)return t;const r=n&&n.encode||oO;B.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=B.isURLSearchParams(e)?e.toString():new Mx(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Fb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(r){r!==null&&e(r)})}}const tN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aO=typeof URLSearchParams<"u"?URLSearchParams:Mx,lO=typeof FormData<"u"?FormData:null,cO=typeof Blob<"u"?Blob:null,uO={isBrowser:!0,classes:{URLSearchParams:aO,FormData:lO,Blob:cO},protocols:["http","https","file","blob","url","data"]},Ix=typeof window<"u"&&typeof document<"u",Up=typeof navigator=="object"&&navigator||void 0,dO=Ix&&(!Up||["ReactNative","NativeScript","NS"].indexOf(Up.product)<0),hO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fO=Ix&&window.location.href||"http://localhost",mO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ix,hasStandardBrowserEnv:dO,hasStandardBrowserWebWorkerEnv:hO,navigator:Up,origin:fO},Symbol.toStringTag,{value:"Module"})),Gt={...mO,...uO};function pO(t,e){return Eh(t,new Gt.classes.URLSearchParams,{visitor:function(n,r,s,o){return Gt.isNode&&B.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function gO(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xO(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function nN(t){function e(n,r,s,o){let a=n[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=o>=n.length;return a=!a&&B.isArray(s)?s.length:a,c?(B.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!B.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],o)&&B.isArray(s[a])&&(s[a]=xO(s[a])),!l)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(r,s)=>{e(gO(r),s,n,0)}),n}return null}function vO(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const zc={transitional:tN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=B.isObject(e);if(o&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return s?JSON.stringify(nN(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pO(e,this.formSerializer).toString();if((l=B.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Eh(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),vO(e)):e}],transformResponse:[function(e){const n=this.transitional||zc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?we.from(l,we.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gt.classes.FormData,Blob:Gt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{zc.headers[t]={}});const yO=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bO=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&yO[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Bb=Symbol("internals");function hl(t){return t&&String(t).trim().toLowerCase()}function Ku(t){return t===!1||t==null?t:B.isArray(t)?t.map(Ku):String(t)}function wO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const SO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lf(t,e,n,r,s){if(B.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!B.isString(e)){if(B.isString(r))return e.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(e)}}function CO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function jO(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,a){return this[r].call(this,e,s,o,a)},configurable:!0})})}let En=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(l,c,u){const d=hl(c);if(!d)throw new Error("header name must be a non-empty string");const f=B.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Ku(l))}const a=(l,c)=>B.forEach(l,(u,d)=>o(u,d,c));if(B.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(B.isString(e)&&(e=e.trim())&&!SO(e))a(bO(e),n);else if(B.isObject(e)&&B.isIterable(e)){let l={},c,u;for(const d of e){if(!B.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?B.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=hl(e),e){const r=B.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return wO(s);if(B.isFunction(n))return n.call(this,s,r);if(B.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hl(e),e){const r=B.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Lf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(a){if(a=hl(a),a){const l=B.findKey(r,a);l&&(!n||Lf(r,r[l],l,n))&&(delete r[l],s=!0)}}return B.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||Lf(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return B.forEach(this,(s,o)=>{const a=B.findKey(r,o);if(a){n[a]=Ku(s),delete n[o];return}const l=e?CO(o):String(o).trim();l!==o&&delete n[o],n[l]=Ku(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&B.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Bb]=this[Bb]={accessors:{}}).accessors,s=this.prototype;function o(a){const l=hl(a);r[l]||(jO(s,a),r[l]=!0)}return B.isArray(e)?e.forEach(o):o(e),this}};En.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(En.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});B.freezeMethods(En);function Mf(t,e){const n=this||zc,r=e||n,s=En.from(r.headers);let o=r.data;return B.forEach(t,function(l){o=l.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function rN(t){return!!(t&&t.__CANCEL__)}function Wa(t,e,n){we.call(this,t??"canceled",we.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(Wa,we,{__CANCEL__:!0});function sN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function EO(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[o];a||(a=u),n[s]=c,r[s]=u;let f=o,g=0;for(;f!==s;)g+=n[f++],f=f%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),u-a<e)return;const w=d&&u-d;return w?Math.round(g*1e3/w):void 0}}function _O(t,e){let n=0,r=1e3/e,s,o;const a=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(s=u,o||(o=setTimeout(()=>{o=null,a(s)},r-f)))},()=>s&&a(s)]}const Dd=(t,e,n=3)=>{let r=0;const s=EO(50,250);return _O(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},$b=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Ub=t=>(...e)=>B.asap(()=>t(...e)),AO=Gt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Gt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Gt.origin),Gt.navigator&&/(msie|trident)/i.test(Gt.navigator.userAgent)):()=>!0,kO=Gt.hasStandardBrowserEnv?{write(t,e,n,r,s,o,a){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];B.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),B.isString(r)&&l.push(`path=${r}`),B.isString(s)&&l.push(`domain=${s}`),o===!0&&l.push("secure"),B.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function RO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function TO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function iN(t,e,n){let r=!RO(e);return t&&(r||n==!1)?TO(t,e):e}const zb=t=>t instanceof En?{...t}:t;function io(t,e){e=e||{};const n={};function r(u,d,f,g){return B.isPlainObject(u)&&B.isPlainObject(d)?B.merge.call({caseless:g},u,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function s(u,d,f,g){if(B.isUndefined(d)){if(!B.isUndefined(u))return r(void 0,u,f,g)}else return r(u,d,f,g)}function o(u,d){if(!B.isUndefined(d))return r(void 0,d)}function a(u,d){if(B.isUndefined(d)){if(!B.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(zb(u),zb(d),f,!0)};return B.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||s,g=f(t[d],e[d],d);B.isUndefined(g)&&f!==l||(n[d]=g)}),n}const oN=t=>{const e=io({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=e;if(e.headers=a=En.from(a),e.url=eN(iN(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),B.isFormData(n)){if(Gt.hasStandardBrowserEnv||Gt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(B.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Gt.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(e)),r||r!==!1&&AO(e.url))){const c=s&&o&&kO.read(o);c&&a.set(s,c)}return e},DO=typeof XMLHttpRequest<"u",PO=DO&&function(t){return new Promise(function(n,r){const s=oN(t);let o=s.data;const a=En.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,g,w,y;function p(){w&&w(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function x(){if(!b)return;const v=En.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:t,request:b};sN(function(C){n(C),p()},function(C){r(C),p()},j),b=null}"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(x)},b.onabort=function(){b&&(r(new we("Request aborted",we.ECONNABORTED,t,b)),b=null)},b.onerror=function(S){const j=S&&S.message?S.message:"Network Error",E=new we(j,we.ERR_NETWORK,t,b);E.event=S||null,r(E),b=null},b.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||tN;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new we(S,j.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,b)),b=null},o===void 0&&a.setContentType(null),"setRequestHeader"in b&&B.forEach(a.toJSON(),function(S,j){b.setRequestHeader(j,S)}),B.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),u&&([g,y]=Dd(u,!0),b.addEventListener("progress",g)),c&&b.upload&&([f,w]=Dd(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(d=v=>{b&&(r(!v||v.type?new Wa(null,t,b):v),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const m=NO(s.url);if(m&&Gt.protocols.indexOf(m)===-1){r(new we("Unsupported protocol "+m+":",we.ERR_BAD_REQUEST,t));return}b.send(o||null)})},OO=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof we?d:new Wa(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,o(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>B.asap(l),c}},LO=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},MO=async function*(t,e){for await(const n of IO(t))yield*LO(n,e)},IO=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},qb=(t,e,n,r)=>{const s=MO(t,e);let o=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let g=o+=f;n(g)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Wb=64*1024,{isFunction:vu}=B,FO=(({Request:t,Response:e})=>({Request:t,Response:e}))(B.global),{ReadableStream:Vb,TextEncoder:Hb}=B.global,Kb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},BO=t=>{t=B.merge.call({skipUndefined:!0},FO,t);const{fetch:e,Request:n,Response:r}=t,s=e?vu(e):typeof fetch=="function",o=vu(n),a=vu(r);if(!s)return!1;const l=s&&vu(Vb),c=s&&(typeof Hb=="function"?(y=>p=>y.encode(p))(new Hb):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=o&&l&&Kb(()=>{let y=!1;const p=new n(Gt.origin,{body:new Vb,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!p}),d=a&&l&&Kb(()=>B.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(p,b)=>{let x=p&&p[y];if(x)return x.call(p);throw new we(`Response type '${y}' is not supported`,we.ERR_NOT_SUPPORT,b)})});const g=async y=>{if(y==null)return 0;if(B.isBlob(y))return y.size;if(B.isSpecCompliantForm(y))return(await new n(Gt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(B.isArrayBufferView(y)||B.isArrayBuffer(y))return y.byteLength;if(B.isURLSearchParams(y)&&(y=y+""),B.isString(y))return(await c(y)).byteLength},w=async(y,p)=>{const b=B.toFiniteNumber(y.getContentLength());return b??g(p)};return async y=>{let{url:p,method:b,data:x,signal:m,cancelToken:v,timeout:S,onDownloadProgress:j,onUploadProgress:E,responseType:C,headers:N,withCredentials:R="same-origin",fetchOptions:k}=oN(y),_=e||fetch;C=C?(C+"").toLowerCase():"text";let D=OO([m,v&&v.toAbortSignal()],S),L=null;const q=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let I;try{if(E&&u&&b!=="get"&&b!=="head"&&(I=await w(N,x))!==0){let ee=new n(p,{method:"POST",body:x,duplex:"half"}),Z;if(B.isFormData(x)&&(Z=ee.headers.get("content-type"))&&N.setContentType(Z),ee.body){const[ve,ue]=$b(I,Dd(Ub(E)));x=qb(ee.body,Wb,ve,ue)}}B.isString(R)||(R=R?"include":"omit");const F=o&&"credentials"in n.prototype,$={...k,signal:D,method:b.toUpperCase(),headers:N.normalize().toJSON(),body:x,duplex:"half",credentials:F?R:void 0};L=o&&new n(p,$);let M=await(o?_(L,k):_(p,$));const U=d&&(C==="stream"||C==="response");if(d&&(j||U&&q)){const ee={};["status","statusText","headers"].forEach(Be=>{ee[Be]=M[Be]});const Z=B.toFiniteNumber(M.headers.get("content-length")),[ve,ue]=j&&$b(Z,Dd(Ub(j),!0))||[];M=new r(qb(M.body,Wb,ve,()=>{ue&&ue(),q&&q()}),ee)}C=C||"text";let Y=await f[B.findKey(f,C)||"text"](M,y);return!U&&q&&q(),await new Promise((ee,Z)=>{sN(ee,Z,{data:Y,headers:En.from(M.headers),status:M.status,statusText:M.statusText,config:y,request:L})})}catch(F){throw q&&q(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,y,L),{cause:F.cause||F}):we.from(F,F&&F.code,y,L)}}},$O=new Map,aN=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:s}=e,o=[r,s,n];let a=o.length,l=a,c,u,d=$O;for(;l--;)c=o[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:BO(e)),d=u;return u};aN();const Fx={http:rO,xhr:PO,fetch:{get:aN}};B.forEach(Fx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Gb=t=>`- ${t}`,UO=t=>B.isFunction(t)||t===null||t===!1;function zO(t,e){t=B.isArray(t)?t:[t];const{length:n}=t;let r,s;const o={};for(let a=0;a<n;a++){r=t[a];let l;if(s=r,!UO(r)&&(s=Fx[(l=String(r)).toLowerCase()],s===void 0))throw new we(`Unknown adapter '${l}'`);if(s&&(B.isFunction(s)||(s=s.get(e))))break;o[l||"#"+a]=s}if(!s){const a=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(Gb).join(`
`):" "+Gb(a[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const lN={getAdapter:zO,adapters:Fx};function If(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wa(null,t)}function Qb(t){return If(t),t.headers=En.from(t.headers),t.data=Mf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lN.getAdapter(t.adapter||zc.adapter,t)(t).then(function(r){return If(t),r.data=Mf.call(t,t.transformResponse,r),r.headers=En.from(r.headers),r},function(r){return rN(r)||(If(t),r&&r.response&&(r.response.data=Mf.call(t,t.transformResponse,r.response),r.response.headers=En.from(r.response.headers))),Promise.reject(r)})}const cN="1.13.2",_h={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_h[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Yb={};_h.transitional=function(e,n,r){function s(o,a){return"[Axios v"+cN+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,l)=>{if(e===!1)throw new we(s(a," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!Yb[a]&&(Yb[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,l):!0}};_h.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function qO(t,e,n){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],a=e[o];if(a){const l=t[o],c=l===void 0||a(l,o,t);if(c!==!0)throw new we("option "+o+" must be "+c,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+o,we.ERR_BAD_OPTION)}}const Gu={assertOptions:qO,validators:_h},Pr=Gu.validators;let Qi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Fb,response:new Fb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=io(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Gu.assertOptions(r,{silentJSONParsing:Pr.transitional(Pr.boolean),forcedJSONParsing:Pr.transitional(Pr.boolean),clarifyTimeoutError:Pr.transitional(Pr.boolean)},!1),s!=null&&(B.isFunction(s)?n.paramsSerializer={serialize:s}:Gu.assertOptions(s,{encode:Pr.function,serialize:Pr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Gu.assertOptions(n,{baseUrl:Pr.spelling("baseURL"),withXsrfToken:Pr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&B.merge(o.common,o[n.method]);o&&B.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),n.headers=En.concat(a,o);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,g;if(!c){const y=[Qb.bind(this),void 0];for(y.unshift(...l),y.push(...u),g=y.length,d=Promise.resolve(n);f<g;)d=d.then(y[f++],y[f++]);return d}g=l.length;let w=n;for(;f<g;){const y=l[f++],p=l[f++];try{w=y(w)}catch(b){p.call(this,b);break}}try{d=Qb.call(this,w)}catch(y){return Promise.reject(y)}for(f=0,g=u.length;f<g;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=io(this.defaults,e);const n=iN(e.baseURL,e.url,e.allowAbsoluteUrls);return eN(n,e.params,e.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(e){Qi.prototype[e]=function(n,r){return this.request(io(r||{},{method:e,url:n,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,l){return this.request(io(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Qi.prototype[e]=n(),Qi.prototype[e+"Form"]=n(!0)});let WO=class uN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(l=>{r.subscribe(l),o=l}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,l){r.reason||(r.reason=new Wa(o,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new uN(function(s){e=s}),cancel:e}}};function VO(t){return function(n){return t.apply(null,n)}}function HO(t){return B.isObject(t)&&t.isAxiosError===!0}const zp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zp).forEach(([t,e])=>{zp[e]=t});function dN(t){const e=new Qi(t),n=zj(Qi.prototype.request,e);return B.extend(n,Qi.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return dN(io(t,s))},n}const gt=dN(zc);gt.Axios=Qi;gt.CanceledError=Wa;gt.CancelToken=WO;gt.isCancel=rN;gt.VERSION=cN;gt.toFormData=Eh;gt.AxiosError=we;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=VO;gt.isAxiosError=HO;gt.mergeConfig=io;gt.AxiosHeaders=En;gt.formToJSON=t=>nN(B.isHTMLForm(t)?new FormData(t):t);gt.getAdapter=lN.getAdapter;gt.HttpStatusCode=zp;gt.default=gt;const{Axios:aq,AxiosError:lq,CanceledError:cq,isCancel:uq,CancelToken:dq,VERSION:hq,all:fq,Cancel:mq,isAxiosError:pq,spread:gq,toFormData:xq,AxiosHeaders:vq,HttpStatusCode:yq,formToJSON:bq,getAdapter:wq,mergeConfig:Sq}=gt,KO="/api",V=gt.create({baseURL:KO,headers:{"Content-Type":"application/json"}});V.interceptors.request.use(t=>{const e=sessionStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});V.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(xc.getState().logout(),window.location.href="/login"),Promise.reject(t)});function Xb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Va(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Xb(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Xb(t[s],null)}}}}function qe(...t){return h.useCallback(Va(...t),t)}var GO=Symbol.for("react.lazy"),Pd=ih[" use ".trim().toString()];function QO(t){return typeof t=="object"&&t!==null&&"then"in t}function hN(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===GO&&"_payload"in t&&QO(t._payload)}function Bx(t){const e=XO(t),n=h.forwardRef((r,s)=>{let{children:o,...a}=r;hN(o)&&typeof Pd=="function"&&(o=Pd(o._payload));const l=h.Children.toArray(o),c=l.find(ZO);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var YO=Bx("Slot");function XO(t){const e=h.forwardRef((n,r)=>{let{children:s,...o}=n;if(hN(s)&&typeof Pd=="function"&&(s=Pd(s._payload)),h.isValidElement(s)){const a=tL(s),l=eL(o,s.props);return s.type!==h.Fragment&&(l.ref=r?Va(r,a):a),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var JO=Symbol("radix.slottable");function ZO(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===JO}function eL(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function tL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fN(t))&&(r&&(r+=" "),r+=e);return r}const Jb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zb=mN,Ah=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Zb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const g=Jb(d)||Jb(f);return s[u][g]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:g,...w}=d;return Object.entries(w).every(y=>{let[p,b]=y;return Array.isArray(b)?b.includes({...o,...l}[p]):{...o,...l}[p]===b})?[...u,f,g]:u},[]);return Zb(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},$x="-",nL=t=>{const e=sL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split($x);return l[0]===""&&l.length!==1&&l.shift(),pN(l,e)||rL(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},pN=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?pN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join($x);return(a=e.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},e0=/^\[(.+)\]$/,rL=t=>{if(e0.test(t)){const e=e0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return oL(Object.entries(t.classGroups),n).forEach(([o,a])=>{qp(a,r,o,e)}),r},qp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:t0(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(iL(s)){qp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{qp(a,t0(e,o),n,r)})})},t0=(t,e)=>{let n=t;return e.split($x).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iL=t=>t.isThemeGetter,oL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[e+a,l])):o);return[n,s]}):t,aL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},gN="!",lL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,a=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===s&&(r||l.slice(b,b+o)===e)){c.push(l.slice(d,b)),d=b+o;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const g=c.length===0?l:l.substring(d),w=g.startsWith(gN),y=w?g.substring(1):g,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:a}):a},cL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},uL=t=>({cache:aL(t.cacheSize),parseClassName:lL(t),...nL(t)}),dL=/\s+/,hL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],a=t.trim().split(dL);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:w}=n(u);let y=!!w,p=r(y?g.substring(0,w):g);if(!p){if(!y){l=u+(l.length>0?" "+l:l);continue}if(p=r(g),!p){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=cL(d).join(":"),x=f?b+gN:b,m=x+p;if(o.includes(m))continue;o.push(m);const v=s(p,y);for(let S=0;S<v.length;++S){const j=v[S];o.push(x+j)}l=u+(l.length>0?" "+l:l)}return l};function fL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xN(e))&&(r&&(r+=" "),r+=n);return r}const xN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xN(t[r]))&&(n&&(n+=" "),n+=e);return n};function mL(t,...e){let n,r,s,o=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=uL(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=hL(c,n);return s(c,d),d}return function(){return o(fL.apply(null,arguments))}}const Je=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vN=/^\[(?:([a-z-]+):)?(.+)\]$/i,pL=/^\d+\/\d+$/,gL=new Set(["px","full","screen"]),xL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ts=t=>na(t)||gL.has(t)||pL.test(t),Rs=t=>Ha(t,"length",kL),na=t=>!!t&&!Number.isNaN(Number(t)),Ff=t=>Ha(t,"number",na),fl=t=>!!t&&Number.isInteger(Number(t)),SL=t=>t.endsWith("%")&&na(t.slice(0,-1)),Ce=t=>vN.test(t),Ts=t=>xL.test(t),CL=new Set(["length","size","percentage"]),jL=t=>Ha(t,CL,yN),NL=t=>Ha(t,"position",yN),EL=new Set(["image","url"]),_L=t=>Ha(t,EL,TL),AL=t=>Ha(t,"",RL),ml=()=>!0,Ha=(t,e,n)=>{const r=vN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},kL=t=>vL.test(t)&&!yL.test(t),yN=()=>!1,RL=t=>bL.test(t),TL=t=>wL.test(t),DL=()=>{const t=Je("colors"),e=Je("spacing"),n=Je("blur"),r=Je("brightness"),s=Je("borderColor"),o=Je("borderRadius"),a=Je("borderSpacing"),l=Je("borderWidth"),c=Je("contrast"),u=Je("grayscale"),d=Je("hueRotate"),f=Je("invert"),g=Je("gap"),w=Je("gradientColorStops"),y=Je("gradientColorStopPositions"),p=Je("inset"),b=Je("margin"),x=Je("opacity"),m=Je("padding"),v=Je("saturate"),S=Je("scale"),j=Je("sepia"),E=Je("skew"),C=Je("space"),N=Je("translate"),R=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Ce,e],D=()=>[Ce,e],L=()=>["",ts,Rs],q=()=>["auto",na,Ce],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ce],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[na,Ce];return{cacheSize:500,separator:":",theme:{colors:[ml],spacing:[ts,Rs],blur:["none","",Ts,Ce],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Ts,Ce],borderSpacing:D(),borderWidth:L(),contrast:ee(),grayscale:U(),hueRotate:ee(),invert:U(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[SL,Rs],inset:_(),margin:_(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:U(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Ts]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ce]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fl,Ce]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",fl,Ce]}],"grid-cols":[{"grid-cols":[ml]}],"col-start-end":[{col:["auto",{span:["full",fl,Ce]},Ce]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[ml]}],"row-start-end":[{row:["auto",{span:[fl,Ce]},Ce]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[Ts]},Ts]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ts,Rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ff]}],"font-family":[{font:[ml]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",na,Ff]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ts,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ts,Rs]}],"underline-offset":[{"underline-offset":["auto",ts,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),NL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_L]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[ts,Ce]}],"outline-w":[{outline:[ts,Rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ts,Rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ts,AL]}],"shadow-color":[{shadow:[ml]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ts,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[fl,Ce]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ts,Rs,Ff]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PL=mL(DL);function fe(...t){return PL(mN(t))}const Ux=Ah("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const a=r?YO:"button";return i.jsx(a,{className:fe(Ux({variant:e,size:n,className:t})),ref:o,...s})});W.displayName="Button";const Q=h.forwardRef(({className:t,type:e,...n},r)=>i.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Q.displayName="Input";const he=h.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));he.displayName="Card";const Ye=h.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));Ye.displayName="CardHeader";const dt=h.forwardRef(({className:t,...e},n)=>i.jsx("h3",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));dt.displayName="CardTitle";const zx=h.forwardRef(({className:t,...e},n)=>i.jsx("p",{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));zx.displayName="CardDescription";const ge=h.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...e}));ge.displayName="CardContent";const OL=h.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...e}));OL.displayName="CardFooter";function LL(){const[t,e]=h.useState(""),[n,r]=h.useState(""),[s,o]=h.useState(""),[a,l]=h.useState(!1),c=Ot(),u=xc(f=>f.login),d=async f=>{var g,w;f.preventDefault(),o(""),l(!0);try{const y=await V.post("/auth/login",{email:t,password:n});if(y.data.success){const{token:p,user:b}=y.data.data,x=y.data.data.expires_in;u(b,p,x),V.post("/exchange-rate/refresh").catch(()=>{}),c("/")}else o(y.data.error||"Login failed")}catch(y){o(((w=(g=y.response)==null?void 0:g.data)==null?void 0:w.error)||"An error occurred")}finally{l(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:i.jsxs(he,{className:"w-full max-w-md",children:[i.jsxs(Ye,{className:"space-y-1",children:[i.jsx(dt,{className:"text-3xl font-bold text-center",children:"Dalila Admin"}),i.jsx(zx,{className:"text-center",children:"Sign in to access the property management system"})]}),i.jsx(ge,{children:i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s&&i.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:s}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),i.jsx(Q,{id:"email",type:"email",placeholder:"admin@dalila.com",value:t,onChange:f=>e(f.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),i.jsx(Q,{id:"password",type:"password",placeholder:"",value:n,onChange:f=>r(f.target.value),required:!0})]}),i.jsx(W,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"})]})})]})})}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ML={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=h.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>h.createElement("svg",{ref:d,...ML,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${IL(t)}`,l].join(" "),...u},[...e.map(([f,g])=>h.createElement(f,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=ce("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=ce("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ce("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=ce("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=ce("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=ce("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=ce("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ce("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=ce("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=ce("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ce("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=ce("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=ce("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ce("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=ce("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ce("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=ce("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ce("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function aM(){var d;const t=xc(f=>f.user),e=xc(f=>f.logout),n=Ot(),[r,s]=h.useState(!0),{data:o}=Xe({queryKey:["access-requests-count"],queryFn:async()=>(await V.get("/access-requests/unviewed-count")).data,refetchInterval:3e4}),a=((d=o==null?void 0:o.data)==null?void 0:d.count)||0,l=()=>{e(),n("/login")},c=[{name:"Properties",href:"/properties",icon:_N},{name:"Blogs",href:"/blogs",icon:bN},{name:"Videos",href:"/videos",icon:rM},{name:"Testimonials",href:"/testimonials",icon:RN},{name:"Landing Page",href:"/landing-pages",icon:Od},{name:"Cities",href:"/cities",icon:Od,nested:!0}],u=[{name:"TODO",href:"/todo",icon:KL},{name:"Access Requests",href:"/access-requests",icon:Kp,badge:a},{name:"Off Market Invites",href:"/off-market-invites",icon:Gp},{name:"Redirects",href:"/redirects",icon:JL},{name:"Exchange Rates",href:"/",icon:qL}];return i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsxs("aside",{className:`${r?"w-64":"w-20"} bg-white border-r border-gray-200 transition-all duration-300 flex flex-col`,children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r&&i.jsx("h1",{className:"text-xl font-bold text-primary",children:"Dalila Admin"}),i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>s(!r),children:i.jsx(YL,{className:"h-5 w-5"})})]}),i.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[c.map(f=>i.jsxs("button",{type:"button",onClick:()=>n(f.href),className:`w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-gray-900 hover:bg-gray-100 transition-colors ${f.nested?"pl-8 text-sm":""}`,children:[i.jsx(f.icon,{className:"h-5 w-5"}),r&&i.jsx("span",{children:f.name})]},f.name)),i.jsx("div",{className:"border-t border-gray-200 my-6 pt-2"}),u.map(f=>i.jsxs(cn,{to:f.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-900 hover:bg-gray-100 transition-colors relative",children:[i.jsxs("div",{className:"relative",children:[i.jsx(f.icon,{className:"h-5 w-5"}),"badge"in f&&f.badge>0&&i.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1 animate-pulse",children:f.badge>9?"9+":f.badge})]}),r&&i.jsx("span",{children:f.name})]},f.name))]}),i.jsxs("div",{className:"p-4 border-t border-gray-200",children:[i.jsx("div",{className:`${r?"flex items-center gap-3":"text-center"} mb-3`,children:r&&i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-sm font-medium",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),i.jsx("p",{className:"text-xs text-gray-500",children:t==null?void 0:t.email})]})}),i.jsxs(W,{variant:"outline",className:"w-full",onClick:l,children:[i.jsx(QL,{className:"h-4 w-4"}),r&&i.jsx("span",{className:"ml-2",children:"Logout"})]})]})]}),i.jsx("main",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"p-8",children:i.jsx(z2,{})})})]})}function r0({currencyTo:t="MXN",title:e}){const n=_t(),r=e||`USD to ${t}`,{data:s,isLoading:o}=Xe({queryKey:["exchange-rate-current",t],queryFn:async()=>{const d=await fetch(`/api/exchange-rate/current?currency_from=USD&currency_to=${t}`);if(!d.ok)throw new Error("Failed to fetch exchange rate");return d.json()},refetchInterval:6e4}),a=xe({mutationFn:async()=>{const d=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!d.ok)throw new Error("Failed to fetch external rates");const g=(await d.json()).rates[t];if(!g)throw new Error(`Rate not found for ${t}`);return(await V.post("/exchange-rate",{rate:g.toString(),date:new Date().toISOString().split("T")[0],currency_from:"USD",currency_to:t})).data},onSuccess:()=>{n.invalidateQueries({queryKey:["exchange-rate-current",t]}),alert("Exchange rate updated successfully from external API!")},onError:d=>{alert("Error fetching rate: "+d.message)}}),l=()=>{confirm(`Fetch the latest USD to ${t} exchange rate from external API?`)&&a.mutate()};if(o)return i.jsx(he,{children:i.jsx(ge,{className:"flex items-center justify-center py-8",children:i.jsx(vc,{className:"h-6 w-6 animate-spin text-muted-foreground"})})});const c=s==null?void 0:s.data,u=parseFloat((c==null?void 0:c.rate)||"0");return i.jsxs(he,{children:[i.jsxs(Ye,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tM,{className:"h-5 w-5 text-primary"}),i.jsx(dt,{children:r})]}),i.jsxs(zx,{children:["USD to ",t," conversion rate  Updated ",new Date((c==null?void 0:c.date)||"").toLocaleDateString()]})]}),i.jsx(ge,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("span",{className:"text-4xl font-bold",children:u.toFixed(2)}),i.jsx("span",{className:"text-muted-foreground",children:t})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["1 USD = ",u.toFixed(4)," ",t]}),i.jsx(W,{onClick:l,disabled:a.isPending,className:"w-full",variant:"default",children:a.isPending?i.jsxs(i.Fragment,{children:[i.jsx(vc,{className:"mr-2 h-4 w-4 animate-spin"}),"Fetching..."]}):i.jsxs(i.Fragment,{children:[i.jsx(sa,{className:"mr-2 h-4 w-4"}),"Update from DOF.gob.mx"]})}),i.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Automatically fetches the latest rate from external API"})]})})]})}function lM(){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's an overview of your system."})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[i.jsx(r0,{currencyTo:"MXN",title:"USD to MXN"}),i.jsx(r0,{currencyTo:"EUR",title:"USD to EUR"})]})]})}function cM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Rh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qa(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Hx(t){return"nodeType"in t}function _n(t){var e,n;return t?Qa(t)?t:Hx(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Kx(t){const{Document:e}=_n(t);return t instanceof e}function qc(t){return Qa(t)?!1:t instanceof _n(t).HTMLElement}function PN(t){return t instanceof _n(t).SVGElement}function Ya(t){return t?Qa(t)?t.document:Hx(t)?Kx(t)?t:qc(t)||PN(t)?t.ownerDocument:document:document:document}const Kr=Rh?h.useLayoutEffect:h.useEffect;function Gx(t){const e=h.useRef(t);return Kr(()=>{e.current=t}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function uM(){const t=h.useRef(null),e=h.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=h.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function yc(t,e){e===void 0&&(e=[t]);const n=h.useRef(t);return Kr(()=>{n.current!==t&&(n.current=t)},e),n}function Wc(t,e){const n=h.useRef();return h.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Ld(t){const e=Gx(t),n=h.useRef(null),r=h.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function Yp(t){const e=h.useRef();return h.useEffect(()=>{e.current=t},[t]),e.current}let Bf={};function Vc(t,e){return h.useMemo(()=>{if(e)return e;const n=Bf[t]==null?0:Bf[t]+1;return Bf[t]=n,t+"-"+n},[t,e])}function ON(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,a)=>{const l=Object.entries(a);for(const[c,u]of l){const d=o[c];d!=null&&(o[c]=d+t*u)}return o},{...e})}}const ia=ON(1),bc=ON(-1);function dM(t){return"clientX"in t&&"clientY"in t}function Qx(t){if(!t)return!1;const{KeyboardEvent:e}=_n(t.target);return e&&t instanceof e}function hM(t){if(!t)return!1;const{TouchEvent:e}=_n(t.target);return e&&t instanceof e}function Xp(t){if(hM(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return dM(t)?{x:t.clientX,y:t.clientY}:null}const oo=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[oo.Translate.toString(t),oo.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),s0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fM(t){return t.matches(s0)?t:t.querySelector(s0)}const mM={display:"none"};function pM(t){let{id:e,value:n}=t;return Te.createElement("div",{id:e,style:mM},n)}function gM(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Te.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function xM(){const[t,e]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const LN=h.createContext(null);function vM(t){const e=h.useContext(LN);h.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function yM(){const[t]=h.useState(()=>new Set),e=h.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[h.useCallback(r=>{let{type:s,event:o}=r;t.forEach(a=>{var l;return(l=a[s])==null?void 0:l.call(a,o)})},[t]),e]}const bM={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wM={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function SM(t){let{announcements:e=wM,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=bM}=t;const{announce:o,announcement:a}=xM(),l=Vc("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),vM(h.useMemo(()=>({onDragStart(f){let{active:g}=f;o(e.onDragStart({active:g}))},onDragMove(f){let{active:g,over:w}=f;e.onDragMove&&o(e.onDragMove({active:g,over:w}))},onDragOver(f){let{active:g,over:w}=f;o(e.onDragOver({active:g,over:w}))},onDragEnd(f){let{active:g,over:w}=f;o(e.onDragEnd({active:g,over:w}))},onDragCancel(f){let{active:g,over:w}=f;o(e.onDragCancel({active:g,over:w}))}}),[o,e])),!c)return null;const d=Te.createElement(Te.Fragment,null,Te.createElement(pM,{id:r,value:s.draggable}),Te.createElement(gM,{id:l,announcement:a}));return n?xr.createPortal(d,n):d}var jt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(jt||(jt={}));function Md(){}function wc(t,e){return h.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Yx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Cr=Object.freeze({x:0,y:0});function MN(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function IN(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function CM(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function i0(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function FN(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function o0(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const Xx=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=o0(e,e.left,e.top),o=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=MN(o0(c),s);o.push({id:l,data:{droppableContainer:a,value:u}})}}return o.sort(IN)},jM=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=i0(e),o=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=i0(c),d=s.reduce((g,w,y)=>g+MN(u[y],w),0),f=Number((d/4).toFixed(4));o.push({id:l,data:{droppableContainer:a,value:f}})}}return o.sort(IN)};function NM(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),a=s-r,l=o-n;if(r<s&&n<o){const c=e.width*e.height,u=t.width*t.height,d=a*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const EM=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=NM(l,e);c>0&&s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(CM)};function _M(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function BN(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Cr}function AM(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const kM=AM(1);function RM(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function TM(t,e,n){const r=RM(e);if(!r)return t;const{scaleX:s,scaleY:o,x:a,y:l}=r,c=t.left-a-(1-s)*parseFloat(n),u=t.top-l-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?t.width/s:t.width,f=o?t.height/o:t.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const DM={ignoreTransform:!1};function Xa(t,e){e===void 0&&(e=DM);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=_n(t).getComputedStyle(t);u&&(n=TM(n,u,d))}const{top:r,left:s,width:o,height:a,bottom:l,right:c}=n;return{top:r,left:s,width:o,height:a,bottom:l,right:c}}function a0(t){return Xa(t,{ignoreTransform:!0})}function PM(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function OM(t,e){return e===void 0&&(e=_n(t).getComputedStyle(t)),e.position==="fixed"}function LM(t,e){e===void 0&&(e=_n(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function Th(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(Kx(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!qc(s)||PN(s)||n.includes(s))return n;const o=_n(t).getComputedStyle(s);return s!==t&&LM(s,o)&&n.push(s),OM(s,o)?n:r(s.parentNode)}return t?r(t):n}function $N(t){const[e]=Th(t,1);return e??null}function $f(t){return!Rh||!t?null:Qa(t)?t:Hx(t)?Kx(t)||t===Ya(t).scrollingElement?window:qc(t)?t:null:null}function UN(t){return Qa(t)?t.scrollX:t.scrollLeft}function zN(t){return Qa(t)?t.scrollY:t.scrollTop}function Jp(t){return{x:UN(t),y:zN(t)}}var Tt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Tt||(Tt={}));function qN(t){return!Rh||!t?!1:t===document.scrollingElement}function WN(t){const e={x:0,y:0},n=qN(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const MM={x:.2,y:.2};function IM(t,e,n,r,s){let{top:o,left:a,right:l,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=MM);const{isTop:u,isBottom:d,isLeft:f,isRight:g}=WN(t),w={x:0,y:0},y={x:0,y:0},p={height:e.height*s.y,width:e.width*s.x};return!u&&o<=e.top+p.height?(w.y=Tt.Backward,y.y=r*Math.abs((e.top+p.height-o)/p.height)):!d&&c>=e.bottom-p.height&&(w.y=Tt.Forward,y.y=r*Math.abs((e.bottom-p.height-c)/p.height)),!g&&l>=e.right-p.width?(w.x=Tt.Forward,y.x=r*Math.abs((e.right-p.width-l)/p.width)):!f&&a<=e.left+p.width&&(w.x=Tt.Backward,y.x=r*Math.abs((e.left+p.width-a)/p.width)),{direction:w,speed:y}}function FM(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function VN(t){return t.reduce((e,n)=>ia(e,Jp(n)),Cr)}function BM(t){return t.reduce((e,n)=>e+UN(n),0)}function $M(t){return t.reduce((e,n)=>e+zN(n),0)}function UM(t,e){if(e===void 0&&(e=Xa),!t)return;const{top:n,left:r,bottom:s,right:o}=e(t);$N(t)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const zM=[["x",["left","right"],BM],["y",["top","bottom"],$M]];class Jx{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Th(n),s=VN(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,a,l]of zM)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=s[o]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $l{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function qM(t){const{EventTarget:e}=_n(t);return t instanceof e?t:Ya(t)}function Uf(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Vn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Vn||(Vn={}));function l0(t){t.preventDefault()}function WM(t){t.stopPropagation()}var Me;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Me||(Me={}));const HN={start:[Me.Space,Me.Enter],cancel:[Me.Esc],end:[Me.Space,Me.Enter,Me.Tab]},VM=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Me.Right:return{...n,x:n.x+25};case Me.Left:return{...n,x:n.x-25};case Me.Down:return{...n,y:n.y+25};case Me.Up:return{...n,y:n.y-25}}};class Dh{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new $l(Ya(n)),this.windowListeners=new $l(_n(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Vn.Resize,this.handleCancel),this.windowListeners.add(Vn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Vn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&UM(r),n(Cr)}handleKeyDown(e){if(Qx(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=HN,coordinateGetter:a=VM,scrollBehavior:l="smooth"}=s,{code:c}=e;if(o.end.includes(c)){this.handleEnd(e);return}if(o.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Cr;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(e,{active:n,context:r.current,currentCoordinates:d});if(f){const g=bc(f,d),w={x:0,y:0},{scrollableAncestors:y}=r.current;for(const p of y){const b=e.code,{isTop:x,isRight:m,isLeft:v,isBottom:S,maxScroll:j,minScroll:E}=WN(p),C=FM(p),N={x:Math.min(b===Me.Right?C.right-C.width/2:C.right,Math.max(b===Me.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(b===Me.Down?C.bottom-C.height/2:C.bottom,Math.max(b===Me.Down?C.top:C.top+C.height/2,f.y))},R=b===Me.Right&&!m||b===Me.Left&&!v,k=b===Me.Down&&!S||b===Me.Up&&!x;if(R&&N.x!==f.x){const _=p.scrollLeft+g.x,D=b===Me.Right&&_<=j.x||b===Me.Left&&_>=E.x;if(D&&!g.y){p.scrollTo({left:_,behavior:l});return}D?w.x=p.scrollLeft-_:w.x=b===Me.Right?p.scrollLeft-j.x:p.scrollLeft-E.x,w.x&&p.scrollBy({left:-w.x,behavior:l});break}else if(k&&N.y!==f.y){const _=p.scrollTop+g.y,D=b===Me.Down&&_<=j.y||b===Me.Up&&_>=E.y;if(D&&!g.x){p.scrollTo({top:_,behavior:l});return}D?w.y=p.scrollTop-_:w.y=b===Me.Down?p.scrollTop-j.y:p.scrollTop-E.y,w.y&&p.scrollBy({top:-w.y,behavior:l});break}}this.handleMove(e,ia(bc(f,this.referenceCoordinates),w))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Dh.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=HN,onActivation:s}=e,{active:o}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=o.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function c0(t){return!!(t&&"distance"in t)}function u0(t){return!!(t&&"delay"in t)}class Zx{constructor(e,n,r){var s;r===void 0&&(r=qM(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:a}=o;this.props=e,this.events=n,this.document=Ya(a),this.documentListeners=new $l(this.document),this.listeners=new $l(r),this.windowListeners=new $l(_n(a)),this.initialCoordinates=(s=Xp(o))!=null?s:Cr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Vn.Resize,this.handleCancel),this.windowListeners.add(Vn.DragStart,l0),this.windowListeners.add(Vn.VisibilityChange,this.handleCancel),this.windowListeners.add(Vn.ContextMenu,l0),this.documentListeners.add(Vn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(u0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(c0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Vn.Click,WM,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Vn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:a,options:{activationConstraint:l}}=o;if(!s)return;const c=(n=Xp(e))!=null?n:Cr,u=bc(s,c);if(!r&&l){if(c0(l)){if(l.tolerance!=null&&Uf(u,l.tolerance))return this.handleCancel();if(Uf(u,l.distance))return this.handleStart()}if(u0(l)&&Uf(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),a(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Me.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const HM={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Hc extends Zx{constructor(e){const{event:n}=e,r=Ya(n.target);super(e,HM,r)}}Hc.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const KM={move:{name:"mousemove"},end:{name:"mouseup"}};var Zp;(function(t){t[t.RightClick=2]="RightClick"})(Zp||(Zp={}));class GM extends Zx{constructor(e){super(e,KM,Ya(e.event.target))}}GM.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Zp.RightClick?!1:(r==null||r({event:n}),!0)}}];const zf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class QM extends Zx{constructor(e){super(e,zf)}static setup(){return window.addEventListener(zf.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(zf.move.name,e)};function e(){}}}QM.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Ul;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ul||(Ul={}));var Id;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Id||(Id={}));function YM(t){let{acceleration:e,activator:n=Ul.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:a=5,order:l=Id.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:g}=t;const w=JM({delta:f,disabled:!o}),[y,p]=uM(),b=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),m=h.useMemo(()=>{switch(n){case Ul.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ul.DraggableRect:return s}},[n,s,c]),v=h.useRef(null),S=h.useCallback(()=>{const E=v.current;if(!E)return;const C=b.current.x*x.current.x,N=b.current.y*x.current.y;E.scrollBy(C,N)},[]),j=h.useMemo(()=>l===Id.TreeOrder?[...u].reverse():u,[l,u]);h.useEffect(()=>{if(!o||!u.length||!m){p();return}for(const E of j){if((r==null?void 0:r(E))===!1)continue;const C=u.indexOf(E),N=d[C];if(!N)continue;const{direction:R,speed:k}=IM(E,N,m,e,g);for(const _ of["x","y"])w[_][R[_]]||(k[_]=0,R[_]=0);if(k.x>0||k.y>0){p(),v.current=E,y(S,a),b.current=k,x.current=R;return}}b.current={x:0,y:0},x.current={x:0,y:0},p()},[e,S,r,p,o,a,JSON.stringify(m),JSON.stringify(w),y,u,j,d,JSON.stringify(g)])}const XM={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function JM(t){let{delta:e,disabled:n}=t;const r=Yp(e);return Wc(s=>{if(n||!r||!s)return XM;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Tt.Backward]:s.x[Tt.Backward]||o.x===-1,[Tt.Forward]:s.x[Tt.Forward]||o.x===1},y:{[Tt.Backward]:s.y[Tt.Backward]||o.y===-1,[Tt.Forward]:s.y[Tt.Forward]||o.y===1}}},[n,e,r])}function ZM(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Wc(s=>{var o;return e==null?null:(o=r??s)!=null?o:null},[r,e])}function eI(t,e){return h.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...o]},[]),[t,e])}var Sc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Sc||(Sc={}));var eg;(function(t){t.Optimized="optimized"})(eg||(eg={}));const d0=new Map;function tI(t,e){let{dragging:n,dependencies:r,config:s}=e;const[o,a]=h.useState(null),{frequency:l,measure:c,strategy:u}=s,d=h.useRef(t),f=b(),g=yc(f),w=h.useCallback(function(x){x===void 0&&(x=[]),!g.current&&a(m=>m===null?x:m.concat(x.filter(v=>!m.includes(v))))},[g]),y=h.useRef(null),p=Wc(x=>{if(f&&!n)return d0;if(!x||x===d0||d.current!==t||o!=null){const m=new Map;for(let v of t){if(!v)continue;if(o&&o.length>0&&!o.includes(v.id)&&v.rect.current){m.set(v.id,v.rect.current);continue}const S=v.node.current,j=S?new Jx(c(S),S):null;v.rect.current=j,j&&m.set(v.id,j)}return m}return x},[t,o,n,f,c]);return h.useEffect(()=>{d.current=t},[t]),h.useEffect(()=>{f||w()},[n,f]),h.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),h.useEffect(()=>{f||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{w(),y.current=null},l))},[l,f,w,...r]),{droppableRects:p,measureDroppableContainers:w,measuringScheduled:o!=null};function b(){switch(u){case Sc.Always:return!1;case Sc.BeforeDragging:return n;default:return!n}}}function KN(t,e){return Wc(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function nI(t,e){return KN(t,e)}function rI(t){let{callback:e,disabled:n}=t;const r=Gx(e),s=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return h.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Ph(t){let{callback:e,disabled:n}=t;const r=Gx(e),s=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return h.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function sI(t){return new Jx(Xa(t),t)}function h0(t,e,n){e===void 0&&(e=sI);const[r,s]=h.useState(null);function o(){s(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const a=rI({callback(c){if(t)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){o();break}}}}),l=Ph({callback:o});return Kr(()=>{o(),t?(l==null||l.observe(t),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[t]),r}function iI(t){const e=KN(t);return BN(t,e)}const f0=[];function oI(t){const e=h.useRef(t),n=Wc(r=>t?r&&r!==f0&&t&&e.current&&t.parentNode===e.current.parentNode?r:Th(t):f0,[t]);return h.useEffect(()=>{e.current=t},[t]),n}function aI(t){const[e,n]=h.useState(null),r=h.useRef(t),s=h.useCallback(o=>{const a=$f(o.target);a&&n(l=>l?(l.set(a,Jp(a)),new Map(l)):null)},[]);return h.useEffect(()=>{const o=r.current;if(t!==o){a(o);const l=t.map(c=>{const u=$f(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Jp(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(o)};function a(l){l.forEach(c=>{const u=$f(c);u==null||u.removeEventListener("scroll",s)})}},[s,t]),h.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,a)=>ia(o,a),Cr):VN(t):Cr,[t,e])}function m0(t,e){e===void 0&&(e=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},e),h.useEffect(()=>{const r=t!==Cr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?bc(t,n.current):Cr}function lI(t){h.useEffect(()=>{if(!Rh)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function cI(t,e){return h.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=a=>{o(a,e)},n},{}),[t,e])}function GN(t){return h.useMemo(()=>t?PM(t):null,[t])}const p0=[];function uI(t,e){e===void 0&&(e=Xa);const[n]=t,r=GN(n?_n(n):null),[s,o]=h.useState(p0);function a(){o(()=>t.length?t.map(c=>qN(c)?r:new Jx(e(c),c)):p0)}const l=Ph({callback:a});return Kr(()=>{l==null||l.disconnect(),a(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),s}function dI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return qc(e)?e:t}function hI(t){let{measure:e}=t;const[n,r]=h.useState(null),s=h.useCallback(u=>{for(const{target:d}of u)if(qc(d)){r(f=>{const g=e(d);return f?{...f,width:g.width,height:g.height}:g});break}},[e]),o=Ph({callback:s}),a=h.useCallback(u=>{const d=dI(u);o==null||o.disconnect(),d&&(o==null||o.observe(d)),r(d?e(d):null)},[e,o]),[l,c]=Ld(a);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const fI=[{sensor:Hc,options:{}},{sensor:Dh,options:{}}],mI={current:{}},Yu={draggable:{measure:a0},droppable:{measure:a0,strategy:Sc.WhileDragging,frequency:eg.Optimized},dragOverlay:{measure:Xa}};class zl extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const pI={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Md},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Yu,measureDroppableContainers:Md,windowRect:null,measuringScheduled:!1},gI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Md,draggableNodes:new Map,over:null,measureDroppableContainers:Md},Oh=h.createContext(gI),QN=h.createContext(pI);function xI(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zl}}}function vI(t,e){switch(e.type){case jt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case jt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case jt.DragEnd:case jt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case jt.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new zl(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case jt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const a=new zl(t.droppable.containers);return a.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:a}}}case jt.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new zl(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function yI(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=h.useContext(Oh),o=Yp(r),a=Yp(n==null?void 0:n.id);return h.useEffect(()=>{if(!e&&!r&&o&&a!=null){if(!Qx(o)||document.activeElement===o.target)return;const l=s.get(a);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=fM(d);if(f){f.focus();break}}})}},[r,e,s,a,o]),null}function bI(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...r}),n):n}function wI(t){return h.useMemo(()=>({draggable:{...Yu.draggable,...t==null?void 0:t.draggable},droppable:{...Yu.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Yu.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function SI(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const o=h.useRef(!1),{x:a,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Kr(()=>{if(!a&&!l||!e){o.current=!1;return}if(o.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=BN(d,r);if(a||(f.x=0),l||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const g=$N(u);g&&g.scrollBy({top:f.y,left:f.x})}},[e,a,l,r,n])}const YN=h.createContext({...Cr,scaleX:1,scaleY:1});var Bs;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Bs||(Bs={}));const ev=h.memo(function(e){var n,r,s,o;let{id:a,accessibility:l,autoScroll:c=!0,children:u,sensors:d=fI,collisionDetection:f=EM,measuring:g,modifiers:w,...y}=e;const p=h.useReducer(vI,void 0,xI),[b,x]=p,[m,v]=yM(),[S,j]=h.useState(Bs.Uninitialized),E=S===Bs.Initialized,{draggable:{active:C,nodes:N,translate:R},droppable:{containers:k}}=b,_=C!=null?N.get(C):null,D=h.useRef({initial:null,translated:null}),L=h.useMemo(()=>{var lt;return C!=null?{id:C,data:(lt=_==null?void 0:_.data)!=null?lt:mI,rect:D}:null},[C,_]),q=h.useRef(null),[I,F]=h.useState(null),[$,M]=h.useState(null),U=yc(y,Object.values(y)),Y=Vc("DndDescribedBy",a),ee=h.useMemo(()=>k.getEnabled(),[k]),Z=wI(g),{droppableRects:ve,measureDroppableContainers:ue,measuringScheduled:Be}=tI(ee,{dragging:E,dependencies:[R.x,R.y],config:Z.droppable}),T=ZM(N,C),A=h.useMemo(()=>$?Xp($):null,[$]),z=rf(),G=nI(T,Z.draggable.measure);SI({activeNode:C!=null?N.get(C):null,config:z.layoutShiftCompensation,initialRect:G,measure:Z.draggable.measure});const H=h0(T,Z.draggable.measure,G),re=h0(T?T.parentElement:null),oe=h.useRef({activatorEvent:null,active:null,activeNode:T,collisionRect:null,collisions:null,droppableRects:ve,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=k.getNodeFor((n=oe.current.over)==null?void 0:n.id),K=hI({measure:Z.dragOverlay.measure}),ie=(r=K.nodeRef.current)!=null?r:T,pe=E?(s=K.rect)!=null?s:H:null,ye=!!(K.nodeRef.current&&K.rect),We=iI(ye?null:H),De=GN(ie?_n(ie):null),_e=oI(E?me??T:null),Ve=uI(_e),xt=bI(w,{transform:{x:R.x-We.x,y:R.y-We.y,scaleX:1,scaleY:1},activatorEvent:$,active:L,activeNodeRect:H,containerNodeRect:re,draggingNodeRect:pe,over:oe.current.over,overlayNodeRect:K.rect,scrollableAncestors:_e,scrollableAncestorRects:Ve,windowRect:De}),Jt=A?ia(A,R):null,An=aI(_e),tr=m0(An),nr=m0(An,[H]),Fn=ia(xt,tr),Bn=pe?kM(pe,xt):null,rr=L&&Bn?f({active:L,collisionRect:Bn,droppableRects:ve,droppableContainers:ee,pointerCoordinates:Jt}):null,No=FN(rr,"id"),[sr,Ei]=h.useState(null),Eo=ye?xt:ia(xt,nr),ir=_M(Eo,(o=sr==null?void 0:sr.rect)!=null?o:null,H),Tr=h.useRef(null),_o=h.useCallback((lt,Zt)=>{let{sensor:$e,options:en}=Zt;if(q.current==null)return;const gn=N.get(q.current);if(!gn)return;const zt=lt.nativeEvent,xn=new $e({active:q.current,activeNode:gn,event:zt,options:en,context:oe,onAbort(vt){if(!N.get(vt))return;const{onDragAbort:At}=U.current,$n={id:vt};At==null||At($n),m({type:"onDragAbort",event:$n})},onPending(vt,wt,At,$n){if(!N.get(vt))return;const{onDragPending:es}=U.current,or={id:vt,constraint:wt,initialCoordinates:At,offset:$n};es==null||es(or),m({type:"onDragPending",event:or})},onStart(vt){const wt=q.current;if(wt==null)return;const At=N.get(wt);if(!At)return;const{onDragStart:$n}=U.current,_s={activatorEvent:zt,active:{id:wt,data:At.data,rect:D}};xr.unstable_batchedUpdates(()=>{$n==null||$n(_s),j(Bs.Initializing),x({type:jt.DragStart,initialCoordinates:vt,active:wt}),m({type:"onDragStart",event:_s}),F(Tr.current),M(zt)})},onMove(vt){x({type:jt.DragMove,coordinates:vt})},onEnd:Zr(jt.DragEnd),onCancel:Zr(jt.DragCancel)});Tr.current=xn;function Zr(vt){return async function(){const{active:At,collisions:$n,over:_s,scrollAdjustedTranslate:es}=oe.current;let or=null;if(At&&es){const{cancelDrop:tn}=U.current;or={activatorEvent:zt,active:At,collisions:$n,delta:es,over:_s},vt===jt.DragEnd&&typeof tn=="function"&&await Promise.resolve(tn(or))&&(vt=jt.DragCancel)}q.current=null,xr.unstable_batchedUpdates(()=>{x({type:vt}),j(Bs.Uninitialized),Ei(null),F(null),M(null),Tr.current=null;const tn=vt===jt.DragEnd?"onDragEnd":"onDragCancel";if(or){const Ro=U.current[tn];Ro==null||Ro(or),m({type:tn,event:or})}})}}},[N]),rl=h.useCallback((lt,Zt)=>($e,en)=>{const gn=$e.nativeEvent,zt=N.get(en);if(q.current!==null||!zt||gn.dndKit||gn.defaultPrevented)return;const xn={active:zt};lt($e,Zt.options,xn)===!0&&(gn.dndKit={capturedBy:Zt.sensor},q.current=en,_o($e,Zt))},[N,_o]),Jc=eI(d,rl);lI(d),Kr(()=>{H&&S===Bs.Initializing&&j(Bs.Initialized)},[H,S]),h.useEffect(()=>{const{onDragMove:lt}=U.current,{active:Zt,activatorEvent:$e,collisions:en,over:gn}=oe.current;if(!Zt||!$e)return;const zt={active:Zt,activatorEvent:$e,collisions:en,delta:{x:Fn.x,y:Fn.y},over:gn};xr.unstable_batchedUpdates(()=>{lt==null||lt(zt),m({type:"onDragMove",event:zt})})},[Fn.x,Fn.y]),h.useEffect(()=>{const{active:lt,activatorEvent:Zt,collisions:$e,droppableContainers:en,scrollAdjustedTranslate:gn}=oe.current;if(!lt||q.current==null||!Zt||!gn)return;const{onDragOver:zt}=U.current,xn=en.get(No),Zr=xn&&xn.rect.current?{id:xn.id,rect:xn.rect.current,data:xn.data,disabled:xn.disabled}:null,vt={active:lt,activatorEvent:Zt,collisions:$e,delta:{x:gn.x,y:gn.y},over:Zr};xr.unstable_batchedUpdates(()=>{Ei(Zr),zt==null||zt(vt),m({type:"onDragOver",event:vt})})},[No]),Kr(()=>{oe.current={activatorEvent:$,active:L,activeNode:T,collisionRect:Bn,collisions:rr,droppableRects:ve,draggableNodes:N,draggingNode:ie,draggingNodeRect:pe,droppableContainers:k,over:sr,scrollableAncestors:_e,scrollAdjustedTranslate:Fn},D.current={initial:pe,translated:Bn}},[L,T,rr,Bn,N,ie,pe,ve,k,sr,_e,Fn]),YM({...z,delta:R,draggingRect:Bn,pointerCoordinates:Jt,scrollableAncestors:_e,scrollableAncestorRects:Ve});const Ao=h.useMemo(()=>({active:L,activeNode:T,activeNodeRect:H,activatorEvent:$,collisions:rr,containerNodeRect:re,dragOverlay:K,draggableNodes:N,droppableContainers:k,droppableRects:ve,over:sr,measureDroppableContainers:ue,scrollableAncestors:_e,scrollableAncestorRects:Ve,measuringConfiguration:Z,measuringScheduled:Be,windowRect:De}),[L,T,H,$,rr,re,K,N,k,ve,sr,ue,_e,Ve,Z,Be,De]),ko=h.useMemo(()=>({activatorEvent:$,activators:Jc,active:L,activeNodeRect:H,ariaDescribedById:{draggable:Y},dispatch:x,draggableNodes:N,over:sr,measureDroppableContainers:ue}),[$,Jc,L,H,x,Y,N,sr,ue]);return Te.createElement(LN.Provider,{value:v},Te.createElement(Oh.Provider,{value:ko},Te.createElement(QN.Provider,{value:Ao},Te.createElement(YN.Provider,{value:ir},u)),Te.createElement(yI,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Te.createElement(SM,{...l,hiddenTextDescribedById:Y}));function rf(){const lt=(I==null?void 0:I.autoScrollEnabled)===!1,Zt=typeof c=="object"?c.enabled===!1:c===!1,$e=E&&!lt&&!Zt;return typeof c=="object"?{...c,enabled:$e}:{enabled:$e}}}),CI=h.createContext(null),g0="button",jI="Draggable";function NI(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const o=Vc(jI),{activators:a,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:g}=h.useContext(Oh),{role:w=g0,roleDescription:y="draggable",tabIndex:p=0}=s??{},b=(c==null?void 0:c.id)===e,x=h.useContext(b?YN:CI),[m,v]=Ld(),[S,j]=Ld(),E=cI(a,e),C=yc(n);Kr(()=>(f.set(e,{id:e,key:o,node:m,activatorNode:S,data:C}),()=>{const R=f.get(e);R&&R.key===o&&f.delete(e)}),[f,e]);const N=h.useMemo(()=>({role:w,tabIndex:p,"aria-disabled":r,"aria-pressed":b&&w===g0?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,w,p,b,y,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:N,isDragging:b,listeners:r?void 0:E,node:m,over:g,setNodeRef:v,setActivatorNodeRef:j,transform:x}}function EI(){return h.useContext(QN)}const _I="Droppable",AI={timeout:25};function XN(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const o=Vc(_I),{active:a,dispatch:l,over:c,measureDroppableContainers:u}=h.useContext(Oh),d=h.useRef({disabled:n}),f=h.useRef(!1),g=h.useRef(null),w=h.useRef(null),{disabled:y,updateMeasurementsFor:p,timeout:b}={...AI,...s},x=yc(p??r),m=h.useCallback(()=>{if(!f.current){f.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),w.current=null},b)},[b]),v=Ph({callback:m,disabled:y||!a}),S=h.useCallback((N,R)=>{v&&(R&&(v.unobserve(R),f.current=!1),N&&v.observe(N))},[v]),[j,E]=Ld(S),C=yc(e);return h.useEffect(()=>{!v||!j.current||(v.disconnect(),f.current=!1,v.observe(j.current))},[j,v]),h.useEffect(()=>(l({type:jt.RegisterDroppable,element:{id:r,key:o,disabled:n,node:j,rect:g,data:C}}),()=>l({type:jt.UnregisterDroppable,key:o,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(l({type:jt.SetDroppableDisabled,id:r,key:o,disabled:n}),d.current.disabled=n)},[r,o,n,l]),{active:a,rect:g,isOver:(c==null?void 0:c.id)===r,node:j,over:c,setNodeRef:E}}function Kc(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function kI(t,e){return t.reduce((n,r,s)=>{const o=e.get(r);return o&&(n[s]=o),n},Array(t.length))}function yu(t){return t!==null&&t>=0}function RI(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function TI(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const JN=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const o=Kc(e,r,n),a=e[s],l=o[s];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},bu={scaleX:1,scaleY:1},tv=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:a}=t;const l=(e=o[n])!=null?e:r;if(!l)return null;if(s===n){const u=o[a];return u?{x:0,y:n<a?u.top+u.height-(l.top+l.height):u.top-l.top,...bu}:null}const c=DI(o,s,n);return s>n&&s<=a?{x:0,y:-l.height-c,...bu}:s<n&&s>=a?{x:0,y:l.height+c,...bu}:{x:0,y:0,...bu}};function DI(t,e,n){const r=t[e],s=t[e-1],o=t[e+1];return r?n<e?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const ZN="Sortable",e1=Te.createContext({activeIndex:-1,containerId:ZN,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:JN,disabled:{draggable:!1,droppable:!1}});function nv(t){let{children:e,id:n,items:r,strategy:s=JN,disabled:o=!1}=t;const{active:a,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=EI(),f=Vc(ZN,n),g=l.rect!==null,w=h.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),y=a!=null,p=a?w.indexOf(a.id):-1,b=u?w.indexOf(u.id):-1,x=h.useRef(w),m=!RI(w,x.current),v=b!==-1&&p===-1||m,S=TI(o);Kr(()=>{m&&y&&d(w)},[m,w,y,d]),h.useEffect(()=>{x.current=w},[w]);const j=h.useMemo(()=>({activeIndex:p,containerId:f,disabled:S,disableTransforms:v,items:w,overIndex:b,useDragOverlay:g,sortedRects:kI(w,c),strategy:s}),[p,f,S.draggable,S.droppable,v,w,b,c,g,s]);return Te.createElement(e1.Provider,{value:j},e)}const PI=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return Kc(n,r,s).indexOf(e)},OI=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:o,newIndex:a,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!r||l!==o&&s===a?!1:n?!0:a!==s&&e===c},LI={duration:200,easing:"ease"},t1="transform",MI=oo.Transition.toString({property:t1,duration:0,easing:"linear"}),II={roleDescription:"sortable"};function FI(t){let{disabled:e,index:n,node:r,rect:s}=t;const[o,a]=h.useState(null),l=h.useRef(n);return Kr(()=>{if(!e&&n!==l.current&&r.current){const c=s.current;if(c){const u=Xa(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&a(d)}}n!==l.current&&(l.current=n)},[e,n,r,s]),h.useEffect(()=>{o&&a(null)},[o]),o}function rv(t){let{animateLayoutChanges:e=OI,attributes:n,disabled:r,data:s,getNewIndex:o=PI,id:a,strategy:l,resizeObserverConfig:c,transition:u=LI}=t;const{items:d,containerId:f,activeIndex:g,disabled:w,disableTransforms:y,sortedRects:p,overIndex:b,useDragOverlay:x,strategy:m}=h.useContext(e1),v=BI(r,w),S=d.indexOf(a),j=h.useMemo(()=>({sortable:{containerId:f,index:S,items:d},...s}),[f,s,S,d]),E=h.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:C,node:N,isOver:R,setNodeRef:k}=XN({id:a,data:j,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:_,activatorEvent:D,activeNodeRect:L,attributes:q,setNodeRef:I,listeners:F,isDragging:$,over:M,setActivatorNodeRef:U,transform:Y}=NI({id:a,data:j,attributes:{...II,...n},disabled:v.draggable}),ee=cM(k,I),Z=!!_,ve=Z&&!y&&yu(g)&&yu(b),ue=!x&&$,Be=ue&&ve?Y:null,A=ve?Be??(l??m)({rects:p,activeNodeRect:L,activeIndex:g,overIndex:b,index:S}):null,z=yu(g)&&yu(b)?o({id:a,items:d,activeIndex:g,overIndex:b}):S,G=_==null?void 0:_.id,H=h.useRef({activeId:G,items:d,newIndex:z,containerId:f}),re=d!==H.current.items,oe=e({active:_,containerId:f,isDragging:$,isSorting:Z,id:a,index:S,items:d,newIndex:H.current.newIndex,previousItems:H.current.items,previousContainerId:H.current.containerId,transition:u,wasDragging:H.current.activeId!=null}),me=FI({disabled:!oe,index:S,node:N,rect:C});return h.useEffect(()=>{Z&&H.current.newIndex!==z&&(H.current.newIndex=z),f!==H.current.containerId&&(H.current.containerId=f),d!==H.current.items&&(H.current.items=d)},[Z,z,f,d]),h.useEffect(()=>{if(G===H.current.activeId)return;if(G!=null&&H.current.activeId==null){H.current.activeId=G;return}const ie=setTimeout(()=>{H.current.activeId=G},50);return()=>clearTimeout(ie)},[G]),{active:_,activeIndex:g,attributes:q,data:j,rect:C,index:S,newIndex:z,items:d,isOver:R,isSorting:Z,isDragging:$,listeners:F,node:N,overIndex:b,over:M,setNodeRef:ee,setActivatorNodeRef:U,setDroppableNodeRef:k,setDraggableNodeRef:I,transform:me??A,transition:K()};function K(){if(me||re&&H.current.newIndex===S)return MI;if(!(ue&&!Qx(D)||!u)&&(Z||oe))return oo.Transition.toString({...u,property:t1})}}function BI(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Fd(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const $I=[Me.Down,Me.Right,Me.Up,Me.Left],n1=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:o,over:a,scrollableAncestors:l}}=e;if($I.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];o.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const g=s.get(f.id);if(g)switch(t.code){case Me.Down:r.top<g.top&&c.push(f);break;case Me.Up:r.top>g.top&&c.push(f);break;case Me.Left:r.left>g.left&&c.push(f);break;case Me.Right:r.left<g.left&&c.push(f);break}});const u=jM({collisionRect:r,droppableRects:s,droppableContainers:c});let d=FN(u,"id");if(d===(a==null?void 0:a.id)&&u.length>1&&(d=u[1].id),d!=null){const f=o.get(n.id),g=o.get(d),w=g?s.get(g.id):null,y=g==null?void 0:g.node.current;if(y&&w&&f&&g){const b=Th(y).some((E,C)=>l[C]!==E),x=r1(f,g),m=UI(f,g),v=b||!x?{x:0,y:0}:{x:m?r.width-w.width:0,y:m?r.height-w.height:0},S={x:w.left,y:w.top};return v.x&&v.y?S:bc(S,v)}}}};function r1(t,e){return!Fd(t)||!Fd(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function UI(t,e){return!Fd(t)||!Fd(e)||!r1(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const zI=Ah("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ao({className:t,variant:e,...n}){return i.jsx("div",{className:fe(zI({variant:e}),t),...n})}function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function qI(t,e){const n=h.createContext(e),r=o=>{const{children:a,...l}=o,c=h.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(o){const a=h.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function _r(t,e=[]){let n=[];function r(o,a){const l=h.createContext(a),c=n.length;n=[...n,a];const u=f=>{var x;const{scope:g,children:w,...y}=f,p=((x=g==null?void 0:g[t])==null?void 0:x[c])||l,b=h.useMemo(()=>y,Object.values(y));return i.jsx(p.Provider,{value:b,children:w})};u.displayName=o+"Provider";function d(f,g){var p;const w=((p=g==null?void 0:g[t])==null?void 0:p[c])||l,y=h.useContext(w);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,WI(s,...e)]}function WI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Ut=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},VI=ih[" useInsertionEffect ".trim().toString()]||Ut;function Gr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,a]=HI({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=h.useRef(t!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const g=KI(d)?d(t):d;g!==t&&((f=a.current)==null||f.call(a,g))}else o(d)},[l,t,o,a]);return[c,u]}function HI({defaultProp:t,onChange:e}){const[n,r]=h.useState(t),s=h.useRef(n),o=h.useRef(e);return VI(()=>{o.current=e},[e]),h.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function KI(t){return typeof t=="function"}function sv(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function iv(t){const[e,n]=h.useState(void 0);return Ut(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function GI(t){const e=QI(t),n=h.forwardRef((r,s)=>{const{children:o,...a}=r,l=h.Children.toArray(o),c=l.find(XI);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function QI(t){const e=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const a=ZI(s),l=JI(o,s.props);return s.type!==h.Fragment&&(l.ref=r?Va(r,a):a),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YI=Symbol("radix.slottable");function XI(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YI}function JI(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function ZI(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=eF.reduce((t,e)=>{const n=GI(`Primitive.${e}`),r=h.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function tF(t,e){t&&xr.flushSync(()=>t.dispatchEvent(e))}var Lh="Switch",[nF]=_r(Lh),[rF,sF]=nF(Lh),s1=h.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[g,w]=h.useState(null),y=qe(e,v=>w(v)),p=h.useRef(!1),b=g?d||!!g.closest("form"):!0,[x,m]=Gr({prop:s,defaultProp:o??!1,onChange:u,caller:Lh});return i.jsxs(rF,{scope:n,checked:x,disabled:l,children:[i.jsx(Se.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":l1(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Ee(t.onClick,v=>{m(S=>!S),b&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})}),b&&i.jsx(a1,{control:g,bubbles:!p.current,name:r,value:c,checked:x,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});s1.displayName=Lh;var i1="SwitchThumb",o1=h.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=sF(i1,n);return i.jsx(Se.span,{"data-state":l1(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});o1.displayName=i1;var iF="SwitchBubbleInput",a1=h.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const a=h.useRef(null),l=qe(a,o),c=sv(n),u=iv(e);return h.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&w){const y=new Event("click",{bubbles:r});w.call(d,n),d.dispatchEvent(y)}},[c,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});a1.displayName=iF;function l1(t){return t?"checked":"unchecked"}var c1=s1,oF=o1;const Dt=h.forwardRef(({className:t,...e},n)=>i.jsx(c1,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:i.jsx(oF,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Dt.displayName=c1.displayName;function x0(t,[e,n]){return Math.min(n,Math.max(e,t))}function v0(t){const e=aF(t),n=h.forwardRef((r,s)=>{const{children:o,...a}=r,l=h.Children.toArray(o),c=l.find(cF);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function aF(t){const e=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const a=dF(s),l=uF(o,s.props);return s.type!==h.Fragment&&(l.ref=r?Va(r,a):a),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lF=Symbol("radix.slottable");function cF(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lF}function uF(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function dF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ov(t){const e=t+"CollectionProvider",[n,r]=_r(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:b,children:x}=p,m=Te.useRef(null),v=Te.useRef(new Map).current;return i.jsx(s,{scope:b,itemMap:v,collectionRef:m,children:x})};a.displayName=e;const l=t+"CollectionSlot",c=v0(l),u=Te.forwardRef((p,b)=>{const{scope:x,children:m}=p,v=o(l,x),S=qe(b,v.collectionRef);return i.jsx(c,{ref:S,children:m})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=v0(d),w=Te.forwardRef((p,b)=>{const{scope:x,children:m,...v}=p,S=Te.useRef(null),j=qe(b,S),E=o(d,x);return Te.useEffect(()=>(E.itemMap.set(S,{ref:S,...v}),()=>void E.itemMap.delete(S))),i.jsx(g,{[f]:"",ref:j,children:m})});w.displayName=d;function y(p){const b=o(t+"CollectionConsumer",p);return Te.useCallback(()=>{const m=b.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((E,C)=>v.indexOf(E.ref.current)-v.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:w},y,r]}var hF=h.createContext(void 0);function Mh(t){const e=h.useContext(hF);return t||e||"ltr"}function pi(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function fF(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mF="DismissableLayer",tg="dismissableLayer.update",pF="dismissableLayer.pointerDownOutside",gF="dismissableLayer.focusOutside",y0,u1=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),av=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=h.useContext(u1),[d,f]=h.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=h.useState({}),y=qe(e,C=>f(C)),p=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(b),m=d?p.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,S=m>=x,j=yF(C=>{const N=C.target,R=[...u.branches].some(k=>k.contains(N));!S||R||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},g),E=bF(C=>{const N=C.target;[...u.branches].some(k=>k.contains(N))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},g);return fF(C=>{m===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(y0=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),b0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=y0)}},[d,g,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),b0())},[d,u]),h.useEffect(()=>{const C=()=>w({});return document.addEventListener(tg,C),()=>document.removeEventListener(tg,C)},[]),i.jsx(Se.div,{...c,ref:y,style:{pointerEvents:v?S?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,j.onPointerDownCapture)})});av.displayName=mF;var xF="DismissableLayerBranch",vF=h.forwardRef((t,e)=>{const n=h.useContext(u1),r=h.useRef(null),s=qe(e,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Se.div,{...t,ref:s})});vF.displayName=xF;function yF(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){d1(pF,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bF(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&d1(gF,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function b0(){const t=new CustomEvent(tg);document.dispatchEvent(t)}function d1(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tF(s,o):s.dispatchEvent(o)}var qf=0;function h1(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??w0()),document.body.insertAdjacentElement("beforeend",t[1]??w0()),qf++,()=>{qf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qf--}},[])}function w0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wf="focusScope.autoFocusOnMount",Vf="focusScope.autoFocusOnUnmount",S0={bubbles:!1,cancelable:!0},wF="FocusScope",lv=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[l,c]=h.useState(null),u=pi(s),d=pi(o),f=h.useRef(null),g=qe(e,p=>c(p)),w=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let p=function(v){if(w.paused||!l)return;const S=v.target;l.contains(S)?f.current=S:Ls(f.current,{select:!0})},b=function(v){if(w.paused||!l)return;const S=v.relatedTarget;S!==null&&(l.contains(S)||Ls(f.current,{select:!0}))},x=function(v){if(document.activeElement===document.body)for(const j of v)j.removedNodes.length>0&&Ls(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const m=new MutationObserver(x);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),m.disconnect()}}},[r,l,w.paused]),h.useEffect(()=>{if(l){j0.add(w);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Wf,S0);l.addEventListener(Wf,u),l.dispatchEvent(x),x.defaultPrevented||(SF(_F(f1(l)),{select:!0}),document.activeElement===p&&Ls(l))}return()=>{l.removeEventListener(Wf,u),setTimeout(()=>{const x=new CustomEvent(Vf,S0);l.addEventListener(Vf,d),l.dispatchEvent(x),x.defaultPrevented||Ls(p??document.body,{select:!0}),l.removeEventListener(Vf,d),j0.remove(w)},0)}}},[l,u,d,w]);const y=h.useCallback(p=>{if(!n&&!r||w.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(b&&x){const m=p.currentTarget,[v,S]=CF(m);v&&S?!p.shiftKey&&x===S?(p.preventDefault(),n&&Ls(v,{select:!0})):p.shiftKey&&x===v&&(p.preventDefault(),n&&Ls(S,{select:!0})):x===m&&p.preventDefault()}},[n,r,w.paused]);return i.jsx(Se.div,{tabIndex:-1,...a,ref:g,onKeyDown:y})});lv.displayName=wF;function SF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ls(r,{select:e}),document.activeElement!==n)return}function CF(t){const e=f1(t),n=C0(e,t),r=C0(e.reverse(),t);return[n,r]}function f1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function C0(t,e){for(const n of t)if(!jF(n,{upTo:e}))return n}function jF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function NF(t){return t instanceof HTMLInputElement&&"select"in t}function Ls(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&NF(t)&&e&&t.select()}}var j0=EF();function EF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=N0(t,e),t.unshift(e)},remove(e){var n;t=N0(t,e),(n=t[0])==null||n.resume()}}}function N0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _F(t){return t.filter(e=>e.tagName!=="A")}var AF=ih[" useId ".trim().toString()]||(()=>{}),kF=0;function Vr(t){const[e,n]=h.useState(AF());return Ut(()=>{n(r=>r??String(kF++))},[t]),e?`radix-${e}`:""}const RF=["top","right","bottom","left"],gi=Math.min,Rn=Math.max,Bd=Math.round,wu=Math.floor,Hr=t=>({x:t,y:t}),TF={left:"right",right:"left",bottom:"top",top:"bottom"},DF={start:"end",end:"start"};function ng(t,e,n){return Rn(t,gi(e,n))}function ws(t,e){return typeof t=="function"?t(e):t}function Ss(t){return t.split("-")[0]}function Ja(t){return t.split("-")[1]}function cv(t){return t==="x"?"y":"x"}function uv(t){return t==="y"?"height":"width"}const PF=new Set(["top","bottom"]);function Ur(t){return PF.has(Ss(t))?"y":"x"}function dv(t){return cv(Ur(t))}function OF(t,e,n){n===void 0&&(n=!1);const r=Ja(t),s=dv(t),o=uv(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=$d(a)),[a,$d(a)]}function LF(t){const e=$d(t);return[rg(t),e,rg(e)]}function rg(t){return t.replace(/start|end/g,e=>DF[e])}const E0=["left","right"],_0=["right","left"],MF=["top","bottom"],IF=["bottom","top"];function FF(t,e,n){switch(t){case"top":case"bottom":return n?e?_0:E0:e?E0:_0;case"left":case"right":return e?MF:IF;default:return[]}}function BF(t,e,n,r){const s=Ja(t);let o=FF(Ss(t),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(rg)))),o}function $d(t){return t.replace(/left|right|bottom|top/g,e=>TF[e])}function $F(t){return{top:0,right:0,bottom:0,left:0,...t}}function m1(t){return typeof t!="number"?$F(t):{top:t,right:t,bottom:t,left:t}}function Ud(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function A0(t,e,n){let{reference:r,floating:s}=t;const o=Ur(e),a=dv(e),l=uv(a),c=Ss(e),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,g=r[l]/2-s[l]/2;let w;switch(c){case"top":w={x:d,y:r.y-s.height};break;case"bottom":w={x:d,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:f};break;case"left":w={x:r.x-s.width,y:f};break;default:w={x:r.x,y:r.y}}switch(Ja(e)){case"start":w[a]-=g*(n&&u?-1:1);break;case"end":w[a]+=g*(n&&u?-1:1);break}return w}const UF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=A0(u,r,c),g=r,w={},y=0;for(let p=0;p<l.length;p++){const{name:b,fn:x}=l[p],{x:m,y:v,data:S,reset:j}=await x({x:d,y:f,initialPlacement:r,placement:g,strategy:s,middlewareData:w,rects:u,platform:a,elements:{reference:t,floating:e}});d=m??d,f=v??f,w={...w,[b]:{...w[b],...S}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(g=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:d,y:f}=A0(u,g,c)),p=-1)}return{x:d,y:f,placement:g,strategy:s,middlewareData:w}};async function Cc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:w=0}=ws(e,t),y=m1(w),b=l[g?f==="floating"?"reference":"floating":f],x=Ud(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),m=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},j=Ud(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:v,strategy:c}):m);return{top:(x.top-j.top+y.top)/S.y,bottom:(j.bottom-x.bottom+y.bottom)/S.y,left:(x.left-j.left+y.left)/S.x,right:(j.right-x.right+y.right)/S.x}}const zF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ws(t,e)||{};if(u==null)return{};const f=m1(d),g={x:n,y:r},w=dv(s),y=uv(w),p=await a.getDimensions(u),b=w==="y",x=b?"top":"left",m=b?"bottom":"right",v=b?"clientHeight":"clientWidth",S=o.reference[y]+o.reference[w]-g[w]-o.floating[y],j=g[w]-o.reference[w],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=E?E[v]:0;(!C||!await(a.isElement==null?void 0:a.isElement(E)))&&(C=l.floating[v]||o.floating[y]);const N=S/2-j/2,R=C/2-p[y]/2-1,k=gi(f[x],R),_=gi(f[m],R),D=k,L=C-p[y]-_,q=C/2-p[y]/2+N,I=ng(D,q,L),F=!c.arrow&&Ja(s)!=null&&q!==I&&o.reference[y]/2-(q<D?k:_)-p[y]/2<0,$=F?q<D?q-D:q-L:0;return{[w]:g[w]+$,data:{[w]:I,centerOffset:q-I-$,...F&&{alignmentOffset:$}},reset:F}}}),qF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...b}=ws(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Ss(s),m=Ur(l),v=Ss(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=g||(v||!p?[$d(l)]:LF(l)),E=y!=="none";!g&&E&&j.push(...BF(l,p,y,S));const C=[l,...j],N=await Cc(e,b),R=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&R.push(N[x]),f){const q=OF(s,a,S);R.push(N[q[0]],N[q[1]])}if(k=[...k,{placement:s,overflows:R}],!R.every(q=>q<=0)){var _,D;const q=(((_=o.flip)==null?void 0:_.index)||0)+1,I=C[q];if(I&&(!(f==="alignment"?m!==Ur(I):!1)||k.every(M=>Ur(M.placement)===m?M.overflows[0]>0:!0)))return{data:{index:q,overflows:k},reset:{placement:I}};let F=(D=k.filter($=>$.overflows[0]<=0).sort(($,M)=>$.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!F)switch(w){case"bestFit":{var L;const $=(L=k.filter(M=>{if(E){const U=Ur(M.placement);return U===m||U==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(U=>U>0).reduce((U,Y)=>U+Y,0)]).sort((M,U)=>M[1]-U[1])[0])==null?void 0:L[0];$&&(F=$);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function k0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function R0(t){return RF.some(e=>t[e]>=0)}const WF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ws(t,e);switch(r){case"referenceHidden":{const o=await Cc(e,{...s,elementContext:"reference"}),a=k0(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:R0(a)}}}case"escaped":{const o=await Cc(e,{...s,altBoundary:!0}),a=k0(o,n.floating);return{data:{escapedOffsets:a,escaped:R0(a)}}}default:return{}}}}},p1=new Set(["left","top"]);async function VF(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ss(n),l=Ja(n),c=Ur(n)==="y",u=p1.has(a)?-1:1,d=o&&c?-1:1,f=ws(e,t);let{mainAxis:g,crossAxis:w,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(w=l==="end"?y*-1:y),c?{x:w*d,y:g*u}:{x:g*u,y:w*d}}const HF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:a,middlewareData:l}=e,c=await VF(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},KF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x,y:m}=b;return{x,y:m}}},...c}=ws(t,e),u={x:n,y:r},d=await Cc(e,c),f=Ur(Ss(s)),g=cv(f);let w=u[g],y=u[f];if(o){const b=g==="y"?"top":"left",x=g==="y"?"bottom":"right",m=w+d[b],v=w-d[x];w=ng(m,w,v)}if(a){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",m=y+d[b],v=y-d[x];y=ng(m,y,v)}const p=l.fn({...e,[g]:w,[f]:y});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[g]:o,[f]:a}}}}}},GF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ws(t,e),d={x:n,y:r},f=Ur(s),g=cv(f);let w=d[g],y=d[f];const p=ws(l,e),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const v=g==="y"?"height":"width",S=o.reference[g]-o.floating[v]+b.mainAxis,j=o.reference[g]+o.reference[v]-b.mainAxis;w<S?w=S:w>j&&(w=j)}if(u){var x,m;const v=g==="y"?"width":"height",S=p1.has(Ss(s)),j=o.reference[f]-o.floating[v]+(S&&((x=a.offset)==null?void 0:x[f])||0)+(S?0:b.crossAxis),E=o.reference[f]+o.reference[v]+(S?0:((m=a.offset)==null?void 0:m[f])||0)-(S?b.crossAxis:0);y<j?y=j:y>E&&(y=E)}return{[g]:w,[f]:y}}}},QF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:a,elements:l}=e,{apply:c=()=>{},...u}=ws(t,e),d=await Cc(e,u),f=Ss(s),g=Ja(s),w=Ur(s)==="y",{width:y,height:p}=o.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=g==="end"?"top":"bottom");const m=p-d.top-d.bottom,v=y-d.left-d.right,S=gi(p-d[b],m),j=gi(y-d[x],v),E=!e.middlewareData.shift;let C=S,N=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=m),E&&!g){const k=Rn(d.left,0),_=Rn(d.right,0),D=Rn(d.top,0),L=Rn(d.bottom,0);w?N=y-2*(k!==0||_!==0?k+_:Rn(d.left,d.right)):C=p-2*(D!==0||L!==0?D+L:Rn(d.top,d.bottom))}await c({...e,availableWidth:N,availableHeight:C});const R=await a.getDimensions(l.floating);return y!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function Ih(){return typeof window<"u"}function Za(t){return g1(t)?(t.nodeName||"").toLowerCase():"#document"}function Pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jr(t){var e;return(e=(g1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function g1(t){return Ih()?t instanceof Node||t instanceof Pn(t).Node:!1}function jr(t){return Ih()?t instanceof Element||t instanceof Pn(t).Element:!1}function Qr(t){return Ih()?t instanceof HTMLElement||t instanceof Pn(t).HTMLElement:!1}function T0(t){return!Ih()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pn(t).ShadowRoot}const YF=new Set(["inline","contents"]);function Gc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!YF.has(s)}const XF=new Set(["table","td","th"]);function JF(t){return XF.has(Za(t))}const ZF=[":popover-open",":modal"];function Fh(t){return ZF.some(e=>{try{return t.matches(e)}catch{return!1}})}const e4=["transform","translate","scale","rotate","perspective"],t4=["transform","translate","scale","rotate","perspective","filter"],n4=["paint","layout","strict","content"];function hv(t){const e=fv(),n=jr(t)?Nr(t):t;return e4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||t4.some(r=>(n.willChange||"").includes(r))||n4.some(r=>(n.contain||"").includes(r))}function r4(t){let e=xi(t);for(;Qr(e)&&!Pa(e);){if(hv(e))return e;if(Fh(e))return null;e=xi(e)}return null}function fv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const s4=new Set(["html","body","#document"]);function Pa(t){return s4.has(Za(t))}function Nr(t){return Pn(t).getComputedStyle(t)}function Bh(t){return jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xi(t){if(Za(t)==="html")return t;const e=t.assignedSlot||t.parentNode||T0(t)&&t.host||Jr(t);return T0(e)?e.host:e}function x1(t){const e=xi(t);return Pa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qr(e)&&Gc(e)?e:x1(e)}function jc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=x1(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),a=Pn(s);if(o){const l=sg(a);return e.concat(a,a.visualViewport||[],Gc(s)?s:[],l&&n?jc(l):[])}return e.concat(s,jc(s,[],n))}function sg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function v1(t){const e=Nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qr(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Bd(n)!==o||Bd(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function mv(t){return jr(t)?t:t.contextElement}function oa(t){const e=mv(t);if(!Qr(e))return Hr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=v1(e);let a=(o?Bd(n.width):n.width)/r,l=(o?Bd(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const i4=Hr(0);function y1(t){const e=Pn(t);return!fv()||!e.visualViewport?i4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function o4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pn(t)?!1:e}function lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=mv(t);let a=Hr(1);e&&(r?jr(r)&&(a=oa(r)):a=oa(t));const l=o4(o,n,r)?y1(o):Hr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const g=Pn(o),w=r&&jr(r)?Pn(r):r;let y=g,p=sg(y);for(;p&&r&&w!==y;){const b=oa(p),x=p.getBoundingClientRect(),m=Nr(p),v=x.left+(p.clientLeft+parseFloat(m.paddingLeft))*b.x,S=x.top+(p.clientTop+parseFloat(m.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=v,u+=S,y=Pn(p),p=sg(y)}}return Ud({width:d,height:f,x:c,y:u})}function $h(t,e){const n=Bh(t).scrollLeft;return e?e.left+n:lo(Jr(t)).left+n}function b1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-$h(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function a4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",a=Jr(r),l=e?Fh(e.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Hr(1);const d=Hr(0),f=Qr(r);if((f||!f&&!o)&&((Za(r)!=="body"||Gc(a))&&(c=Bh(r)),Qr(r))){const w=lo(r);u=oa(r),d.x=w.x+r.clientLeft,d.y=w.y+r.clientTop}const g=a&&!f&&!o?b1(a,c):Hr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-c.scrollTop*u.y+d.y+g.y}}function l4(t){return Array.from(t.getClientRects())}function c4(t){const e=Jr(t),n=Bh(t),r=t.ownerDocument.body,s=Rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+$h(t);const l=-n.scrollTop;return Nr(r).direction==="rtl"&&(a+=Rn(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:l}}const D0=25;function u4(t,e){const n=Pn(t),r=Jr(t),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const d=fv();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=$h(r);if(u<=0){const d=r.ownerDocument,f=d.body,g=getComputedStyle(f),w=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-w);y<=D0&&(o-=y)}else u<=D0&&(o+=u);return{width:o,height:a,x:l,y:c}}const d4=new Set(["absolute","fixed"]);function h4(t,e){const n=lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Qr(t)?oa(t):Hr(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:a,height:l,x:c,y:u}}function P0(t,e,n){let r;if(e==="viewport")r=u4(t,n);else if(e==="document")r=c4(Jr(t));else if(jr(e))r=h4(e,n);else{const s=y1(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ud(r)}function w1(t,e){const n=xi(t);return n===e||!jr(n)||Pa(n)?!1:Nr(n).position==="fixed"||w1(n,e)}function f4(t,e){const n=e.get(t);if(n)return n;let r=jc(t,[],!1).filter(l=>jr(l)&&Za(l)!=="body"),s=null;const o=Nr(t).position==="fixed";let a=o?xi(t):t;for(;jr(a)&&!Pa(a);){const l=Nr(a),c=hv(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&d4.has(s.position)||Gc(a)&&!c&&w1(t,a))?r=r.filter(d=>d!==a):s=l,a=xi(a)}return e.set(t,r),r}function m4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Fh(e)?[]:f4(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=P0(e,d,s);return u.top=Rn(f.top,u.top),u.right=gi(f.right,u.right),u.bottom=gi(f.bottom,u.bottom),u.left=Rn(f.left,u.left),u},P0(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function p4(t){const{width:e,height:n}=v1(t);return{width:e,height:n}}function g4(t,e,n){const r=Qr(e),s=Jr(e),o=n==="fixed",a=lo(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Hr(0);function u(){c.x=$h(s)}if(r||!r&&!o)if((Za(e)!=="body"||Gc(s))&&(l=Bh(e)),r){const w=lo(e,!0,o,e);c.x=w.x+e.clientLeft,c.y=w.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?b1(s,l):Hr(0),f=a.left+l.scrollLeft-c.x-d.x,g=a.top+l.scrollTop-c.y-d.y;return{x:f,y:g,width:a.width,height:a.height}}function Hf(t){return Nr(t).position==="static"}function O0(t,e){if(!Qr(t)||Nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Jr(t)===n&&(n=n.ownerDocument.body),n}function S1(t,e){const n=Pn(t);if(Fh(t))return n;if(!Qr(t)){let s=xi(t);for(;s&&!Pa(s);){if(jr(s)&&!Hf(s))return s;s=xi(s)}return n}let r=O0(t,e);for(;r&&JF(r)&&Hf(r);)r=O0(r,e);return r&&Pa(r)&&Hf(r)&&!hv(r)?n:r||r4(t)||n}const x4=async function(t){const e=this.getOffsetParent||S1,n=this.getDimensions,r=await n(t.floating);return{reference:g4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function v4(t){return Nr(t).direction==="rtl"}const y4={convertOffsetParentRelativeRectToViewportRelativeRect:a4,getDocumentElement:Jr,getClippingRect:m4,getOffsetParent:S1,getElementRects:x4,getClientRects:l4,getDimensions:p4,getScale:oa,isElement:jr,isRTL:v4};function C1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function b4(t,e){let n=null,r;const s=Jr(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:g,height:w}=u;if(l||e(),!g||!w)return;const y=wu(f),p=wu(s.clientWidth-(d+g)),b=wu(s.clientHeight-(f+w)),x=wu(d),v={rootMargin:-y+"px "+-p+"px "+-b+"px "+-x+"px",threshold:Rn(0,gi(1,c))||1};let S=!0;function j(E){const C=E[0].intersectionRatio;if(C!==c){if(!S)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!C1(u,t.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(j,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,v)}n.observe(t)}return a(!0),o}function w4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=mv(t),d=s||o?[...u?jc(u):[],...jc(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=u&&l?b4(u,n):null;let g=-1,w=null;a&&(w=new ResizeObserver(x=>{let[m]=x;m&&m.target===u&&w&&(w.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var v;(v=w)==null||v.observe(e)})),n()}),u&&!c&&w.observe(u),w.observe(e));let y,p=c?lo(t):null;c&&b();function b(){const x=lo(t);p&&!C1(p,x)&&n(),p=x,y=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(m=>{s&&m.removeEventListener("scroll",n),o&&m.removeEventListener("resize",n)}),f==null||f(),(x=w)==null||x.disconnect(),w=null,c&&cancelAnimationFrame(y)}}const S4=HF,C4=KF,j4=qF,N4=QF,E4=WF,L0=zF,_4=GF,A4=(t,e,n)=>{const r=new Map,s={platform:y4,...n},o={...s.platform,_c:r};return UF(t,e,{...s,platform:o})};var k4=typeof document<"u",R4=function(){},Xu=k4?h.useLayoutEffect:R4;function zd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!zd(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function j1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function M0(t,e){const n=j1(t);return Math.round(e*n)/n}function Kf(t){const e=h.useRef(t);return Xu(()=>{e.current=t}),e}function T4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,w]=h.useState(r);zd(g,r)||w(r);const[y,p]=h.useState(null),[b,x]=h.useState(null),m=h.useCallback(M=>{M!==E.current&&(E.current=M,p(M))},[]),v=h.useCallback(M=>{M!==C.current&&(C.current=M,x(M))},[]),S=o||y,j=a||b,E=h.useRef(null),C=h.useRef(null),N=h.useRef(d),R=c!=null,k=Kf(c),_=Kf(s),D=Kf(u),L=h.useCallback(()=>{if(!E.current||!C.current)return;const M={placement:e,strategy:n,middleware:g};_.current&&(M.platform=_.current),A4(E.current,C.current,M).then(U=>{const Y={...U,isPositioned:D.current!==!1};q.current&&!zd(N.current,Y)&&(N.current=Y,xr.flushSync(()=>{f(Y)}))})},[g,e,n,_,D]);Xu(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const q=h.useRef(!1);Xu(()=>(q.current=!0,()=>{q.current=!1}),[]),Xu(()=>{if(S&&(E.current=S),j&&(C.current=j),S&&j){if(k.current)return k.current(S,j,L);L()}},[S,j,L,k,R]);const I=h.useMemo(()=>({reference:E,floating:C,setReference:m,setFloating:v}),[m,v]),F=h.useMemo(()=>({reference:S,floating:j}),[S,j]),$=h.useMemo(()=>{const M={position:n,left:0,top:0};if(!F.floating)return M;const U=M0(F.floating,d.x),Y=M0(F.floating,d.y);return l?{...M,transform:"translate("+U+"px, "+Y+"px)",...j1(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:Y}},[n,l,F.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:L,refs:I,elements:F,floatingStyles:$}),[d,L,I,F,$])}const D4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?L0({element:r.current,padding:s}).fn(n):{}:r?L0({element:r,padding:s}).fn(n):{}}}},P4=(t,e)=>({...S4(t),options:[t,e]}),O4=(t,e)=>({...C4(t),options:[t,e]}),L4=(t,e)=>({..._4(t),options:[t,e]}),M4=(t,e)=>({...j4(t),options:[t,e]}),I4=(t,e)=>({...N4(t),options:[t,e]}),F4=(t,e)=>({...E4(t),options:[t,e]}),B4=(t,e)=>({...D4(t),options:[t,e]});var $4="Arrow",N1=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return i.jsx(Se.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});N1.displayName=$4;var U4=N1,pv="Popper",[E1,_1]=_r(pv),[z4,A1]=E1(pv),k1=t=>{const{__scopePopper:e,children:n}=t,[r,s]=h.useState(null);return i.jsx(z4,{scope:e,anchor:r,onAnchorChange:s,children:n})};k1.displayName=pv;var R1="PopperAnchor",T1=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=A1(R1,n),a=h.useRef(null),l=qe(e,a),c=h.useRef(null);return h.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:i.jsx(Se.div,{...s,ref:l})});T1.displayName=R1;var gv="PopperContent",[q4,W4]=E1(gv),D1=h.forwardRef((t,e)=>{var A,z,G,H,re,oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:y,...p}=t,b=A1(gv,n),[x,m]=h.useState(null),v=qe(e,me=>m(me)),[S,j]=h.useState(null),E=iv(S),C=(E==null?void 0:E.width)??0,N=(E==null?void 0:E.height)??0,R=r+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},_=Array.isArray(u)?u:[u],D=_.length>0,L={padding:k,boundary:_.filter(H4),altBoundary:D},{refs:q,floatingStyles:I,placement:F,isPositioned:$,middlewareData:M}=T4({strategy:"fixed",placement:R,whileElementsMounted:(...me)=>w4(...me,{animationFrame:w==="always"}),elements:{reference:b.anchor},middleware:[P4({mainAxis:s+N,alignmentAxis:a}),c&&O4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?L4():void 0,...L}),c&&M4({...L}),I4({...L,apply:({elements:me,rects:K,availableWidth:ie,availableHeight:pe})=>{const{width:ye,height:We}=K.reference,De=me.floating.style;De.setProperty("--radix-popper-available-width",`${ie}px`),De.setProperty("--radix-popper-available-height",`${pe}px`),De.setProperty("--radix-popper-anchor-width",`${ye}px`),De.setProperty("--radix-popper-anchor-height",`${We}px`)}}),S&&B4({element:S,padding:l}),K4({arrowWidth:C,arrowHeight:N}),g&&F4({strategy:"referenceHidden",...L})]}),[U,Y]=L1(F),ee=pi(y);Ut(()=>{$&&(ee==null||ee())},[$,ee]);const Z=(A=M.arrow)==null?void 0:A.x,ve=(z=M.arrow)==null?void 0:z.y,ue=((G=M.arrow)==null?void 0:G.centerOffset)!==0,[Be,T]=h.useState();return Ut(()=>{x&&T(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:$?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Be,"--radix-popper-transform-origin":[(H=M.transformOrigin)==null?void 0:H.x,(re=M.transformOrigin)==null?void 0:re.y].join(" "),...((oe=M.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(q4,{scope:n,placedSide:U,onArrowChange:j,arrowX:Z,arrowY:ve,shouldHideArrow:ue,children:i.jsx(Se.div,{"data-side":U,"data-align":Y,...p,ref:v,style:{...p.style,animation:$?void 0:"none"}})})})});D1.displayName=gv;var P1="PopperArrow",V4={top:"bottom",right:"left",bottom:"top",left:"right"},O1=h.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=W4(P1,r),a=V4[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(U4,{...s,ref:n,style:{...s.style,display:"block"}})})});O1.displayName=P1;function H4(t){return t!==null}var K4=t=>({name:"transformOrigin",options:t,fn(e){var b,x,m;const{placement:n,rects:r,middlewareData:s}=e,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=L1(n),f={start:"0%",center:"50%",end:"100%"}[d],g=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,w=(((m=s.arrow)==null?void 0:m.y)??0)+c/2;let y="",p="";return u==="bottom"?(y=a?f:`${g}px`,p=`${-c}px`):u==="top"?(y=a?f:`${g}px`,p=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,p=a?f:`${w}px`):u==="left"&&(y=`${r.floating.width+c}px`,p=a?f:`${w}px`),{data:{x:y,y:p}}}});function L1(t){const[e,n="center"]=t.split("-");return[e,n]}var G4=k1,Q4=T1,Y4=D1,X4=O1,J4="Portal",xv=h.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,o]=h.useState(!1);Ut(()=>o(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?QT.createPortal(i.jsx(Se.div,{...r,ref:e}),a):null});xv.displayName=J4;function Z4(t){const e=e3(t),n=h.forwardRef((r,s)=>{const{children:o,...a}=r,l=h.Children.toArray(o),c=l.find(n3);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function e3(t){const e=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const a=s3(s),l=r3(o,s.props);return s.type!==h.Fragment&&(l.ref=r?Va(r,a):a),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var t3=Symbol("radix.slottable");function n3(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===t3}function r3(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function s3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var M1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),i3="VisuallyHidden",o3=h.forwardRef((t,e)=>i.jsx(Se.span,{...t,ref:e,style:{...M1,...t.style}}));o3.displayName=i3;var a3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Do=new WeakMap,Su=new WeakMap,Cu={},Gf=0,I1=function(t){return t&&(t.host||I1(t.parentNode))},l3=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=I1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},c3=function(t,e,n,r){var s=l3(e,Array.isArray(t)?t:[t]);Cu[n]||(Cu[n]=new WeakMap);var o=Cu[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))d(g);else try{var w=g.getAttribute(r),y=w!==null&&w!=="false",p=(Do.get(g)||0)+1,b=(o.get(g)||0)+1;Do.set(g,p),o.set(g,b),a.push(g),p===1&&y&&Su.set(g,!0),b===1&&g.setAttribute(n,"true"),y||g.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",g,x)}})};return d(e),l.clear(),Gf++,function(){a.forEach(function(f){var g=Do.get(f)-1,w=o.get(f)-1;Do.set(f,g),o.set(f,w),g||(Su.has(f)||f.removeAttribute(r),Su.delete(f)),w||f.removeAttribute(n)}),Gf--,Gf||(Do=new WeakMap,Do=new WeakMap,Su=new WeakMap,Cu={})}},F1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=a3(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),c3(r,s,n,"aria-hidden")):function(){return null}},$r=function(){return $r=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$r.apply(this,arguments)};function B1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function u3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ju="right-scroll-bar-position",Zu="width-before-scroll-bar",d3="with-scroll-bars-hidden",h3="--removed-body-scroll-bar-size";function Qf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function f3(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var m3=typeof window<"u"?h.useLayoutEffect:h.useEffect,I0=new WeakMap;function p3(t,e){var n=f3(null,function(r){return t.forEach(function(s){return Qf(s,r)})});return m3(function(){var r=I0.get(n);if(r){var s=new Set(r),o=new Set(t),a=n.current;s.forEach(function(l){o.has(l)||Qf(l,null)}),o.forEach(function(l){s.has(l)||Qf(l,a)})}I0.set(n,t)},[t]),n}function g3(t){return t}function x3(t,e){e===void 0&&(e=g3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function v3(t){t===void 0&&(t={});var e=x3(null);return e.options=$r({async:!0,ssr:!1},t),e}var $1=function(t){var e=t.sideCar,n=B1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,$r({},n))};$1.isSideCarExport=!0;function y3(t,e){return t.useMedium(e),$1}var U1=v3(),Yf=function(){},Uh=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:Yf,onWheelCapture:Yf,onTouchMoveCapture:Yf}),s=r[0],o=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,w=t.noRelative,y=t.noIsolation,p=t.inert,b=t.allowPinchZoom,x=t.as,m=x===void 0?"div":x,v=t.gapMode,S=B1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=g,E=p3([n,e]),C=$r($r({},S),s);return h.createElement(h.Fragment,null,d&&h.createElement(j,{sideCar:U1,removeScrollBar:u,shards:f,noRelative:w,noIsolation:y,inert:p,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:v}),a?h.cloneElement(h.Children.only(l),$r($r({},C),{ref:E})):h.createElement(m,$r({},C,{className:c,ref:E}),l))});Uh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uh.classNames={fullWidth:Zu,zeroRight:Ju};var b3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=b3();return e&&t.setAttribute("nonce",e),t}function S3(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function C3(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var j3=function(){var t=0,e=null;return{add:function(n){t==0&&(e=w3())&&(S3(e,n),C3(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},N3=function(){var t=j3();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},z1=function(){var t=N3(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},E3={left:0,top:0,right:0,gap:0},Xf=function(t){return parseInt(t||"",10)||0},_3=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Xf(n),Xf(r),Xf(s)]},A3=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return E3;var e=_3(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},k3=z1(),aa="data-scroll-locked",R3=function(t,e,n,r){var s=t.left,o=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(d3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ju,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Zu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ju," .").concat(Ju,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(aa,`] {
    `).concat(h3,": ").concat(l,`px;
  }
`)},F0=function(){var t=parseInt(document.body.getAttribute(aa)||"0",10);return isFinite(t)?t:0},T3=function(){h.useEffect(function(){return document.body.setAttribute(aa,(F0()+1).toString()),function(){var t=F0()-1;t<=0?document.body.removeAttribute(aa):document.body.setAttribute(aa,t.toString())}},[])},D3=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;T3();var o=h.useMemo(function(){return A3(s)},[s]);return h.createElement(k3,{styles:R3(o,!e,s,n?"":"!important")})},ig=!1;if(typeof window<"u")try{var ju=Object.defineProperty({},"passive",{get:function(){return ig=!0,!0}});window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{ig=!1}var Po=ig?{passive:!1}:!1,P3=function(t){return t.tagName==="TEXTAREA"},q1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!P3(t)&&n[e]==="visible")},O3=function(t){return q1(t,"overflowY")},L3=function(t){return q1(t,"overflowX")},B0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=W1(t,r);if(s){var o=V1(t,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},M3=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},I3=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},W1=function(t,e){return t==="v"?O3(e):L3(e)},V1=function(t,e){return t==="v"?M3(e):I3(e)},F3=function(t,e){return t==="h"&&e==="rtl"?-1:1},B3=function(t,e,n,r,s){var o=F3(t,window.getComputedStyle(e).direction),a=o*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,g=0;do{if(!l)break;var w=V1(t,l),y=w[0],p=w[1],b=w[2],x=p-b-o*y;(y||x)&&W1(t,l)&&(f+=x,g+=y);var m=l.parentNode;l=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(g)<1)&&(u=!0),u},Nu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$0=function(t){return[t.deltaX,t.deltaY]},U0=function(t){return t&&"current"in t?t.current:t},$3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},U3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},z3=0,Oo=[];function q3(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(z3++)[0],o=h.useState(z1)[0],a=h.useRef(t);h.useEffect(function(){a.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=u3([t.lockRef.current],(t.shards||[]).map(U0),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=h.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!a.current.allowPinchZoom;var x=Nu(p),m=n.current,v="deltaX"in p?p.deltaX:m[0]-x[0],S="deltaY"in p?p.deltaY:m[1]-x[1],j,E=p.target,C=Math.abs(v)>Math.abs(S)?"h":"v";if("touches"in p&&C==="h"&&E.type==="range")return!1;var N=window.getSelection(),R=N&&N.anchorNode,k=R?R===E||R.contains(E):!1;if(k)return!1;var _=B0(C,E);if(!_)return!0;if(_?j=C:(j=C==="v"?"h":"v",_=B0(C,E)),!_)return!1;if(!r.current&&"changedTouches"in p&&(v||S)&&(r.current=j),!j)return!0;var D=r.current||j;return B3(D,b,p,D==="h"?v:S)},[]),c=h.useCallback(function(p){var b=p;if(!(!Oo.length||Oo[Oo.length-1]!==o)){var x="deltaY"in b?$0(b):Nu(b),m=e.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&$3(j.delta,x)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var v=(a.current.shards||[]).map(U0).filter(Boolean).filter(function(j){return j.contains(b.target)}),S=v.length>0?l(b,v[0]):!a.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=h.useCallback(function(p,b,x,m){var v={name:p,delta:b,target:x,should:m,shadowParent:W3(x)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(S){return S!==v})},1)},[]),d=h.useCallback(function(p){n.current=Nu(p),r.current=void 0},[]),f=h.useCallback(function(p){u(p.type,$0(p),p.target,l(p,t.lockRef.current))},[]),g=h.useCallback(function(p){u(p.type,Nu(p),p.target,l(p,t.lockRef.current))},[]);h.useEffect(function(){return Oo.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Po),document.addEventListener("touchmove",c,Po),document.addEventListener("touchstart",d,Po),function(){Oo=Oo.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,Po),document.removeEventListener("touchmove",c,Po),document.removeEventListener("touchstart",d,Po)}},[]);var w=t.removeScrollBar,y=t.inert;return h.createElement(h.Fragment,null,y?h.createElement(o,{styles:U3(s)}):null,w?h.createElement(D3,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function W3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const V3=y3(U1,q3);var vv=h.forwardRef(function(t,e){return h.createElement(Uh,$r({},t,{ref:e,sideCar:V3}))});vv.classNames=Uh.classNames;var H3=[" ","Enter","ArrowUp","ArrowDown"],K3=[" ","Enter"],co="Select",[zh,qh,G3]=ov(co),[el]=_r(co,[G3,_1]),Wh=_1(),[Q3,ji]=el(co),[Y3,X3]=el(co),H1=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:w,form:y}=t,p=Wh(e),[b,x]=h.useState(null),[m,v]=h.useState(null),[S,j]=h.useState(!1),E=Mh(u),[C,N]=Gr({prop:r,defaultProp:s??!1,onChange:o,caller:co}),[R,k]=Gr({prop:a,defaultProp:l,onChange:c,caller:co}),_=h.useRef(null),D=b?y||!!b.closest("form"):!0,[L,q]=h.useState(new Set),I=Array.from(L).map(F=>F.props.value).join(";");return i.jsx(G4,{...p,children:i.jsxs(Q3,{required:w,scope:e,trigger:b,onTriggerChange:x,valueNode:m,onValueNodeChange:v,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Vr(),value:R,onValueChange:k,open:C,onOpenChange:N,dir:E,triggerPointerDownPosRef:_,disabled:g,children:[i.jsx(zh.Provider,{scope:e,children:i.jsx(Y3,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(F=>{q($=>new Set($).add(F))},[]),onNativeOptionRemove:h.useCallback(F=>{q($=>{const M=new Set($);return M.delete(F),M})},[]),children:n})}),D?i.jsxs(gE,{"aria-hidden":!0,required:w,tabIndex:-1,name:d,autoComplete:f,value:R,onChange:F=>k(F.target.value),disabled:g,form:y,children:[R===void 0?i.jsx("option",{value:""}):null,Array.from(L)]},I):null]})})};H1.displayName=co;var K1="SelectTrigger",G1=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Wh(n),a=ji(K1,n),l=a.disabled||r,c=qe(e,a.onTriggerChange),u=qh(n),d=h.useRef("touch"),[f,g,w]=vE(p=>{const b=u().filter(v=>!v.disabled),x=b.find(v=>v.value===a.value),m=yE(b,p,x);m!==void 0&&a.onValueChange(m.value)}),y=p=>{l||(a.onOpenChange(!0),w()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Q4,{asChild:!0,...o,children:i.jsx(Se.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":xE(a.value)?"":void 0,...s,ref:c,onClick:Ee(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&y(p)}),onPointerDown:Ee(s.onPointerDown,p=>{d.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:Ee(s.onKeyDown,p=>{const b=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&g(p.key),!(b&&p.key===" ")&&H3.includes(p.key)&&(y(),p.preventDefault())})})})});G1.displayName=K1;var Q1="SelectValue",Y1=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...l}=t,c=ji(Q1,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=qe(e,c.onValueNodeChange);return Ut(()=>{u(d)},[u,d]),i.jsx(Se.span,{...l,ref:f,style:{pointerEvents:"none"},children:xE(c.value)?i.jsx(i.Fragment,{children:a}):o})});Y1.displayName=Q1;var J3="SelectIcon",X1=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return i.jsx(Se.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});X1.displayName=J3;var Z3="SelectPortal",J1=t=>i.jsx(xv,{asChild:!0,...t});J1.displayName=Z3;var uo="SelectContent",Z1=h.forwardRef((t,e)=>{const n=ji(uo,t.__scopeSelect),[r,s]=h.useState();if(Ut(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?xr.createPortal(i.jsx(eE,{scope:t.__scopeSelect,children:i.jsx(zh.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),o):null}return i.jsx(tE,{...t,ref:e})});Z1.displayName=uo;var ur=10,[eE,Ni]=el(uo),eB="SelectContentImpl",tB=Z4("SelectContent.RemoveScroll"),tE=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:p,avoidCollisions:b,...x}=t,m=ji(uo,n),[v,S]=h.useState(null),[j,E]=h.useState(null),C=qe(e,A=>S(A)),[N,R]=h.useState(null),[k,_]=h.useState(null),D=qh(n),[L,q]=h.useState(!1),I=h.useRef(!1);h.useEffect(()=>{if(v)return F1(v)},[v]),h1();const F=h.useCallback(A=>{const[z,...G]=D().map(oe=>oe.ref.current),[H]=G.slice(-1),re=document.activeElement;for(const oe of A)if(oe===re||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===z&&j&&(j.scrollTop=0),oe===H&&j&&(j.scrollTop=j.scrollHeight),oe==null||oe.focus(),document.activeElement!==re))return},[D,j]),$=h.useCallback(()=>F([N,v]),[F,N,v]);h.useEffect(()=>{L&&$()},[L,$]);const{onOpenChange:M,triggerPointerDownPosRef:U}=m;h.useEffect(()=>{if(v){let A={x:0,y:0};const z=H=>{var re,oe;A={x:Math.abs(Math.round(H.pageX)-(((re=U.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(H.pageY)-(((oe=U.current)==null?void 0:oe.y)??0))}},G=H=>{A.x<=10&&A.y<=10?H.preventDefault():v.contains(H.target)||M(!1),document.removeEventListener("pointermove",z),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",G,{capture:!0})}}},[v,M,U]),h.useEffect(()=>{const A=()=>M(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[M]);const[Y,ee]=vE(A=>{const z=D().filter(re=>!re.disabled),G=z.find(re=>re.ref.current===document.activeElement),H=yE(z,A,G);H&&setTimeout(()=>H.ref.current.focus())}),Z=h.useCallback((A,z,G)=>{const H=!I.current&&!G;(m.value!==void 0&&m.value===z||H)&&(R(A),H&&(I.current=!0))},[m.value]),ve=h.useCallback(()=>v==null?void 0:v.focus(),[v]),ue=h.useCallback((A,z,G)=>{const H=!I.current&&!G;(m.value!==void 0&&m.value===z||H)&&_(A)},[m.value]),Be=r==="popper"?og:nE,T=Be===og?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:p,avoidCollisions:b}:{};return i.jsx(eE,{scope:n,content:v,viewport:j,onViewportChange:E,itemRefCallback:Z,selectedItem:N,onItemLeave:ve,itemTextRefCallback:ue,focusSelectedItem:$,selectedItemText:k,position:r,isPositioned:L,searchRef:Y,children:i.jsx(vv,{as:tB,allowPinchZoom:!0,children:i.jsx(lv,{asChild:!0,trapped:m.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:Ee(s,A=>{var z;(z=m.trigger)==null||z.focus({preventScroll:!0}),A.preventDefault()}),children:i.jsx(av,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:i.jsx(Be,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:A=>A.preventDefault(),...x,...T,onPlaced:()=>q(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ee(x.onKeyDown,A=>{const z=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!z&&A.key.length===1&&ee(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let H=D().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(A.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const re=A.target,oe=H.indexOf(re);H=H.slice(oe+1)}setTimeout(()=>F(H)),A.preventDefault()}})})})})})})});tE.displayName=eB;var nB="SelectItemAlignedPosition",nE=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=ji(uo,n),a=Ni(uo,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=qe(e,C=>d(C)),g=qh(n),w=h.useRef(!1),y=h.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:x,focusSelectedItem:m}=a,v=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&b&&x){const C=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(o.dir!=="rtl"){const re=k.left-N.left,oe=R.left-re,me=C.left-oe,K=C.width+me,ie=Math.max(K,N.width),pe=window.innerWidth-ur,ye=x0(oe,[ur,Math.max(ur,pe-ie)]);l.style.minWidth=K+"px",l.style.left=ye+"px"}else{const re=N.right-k.right,oe=window.innerWidth-R.right-re,me=window.innerWidth-C.right-oe,K=C.width+me,ie=Math.max(K,N.width),pe=window.innerWidth-ur,ye=x0(oe,[ur,Math.max(ur,pe-ie)]);l.style.minWidth=K+"px",l.style.right=ye+"px"}const _=g(),D=window.innerHeight-ur*2,L=p.scrollHeight,q=window.getComputedStyle(u),I=parseInt(q.borderTopWidth,10),F=parseInt(q.paddingTop,10),$=parseInt(q.borderBottomWidth,10),M=parseInt(q.paddingBottom,10),U=I+F+L+M+$,Y=Math.min(b.offsetHeight*5,U),ee=window.getComputedStyle(p),Z=parseInt(ee.paddingTop,10),ve=parseInt(ee.paddingBottom,10),ue=C.top+C.height/2-ur,Be=D-ue,T=b.offsetHeight/2,A=b.offsetTop+T,z=I+F+A,G=U-z;if(z<=ue){const re=_.length>0&&b===_[_.length-1].ref.current;l.style.bottom="0px";const oe=u.clientHeight-p.offsetTop-p.offsetHeight,me=Math.max(Be,T+(re?ve:0)+oe+$),K=z+me;l.style.height=K+"px"}else{const re=_.length>0&&b===_[0].ref.current;l.style.top="0px";const me=Math.max(ue,I+p.offsetTop+(re?Z:0)+T)+G;l.style.height=me+"px",p.scrollTop=z-ue+p.offsetTop}l.style.margin=`${ur}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[g,o.trigger,o.valueNode,l,u,p,b,x,o.dir,r]);Ut(()=>v(),[v]);const[S,j]=h.useState();Ut(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(C=>{C&&y.current===!0&&(v(),m==null||m(),y.current=!1)},[v,m]);return i.jsx(sB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:E,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nE.displayName=nB;var rB="SelectPopperPosition",og=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ur,...o}=t,a=Wh(n);return i.jsx(Y4,{...a,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});og.displayName=rB;var[sB,yv]=el(uo,{}),ag="SelectViewport",rE=h.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Ni(ag,n),a=yv(ag,n),l=qe(e,o.onViewportChange),c=h.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(zh.Slot,{scope:n,children:i.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&f){const w=Math.abs(c.current-d.scrollTop);if(w>0){const y=window.innerHeight-ur*2,p=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(p,b);if(x<y){const m=x+w,v=Math.min(y,m),S=m-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});rE.displayName=ag;var sE="SelectGroup",[iB,oB]=el(sE),aB=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vr();return i.jsx(iB,{scope:n,id:s,children:i.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});aB.displayName=sE;var iE="SelectLabel",oE=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=oB(iE,n);return i.jsx(Se.div,{id:s.id,...r,ref:e})});oE.displayName=iE;var qd="SelectItem",[lB,aE]=el(qd),lE=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=t,l=ji(qd,n),c=Ni(qd,n),u=l.value===r,[d,f]=h.useState(o??""),[g,w]=h.useState(!1),y=qe(e,m=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,m,r,s)}),p=Vr(),b=h.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(lB,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:h.useCallback(m=>{f(v=>v||((m==null?void 0:m.textContent)??"").trim())},[]),children:i.jsx(zh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(Se.div,{role:"option","aria-labelledby":p,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:Ee(a.onFocus,()=>w(!0)),onBlur:Ee(a.onBlur,()=>w(!1)),onClick:Ee(a.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:Ee(a.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:Ee(a.onPointerDown,m=>{b.current=m.pointerType}),onPointerMove:Ee(a.onPointerMove,m=>{var v;b.current=m.pointerType,s?(v=c.onItemLeave)==null||v.call(c):b.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(a.onPointerLeave,m=>{var v;m.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Ee(a.onKeyDown,m=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&m.key===" "||(K3.includes(m.key)&&x(),m.key===" "&&m.preventDefault())})})})})});lE.displayName=qd;var kl="SelectItemText",cE=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,a=ji(kl,n),l=Ni(kl,n),c=aE(kl,n),u=X3(kl,n),[d,f]=h.useState(null),g=qe(e,x=>f(x),c.onItemTextChange,x=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,x,c.value,c.disabled)}),w=d==null?void 0:d.textContent,y=h.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=u;return Ut(()=>(p(y),()=>b(y)),[p,b,y]),i.jsxs(i.Fragment,{children:[i.jsx(Se.span,{id:c.textId,...o,ref:g}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?xr.createPortal(o.children,a.valueNode):null]})});cE.displayName=kl;var uE="SelectItemIndicator",dE=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return aE(uE,n).isSelected?i.jsx(Se.span,{"aria-hidden":!0,...r,ref:e}):null});dE.displayName=uE;var lg="SelectScrollUpButton",hE=h.forwardRef((t,e)=>{const n=Ni(lg,t.__scopeSelect),r=yv(lg,t.__scopeSelect),[s,o]=h.useState(!1),a=qe(e,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(mE,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});hE.displayName=lg;var cg="SelectScrollDownButton",fE=h.forwardRef((t,e)=>{const n=Ni(cg,t.__scopeSelect),r=yv(cg,t.__scopeSelect),[s,o]=h.useState(!1),a=qe(e,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(mE,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fE.displayName=cg;var mE=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Ni("SelectScrollButton",n),a=h.useRef(null),l=qh(n),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Ut(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{c()})})}),cB="SelectSeparator",pE=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return i.jsx(Se.div,{"aria-hidden":!0,...r,ref:e})});pE.displayName=cB;var ug="SelectArrow",uB=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wh(n),o=ji(ug,n),a=Ni(ug,n);return o.open&&a.position==="popper"?i.jsx(X4,{...s,...r,ref:e}):null});uB.displayName=ug;var dB="SelectBubbleInput",gE=h.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=h.useRef(null),o=qe(r,s),a=sv(e);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),i.jsx(Se.select,{...n,style:{...M1,...n.style},ref:o,defaultValue:e})});gE.displayName=dB;function xE(t){return t===""||t===void 0}function vE(t){const e=pi(t),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function yE(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=hB(t,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function hB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fB=H1,bE=G1,mB=Y1,pB=X1,gB=J1,wE=Z1,xB=rE,SE=oE,CE=lE,vB=cE,yB=dE,jE=hE,NE=fE,EE=pE;const Vt=fB,Ht=mB,It=h.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(bE,{ref:r,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,i.jsx(pB,{asChild:!0,children:i.jsx(qx,{className:"h-4 w-4 opacity-50"})})]}));It.displayName=bE.displayName;const _E=h.forwardRef(({className:t,...e},n)=>i.jsx(jE,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(UL,{className:"h-4 w-4"})}));_E.displayName=jE.displayName;const AE=h.forwardRef(({className:t,...e},n)=>i.jsx(NE,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(qx,{className:"h-4 w-4"})}));AE.displayName=NE.displayName;const Ft=h.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>i.jsx(gB,{children:i.jsxs(wE,{ref:s,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[i.jsx(_E,{}),i.jsx(xB,{className:fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(AE,{})]})}));Ft.displayName=wE.displayName;const bB=h.forwardRef(({className:t,...e},n)=>i.jsx(SE,{ref:n,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));bB.displayName=SE.displayName;const ae=h.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(CE,{ref:r,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(yB,{children:i.jsx(Br,{className:"h-4 w-4"})})}),i.jsx(vB,{children:e})]}));ae.displayName=CE.displayName;const wB=h.forwardRef(({className:t,...e},n)=>i.jsx(EE,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));wB.displayName=EE.displayName;const tt=h.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));tt.displayName="Textarea";const SB=Ah("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Wd=h.forwardRef(({className:t,variant:e,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:fe(SB({variant:e}),t),...n}));Wd.displayName="Alert";const CB=h.forwardRef(({className:t,...e},n)=>i.jsx("h5",{ref:n,className:fe("mb-1 font-medium leading-none tracking-tight",t),...e}));CB.displayName="AlertTitle";const Vd=h.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:fe("text-sm [&_p]:leading-relaxed",t),...e}));Vd.displayName="AlertDescription";function jB(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var wo=t=>{const{present:e,children:n}=t,r=NB(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=qe(r.ref,EB(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};wo.displayName="Presence";function NB(t){const[e,n]=h.useState(),r=h.useRef(null),s=h.useRef(t),o=h.useRef("none"),a=t?"mounted":"unmounted",[l,c]=jB(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Eu(r.current);o.current=l==="mounted"?u:"none"},[l]),Ut(()=>{const u=r.current,d=s.current;if(d!==t){const g=o.current,w=Eu(u);t?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ut(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=w=>{const p=Eu(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&p&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},g=w=>{w.target===e&&(o.current=Eu(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Eu(t){return(t==null?void 0:t.animationName)||"none"}function EB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _B(t){const e=AB(t),n=h.forwardRef((r,s)=>{const{children:o,...a}=r,l=h.Children.toArray(o),c=l.find(RB);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function AB(t){const e=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const a=DB(s),l=TB(o,s.props);return s.type!==h.Fragment&&(l.ref=r?Va(r,a):a),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kB=Symbol("radix.slottable");function RB(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kB}function TB(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function DB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Vh="Dialog",[kE,RE]=_r(Vh),[PB,Ar]=kE(Vh),TE=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=h.useRef(null),c=h.useRef(null),[u,d]=Gr({prop:r,defaultProp:s??!1,onChange:o,caller:Vh});return i.jsx(PB,{scope:e,triggerRef:l,contentRef:c,contentId:Vr(),titleId:Vr(),descriptionId:Vr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};TE.displayName=Vh;var DE="DialogTrigger",PE=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ar(DE,n),o=qe(e,s.triggerRef);return i.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Sv(s.open),...r,ref:o,onClick:Ee(t.onClick,s.onOpenToggle)})});PE.displayName=DE;var bv="DialogPortal",[OB,OE]=kE(bv,{forceMount:void 0}),LE=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Ar(bv,e);return i.jsx(OB,{scope:e,forceMount:n,children:h.Children.map(r,a=>i.jsx(wo,{present:n||o.open,children:i.jsx(xv,{asChild:!0,container:s,children:a})}))})};LE.displayName=bv;var Hd="DialogOverlay",ME=h.forwardRef((t,e)=>{const n=OE(Hd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ar(Hd,t.__scopeDialog);return o.modal?i.jsx(wo,{present:r||o.open,children:i.jsx(MB,{...s,ref:e})}):null});ME.displayName=Hd;var LB=_B("DialogOverlay.RemoveScroll"),MB=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ar(Hd,n);return i.jsx(vv,{as:LB,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Se.div,{"data-state":Sv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ho="DialogContent",IE=h.forwardRef((t,e)=>{const n=OE(ho,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ar(ho,t.__scopeDialog);return i.jsx(wo,{present:r||o.open,children:o.modal?i.jsx(IB,{...s,ref:e}):i.jsx(FB,{...s,ref:e})})});IE.displayName=ho;var IB=h.forwardRef((t,e)=>{const n=Ar(ho,t.__scopeDialog),r=h.useRef(null),s=qe(e,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return F1(o)},[]),i.jsx(FE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault())})}),FB=h.forwardRef((t,e)=>{const n=Ar(ho,t.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return i.jsx(FE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),FE=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,l=Ar(ho,n),c=h.useRef(null),u=qe(e,c);return h1(),i.jsxs(i.Fragment,{children:[i.jsx(lv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(av,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Sv(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx($B,{titleId:l.titleId}),i.jsx(zB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wv="DialogTitle",BE=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ar(wv,n);return i.jsx(Se.h2,{id:s.titleId,...r,ref:e})});BE.displayName=wv;var $E="DialogDescription",UE=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ar($E,n);return i.jsx(Se.p,{id:s.descriptionId,...r,ref:e})});UE.displayName=$E;var zE="DialogClose",qE=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ar(zE,n);return i.jsx(Se.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>s.onOpenChange(!1))})});qE.displayName=zE;function Sv(t){return t?"open":"closed"}var WE="DialogTitleWarning",[BB,VE]=qI(WE,{contentName:ho,titleName:wv,docsSlug:"dialog"}),$B=({titleId:t})=>{const e=VE(WE),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},UB="DialogDescriptionWarning",zB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VE(UB).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},HE=TE,KE=PE,GE=LE,Cv=ME,jv=IE,Nv=BE,Ev=UE,_v=qE;const dg=HE,QE=KE,qB=GE,YE=h.forwardRef(({className:t,...e},n)=>i.jsx(Cv,{ref:n,className:fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));YE.displayName=Cv.displayName;const Kd=h.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(qB,{children:[i.jsx(YE,{}),i.jsxs(jv,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,i.jsxs(_v,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Zn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kd.displayName=jv.displayName;const Av=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Av.displayName="DialogHeader";const XE=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});XE.displayName="DialogFooter";const kv=h.forwardRef(({className:t,...e},n)=>i.jsx(Nv,{ref:n,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));kv.displayName=Nv.displayName;const Rv=h.forwardRef(({className:t,...e},n)=>i.jsx(Ev,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Rv.displayName=Ev.displayName;const JE=["active","development","hot_deal","off_market","land"],WB=["for_sale","sold","reserved"],VB=["USD","MXN","EUR"],z0=["apartment","house","villa","condo","penthouse","land","commercial"],HB=["furnished","semi-furnished","unfurnished"],q0=["studio","1","2","3","4","5+"],W0=["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"],KB={title:255,subtitle:255,neighborhood:255,city:100,state:100,country:100,seo_title:160,seo_description:320,og_title:160,og_description:320},GB=new Set(["title","subtitle","property_type","status","property_categories","description","content","bedrooms","bedrooms_min","bedrooms_max","bathrooms","bathrooms_min","bathrooms_max","sqm","sqft","sqm_min","sqm_max","sqft_min","sqft_max","lot_size_sqm","year_built","furnishing_status","tags","address","neighborhood","city","state","country","google_maps_url","price_base_currency","price_usd","price_mxn","price_on_demand","price_negotiable","price_from_usd","price_to_usd","price_from_mxn","price_to_mxn","seo_title","seo_description","og_title","og_description","featured","slug","property_id_reference","property_category","latitude","longitude","seo_keywords","is_active","show_in_home","order","views_count","internal_notes","exchange_rate"]),QB=["title","property_type","status","city","country"],ZE=new Set(["price_usd","price_mxn","price_from_usd","price_to_usd","price_from_mxn","price_to_mxn","sqm","sqft","sqm_min","sqm_max","sqft_min","sqft_max","lot_size_sqm","year_built","exchange_rate","latitude","longitude","order","views_count"]),e_=new Set(["price_on_demand","price_negotiable","is_active","featured","show_in_home"]),t_=new Set(["Central Air Conditioning","Elevator","Laundry Area","Fireplace","Storage","Basement","Lobby","Terrace","Balcony","Rooftop","Solarium","Garden","Zen Area","Hammock Area","Jungle Bar","Parking","Garage","Underground Parking","Bike Parking","Motor Lobby","Electric Bicycles","Free Beach Shuttle","24/7 Security","Controlled Access","CCTV","Perimeter Fence","Concierge 24/7","Pool","Rooftop Pool","Beach-like Pool","Private Beach Club","Waterfront Access","Beach Access","Spa","Sauna","Steam Room","Lockers","Temazcal","Yoga Studio","Meditation Room","Gym","Jogging Track","Paddle Court","Pickleball Court","Tennis Court","Mini-golf","Pet Park","Club House","Lounge","Cinema","Bar","Pub","Kids Playroom","Playground","Restaurant","Coffee Shop","Organic Market","Food Pavilion","Co-working Space","Business Lounge","Solar Panels","Rainwater Collection","Water Treatment","Eco-Friendly","Golf View","Ocean View","City View","Mountain View","Lake View","Jungle View","Pet Friendly","Furnished","Smart Home","Newly Renovated","Investment Opportunity","Beachfront","Gated Community","Walk to Beach"]),n_=new Map(Array.from(t_).map(t=>[t.toLowerCase(),t])),YB={apartment:"apartment",apartments:"apartment",apt:"apartment",flat:"apartment",house:"house",home:"house",villa:"villa",condo:"condo",condominium:"condo",condominiums:"condo",penthouse:"penthouse",penthouses:"penthouse",land:"land",plot:"land",lot:"land",commercial:"commercial"},XB={furnished:"furnished","semi furnished":"semi-furnished",semifurnished:"semi-furnished","semi-furnished":"semi-furnished",unfurnished:"unfurnished","un-furnished":"unfurnished"},JB={title:"",subtitle:"",property_type:"development",status:"for_sale",property_categories:[],description:"",content:"",bedrooms:null,bedrooms_min:null,bedrooms_max:null,bathrooms:null,bathrooms_min:null,bathrooms_max:null,sqm:null,sqft:null,sqm_min:null,sqm_max:null,sqft_min:null,sqft_max:null,lot_size_sqm:null,year_built:null,furnishing_status:"unfurnished",tags:[],address:"",neighborhood:"",city:"",state:"",country:"Mexico",google_maps_url:"",price_base_currency:"USD",price_usd:null,price_mxn:null,price_on_demand:!1,price_negotiable:!1,price_from_usd:null,price_to_usd:null,price_from_mxn:null,price_to_mxn:null,seo_title:"",seo_description:"",og_title:"",og_description:"",featured:!1};function V0(t){return typeof t!="string"?t:YB[t.trim().toLowerCase()]??t.trim().toLowerCase()}function ZB(t){if(typeof t!="string")return t;let e=t.trim().toLowerCase().replace(/[\s-]+/g,"_");return e==="forsale"&&(e="for_sale"),e}function e$(t){if(typeof t!="string")return t;const e=t.trim().toLowerCase().replace(/[\s-]+/g,"_");return["active_property","active_properties","activeproperty"].includes(e)?"active":["new_development","new_developments"].includes(e)?"development":["hot_deal","hot_deals","hotdeal","hotdeals","opportunity","opportunities","oportunidad","oportunidades"].includes(e)?"hot_deal":["off_market","offmarket"].includes(e)?"off_market":["land","lands","tierra"].includes(e)?"land":e}function ed(t){if(t==null)return t;if(typeof t=="string"){const e=t.trim().toLowerCase();return e==="studio"||e==="0"?"studio":e.endsWith("+")?"5+":isNaN(Number(e))?t:ed(Number(e))}if(typeof t=="number"){if(t<=0)return"studio";if(t>=5)return"5+";if([1,2,3,4].includes(t))return String(t)}return t}function td(t){if(t==null)return t;if(typeof t=="string"){const e=t.trim();return e.endsWith("+")?"5+":isNaN(Number(e))?t:td(Number(e))}if(typeof t=="number"){if(t>=5)return"5+";if([1,1.5,2,2.5,3,3.5,4,4.5,5].includes(t))return String(t)}return t}function t$(t){if(typeof t=="boolean")return t;if(typeof t=="number")return t!==0;if(typeof t=="string"){const e=t.trim().toLowerCase();if(["true","1","yes"].includes(e))return!0;if(["false","0","no"].includes(e))return!1}return t}function n$(t){if(typeof t=="number"||t===null)return t;if(typeof t=="string"){const e=t.trim().replace(/[$,\s]/g,"");if(e!==""&&!isNaN(Number(e)))return Number(e)}return t}function H0(t){if(!t||typeof t!="object"||Array.isArray(t))return t;const e={...t};if(e.property_type=e$(e.property_type),e.status=ZB(e.status),typeof e.price_base_currency=="string"){const r=e.price_base_currency.trim().toUpperCase();e.price_base_currency=r==="US$"?"USD":r==="MX$"?"MXN":r}if(e.property_category&&(!e.property_categories||Array.isArray(e.property_categories)&&e.property_categories.length===0)&&(e.property_categories=[V0(e.property_category)]),delete e.property_category,typeof e.property_categories=="string"&&(e.property_categories=e.property_categories.split(/[,;]+/).map(r=>r.trim()).filter(Boolean)),Array.isArray(e.property_categories)&&(e.property_categories=e.property_categories.map(V0).filter(r=>r!==""&&r!==null)),typeof e.furnishing_status=="string"){const r=e.furnishing_status.trim().toLowerCase();e.furnishing_status=XB[r]??r}return typeof e.state=="string"&&(e.state=e.state.trim().toLowerCase()),Array.isArray(e.tags)&&(e.tags=e.tags.map(r=>{const s=String(r).trim();return n_.get(s.toLowerCase())??s})),e_.forEach(r=>{r in e&&(e[r]=t$(e[r]))}),ZE.forEach(r=>{r in e&&(e[r]=n$(e[r]))}),e.bedrooms=ed(e.bedrooms),e.bedrooms_min=ed(e.bedrooms_min),e.bedrooms_max=ed(e.bedrooms_max),e.bathrooms=td(e.bathrooms),e.bathrooms_min=td(e.bathrooms_min),e.bathrooms_max=td(e.bathrooms_max),["slug","property_id_reference","seo_keywords","latitude","longitude","is_active","show_in_home","order","views_count","internal_notes","exchange_rate"].forEach(r=>delete e[r]),e}function r$(t,e){const n=/position (\d+)/i.exec(t.message);if(!n)return null;const r=Number(n[1]);if(Number.isNaN(r))return null;const o=e.slice(0,r).split(`
`);return{line:o.length,column:o[o.length-1].length+1}}function s$(t){const e=[];if(!t||typeof t!="object"||Array.isArray(t))return[{field:"root",message:"JSON must be an object",severity:"error"}];const n=Object.keys(t).filter(c=>!GB.has(c));n.length&&e.push({field:"root",message:`Unknown fields will be ignored: ${n.join(", ")}`,severity:"warning"}),QB.forEach(c=>{const u=t[c];(u==null||String(u).trim()==="")&&e.push({field:c,message:`Required field "${c}" is missing or empty`,severity:"error"})}),[["property_type",JE,t.property_type],["status",WB,t.status],["furnishing_status",HB,t.furnishing_status],["price_base_currency",VB,t.price_base_currency]].forEach(([c,u,d])=>{d&&!u.includes(d)&&e.push({field:c,message:`Invalid ${c}: "${d}"`,severity:"error",expected:u.join(" | "),received:String(d)})});const s=t.property_type==="development",o=!!t.property_type&&t.property_type!=="development";if(Array.isArray(t.property_categories)?(t.property_categories.length===0&&e.push({field:"property_categories",message:"property_categories must have at least one value",severity:"error"}),o&&t.property_categories.length>1&&e.push({field:"property_categories",message:`Active-like properties must have exactly 1 category, got ${t.property_categories.length}`,severity:"error",expected:'["apartment"]',received:JSON.stringify(t.property_categories)}),t.property_type==="land"&&!t.property_categories.includes("land")&&e.push({field:"property_categories",message:'Land properties must include category "land"',severity:"error",expected:'["land"]',received:JSON.stringify(t.property_categories)}),t.property_categories.forEach((c,u)=>{z0.includes(c)||e.push({field:`property_categories[${u}]`,message:`Invalid category: "${c}"`,severity:"error",expected:z0.join(" | "),received:c})})):e.push({field:"property_categories",message:"property_categories must be an array",severity:"error"}),["bedrooms","bedrooms_min","bedrooms_max"].forEach(c=>{const u=t[c];u!=null&&!q0.includes(String(u))&&e.push({field:c,message:`Invalid ${c}: "${u}"`,severity:"error",expected:q0.join(" | "),received:String(u)})}),["bathrooms","bathrooms_min","bathrooms_max"].forEach(c=>{const u=t[c];u!=null&&!W0.includes(String(u))&&e.push({field:c,message:`Invalid ${c}: "${u}"`,severity:"error",expected:W0.join(" | "),received:String(u)})}),o&&["bedrooms_min","bedrooms_max","bathrooms_min","bathrooms_max","sqm_min","sqm_max","sqft_min","sqft_max","price_from_usd","price_to_usd","price_from_mxn","price_to_mxn"].forEach(u=>{t[u]!==null&&t[u]!==void 0&&e.push({field:u,message:`"${u}" must be null for active-like properties`,severity:"error"})}),s&&["bedrooms","bathrooms","sqm","sqft","price_usd","price_mxn"].forEach(u=>{t[u]!==null&&t[u]!==void 0&&e.push({field:u,message:`"${u}" must be null for developments`,severity:"error"})}),ZE.forEach(c=>{const u=t[c];u!=null&&typeof u!="number"&&e.push({field:c,message:`"${c}" must be a number or null, got ${typeof u}: "${u}"`,severity:"error"})}),e_.forEach(c=>{c in t&&typeof t[c]!="boolean"&&e.push({field:c,message:`"${c}" must be true or false, got ${typeof t[c]}: "${t[c]}"`,severity:"error"})}),Object.entries(KB).forEach(([c,u])=>{const d=t[c];typeof d=="string"&&d.length>u&&e.push({field:c,message:`"${c}" exceeds max length: ${d.length}/${u} chars`,severity:"error",expected:`max ${u} chars`,received:`${d.length} chars`})}),Array.isArray(t.tags)&&t.tags.forEach((c,u)=>{if(!t_.has(c)){const d=c.toLowerCase(),f=n_.get(d);e.push({field:`tags[${u}]`,message:`Invalid tag: "${c}"${f?`  did you mean "${f}"?`:""}`,severity:"error",expected:"See standard tags list",received:c})}}),t.content){const c=t.content.replace(/<[^>]+>/g,"").split(/\s+/).filter(Boolean).length;c<250&&e.push({field:"content",message:` Content has only ${c} words but MUST have at least 250 words for proper SEO. Add more detail about: location highlights, amenities, lifestyle, investment potential.`,severity:"error"})}else e.push({field:"content",message:" Content is required and must be at least 250 words in HTML format.",severity:"error"});return(!t.description||String(t.description).trim()==="")&&e.push({field:"description",message:"Description is empty. A short summary is recommended for property cards.",severity:"warning"}),t.state&&typeof t.state=="string"&&t.state!==t.state.toLowerCase()&&e.push({field:"state",message:`State must be lowercase: "${t.state}"  "${t.state.toLowerCase()}"`,severity:"error"}),t.google_maps_url&&typeof t.google_maps_url=="string"&&t.google_maps_url.trim()!==""&&!t.google_maps_url.includes("google.com/maps")&&!t.google_maps_url.includes("goo.gl/maps")&&e.push({field:"google_maps_url",message:"google_maps_url should be a Google Maps URL",severity:"warning"}),e}function i$(t){const e=["=== VALIDATION ERRORS ===",""],n=t.filter(s=>s.severity==="error"),r=t.filter(s=>s.severity==="warning");return n.length&&(e.push(` ${n.length} ERROR${n.length>1?"S":""} (must fix):`),n.forEach((s,o)=>{e.push(`${o+1}. [${s.field}] ${s.message}`),s.expected&&e.push(`   Expected: ${s.expected}`),s.received&&e.push(`   Got: ${s.received}`)})),r.length&&(e.push("",` ${r.length} WARNING${r.length>1?"S":""} (recommended):`),r.forEach((s,o)=>{e.push(`${o+1}. [${s.field}] ${s.message}`)})),e.push("","Fix these errors in the JSON and try again."),e.join(`
`)}function K0({onImported:t}){var L,q,I,F;const e=Ot(),[n,r]=h.useState(!1),[s,o]=h.useState(1),[a,l]=h.useState(null),[c,u]=h.useState(""),[d,f]=h.useState([]),[g,w]=h.useState(null),[y,p]=h.useState(!1),b=d.filter($=>$.severity==="error").length,x=d.filter($=>$.severity==="warning").length,m=xe({mutationFn:async $=>V.post("/properties/import-json?validate_only=true",$),onSuccess:$=>w($.data.data),onError:$=>{var U,Y;const M=((Y=(U=$.response)==null?void 0:U.data)==null?void 0:Y.error)||"Server validation failed";f(ee=>[...ee,{field:"server",message:M,severity:"error"}]),w(null)}}),v=xe({mutationFn:async $=>V.post("/properties/import-json",$),onSuccess:$=>{var U;const M=(U=$.data.data)==null?void 0:U.id;r(!1),u(""),f([]),w(null),t&&t(M),M&&e(`/properties/${M}`)},onError:$=>{var U,Y;const M=((Y=(U=$.response)==null?void 0:U.data)==null?void 0:Y.error)||"Import failed";f([{field:"server",message:`Server error: ${M}`,severity:"error"}])}}),S=h.useCallback(()=>{f([]),w(null),p(!1);let $;try{$=JSON.parse(c)}catch(ee){const Z=r$(ee,c),ve=Z?` (line ${Z.line}, col ${Z.column})`:"";f([{field:"JSON syntax",message:`Invalid JSON${ve}: ${ee.message}`,severity:"error"}]);return}const M=H0($);a&&(M.property_type=a);const U=s$(M);f(U),U.filter(ee=>ee.severity==="error").length===0&&m.mutate(M)},[c,a,m]),j=h.useCallback(()=>{if(g!=null&&g.valid)try{const $=JSON.parse(c),M=H0($);a&&(M.property_type=a),v.mutate(M)}catch($){f([{field:"JSON",message:$.message,severity:"error"}])}},[c,a,g,v]),E=h.useCallback(()=>{const $=i$(d);navigator.clipboard.writeText($).then(()=>{p(!0),setTimeout(()=>p(!1),2e3)})},[d]),C=()=>{u(JSON.stringify(JB,null,2)),f([]),w(null)},N=$=>{l($),o(2)},R=()=>{o(1),l(null),u(""),f([]),w(null)},k=$=>{r($),$||(o(1),l(null),u(""),f([]),w(null),p(!1))},_={active:"",development:"",hot_deal:"",off_market:"",land:""},D={active:"Active Properties",development:"New Developments",hot_deal:"Hot Deals",off_market:"Off Market",land:"Land"};return i.jsxs(dg,{open:n,onOpenChange:k,children:[i.jsx(QE,{asChild:!0,children:i.jsxs(W,{variant:"outline",children:[i.jsx(EN,{className:"mr-2 h-4 w-4"}),"Import JSON"]})}),i.jsxs(Kd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(Av,{children:[i.jsx(kv,{className:"text-lg",children:s===1?"Select Property Category":`Import Property  ${D[a]}`}),i.jsx(Rv,{children:s===1?"First, select the property category. This will override any property_type in the JSON.":"Paste the JSON generated by ChatGPT. The property will be created as the selected category."})]}),s===1?i.jsxs("div",{className:"space-y-6 py-6",children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:JE.map($=>i.jsxs("button",{onClick:()=>N($),className:"flex flex-col items-center justify-center gap-3 p-6 rounded-lg border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all hover:scale-105 active:scale-95",type:"button",children:[i.jsx("span",{className:"text-4xl",children:_[$]}),i.jsx("span",{className:"font-medium text-sm text-center",children:D[$]})]},$))}),i.jsxs("div",{className:"text-sm text-muted-foreground bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsx("p",{className:"font-medium text-amber-900 mb-1",children:" Important:"}),i.jsxs("p",{className:"text-amber-800",children:["If your JSON contains a ",i.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"property_type"})," field,",i.jsx("strong",{children:" your selection here will override it"}),". The property will be created with the category you choose."]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(W,{variant:"ghost",size:"sm",onClick:R,className:"gap-1",children:[i.jsx(Xr,{className:"h-3 w-3"}),"Change Category"]}),i.jsxs("span",{className:"text-sm flex items-center gap-2 text-muted-foreground",children:["Selected:",i.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium text-xs",children:[_[a]," ",D[a]]})]})]}),i.jsx(tt,{value:c,onChange:$=>{u($.target.value),f([]),w(null)},placeholder:`Paste your JSON here...

Tip: Use the ChatGPT prompt from _docs/PROPERTIES_POSTMAN_TEMPLATE.md`,rows:16,className:"font-mono text-xs leading-relaxed",spellCheck:!1}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(W,{onClick:S,disabled:!c.trim()||m.isPending,variant:"outline",size:"sm",children:m.isPending?"Validating...":" Validate"}),i.jsxs(W,{onClick:j,disabled:!(g!=null&&g.valid)||v.isPending,size:"sm",children:[i.jsx(Sr,{className:"mr-2 h-3 w-3"}),v.isPending?"Importing...":"Import"]}),i.jsx("div",{className:"flex-1"}),i.jsx(W,{variant:"ghost",size:"sm",onClick:C,className:"text-xs",children:" Use Template"})]})]}),(g==null?void 0:g.valid)&&i.jsxs(Wd,{className:"border-green-500 bg-green-50",children:[i.jsx(wN,{className:"h-4 w-4 text-green-600"}),i.jsxs(Vd,{children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{children:[i.jsx("strong",{className:"text-green-900",children:" Ready to import"}),i.jsxs("div",{className:"mt-1 text-sm text-green-800 grid grid-cols-2 gap-x-6 gap-y-0.5",children:[i.jsxs("span",{children:["Title: ",i.jsx("strong",{children:(L=g.preview)==null?void 0:L.title})]}),i.jsxs("span",{children:["Type: ",i.jsx("strong",{children:(q=g.preview)==null?void 0:q.property_type})]}),i.jsxs("span",{children:["City: ",i.jsx("strong",{children:(I=g.preview)==null?void 0:I.city})]}),i.jsxs("span",{children:["Price: ",i.jsx("strong",{children:(F=g.preview)!=null&&F.price_usd?`$${Number(g.preview.price_usd).toLocaleString()}`:"On demand"})]})]})]})}),x>0&&i.jsxs("p",{className:"text-xs text-amber-700 mt-2",children:[" ",x," warning",x>1?"s":""," below (non-blocking)"]})]})]}),d.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b>0&&i.jsxs("span",{className:"flex items-center gap-1 text-red-600 font-medium",children:[i.jsx(Qp,{className:"h-4 w-4"})," ",b," error",b>1?"s":""]}),x>0&&i.jsxs("span",{className:"flex items-center gap-1 text-amber-600 font-medium",children:[i.jsx(n0,{className:"h-4 w-4"})," ",x," warning",x>1?"s":""]})]}),b>0&&i.jsxs(W,{variant:"outline",size:"sm",onClick:E,className:"text-xs gap-1.5",children:[i.jsx(Qo,{className:"h-3 w-3"}),y?"Copied!":"Copy errors  ChatGPT"]})]}),i.jsx("div",{className:"border rounded-lg divide-y max-h-[300px] overflow-y-auto text-sm",children:d.map(($,M)=>i.jsx("div",{className:`px-3 py-2 ${$.severity==="error"?"bg-red-50":"bg-amber-50"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[$.severity==="error"?i.jsx(Qp,{className:"h-3.5 w-3.5 text-red-500 mt-0.5 shrink-0"}):i.jsx(n0,{className:"h-3.5 w-3.5 text-amber-500 mt-0.5 shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:$.field}),i.jsx("p",{className:$.severity==="error"?"text-red-800":"text-amber-800",children:$.message}),$.expected&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Expected: ",i.jsx("code",{className:"bg-gray-100 px-1 rounded",children:$.expected})]}),$.received&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Got: ",i.jsx("code",{className:"bg-red-100 px-1 rounded",children:$.received})]})]})]})},M))}),b>0&&i.jsx("p",{className:"text-xs text-muted-foreground italic",children:' Tip: Click "Copy errors  ChatGPT" and paste them to ChatGPT to fix the JSON automatically.'})]}),i.jsx(XE,{children:i.jsx(W,{variant:"ghost",onClick:()=>r(!1),children:"Close"})})]})]})}const o$={for_sale:"bg-green-500",sold:"bg-gray-500",reserved:"bg-orange-500"},a$={for_sale:"For Sale",sold:"Sold",reserved:"Reserved"},l$={active:"Active Property",development:"Development",hot_deal:"Hot Deals",off_market:"Off Market",land:"Land"};function c$({property:t,index:e,toAbsoluteUrl:n,SITE_URL:r,onToggleActive:s,onToggleHome:o,onDelete:a}){const{attributes:l,listeners:c,setNodeRef:u,transform:d,transition:f,isDragging:g}=rv({id:t.id}),w={transform:oo.Transform.toString(d),transition:f,opacity:g?.5:1,width:"auto",height:"auto"};return i.jsx(he,{ref:u,style:w,className:"overflow-hidden border border-dashed bg-white",children:i.jsxs("div",{className:"flex gap-3 items-center p-4",children:[i.jsxs("div",{...l,...c,className:"flex-shrink-0 text-muted-foreground cursor-grab active:cursor-grabbing",children:[i.jsx(js,{className:"h-5 w-5"}),i.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["#",e+1]})]}),i.jsx("img",{src:n(t.cover_image_url),alt:t.title,className:"w-32 h-24 object-cover rounded-lg flex-shrink-0",onError:y=>{y.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="128" height="96"%3E%3Crect fill="%23ddd" width="128" height="96"/%3E%3C/svg%3E'}}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ao,{variant:"outline",className:"text-xs",children:l$[t.property_type]}),i.jsx(ao,{className:`${o$[t.status]} text-xs`,children:a$[t.status]})]}),i.jsx("h3",{className:"font-semibold text-base line-clamp-1",children:t.title}),t.subtitle&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:t.subtitle}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[i.jsx(Ka,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{className:"truncate",children:["/properties/",t.slug]})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-2",children:[i.jsx("span",{className:"font-mono",children:t.property_id_reference}),i.jsx("span",{children:""}),i.jsxs("span",{className:"truncate",children:[t.city,", ",t.country]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Published"}),i.jsx(Dt,{checked:!!t.is_active,onCheckedChange:y=>s(t,y),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle property active"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xs ${t.is_active?"text-muted-foreground":"text-gray-400"}`,children:"Show in Home"}),i.jsx(Dt,{checked:!!t.show_in_home,onCheckedChange:y=>o(t,y),disabled:!t.is_active,className:"data-[state=checked]:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Toggle show in home"})]}),i.jsx(W,{variant:"ghost",size:"sm",asChild:!0,title:"View on site",children:i.jsx("a",{href:`${r}/properties/${t.slug}`,target:"_blank",rel:"noopener noreferrer",children:i.jsx(kh,{className:"h-4 w-4"})})}),i.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(cn,{to:`/properties/${t.id}`,children:[i.jsx(Ga,{className:"mr-1 h-4 w-4"}),"Edit"]})}),i.jsx(W,{variant:"destructive",size:"sm",onClick:()=>a(t.id),children:i.jsx(Ns,{className:"h-4 w-4"})})]})]})})]})})}function u$(){var me;const t=_t(),e={search:"",status:"all",type:"all",category:"all",furnishing:"all"},[n,r]=h.useState(e.search),[s,o]=h.useState(e.status),[a,l]=h.useState(e.type),[c,u]=h.useState(e.category),[d,f]=h.useState(e.furnishing),[g,w]=h.useState(e.search),[y,p]=h.useState(e.status),[b,x]=h.useState(e.type),[m,v]=h.useState(e.category),[S,j]=h.useState(e.furnishing),[E,C]=h.useState([]),[N,R]=h.useState(null),[k,_]=h.useState(!1),D=Yx(wc(Hc),wc(Dh,{coordinateGetter:n1})),L=()=>{r(g),o(y),l(b),u(m),f(S)},q=()=>{w(e.search),p(e.status),x(e.type),v(e.category),j(e.furnishing),r(e.search),o(e.status),l(e.type),u(e.category),f(e.furnishing)},I=K=>{K.key==="Enter"&&L()},F="/api",$="https://new.buywithdali.com",M=h.useMemo(()=>F.replace(/\/api$/,""),[F]),U=K=>{if(!K)return"";const ie=M||window.location.origin;return K.startsWith("http")?K:K.startsWith("/")?`${ie}${K}`:`${ie}/${K}`},Y=h.useMemo(()=>{const K=new URLSearchParams;return n&&K.append("q",n),s!=="all"&&K.append("status",s),a!=="all"&&K.append("property_type",a),c!=="all"&&K.append("property_category",c),d!=="all"&&K.append("furnishing_status",d),K.append("is_active","all"),K.append("per_page","100"),K.toString()},[n,s,a,c,d]),ee=h.useMemo(()=>{let K=0;return n.trim()&&(K+=1),s!==e.status&&(K+=1),a!==e.type&&(K+=1),c!==e.category&&(K+=1),d!==e.furnishing&&(K+=1),K},[n,s,a,c,d,e]),{data:Z,isLoading:ve,refetch:ue}=Xe({queryKey:["properties",Y],queryFn:async()=>{var We;const K=await V.get(`/properties?${Y}`),ie=((We=K.data)==null?void 0:We.data)??K.data??[],pe=Array.isArray(ie==null?void 0:ie.properties)?ie.properties:Array.isArray(ie)?ie:[],ye=(ie==null?void 0:ie.pagination)??null;return{properties:pe,pagination:ye}},refetchOnWindowFocus:!1});h.useEffect(()=>{const K=(Z==null?void 0:Z.properties)||[];if(K.length){const ie=[...K].sort((pe,ye)=>(pe.order||0)-(ye.order||0));C(ie)}else C([])},[Z]),h.useEffect(()=>{if(ve){_(!1);return}const K=setTimeout(()=>_(!0),600);return()=>clearTimeout(K)},[ve,n]);const Be=async K=>{const{active:ie,over:pe}=K;if(!pe||ie.id===pe.id)return;const ye=E.findIndex(Ve=>Ve.id===ie.id),We=E.findIndex(Ve=>Ve.id===pe.id),_e=Kc(E,ye,We).map((Ve,xt)=>({...Ve,order:xt+1}));C(_e);try{const Ve={order:_e.map((Jt,An)=>({id:Jt.id,display_order:An+1}))};console.log("Reorder payload:",Ve);const xt=await V.post("/properties/reorder",Ve);console.log("Reorder response:",xt.data),t.invalidateQueries({queryKey:["properties"]})}catch(Ve){console.error("Failed to reorder properties:",Ve),ue()}},[T,A]=h.useState(null),z=async(K,ie)=>{var ye,We,De;const pe={is_active:ie};!ie&&K.show_in_home&&(pe.show_in_home=0),C(_e=>_e.map(Ve=>Ve.id===K.id?{...Ve,is_active:ie,...pe.show_in_home!==void 0?{show_in_home:!1}:{}}:Ve));try{const _e=await V.put(`/properties/${K.id}`,pe);if(((ye=_e.data)==null?void 0:ye.success)===!1)throw new Error(_e.data.error||"Failed to update");t.invalidateQueries({queryKey:["properties"]})}catch(_e){console.error("Failed to update is_active",_e);const Ve=((De=(We=_e==null?void 0:_e.response)==null?void 0:We.data)==null?void 0:De.error)||(_e==null?void 0:_e.message)||"Failed to update property";A(Ve),setTimeout(()=>A(null),5e3),C(xt=>xt.map(Jt=>Jt.id===K.id?{...Jt,is_active:!ie,...pe.show_in_home!==void 0?{show_in_home:!0}:{}}:Jt))}},G=async(K,ie)=>{var pe,ye,We;if(ie&&!K.is_active){A("Cannot show in home: property must be published first"),setTimeout(()=>A(null),3e3);return}C(De=>De.map(_e=>_e.id===K.id?{..._e,show_in_home:ie}:_e));try{const De=await V.put(`/properties/${K.id}`,{show_in_home:ie?1:0});if(((pe=De.data)==null?void 0:pe.success)===!1)throw new Error(De.data.error||"Failed to update");t.invalidateQueries({queryKey:["properties"]})}catch(De){console.error("Failed to update show_in_home",De);const _e=((We=(ye=De==null?void 0:De.response)==null?void 0:ye.data)==null?void 0:We.error)||(De==null?void 0:De.message)||"Failed to update property";A(_e),setTimeout(()=>A(null),5e3),C(Ve=>Ve.map(xt=>xt.id===K.id?{...xt,show_in_home:!ie}:xt))}},H=xe({mutationFn:async K=>V.delete(`/properties/${K}`),onSuccess:()=>{R(null),t.invalidateQueries({queryKey:["properties"]}),ue()}}),re=()=>{N&&H.mutate(N)};return ve||!k?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Properties"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K0,{onImported:()=>ue()}),i.jsx(W,{asChild:!0,children:i.jsxs(cn,{to:"/properties/new",children:[i.jsx(Qt,{className:"mr-2 h-4 w-4"}),"New Property"]})})]})]}),i.jsx("div",{className:"grid gap-4",children:[1,2,3].map(K=>i.jsxs(he,{className:"animate-pulse",children:[i.jsx(Ye,{children:i.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),i.jsx(ge,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"})]})})]},K))})]}):i.jsxs("div",{className:"space-y-6",children:[T&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[i.jsx("strong",{className:"font-bold",children:"Error: "}),i.jsx("span",{children:T}),i.jsx("button",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>A(null),children:""})]}),i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Properties"}),i.jsxs("p",{className:"text-muted-foreground",children:[((me=Z==null?void 0:Z.pagination)==null?void 0:me.total)??E.length??0," total properties"]}),ee>0&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[ee," filter",ee>1?"s":""," applied"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K0,{onImported:()=>ue()}),i.jsx(W,{asChild:!0,children:i.jsxs(cn,{to:"/properties/new",children:[i.jsx(Qt,{className:"mr-2 h-4 w-4"}),"New Property"]})})]})]}),i.jsx(he,{className:"mt-4",children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx(Q,{placeholder:"Search by title, city, country, tags...",value:g,onChange:K=>w(K.target.value),onKeyDown:I,className:"flex-1 min-w-[280px]"}),i.jsxs(Vt,{value:y,onValueChange:p,children:[i.jsx(It,{className:"w-[140px]",children:i.jsx(Ht,{placeholder:"Status"})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"all",children:"All Status"}),i.jsx(ae,{value:"for_sale",children:"For Sale"}),i.jsx(ae,{value:"sold",children:"Sold"}),i.jsx(ae,{value:"reserved",children:"Reserved"})]})]}),i.jsxs(Vt,{value:b,onValueChange:x,children:[i.jsx(It,{className:"w-[140px]",children:i.jsx(Ht,{placeholder:"Type"})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"all",children:"All Types"}),i.jsx(ae,{value:"active",children:"Active"}),i.jsx(ae,{value:"development",children:"Development"}),i.jsx(ae,{value:"hot_deal",children:"Hot Deals"}),i.jsx(ae,{value:"off_market",children:"Off Market"}),i.jsx(ae,{value:"land",children:"Land"})]})]}),i.jsxs(Vt,{value:m,onValueChange:v,children:[i.jsx(It,{className:"w-[140px]",children:i.jsx(Ht,{placeholder:"Category"})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"all",children:"All Categories"}),i.jsx(ae,{value:"apartment",children:"Apartment"}),i.jsx(ae,{value:"villa",children:"Villa"}),i.jsx(ae,{value:"penthouse",children:"Penthouse"}),i.jsx(ae,{value:"townhouse",children:"Townhouse"}),i.jsx(ae,{value:"land",children:"Land"}),i.jsx(ae,{value:"commercial",children:"Commercial"})]})]}),i.jsxs(Vt,{value:S,onValueChange:j,children:[i.jsx(It,{className:"w-[140px]",children:i.jsx(Ht,{placeholder:"Furnishing"})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"all",children:"All Furnishing"}),i.jsx(ae,{value:"furnished",children:"Furnished"}),i.jsx(ae,{value:"semi-furnished",children:"Semi-Furnished"}),i.jsx(ae,{value:"unfurnished",children:"Unfurnished"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[i.jsxs(W,{onClick:L,size:"sm",children:[i.jsx(Wx,{className:"mr-2 h-4 w-4"}),"Search"]}),i.jsxs(W,{onClick:q,variant:"outline",size:"sm",children:[i.jsx(TN,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})})}),E.length===0?i.jsx(he,{children:i.jsx(ge,{className:"flex flex-col items-center justify-center py-16",children:i.jsx("p",{className:"text-muted-foreground",children:"No properties found"})})}):i.jsx(ev,{sensors:D,collisionDetection:Xx,onDragEnd:Be,children:i.jsx(nv,{items:E.map(K=>K.id),strategy:tv,children:i.jsx("div",{className:"grid gap-4",children:E.map((K,ie)=>i.jsx(c$,{property:K,index:ie,toAbsoluteUrl:U,SITE_URL:$,onToggleActive:z,onToggleHome:G,onDelete:R},K.id))})})}),N&&i.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Delete property?"}),i.jsx("p",{className:"text-muted-foreground",children:"If the property is older than 24h it will be archived (not removed) and a redirect placeholder will be created for SEO safety."}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(W,{variant:"outline",onClick:()=>R(null),children:"Close"}),i.jsx(W,{variant:"destructive",onClick:re,disabled:H.isPending,children:H.isPending?"Deleting...":"Delete"})]})]})})]})}var Jf="rovingFocusGroup.onEntryFocus",d$={bubbles:!1,cancelable:!0},Qc="RovingFocusGroup",[hg,r_,h$]=ov(Qc),[f$,s_]=_r(Qc,[h$]),[m$,p$]=f$(Qc),i_=h.forwardRef((t,e)=>i.jsx(hg.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(hg.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(g$,{...t,ref:e})})}));i_.displayName=Qc;var g$=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,g=h.useRef(null),w=qe(e,g),y=Mh(o),[p,b]=Gr({prop:a,defaultProp:l??null,onChange:c,caller:Qc}),[x,m]=h.useState(!1),v=pi(u),S=r_(n),j=h.useRef(!1),[E,C]=h.useState(0);return h.useEffect(()=>{const N=g.current;if(N)return N.addEventListener(Jf,v),()=>N.removeEventListener(Jf,v)},[v]),i.jsx(m$,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:p,onItemFocus:h.useCallback(N=>b(N),[b]),onItemShiftTab:h.useCallback(()=>m(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:h.useCallback(()=>C(N=>N-1),[]),children:i.jsx(Se.div,{tabIndex:x||E===0?-1:0,"data-orientation":r,...f,ref:w,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{j.current=!0}),onFocus:Ee(t.onFocus,N=>{const R=!j.current;if(N.target===N.currentTarget&&R&&!x){const k=new CustomEvent(Jf,d$);if(N.currentTarget.dispatchEvent(k),!k.defaultPrevented){const _=S().filter(F=>F.focusable),D=_.find(F=>F.active),L=_.find(F=>F.id===p),I=[D,L,..._].filter(Boolean).map(F=>F.ref.current);l_(I,d)}}j.current=!1}),onBlur:Ee(t.onBlur,()=>m(!1))})})}),o_="RovingFocusGroupItem",a_=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...l}=t,c=Vr(),u=o||c,d=p$(o_,n),f=d.currentTabStopId===u,g=r_(n),{onFocusableItemAdd:w,onFocusableItemRemove:y,currentTabStopId:p}=d;return h.useEffect(()=>{if(r)return w(),()=>y()},[r,w,y]),i.jsx(hg.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(Se.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ee(t.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:Ee(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ee(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=y$(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=g().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const S=v.indexOf(b.currentTarget);v=d.loop?b$(v,S+1):v.slice(S+1)}setTimeout(()=>l_(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:p!=null}):a})})});a_.displayName=o_;var x$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function v$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function y$(t,e,n){const r=v$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return x$[r]}function l_(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function b$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var w$=i_,S$=a_,Hh="Tabs",[C$]=_r(Hh,[s_]),c_=s_(),[j$,Tv]=C$(Hh),u_=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Mh(l),[f,g]=Gr({prop:r,onChange:s,defaultProp:o??"",caller:Hh});return i.jsx(j$,{scope:n,baseId:Vr(),value:f,onValueChange:g,orientation:a,dir:d,activationMode:c,children:i.jsx(Se.div,{dir:d,"data-orientation":a,...u,ref:e})})});u_.displayName=Hh;var d_="TabsList",h_=h.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=Tv(d_,n),a=c_(n);return i.jsx(w$,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(Se.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});h_.displayName=d_;var f_="TabsTrigger",m_=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,a=Tv(f_,n),l=c_(n),c=x_(a.baseId,r),u=v_(a.baseId,r),d=r===a.value;return i.jsx(S$,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Ee(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Ee(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});m_.displayName=f_;var p_="TabsContent",g_=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=t,l=Tv(p_,n),c=x_(l.baseId,r),u=v_(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),i.jsx(wo,{present:s||d,children:({present:g})=>i.jsx(Se.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&o})})});g_.displayName=p_;function x_(t,e){return`${t}-trigger-${e}`}function v_(t,e){return`${t}-content-${e}`}var N$=u_,y_=h_,b_=m_,w_=g_;const S_=N$,Dv=h.forwardRef(({className:t,...e},n)=>i.jsx(y_,{ref:n,className:fe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));Dv.displayName=y_.displayName;const Un=h.forwardRef(({className:t,...e},n)=>i.jsx(b_,{ref:n,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Un.displayName=b_.displayName;const zn=h.forwardRef(({className:t,...e},n)=>i.jsx(w_,{ref:n,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));zn.displayName=w_.displayName;var E$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_$=E$.reduce((t,e)=>{const n=Bx(`Primitive.${e}`),r=h.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),A$="Label",C_=h.forwardRef((t,e)=>i.jsx(_$.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));C_.displayName=A$;var j_=C_;const k$=Ah("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=h.forwardRef(({className:t,...e},n)=>i.jsx(j_,{ref:n,className:fe(k$(),t),...e}));J.displayName=j_.displayName;var R$="2.1.16";const Yi="[data-trix-attachment]",Pv={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},un={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(t){return G0(t.parentNode)===un[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(t){return G0(t.parentNode)===un[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},G0=t=>{var e;return t==null||(e=t.tagName)===null||e===void 0?void 0:e.toLowerCase()},Q0=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),Zf=Q0&&parseInt(Q0[1]);var Yc={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:Zf&&Zf>12,samsungAndroid:Zf&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(t=>t in InputEvent.prototype)},N_={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},be={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const T$=[be.bytes,be.KB,be.MB,be.GB,be.TB,be.PB];var E_={prefix:"IEC",precision:2,formatter(t){switch(t){case 0:return"0 ".concat(be.bytes);case 1:return"1 ".concat(be.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);const n=Math.floor(Math.log(t)/Math.log(e)),r=(t/Math.pow(e,n)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(r," ").concat(T$[n])}}};const Kh="\uFEFF",qs="",__=function(t){for(const e in t){const n=t[e];this[e]=n}return this},Ov=document.documentElement,D$=Ov.matches,it=function(t){let{onElement:e,matchingSelector:n,withCallback:r,inPhase:s,preventDefault:o,times:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=e||Ov,c=n,u=s==="capturing",d=function(f){a!=null&&--a==0&&d.destroy();const g=vi(f.target,{matchingSelector:c});g!=null&&(r==null||r.call(g,f,g),o&&f.preventDefault())};return d.destroy=()=>l.removeEventListener(t,d,u),l.addEventListener(t,d,u),d},A_=function(t){let{bubbles:e,cancelable:n,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e=e!==!1,n=n!==!1;const s=document.createEvent("Events");return s.initEvent(t,e,n),r!=null&&__.call(s,r),s},ql=function(t){let{onElement:e,bubbles:n,cancelable:r,attributes:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=e??Ov,a=A_(t,{bubbles:n,cancelable:r,attributes:s});return o.dispatchEvent(a)},k_=function(t,e){if((t==null?void 0:t.nodeType)===1)return D$.call(t,e)},vi=function(t){let{matchingSelector:e,untilNode:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(t!=null){if(e==null)return t;if(t.closest&&n==null)return t.closest(e);for(;t&&t!==n;){if(k_(t,e))return t;t=t.parentNode}}},Lv=t=>document.activeElement!==t&&Ii(t,document.activeElement),Ii=function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},em=function(t){var e;if((e=t)===null||e===void 0||!e.parentNode)return;let n=0;for(t=t.previousSibling;t;)n++,t=t.previousSibling;return n},yi=t=>{var e;return t==null||(e=t.parentNode)===null||e===void 0?void 0:e.removeChild(t)},Gd=function(t){let{onlyNodesOfType:e,usingFilter:n,expandEntityReferences:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(t,s,n??null,r===!0)},ln=t=>{var e;return t==null||(e=t.tagName)===null||e===void 0?void 0:e.toLowerCase()},Ae=function(t){let e,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof t=="object"?(r=t,t=r.tagName):r={attributes:r};const s=document.createElement(t);if(r.editable!=null&&(r.attributes==null&&(r.attributes={}),r.attributes.contenteditable=r.editable),r.attributes)for(e in r.attributes)n=r.attributes[e],s.setAttribute(e,n);if(r.style)for(e in r.style)n=r.style[e],s.style[e]=n;if(r.data)for(e in r.data)n=r.data[e],s.dataset[e]=n;return r.className&&r.className.split(" ").forEach(o=>{s.classList.add(o)}),r.textContent&&(s.textContent=r.textContent),r.childNodes&&[].concat(r.childNodes).forEach(o=>{s.appendChild(o)}),s};let pl;const Wl=function(){if(pl!=null)return pl;pl=[];for(const t in un){const e=un[t];e.tagName&&pl.push(e.tagName)}return pl},tm=t=>la(t==null?void 0:t.firstChild),Y0=function(t){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?la(t):la(t)||!la(t.firstChild)&&function(n){return Wl().includes(ln(n))&&!Wl().includes(ln(n.firstChild))}(t)},la=t=>P$(t)&&(t==null?void 0:t.data)==="block",P$=t=>(t==null?void 0:t.nodeType)===Node.COMMENT_NODE,ca=function(t){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t)return Vl(t)?t.data===Kh?!e||t.parentNode.dataset.trixCursorTarget===e:void 0:ca(t.firstChild)},Xi=t=>k_(t,Yi),R_=t=>Vl(t)&&(t==null?void 0:t.data)==="",Vl=t=>(t==null?void 0:t.nodeType)===Node.TEXT_NODE,Mv={level2Enabled:!0,getLevel(){return this.level2Enabled&&Yc.supportsInputEvents?2:0},pickFiles(t){const e=Ae("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{t(e.files),yi(e)}),yi(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var nd={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},fo={bold:{tagName:"strong",inheritable:!0,parser(t){const e=window.getComputedStyle(t);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:t=>window.getComputedStyle(t).fontStyle==="italic"},href:{groupTagName:"a",parser(t){const e="a:not(".concat(Yi,")"),n=t.closest(e);if(n)return n.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},T_={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(be.bold,'" tabindex="-1">').concat(be.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(be.italic,'" tabindex="-1">').concat(be.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(be.strike,'" tabindex="-1">').concat(be.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(be.link,'" tabindex="-1">').concat(be.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(be.heading1,'" tabindex="-1">').concat(be.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(be.quote,'" tabindex="-1">').concat(be.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(be.code,'" tabindex="-1">').concat(be.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(be.bullets,'" tabindex="-1">').concat(be.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(be.numbers,'" tabindex="-1">').concat(be.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(be.outdent,'" tabindex="-1">').concat(be.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(be.indent,'" tabindex="-1">').concat(be.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(be.attachFiles,'" tabindex="-1">').concat(be.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(be.undo,'" tabindex="-1">').concat(be.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(be.redo,'" tabindex="-1">').concat(be.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(be.urlPlaceholder,'" aria-label="').concat(be.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(be.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(be.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const fg={interval:5e3};var Xc=Object.freeze({__proto__:null,attachments:Pv,blockAttributes:un,browser:Yc,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:N_,fileSize:E_,input:Mv,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:be,parser:nd,textAttributes:fo,toolbar:T_,undo:fg});class bt{static proxyMethod(e){const{name:n,toMethod:r,toProperty:s,optional:o}=O$(e);this.prototype[n]=function(){let a,l;var c,u;return r?l=o?(c=this[r])===null||c===void 0?void 0:c.call(this):this[r]():s&&(l=this[s]),o?(a=(u=l)===null||u===void 0?void 0:u[n],a?X0.call(a,l,arguments):void 0):(a=l[n],X0.call(a,l,arguments))}}}const O$=function(t){const e=t.match(L$);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(t));const n={name:e[4]};return e[2]!=null?n.toMethod=e[1]:n.toProperty=e[1],e[3]!=null&&(n.optional=!0),n},{apply:X0}=Function.prototype,L$=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var nm,rm,sm;class Nc extends bt{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e==null?void 0:e.toString())}static fromUCS2String(e){return new this(e,mg(e))}static fromCodepoints(e){return new this(pg(e),e)}constructor(e,n){super(...arguments),this.ucs2String=e,this.codepoints=n,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return pg(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return mg(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const M$=((nm=Array.from)===null||nm===void 0?void 0:nm.call(Array,"").length)===1,I$=((rm=" ".codePointAt)===null||rm===void 0?void 0:rm.call(" ",0))!=null,F$=((sm=String.fromCodePoint)===null||sm===void 0?void 0:sm.call(String,32,128124))===" ";let mg,pg;mg=M$&&I$?t=>Array.from(t).map(e=>e.codePointAt(0)):function(t){const e=[];let n=0;const{length:r}=t;for(;n<r;){let s=t.charCodeAt(n++);if(55296<=s&&s<=56319&&n<r){const o=t.charCodeAt(n++);(64512&o)==56320?s=((1023&s)<<10)+(1023&o)+65536:n--}e.push(s)}return e},pg=F$?t=>String.fromCodePoint(...Array.from(t||[])):function(t){return(()=>{const e=[];return Array.from(t).forEach(n=>{let r="";n>65535&&(n-=65536,r+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),e.push(r+String.fromCharCode(n))}),e})().join("")};let B$=0;class So extends bt{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++B$}hasSameConstructorAs(e){return this.constructor===(e==null?void 0:e.constructor)}isEqualTo(e){return this===e}inspect(){const e=[],n=this.contentsForInspection()||{};for(const r in n){const s=n[r];e.push("".concat(r,"=").concat(s))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return Nc.box(this)}getCacheKey(){return this.id.toString()}}const mo=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Iv=function(t){const e=t.slice(0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return e.splice(...r),e},$$=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,U$=function(){const t=Ae("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=Ae("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),n=Ae("form");n.appendChild(t),n.appendChild(e);const r=function(){try{return new FormData(n).has(e.dirName)}catch{return!1}}(),s=function(){try{return t.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return r?function(o){return e.value=o,new FormData(n).get(e.dirName)}:s?function(o){return t.value=o,t.matches(":dir(rtl)")?"rtl":"ltr"}:function(o){const a=o.trim().charAt(0);return $$.test(a)?"rtl":"ltr"}}();let im=null,om=null,am=null,_u=null;const gg=()=>(im||(im=q$().concat(z$())),im),ft=t=>un[t],z$=()=>(om||(om=Object.keys(un)),om),xg=t=>fo[t],q$=()=>(am||(am=Object.keys(fo)),am),D_=function(t,e){W$(t).textContent=e.replace(/%t/g,t)},W$=function(t){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase());const n=V$();return n&&e.setAttribute("nonce",n),document.head.insertBefore(e,document.head.firstChild),e},V$=function(){const t=J0("trix-csp-nonce")||J0("csp-nonce");if(t){const{nonce:e,content:n}=t;return e==""?n:e}},J0=t=>document.head.querySelector("meta[name=".concat(t,"]")),Z0={"application/x-trix-feature-detection":"test"},P_=function(t){const e=t.getData("text/plain"),n=t.getData("text/html");if(!e||!n)return e==null?void 0:e.length;{const{body:r}=new DOMParser().parseFromString(n,"text/html");if(r.textContent===e)return!r.querySelector("*")}},O_=/Mac|^iP/.test(navigator.platform)?t=>t.metaKey:t=>t.ctrlKey,Fv=t=>setTimeout(t,1),L_=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={};for(const n in t){const r=t[n];e[n]=r}return e},tl=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0},He=function(t){if(t!=null)return Array.isArray(t)||(t=[t,t]),[ew(t[0]),ew(t[1]!=null?t[1]:t[0])]},ms=function(t){if(t==null)return;const[e,n]=He(t);return vg(e,n)},Qd=function(t,e){if(t==null||e==null)return;const[n,r]=He(t),[s,o]=He(e);return vg(n,s)&&vg(r,o)},ew=function(t){return typeof t=="number"?t:L_(t)},vg=function(t,e){return typeof t=="number"?t===e:tl(t,e)};class M_ extends bt{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(n=>n!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const po=new M_,I_=function(){const t=window.getSelection();if(t.rangeCount>0)return t},Hl=function(){var t;const e=(t=I_())===null||t===void 0?void 0:t.getRangeAt(0);if(e&&!H$(e))return e},F_=function(t){const e=window.getSelection();return e.removeAllRanges(),e.addRange(t),po.update()},H$=t=>tw(t.startContainer)||tw(t.endContainer),tw=t=>!Object.getPrototypeOf(t),Rl=t=>t.replace(new RegExp("".concat(Kh),"g"),"").replace(new RegExp("".concat(qs),"g")," "),Bv=new RegExp("[^\\S".concat(qs,"]")),$v=t=>t.replace(new RegExp("".concat(Bv.source),"g")," ").replace(/\ {2,}/g," "),nw=function(t,e){if(t.isEqualTo(e))return["",""];const n=lm(t,e),{length:r}=n.utf16String;let s;if(r){const{offset:o}=n,a=t.codepoints.slice(0,o).concat(t.codepoints.slice(o+r));s=lm(e,Nc.fromCodepoints(a))}else s=lm(e,t);return[n.utf16String.toString(),s.utf16String.toString()]},lm=function(t,e){let n=0,r=t.length,s=e.length;for(;n<r&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;r>n+1&&t.charAt(r-1).isEqualTo(e.charAt(s-1));)r--,s--;return{utf16String:t.slice(n,r),offset:n}};class On extends So{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let n=gl(e[0]),r=n.getKeys();return e.slice(1).forEach(s=>{r=n.getKeysCommonToHash(gl(s)),n=n.slice(r)}),n}static box(e){return gl(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=rd(e)}add(e,n){return this.merge(K$(e,n))}remove(e){return new On(rd(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new On(G$(this.values,Q$(e)))}slice(e){const n={};return Array.from(e).forEach(r=>{this.has(r)&&(n[r]=this.values[r])}),new On(n)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=gl(e),this.getKeys().filter(n=>this.values[n]===e.values[n])}isEqualTo(e){return mo(this.toArray(),gl(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const e=[];for(const n in this.values){const r=this.values[n];e.push(e.push(n,r))}this.array=e.slice(0)}return this.array}toObject(){return rd(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const K$=function(t,e){const n={};return n[t]=e,n},G$=function(t,e){const n=rd(t);for(const r in e){const s=e[r];n[r]=s}return n},rd=function(t,e){const n={};return Object.keys(t).sort().forEach(r=>{r!==e&&(n[r]=t[r])}),n},gl=function(t){return t instanceof On?t:new On(t)},Q$=function(t){return t instanceof On?t.values:t};class Uv{static groupObjects(){let e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:r,asTree:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s&&r==null&&(r=0);const o=[];return Array.from(n).forEach(a=>{var l;if(e){var c,u,d;if((c=a.canBeGrouped)!==null&&c!==void 0&&c.call(a,r)&&(u=(d=e[e.length-1]).canBeGroupedWith)!==null&&u!==void 0&&u.call(d,a,r))return void e.push(a);o.push(new this(e,{depth:r,asTree:s})),e=null}(l=a.canBeGrouped)!==null&&l!==void 0&&l.call(a,r)?e=[a]:o.push(a)}),e&&o.push(new this(e,{depth:r,asTree:s})),o}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:n,asTree:r}=arguments.length>1?arguments[1]:void 0;this.objects=e,r&&(this.depth=n,this.objects=this.constructor.groupObjects(this.objects,{asTree:r,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const e=["objectGroup"];return Array.from(this.getObjects()).forEach(n=>{e.push(n.getCacheKey())}),e.join("/")}}class Y$ extends bt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(n=>{const r=JSON.stringify(n);this.objects[r]==null&&(this.objects[r]=n)})}find(e){const n=JSON.stringify(e);return this.objects[n]}}class X${constructor(e){this.reset(e)}add(e){const n=rw(e);this.elements[n]=e}remove(e){const n=rw(e),r=this.elements[n];if(r)return delete this.elements[n],r}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(n=>{this.add(n)}),e}}const rw=t=>t.dataset.trixStoreKey;class Yd extends bt{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,n)=>(this.performing=!0,this.perform((r,s)=>{this.succeeded=r,this.performing=!1,this.performed=!0,this.succeeded?e(s):n(s)})))),this.promise}perform(e){return e(!1)}release(){var e,n;(e=this.promise)===null||e===void 0||(n=e.cancel)===null||n===void 0||n.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}Yd.proxyMethod("getPromise().then"),Yd.proxyMethod("getPromise().catch");class Co extends bt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=n,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var n;return(n=this.findViewForObject(e))===null||n===void 0?void 0:n.invalidate()}findOrCreateCachedChildView(e,n,r){let s=this.getCachedViewForObject(n);return s?this.recordChildView(s):(s=this.createChildView(...arguments),this.cacheViewForObject(s,n)),s}createChildView(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n instanceof Uv&&(r.viewClass=e,e=J$);const s=new e(n,r);return this.recordChildView(s)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(n=>{e.push(n),e=e.concat(n.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){const n=e==null?void 0:e.id;if(n)return this.rootView.element.querySelector("[data-trix-id='".concat(n,"']"))}findViewForObject(e){for(const n of this.getAllChildViews())if(n.object===e)return n}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var n;return(n=this.getViewCache())===null||n===void 0?void 0:n[e.getCacheKey()]}cacheViewForObject(e,n){const r=this.getViewCache();r&&(r[n.getCacheKey()]=e)}garbageCollectCachedViews(){const e=this.getViewCache();if(e){const n=this.getAllChildViews().concat(this).map(r=>r.object.getCacheKey());for(const r in e)n.includes(r)||delete e[r]}}}class J$ extends Co{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){const e=this.createContainerElement();return this.getChildViews().forEach(n=>{Array.from(n.getNodes()).forEach(r=>{e.appendChild(r)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:B_,setPrototypeOf:sw,isFrozen:Z$,getPrototypeOf:e5,getOwnPropertyDescriptor:t5}=Object;let{freeze:hn,seal:er,create:$_}=Object,{apply:yg,construct:bg}=typeof Reflect<"u"&&Reflect;hn||(hn=function(t){return t}),er||(er=function(t){return t}),yg||(yg=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return t.apply(e,r)}),bg||(bg=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new t(...n)});const Au=fn(Array.prototype.forEach),n5=fn(Array.prototype.lastIndexOf),iw=fn(Array.prototype.pop),xl=fn(Array.prototype.push),r5=fn(Array.prototype.splice),sd=fn(String.prototype.toLowerCase),cm=fn(String.prototype.toString),um=fn(String.prototype.match),vl=fn(String.prototype.replace),s5=fn(String.prototype.indexOf),i5=fn(String.prototype.trim),dr=fn(Object.prototype.hasOwnProperty),nn=fn(RegExp.prototype.test),yl=(ow=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return bg(ow,e)});var ow;function fn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return yg(t,e,r)}}function ke(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sd;sw&&sw(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const o=n(s);o!==s&&(Z$(e)||(e[r]=o),s=o)}t[s]=!0}return t}function o5(t){for(let e=0;e<t.length;e++)dr(t,e)||(t[e]=null);return t}function rs(t){const e=$_(null);for(const[n,r]of B_(t))dr(t,n)&&(Array.isArray(r)?e[n]=o5(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=rs(r):e[n]=r);return e}function bl(t,e){for(;t!==null;){const n=t5(t,e);if(n){if(n.get)return fn(n.get);if(typeof n.value=="function")return fn(n.value)}t=e5(t)}return function(){return null}}const aw=hn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),dm=hn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),hm=hn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),a5=hn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fm=hn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),l5=hn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lw=hn(["#text"]),cw=hn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),mm=hn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),uw=hn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ku=hn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),c5=er(/\{\{[\w\W]*|[\w\W]*\}\}/gm),u5=er(/<%[\w\W]*|[\w\W]*%>/gm),d5=er(/\$\{[\w\W]*/gm),h5=er(/^data-[\-\w.\u00B7-\uFFFF]+$/),f5=er(/^aria-[\-\w]+$/),U_=er(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),m5=er(/^(?:\w+script|data):/i),p5=er(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),z_=er(/^html$/i),g5=er(/^[a-z][.\w]*(-[.\w]+)+$/i);var dw=Object.freeze({__proto__:null,ARIA_ATTR:f5,ATTR_WHITESPACE:p5,CUSTOM_ELEMENT:g5,DATA_ATTR:h5,DOCTYPE_NAME:z_,ERB_EXPR:u5,IS_ALLOWED_URI:U_,IS_SCRIPT_OR_DATA:m5,MUSTACHE_EXPR:c5,TMPLIT_EXPR:d5});const x5=1,v5=3,y5=7,b5=8,w5=9,S5=function(){return typeof window>"u"?null:window};var Ec=function t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S5();const n=O=>t(O);if(n.version="3.2.7",n.removed=[],!e||!e.document||e.document.nodeType!==w5||!e.Element)return n.isSupported=!1,n;let{document:r}=e;const s=r,o=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:d,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:w,trustedTypes:y}=e,p=u.prototype,b=bl(p,"cloneNode"),x=bl(p,"remove"),m=bl(p,"nextSibling"),v=bl(p,"childNodes"),S=bl(p,"parentNode");if(typeof l=="function"){const O=r.createElement("template");O.content&&O.content.ownerDocument&&(r=O.content.ownerDocument)}let j,E="";const{implementation:C,createNodeIterator:N,createDocumentFragment:R,getElementsByTagName:k}=r,{importNode:_}=s;let D={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported=typeof B_=="function"&&typeof S=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:L,ERB_EXPR:q,TMPLIT_EXPR:I,DATA_ATTR:F,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:U,CUSTOM_ELEMENT:Y}=dw;let{IS_ALLOWED_URI:ee}=dw,Z=null;const ve=ke({},[...aw,...dm,...hm,...fm,...lw]);let ue=null;const Be=ke({},[...cw,...mm,...uw,...ku]);let T=Object.seal($_(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),A=null,z=null,G=!0,H=!0,re=!1,oe=!0,me=!1,K=!0,ie=!1,pe=!1,ye=!1,We=!1,De=!1,_e=!1,Ve=!0,xt=!1,Jt=!0,An=!1,tr={},nr=null;const Fn=ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Bn=null;const rr=ke({},["audio","video","img","source","image","track"]);let No=null;const sr=ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ei="http://www.w3.org/1998/Math/MathML",Eo="http://www.w3.org/2000/svg",ir="http://www.w3.org/1999/xhtml";let Tr=ir,_o=!1,rl=null;const Jc=ke({},[Ei,Eo,ir],cm);let Ao=ke({},["mi","mo","mn","ms","mtext"]),ko=ke({},["annotation-xml"]);const rf=ke({},["title","style","font","a","script"]);let lt=null;const Zt=["application/xhtml+xml","text/html"];let $e=null,en=null;const gn=r.createElement("form"),zt=function(O){return O instanceof RegExp||O instanceof Function},xn=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!en||en!==O){if(O&&typeof O=="object"||(O={}),O=rs(O),lt=Zt.indexOf(O.PARSER_MEDIA_TYPE)===-1?"text/html":O.PARSER_MEDIA_TYPE,$e=lt==="application/xhtml+xml"?cm:sd,Z=dr(O,"ALLOWED_TAGS")?ke({},O.ALLOWED_TAGS,$e):ve,ue=dr(O,"ALLOWED_ATTR")?ke({},O.ALLOWED_ATTR,$e):Be,rl=dr(O,"ALLOWED_NAMESPACES")?ke({},O.ALLOWED_NAMESPACES,cm):Jc,No=dr(O,"ADD_URI_SAFE_ATTR")?ke(rs(sr),O.ADD_URI_SAFE_ATTR,$e):sr,Bn=dr(O,"ADD_DATA_URI_TAGS")?ke(rs(rr),O.ADD_DATA_URI_TAGS,$e):rr,nr=dr(O,"FORBID_CONTENTS")?ke({},O.FORBID_CONTENTS,$e):Fn,A=dr(O,"FORBID_TAGS")?ke({},O.FORBID_TAGS,$e):rs({}),z=dr(O,"FORBID_ATTR")?ke({},O.FORBID_ATTR,$e):rs({}),tr=!!dr(O,"USE_PROFILES")&&O.USE_PROFILES,G=O.ALLOW_ARIA_ATTR!==!1,H=O.ALLOW_DATA_ATTR!==!1,re=O.ALLOW_UNKNOWN_PROTOCOLS||!1,oe=O.ALLOW_SELF_CLOSE_IN_ATTR!==!1,me=O.SAFE_FOR_TEMPLATES||!1,K=O.SAFE_FOR_XML!==!1,ie=O.WHOLE_DOCUMENT||!1,We=O.RETURN_DOM||!1,De=O.RETURN_DOM_FRAGMENT||!1,_e=O.RETURN_TRUSTED_TYPE||!1,ye=O.FORCE_BODY||!1,Ve=O.SANITIZE_DOM!==!1,xt=O.SANITIZE_NAMED_PROPS||!1,Jt=O.KEEP_CONTENT!==!1,An=O.IN_PLACE||!1,ee=O.ALLOWED_URI_REGEXP||U_,Tr=O.NAMESPACE||ir,Ao=O.MATHML_TEXT_INTEGRATION_POINTS||Ao,ko=O.HTML_INTEGRATION_POINTS||ko,T=O.CUSTOM_ELEMENT_HANDLING||{},O.CUSTOM_ELEMENT_HANDLING&&zt(O.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(T.tagNameCheck=O.CUSTOM_ELEMENT_HANDLING.tagNameCheck),O.CUSTOM_ELEMENT_HANDLING&&zt(O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(T.attributeNameCheck=O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),O.CUSTOM_ELEMENT_HANDLING&&typeof O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(T.allowCustomizedBuiltInElements=O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),me&&(H=!1),De&&(We=!0),tr&&(Z=ke({},lw),ue=[],tr.html===!0&&(ke(Z,aw),ke(ue,cw)),tr.svg===!0&&(ke(Z,dm),ke(ue,mm),ke(ue,ku)),tr.svgFilters===!0&&(ke(Z,hm),ke(ue,mm),ke(ue,ku)),tr.mathMl===!0&&(ke(Z,fm),ke(ue,uw),ke(ue,ku))),O.ADD_TAGS&&(Z===ve&&(Z=rs(Z)),ke(Z,O.ADD_TAGS,$e)),O.ADD_ATTR&&(ue===Be&&(ue=rs(ue)),ke(ue,O.ADD_ATTR,$e)),O.ADD_URI_SAFE_ATTR&&ke(No,O.ADD_URI_SAFE_ATTR,$e),O.FORBID_CONTENTS&&(nr===Fn&&(nr=rs(nr)),ke(nr,O.FORBID_CONTENTS,$e)),Jt&&(Z["#text"]=!0),ie&&ke(Z,["html","head","body"]),Z.table&&(ke(Z,["tbody"]),delete A.tbody),O.TRUSTED_TYPES_POLICY){if(typeof O.TRUSTED_TYPES_POLICY.createHTML!="function")throw yl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof O.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw yl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');j=O.TRUSTED_TYPES_POLICY,E=j.createHTML("")}else j===void 0&&(j=function(le,te){if(typeof le!="object"||typeof le.createPolicy!="function")return null;let Pe=null;const Ue="data-tt-policy-suffix";te&&te.hasAttribute(Ue)&&(Pe=te.getAttribute(Ue));const je="dompurify"+(Pe?"#"+Pe:"");try{return le.createPolicy(je,{createHTML:St=>St,createScriptURL:St=>St})}catch{return console.warn("TrustedTypes policy "+je+" could not be created."),null}}(y,o)),j!==null&&typeof E=="string"&&(E=j.createHTML(""));hn&&hn(O),en=O}},Zr=ke({},[...dm,...hm,...a5]),vt=ke({},[...fm,...l5]),wt=function(O){xl(n.removed,{element:O});try{S(O).removeChild(O)}catch{x(O)}},At=function(O,le){try{xl(n.removed,{attribute:le.getAttributeNode(O),from:le})}catch{xl(n.removed,{attribute:null,from:le})}if(le.removeAttribute(O),O==="is")if(We||De)try{wt(le)}catch{}else try{le.setAttribute(O,"")}catch{}},$n=function(O){let le=null,te=null;if(ye)O="<remove></remove>"+O;else{const je=um(O,/^[\r\n\t ]+/);te=je&&je[0]}lt==="application/xhtml+xml"&&Tr===ir&&(O='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+O+"</body></html>");const Pe=j?j.createHTML(O):O;if(Tr===ir)try{le=new w().parseFromString(Pe,lt)}catch{}if(!le||!le.documentElement){le=C.createDocument(Tr,"template",null);try{le.documentElement.innerHTML=_o?E:Pe}catch{}}const Ue=le.body||le.documentElement;return O&&te&&Ue.insertBefore(r.createTextNode(te),Ue.childNodes[0]||null),Tr===ir?k.call(le,ie?"html":"body")[0]:ie?le.documentElement:Ue},_s=function(O){return N.call(O.ownerDocument||O,O,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},es=function(O){return O instanceof g&&(typeof O.nodeName!="string"||typeof O.textContent!="string"||typeof O.removeChild!="function"||!(O.attributes instanceof f)||typeof O.removeAttribute!="function"||typeof O.setAttribute!="function"||typeof O.namespaceURI!="string"||typeof O.insertBefore!="function"||typeof O.hasChildNodes!="function")},or=function(O){return typeof c=="function"&&O instanceof c};function tn(O,le,te){Au(O,Pe=>{Pe.call(n,le,te,en)})}const Ro=function(O){let le=null;if(tn(D.beforeSanitizeElements,O,null),es(O))return wt(O),!0;const te=$e(O.nodeName);if(tn(D.uponSanitizeElement,O,{tagName:te,allowedTags:Z}),K&&O.hasChildNodes()&&!or(O.firstElementChild)&&nn(/<[/\w!]/g,O.innerHTML)&&nn(/<[/\w!]/g,O.textContent)||O.nodeType===y5||K&&O.nodeType===b5&&nn(/<[/\w]/g,O.data))return wt(O),!0;if(!Z[te]||A[te]){if(!A[te]&&Zv(te)&&(T.tagNameCheck instanceof RegExp&&nn(T.tagNameCheck,te)||T.tagNameCheck instanceof Function&&T.tagNameCheck(te)))return!1;if(Jt&&!nr[te]){const Pe=S(O)||O.parentNode,Ue=v(O)||O.childNodes;if(Ue&&Pe)for(let je=Ue.length-1;je>=0;--je){const St=b(Ue[je],!0);St.__removalCount=(O.__removalCount||0)+1,Pe.insertBefore(St,m(O))}}return wt(O),!0}return O instanceof u&&!function(Pe){let Ue=S(Pe);Ue&&Ue.tagName||(Ue={namespaceURI:Tr,tagName:"template"});const je=sd(Pe.tagName),St=sd(Ue.tagName);return!!rl[Pe.namespaceURI]&&(Pe.namespaceURI===Eo?Ue.namespaceURI===ir?je==="svg":Ue.namespaceURI===Ei?je==="svg"&&(St==="annotation-xml"||Ao[St]):!!Zr[je]:Pe.namespaceURI===Ei?Ue.namespaceURI===ir?je==="math":Ue.namespaceURI===Eo?je==="math"&&ko[St]:!!vt[je]:Pe.namespaceURI===ir?!(Ue.namespaceURI===Eo&&!ko[St])&&!(Ue.namespaceURI===Ei&&!Ao[St])&&!vt[je]&&(rf[je]||!Zr[je]):!(lt!=="application/xhtml+xml"||!rl[Pe.namespaceURI]))}(O)?(wt(O),!0):te!=="noscript"&&te!=="noembed"&&te!=="noframes"||!nn(/<\/no(script|embed|frames)/i,O.innerHTML)?(me&&O.nodeType===v5&&(le=O.textContent,Au([L,q,I],Pe=>{le=vl(le,Pe," ")}),O.textContent!==le&&(xl(n.removed,{element:O.cloneNode()}),O.textContent=le)),tn(D.afterSanitizeElements,O,null),!1):(wt(O),!0)},Jv=function(O,le,te){if(Ve&&(le==="id"||le==="name")&&(te in r||te in gn))return!1;if(!(H&&!z[le]&&nn(F,le))){if(!(G&&nn($,le))){if(!ue[le]||z[le]){if(!(Zv(O)&&(T.tagNameCheck instanceof RegExp&&nn(T.tagNameCheck,O)||T.tagNameCheck instanceof Function&&T.tagNameCheck(O))&&(T.attributeNameCheck instanceof RegExp&&nn(T.attributeNameCheck,le)||T.attributeNameCheck instanceof Function&&T.attributeNameCheck(le,O))||le==="is"&&T.allowCustomizedBuiltInElements&&(T.tagNameCheck instanceof RegExp&&nn(T.tagNameCheck,te)||T.tagNameCheck instanceof Function&&T.tagNameCheck(te))))return!1}else if(!No[le]){if(!nn(ee,vl(te,U,""))){if((le!=="src"&&le!=="xlink:href"&&le!=="href"||O==="script"||s5(te,"data:")!==0||!Bn[O])&&!(re&&!nn(M,vl(te,U,"")))){if(te)return!1}}}}}return!0},Zv=function(O){return O!=="annotation-xml"&&um(O,Y)},ey=function(O){tn(D.beforeSanitizeAttributes,O,null);const{attributes:le}=O;if(!le||es(O))return;const te={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ue,forceKeepAttr:void 0};let Pe=le.length;for(;Pe--;){const Ue=le[Pe],{name:je,namespaceURI:St,value:As}=Ue,ar=$e(je),sf=As;let Lt=je==="value"?sf:i5(sf);if(te.attrName=ar,te.attrValue=Lt,te.keepAttr=!0,te.forceKeepAttr=void 0,tn(D.uponSanitizeAttribute,O,te),Lt=te.attrValue,!xt||ar!=="id"&&ar!=="name"||(At(je,O),Lt="user-content-"+Lt),K&&nn(/((--!?|])>)|<\/(style|title|textarea)/i,Lt)){At(je,O);continue}if(ar==="attributename"&&um(Lt,"href")){At(je,O);continue}if(te.forceKeepAttr)continue;if(!te.keepAttr){At(je,O);continue}if(!oe&&nn(/\/>/i,Lt)){At(je,O);continue}me&&Au([L,q,I],ny=>{Lt=vl(Lt,ny," ")});const ty=$e(O.nodeName);if(Jv(ty,ar,Lt)){if(j&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!St)switch(y.getAttributeType(ty,ar)){case"TrustedHTML":Lt=j.createHTML(Lt);break;case"TrustedScriptURL":Lt=j.createScriptURL(Lt)}if(Lt!==sf)try{St?O.setAttributeNS(St,je,Lt):O.setAttribute(je,Lt),es(O)?wt(O):iw(n.removed)}catch{At(je,O)}}else At(je,O)}tn(D.afterSanitizeAttributes,O,null)},Sk=function O(le){let te=null;const Pe=_s(le);for(tn(D.beforeSanitizeShadowDOM,le,null);te=Pe.nextNode();)tn(D.uponSanitizeShadowNode,te,null),Ro(te),ey(te),te.content instanceof a&&O(te.content);tn(D.afterSanitizeShadowDOM,le,null)};return n.sanitize=function(O){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=null,Pe=null,Ue=null,je=null;if(_o=!O,_o&&(O="<!-->"),typeof O!="string"&&!or(O)){if(typeof O.toString!="function")throw yl("toString is not a function");if(typeof(O=O.toString())!="string")throw yl("dirty is not a string, aborting")}if(!n.isSupported)return O;if(pe||xn(le),n.removed=[],typeof O=="string"&&(An=!1),An){if(O.nodeName){const ar=$e(O.nodeName);if(!Z[ar]||A[ar])throw yl("root node is forbidden and cannot be sanitized in-place")}}else if(O instanceof c)te=$n("<!---->"),Pe=te.ownerDocument.importNode(O,!0),Pe.nodeType===x5&&Pe.nodeName==="BODY"||Pe.nodeName==="HTML"?te=Pe:te.appendChild(Pe);else{if(!We&&!me&&!ie&&O.indexOf("<")===-1)return j&&_e?j.createHTML(O):O;if(te=$n(O),!te)return We?null:_e?E:""}te&&ye&&wt(te.firstChild);const St=_s(An?O:te);for(;Ue=St.nextNode();)Ro(Ue),ey(Ue),Ue.content instanceof a&&Sk(Ue.content);if(An)return O;if(We){if(De)for(je=R.call(te.ownerDocument);te.firstChild;)je.appendChild(te.firstChild);else je=te;return(ue.shadowroot||ue.shadowrootmode)&&(je=_.call(s,je,!0)),je}let As=ie?te.outerHTML:te.innerHTML;return ie&&Z["!doctype"]&&te.ownerDocument&&te.ownerDocument.doctype&&te.ownerDocument.doctype.name&&nn(z_,te.ownerDocument.doctype.name)&&(As="<!DOCTYPE "+te.ownerDocument.doctype.name+`>
`+As),me&&Au([L,q,I],ar=>{As=vl(As,ar," ")}),j&&_e?j.createHTML(As):As},n.setConfig=function(){xn(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),pe=!0},n.clearConfig=function(){en=null,pe=!1},n.isValidAttribute=function(O,le,te){en||xn({});const Pe=$e(O),Ue=$e(le);return Jv(Pe,Ue,te)},n.addHook=function(O,le){typeof le=="function"&&xl(D[O],le)},n.removeHook=function(O,le){if(le!==void 0){const te=n5(D[O],le);return te===-1?void 0:r5(D[O],te,1)[0]}return iw(D[O])},n.removeHooks=function(O){D[O]=[]},n.removeAllHooks=function(){D={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();Ec.addHook("uponSanitizeAttribute",function(t,e){/^data-trix-/.test(e.attrName)&&(e.forceKeepAttr=!0)});const C5="style href src width height language class".split(" "),j5="javascript:".split(" "),N5="script iframe form noscript".split(" ");class Gh extends bt{static setHTML(e,n,r){const s=new this(n,r).sanitize(),o=s.getHTML?s.getHTML():s.outerHTML;e.innerHTML=o}static sanitize(e,n){const r=new this(e,n);return r.sanitize(),r}constructor(e){let{allowedAttributes:n,forbiddenProtocols:r,forbiddenElements:s,purifyOptions:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=n||C5,this.forbiddenProtocols=r||j5,this.forbiddenElements=s||N5,this.purifyOptions=o||{},this.body=E5(e)}sanitize(){this.sanitizeElements(),this.normalizeListElementNesting();const e=Object.assign({},N_,this.purifyOptions);return Ec.setConfig(e),this.body=Ec.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const e=Gd(this.body),n=[];for(;e.nextNode();){const r=e.currentNode;switch(r.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(r)?n.push(r):this.sanitizeElement(r);break;case Node.COMMENT_NODE:n.push(r)}}return n.forEach(r=>yi(r)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(n=>{let{name:r}=n;this.allowedAttributes.includes(r)||r.indexOf("data-trix")===0||e.removeAttribute(r)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{const n=e.previousElementSibling;n&&ln(n)==="li"&&n.appendChild(e)}),this.body}elementIsRemovable(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(ln(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!Xi(e)}}const E5=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>");const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,Array.from(e.head.querySelectorAll("style")).forEach(n=>{e.body.appendChild(n)}),e.body},{css:Ds}=Xc;class zv extends Co{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e;const n=e=Ae({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),r=this.getHref();return r&&(e=Ae({tagName:"a",editable:!1,attributes:{href:r,tabindex:-1}}),n.appendChild(e)),this.attachment.hasContent()?Gh.setHTML(e,this.attachment.getContent()):this.createContentNodes().forEach(s=>{e.appendChild(s)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=Ae({tagName:"progress",attributes:{class:Ds.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),n.appendChild(this.progressElement)),[hw("left"),n,hw("right")]}createCaptionElement(){const e=Ae({tagName:"figcaption",className:Ds.attachmentCaption}),n=this.attachmentPiece.getCaption();if(n)e.classList.add("".concat(Ds.attachmentCaption,"--edited")),e.textContent=n;else{let r,s;const o=this.getCaptionConfig();if(o.name&&(r=this.attachment.getFilename()),o.size&&(s=this.attachment.getFormattedFilesize()),r){const a=Ae({tagName:"span",className:Ds.attachmentName,textContent:r});e.appendChild(a)}if(s){r&&e.appendChild(document.createTextNode(" "));const a=Ae({tagName:"span",className:Ds.attachmentSize,textContent:s});e.appendChild(a)}}return e}getClassName(){const e=[Ds.attachment,"".concat(Ds.attachment,"--").concat(this.attachment.getType())],n=this.attachment.getExtension();return n&&e.push("".concat(Ds.attachment,"--").concat(n)),e.join(" ")}getData(){const e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:n}=this.attachmentPiece;return n.isEmpty()||(e.trixAttributes=JSON.stringify(n)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!_5(this.attachment.getContent(),"a")){const e=this.attachment.getHref();if(e&&Ec.isValidAttribute("a","href",e))return e}}getCaptionConfig(){var e;const n=this.attachment.getType(),r=L_((e=Pv[n])===null||e===void 0?void 0:e.caption);return n==="file"&&(r.name=!0),r}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){const e=this.attachment.getUploadProgress(),n=this.findProgressElement();n&&(n.value=e)}}const hw=t=>Ae({tagName:"span",textContent:Kh,data:{trixCursorTarget:t,trixSerialize:!1}}),_5=function(t,e){const n=Ae("div");return Gh.setHTML(n,t||""),n.querySelector(e)};class q_ extends zv{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=Ae({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",be.captionPlaceholder),e}refresh(e){var n;if(e||(e=(n=this.findElement())===null||n===void 0?void 0:n.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){const n=this.attachment.getURL(),r=this.attachment.getPreviewURL();if(e.src=r||n,r===n)e.removeAttribute("data-trix-serialized-attributes");else{const c=JSON.stringify({src:n});e.setAttribute("data-trix-serialized-attributes",c)}const s=this.attachment.getWidth(),o=this.attachment.getHeight(),a=this.attachment.getAttribute("alt");s!=null&&(e.width=s),o!=null&&(e.height=o),a!=null&&(e.alt=a);const l=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=l}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class W_ extends Co{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes();const n=this.createElement();if(n){const r=function(s){for(;(o=s)!==null&&o!==void 0&&o.firstElementChild;){var o;s=s.firstElementChild}return s}(n);Array.from(e).forEach(s=>{r.appendChild(s)}),e=[n]}return e}createAttachmentNodes(){const e=this.attachment.isPreviewable()?q_:zv;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{const n=[],r=this.string.split(`
`);for(let s=0;s<r.length;s++){const o=r[s];if(s>0){const a=Ae("br");n.push(a)}if(o.length){const a=document.createTextNode(this.preserveSpaces(o));n.push(a)}}return n}}createElement(){let e,n,r;const s={};for(n in this.attributes){r=this.attributes[n];const a=xg(n);if(a){if(a.tagName){var o;const l=Ae(a.tagName);o?(o.appendChild(l),o=l):e=o=l}if(a.styleProperty&&(s[a.styleProperty]=r),a.style)for(n in a.style)r=a.style[n],s[n]=r}}if(Object.keys(s).length)for(n in e||(e=Ae("span")),s)r=s[n],e.style[n]=r;return e}createContainerElement(){for(const e in this.attributes){const n=this.attributes[e],r=xg(e);if(r&&r.groupTagName){const s={};return s[e]=n,Ae(r.groupTagName,s)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,qs)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(qs," $2")).replace(/\ {2}/g,"".concat(qs," ")).replace(/\ {2}/g," ".concat(qs)),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,qs)),e}}class V_ extends Co{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const e=[],n=Uv.groupObjects(this.getPieces()),r=n.length-1;for(let o=0;o<n.length;o++){const a=n[o],l={};o===0&&(l.isFirst=!0),o===r&&(l.isLast=!0),A5(s)&&(l.followsWhitespace=!0);const c=this.findOrCreateCachedChildView(W_,a,{textConfig:this.textConfig,context:l});e.push(...Array.from(c.getNodes()||[]));var s=a}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}}const A5=t=>/\s$/.test(t==null?void 0:t.toString()),{css:fw}=Xc;class H_ extends Co{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const e=[document.createComment("block")];if(this.block.isEmpty())e.push(Ae("br"));else{var n;const r=(n=ft(this.block.getLastAttribute()))===null||n===void 0?void 0:n.text,s=this.findOrCreateCachedChildView(V_,this.block.text,{textConfig:r});e.push(...Array.from(s.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(Ae("br"))}if(this.attributes.length)return e;{let r;const{tagName:s}=un.default;this.block.isRTL()&&(r={dir:"rtl"});const o=Ae({tagName:s,attributes:r});return e.forEach(a=>o.appendChild(a)),[o]}}createContainerElement(e){const n={};let r;const s=this.attributes[e],{tagName:o,htmlAttributes:a=[]}=ft(s);if(e===0&&this.block.isRTL()&&Object.assign(n,{dir:"rtl"}),s==="attachmentGallery"){const l=this.block.getBlockBreakPosition();r="".concat(fw.attachmentGallery," ").concat(fw.attachmentGallery,"--").concat(l)}return Object.entries(this.block.htmlAttributes).forEach(l=>{let[c,u]=l;a.includes(c)&&(n[c]=u)}),Ae({tagName:o,className:r,attributes:n})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class Qh extends Co{static render(e){const n=Ae("div"),r=new this(e,{element:n});return r.render(),r.sync(),n}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new X$,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=Ae("div"),!this.document.isEmpty()){const e=Uv.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(n=>{const r=this.findOrCreateCachedChildView(H_,n);Array.from(r.getNodes()).map(s=>this.shadowElement.appendChild(s))})}}isSynced(){return k5(this.shadowElement,this.element)}sync(){const e=A_("trix-before-render",{cancelable:!1,attributes:{render:(r,s)=>{for(;r.lastChild;)r.removeChild(r.lastChild);r.appendChild(s)}}});this.element.dispatchEvent(e);const n=this.createDocumentFragmentForSync();return e.render(this.element,n),this.didSync()}didSync(){return this.elementStore.reset(mw(this.element)),Fv(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(n=>{e.appendChild(n.cloneNode(!0))}),Array.from(mw(e)).forEach(n=>{const r=this.elementStore.remove(n);r&&n.parentNode.replaceChild(r,n)}),e}}const mw=t=>t.querySelectorAll("[data-trix-store-key]"),k5=(t,e)=>pw(t.innerHTML)===pw(e.innerHTML),pw=t=>t.replace(/&nbsp;/g," ");function R5(t){var e=function(n,r){if(typeof n!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return typeof e=="symbol"?e:String(e)}function Yt(t,e,n){return(e=R5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ie(t,e){return T5(t,K_(t,e,"get"))}function Kl(t,e,n){return D5(t,K_(t,e,"set"),n),n}function K_(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function T5(t,e){return e.get?e.get.call(t):e.value}function D5(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Ru(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function G_(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ua(t,e,n){G_(t,e),e.set(t,n)}class jo extends So{static registerType(e,n){n.type=e,this.types[e]=n}static fromJSON(e){const n=this.types[e.type];if(n)return n.fromJSON(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=On.box(n)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}}Yt(jo,"types",{});class Q_ extends Yd{constructor(e){super(...arguments),this.url=e}perform(e){const n=new Image;n.onload=()=>(n.width=this.width=n.naturalWidth,n.height=this.height=n.naturalHeight,e(!0,n)),n.onerror=()=>e(!1),n.src=this.url}}class nl extends So{static attachmentForFile(e){const n=new this(this.attributesForFile(e));return n.setFile(e),n}static attributesForFile(e){return new On({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=On.box(e),this.didChangeAttributes()}setAttribute(e,n){this.setAttributes({[e]:n})}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.attributes.merge(e);var r,s,o,a;if(!this.attributes.isEqualTo(n))return this.attributes=n,this.didChangeAttributes(),(r=this.previewDelegate)===null||r===void 0||(s=r.attachmentDidChangeAttributes)===null||s===void 0||s.call(r,this),(o=this.delegate)===null||o===void 0||(a=o.attachmentDidChangeAttributes)===null||a===void 0?void 0:a.call(o,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):nl.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const e=this.attributes.get("filesize");return typeof e=="number"?E_.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var n,r;if(this.uploadProgress!==e)return this.uploadProgress=e,(n=this.uploadProgressDelegate)===null||n===void 0||(r=n.attachmentDidChangeUploadProgress)===null||r===void 0?void 0:r.call(n,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var n,r,s,o;if(e!==this.getPreviewURL())return this.previewURL=e,(n=this.previewDelegate)===null||n===void 0||(r=n.attachmentDidChangeAttributes)===null||r===void 0||r.call(n,this),(s=this.delegate)===null||s===void 0||(o=s.attachmentDidChangePreviewURL)===null||o===void 0?void 0:o.call(s,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,n){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new Q_(e).then(r=>{let{width:s,height:o}=r;return this.getWidth()&&this.getHeight()||this.setAttributes({width:s,height:o}),this.preloadingURL=null,this.setPreviewURL(e),n==null?void 0:n()}).catch(()=>(this.preloadingURL=null,n==null?void 0:n()))}}Yt(nl,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Oa extends jo{static fromJSON(e){return new this(nl.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){const e=this.attributes.slice(Oa.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var n;return super.isEqualTo(e)&&this.attachment.id===(e==null||(n=e.attachment)===null||n===void 0?void 0:n.id)}toString(){return""}toJSON(){const e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}Yt(Oa,"permittedAttributes",["caption","presentation"]),jo.registerType("attachment",Oa);class qv extends jo{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(n=>n.replace(/\r\n?/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let n,r;return e===0?(n=null,r=this):e===this.length?(n=this,r=null):(n=new this.constructor(this.string.slice(0,e),this.attributes),r=new this.constructor(this.string.slice(e),this.attributes)),[n,r]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+""),JSON.stringify(e.toString())}}jo.registerType("string",qv);class Xd extends So{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new this.constructor(Iv(this.objects,...n))}eachObject(e){return this.objects.map((n,r)=>e(n,r))}insertObjectAtIndex(e,n){return this.splice(n,0,e)}insertSplittableListAtIndex(e,n){return this.splice(n,0,...e.objects)}insertSplittableListAtPosition(e,n){const[r,s]=this.splitObjectAtPosition(n);return new this.constructor(r).insertSplittableListAtIndex(e,s)}editObjectAtIndex(e,n){return this.replaceObjectAtIndex(n(this.objects[e]),e)}replaceObjectAtIndex(e,n){return this.splice(n,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){const[n,r,s]=this.splitObjectsAtRange(e);return new this.constructor(n.slice(r,s+1))}selectSplittableList(e){const n=this.objects.filter(r=>e(r));return new this.constructor(n)}removeObjectsInRange(e){const[n,r,s]=this.splitObjectsAtRange(e);return new this.constructor(n).splice(r,s-r+1)}transformObjectsInRange(e,n){const[r,s,o]=this.splitObjectsAtRange(e),a=r.map((l,c)=>s<=c&&c<=o?n(l):l);return new this.constructor(a)}splitObjectsAtRange(e){let n,[r,s,o]=this.splitObjectAtPosition(O5(e));return[r,n]=new this.constructor(r).splitObjectAtPosition(L5(e)+o),[r,s,n-1]}getObjectAtPosition(e){const{index:n}=this.findIndexAndOffsetAtPosition(e);return this.objects[n]}splitObjectAtPosition(e){let n,r;const{index:s,offset:o}=this.findIndexAndOffsetAtPosition(e),a=this.objects.slice(0);if(s!=null)if(o===0)n=s,r=0;else{const l=this.getObjectAtIndex(s),[c,u]=l.splitAtOffset(o);a.splice(s,1,c,u),n=s+1,r=c.getLength()-o}else n=a.length,r=0;return[a,n,r]}consolidate(){const e=[];let n=this.objects[0];return this.objects.slice(1).forEach(r=>{var s,o;(s=(o=n).canBeConsolidatedWith)!==null&&s!==void 0&&s.call(o,r)?n=n.consolidateWith(r):(e.push(n),n=r)}),n&&e.push(n),new this.constructor(e)}consolidateFromIndexToIndex(e,n){const r=this.objects.slice(0).slice(e,n+1),s=new this.constructor(r).consolidate().toArray();return this.splice(e,r.length,...s)}findIndexAndOffsetAtPosition(e){let n,r=0;for(n=0;n<this.objects.length;n++){const s=r+this.objects[n].getLength();if(r<=e&&e<s)return{index:n,offset:e-r};r=s}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,n){let r=0;for(let s=0;s<this.objects.length;s++){const o=this.objects[s];if(s<e)r+=o.getLength();else if(s===e){r+=n;break}}return r}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||P5(this.objects,e==null?void 0:e.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}}const P5=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(t.length!==e.length)return!1;let n=!0;for(let r=0;r<t.length;r++){const s=t[r];n&&!s.isEqualTo(e[r])&&(n=!1)}return n},O5=t=>t[0],L5=t=>t[1];class vr extends So{static textForAttachmentWithAttributes(e,n){return new this([new Oa(e,n)])}static textForStringWithAttributes(e,n){return new this([new qv(e,n)])}static fromJSON(e){return new this(Array.from(e).map(n=>jo.fromJSON(n)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const n=e.filter(r=>!r.isEmpty());this.pieceList=new Xd(n)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){const n=this.getPieces().map(r=>e.find(r)||r);return new this.constructor(n)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,n){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,n))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,n){return this.removeTextAtRange(n).insertTextAtPosition(e,n[0])}moveTextFromRangeToPosition(e,n){if(e[0]<=n&&n<=e[1])return;const r=this.getTextAtRange(e),s=r.getLength();return e[0]<n&&(n-=s),this.removeTextAtRange(e).insertTextAtPosition(r,n)}addAttributeAtRange(e,n,r){const s={};return s[e]=n,this.addAttributesAtRange(s,r)}addAttributesAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithoutAttribute(e)))}setAttributesAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAttributes(e)))}getAttributesAtPosition(e){var n;return((n=this.pieceList.getObjectAtPosition(e))===null||n===void 0?void 0:n.getAttributes())||{}}getCommonAttributes(){const e=Array.from(this.pieceList.toArray()).map(n=>n.getAttributes());return On.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,n){let r,s=r=n;const o=this.getLength();for(;s>0&&this.getCommonAttributesAtRange([s-1,r])[e];)s--;for(;r<o&&this.getCommonAttributesAtRange([n,r+1])[e];)r++;return[s,r]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){const n=this.getLength();return this.getStringAtRange([n-e.length,n])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let n=0;for(const s of this.pieceList.toArray()){var r;if(((r=s.attachment)===null||r===void 0?void 0:r.id)===e)return{attachment:s.attachment,position:n};n+=s.length}return{attachment:null,position:null}}getAttachmentById(e){const{attachment:n}=this.getAttachmentAndPositionById(e);return n}getRangeOfAttachment(e){const n=this.getAttachmentAndPositionById(e.id),r=n.position;if(e=n.attachment)return[r,r+1]}updateAttributesForAttachment(e,n){const r=this.getRangeOfAttachment(n);return r?this.addAttributesAtRange(e,r):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var n;return super.isEqualTo(e)||(e==null||(n=e.pieceList)===null||n===void 0?void 0:n.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const e=this.pieceList.selectSplittableList(n=>n.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return U$(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class zr extends So{static fromJSON(e){return new this(vr.fromJSON(e.text),e.attributes,e.htmlAttributes)}constructor(e,n,r){super(...arguments),this.text=M5(e||new vr),this.attributes=n||[],this.htmlAttributes=r||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e==null?void 0:e.text)&&mo(this.attributes,e==null?void 0:e.attributes)&&tl(this.htmlAttributes,e==null?void 0:e.htmlAttributes)}copyWithText(e){return new zr(e,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new zr(this.text,e,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){const n=e.find(this.text);return n?this.copyWithText(n):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){const n=this.attributes.concat(gw(e));return this.copyWithAttributes(n)}addHTMLAttribute(e,n){const r=Object.assign({},this.htmlAttributes,{[e]:n});return new zr(this.text,this.attributes,r)}removeAttribute(e){const{listAttribute:n}=ft(e),r=vw(vw(this.attributes,e),n);return this.copyWithAttributes(r)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return xw(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return xw(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>ft(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){const e=this.getLastNestableAttribute();if(e){const n=this.attributes.lastIndexOf(e),r=Iv(this.attributes,n+1,0,...gw(e));return this.copyWithAttributes(r)}return this}getListItemAttributes(){return this.attributes.filter(e=>ft(e).listAttribute)}isListItem(){var e;return(e=ft(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=ft(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=ft(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,n){const r=this.toString();let s;switch(e){case"forward":s=r.indexOf(`
`,n);break;case"backward":s=r.slice(0,n).lastIndexOf(`
`)}if(s!==-1)return s}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){const n=vr.textForStringWithAttributes(`
`),r=this.getTextWithoutBlockBreak().appendText(n);return this.copyWithText(r.appendText(e.text))}splitAtOffset(e){let n,r;return e===0?(n=null,r=this):e===this.getLength()?(n=this,r=null):(n=this.copyWithText(this.text.getTextAtRange([0,e])),r=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[n,r]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return Y_(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,n){const r=e.getAttributes(),s=r[n],o=this.attributes[n];return o===s&&!(ft(o).group===!1&&!(()=>{if(!_u){_u=[];for(const a in un){const{listAttribute:l}=un[a];l!=null&&_u.push(l)}}return _u})().includes(r[n+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}}const M5=function(t){return t=I5(t),t=B5(t)},I5=function(t){let e=!1;const n=t.getPieces();let r=n.slice(0,n.length-1);const s=n[n.length-1];return s?(r=r.map(o=>o.isBlockBreak()?(e=!0,$5(o)):o),e?new vr([...r,s]):t):t},F5=vr.textForStringWithAttributes(`
`,{blockBreak:!0}),B5=function(t){return Y_(t)?t:t.appendText(F5)},Y_=function(t){const e=t.getLength();return e===0?!1:t.getTextAtRange([e-1,e]).isBlockBreak()},$5=t=>t.copyWithoutAttribute("blockBreak"),gw=function(t){const{listAttribute:e}=ft(t);return e?[e,t]:[t]},xw=t=>t.slice(-1)[0],vw=function(t,e){const n=t.lastIndexOf(e);return n===-1?t:Iv(t,n,1)};class Gn extends So{static fromJSON(e){return new this(Array.from(e).map(n=>zr.fromJSON(n)))}static fromString(e,n){const r=vr.textForStringWithAttributes(e,n);return new this([new zr(r)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new zr]),this.blockList=Xd.box(e)}isEmpty(){const e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){const n=new Y$(e.getObjects());return this.copyUsingObjectMap(n)}copyUsingObjectMap(e){const n=this.getBlocks().map(r=>e.find(r)||r.copyUsingObjectMap(e));return new this.constructor(n)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.getBlocks().map(r=>{const s=e.concat(r.getAttributes());return r.copyWithAttributes(s)});return new this.constructor(n)}replaceBlock(e,n){const r=this.blockList.indexOf(e);return r===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(n,r))}insertDocumentAtRange(e,n){const{blockList:r}=e;n=He(n);let[s]=n;const{index:o,offset:a}=this.locationFromPosition(s);let l=this;const c=this.getBlockAtPosition(s);return ms(n)&&c.isEmpty()&&!c.hasAttributes()?l=new this.constructor(l.blockList.removeObjectAtIndex(o)):c.getBlockBreakPosition()===a&&s++,l=l.removeTextAtRange(n),new this.constructor(l.blockList.insertSplittableListAtPosition(r,s))}mergeDocumentAtRange(e,n){let r,s;n=He(n);const[o]=n,a=this.locationFromPosition(o),l=this.getBlockAtIndex(a.index).getAttributes(),c=e.getBaseBlockAttributes(),u=l.slice(-c.length);if(mo(c,u)){const g=l.slice(0,-c.length);r=e.copyWithBaseBlockAttributes(g)}else r=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(l);const d=r.getBlockCount(),f=r.getBlockAtIndex(0);if(mo(l,f.getAttributes())){const g=f.getTextWithoutBlockBreak();if(s=this.insertTextAtRange(g,n),d>1){r=new this.constructor(r.getBlocks().slice(1));const w=o+g.getLength();s=s.insertDocumentAtRange(r,w)}}else s=this.insertDocumentAtRange(r,n);return s}insertTextAtRange(e,n){n=He(n);const[r]=n,{index:s,offset:o}=this.locationFromPosition(r),a=this.removeTextAtRange(n);return new this.constructor(a.blockList.editObjectAtIndex(s,l=>l.copyWithText(l.text.insertTextAtPosition(e,o))))}removeTextAtRange(e){let n;e=He(e);const[r,s]=e;if(ms(e))return this;const[o,a]=Array.from(this.locationRangeFromRange(e)),l=o.index,c=o.offset,u=this.getBlockAtIndex(l),d=a.index,f=a.offset,g=this.getBlockAtIndex(d);if(s-r==1&&u.getBlockBreakPosition()===c&&g.getBlockBreakPosition()!==f&&g.text.getStringAtPosition(f)===`
`)n=this.blockList.editObjectAtIndex(d,w=>w.copyWithText(w.text.removeTextAtRange([f,f+1])));else{let w;const y=u.text.getTextAtRange([0,c]),p=g.text.getTextAtRange([f,g.getLength()]),b=y.appendText(p);w=l!==d&&c===0&&u.getAttributeLevel()>=g.getAttributeLevel()?g.copyWithText(b):u.copyWithText(b);const x=d+1-l;n=this.blockList.splice(l,x,w)}return new this.constructor(n)}moveTextFromRangeToPosition(e,n){let r;e=He(e);const[s,o]=e;if(s<=n&&n<=o)return this;let a=this.getDocumentAtRange(e),l=this.removeTextAtRange(e);const c=s<n;c&&(n-=a.getLength());const[u,...d]=a.getBlocks();return d.length===0?(r=u.getTextWithoutBlockBreak(),c&&(n+=1)):r=u.text,l=l.insertTextAtRange(r,n),d.length===0?l:(a=new this.constructor(d),n+=r.getLength(),l.insertDocumentAtRange(a,n))}addAttributeAtRange(e,n,r){let{blockList:s}=this;return this.eachBlockAtRange(r,(o,a,l)=>s=s.editObjectAtIndex(l,function(){return ft(e)?o.addAttribute(e,n):a[0]===a[1]?o:o.copyWithText(o.text.addAttributeAtRange(e,n,a))})),new this.constructor(s)}addAttribute(e,n){let{blockList:r}=this;return this.eachBlock((s,o)=>r=r.editObjectAtIndex(o,()=>s.addAttribute(e,n))),new this.constructor(r)}removeAttributeAtRange(e,n){let{blockList:r}=this;return this.eachBlockAtRange(n,function(s,o,a){ft(e)?r=r.editObjectAtIndex(a,()=>s.removeAttribute(e)):o[0]!==o[1]&&(r=r.editObjectAtIndex(a,()=>s.copyWithText(s.text.removeAttributeAtRange(e,o))))}),new this.constructor(r)}updateAttributesForAttachment(e,n){const r=this.getRangeOfAttachment(n),[s]=Array.from(r),{index:o}=this.locationFromPosition(s),a=this.getTextAtIndex(o);return new this.constructor(this.blockList.editObjectAtIndex(o,l=>l.copyWithText(a.updateAttributesForAttachment(e,n))))}removeAttributeForAttachment(e,n){const r=this.getRangeOfAttachment(n);return this.removeAttributeAtRange(e,r)}setHTMLAttributeAtPosition(e,n,r){const s=this.getBlockAtPosition(e),o=s.addHTMLAttribute(n,r);return this.replaceBlock(s,o)}insertBlockBreakAtRange(e){let n;e=He(e);const[r]=e,{offset:s}=this.locationFromPosition(r),o=this.removeTextAtRange(e);return s===0&&(n=[new zr]),new this.constructor(o.blockList.insertSplittableListAtPosition(new Xd(n),r))}applyBlockAttributeAtRange(e,n,r){const s=this.expandRangeToLineBreaksAndSplitBlocks(r);let o=s.document;r=s.range;const a=ft(e);if(a.listAttribute){o=o.removeLastListAttributeAtRange(r,{exceptAttributeName:e});const l=o.convertLineBreaksToBlockBreaksInRange(r);o=l.document,r=l.range}else o=a.exclusive?o.removeBlockAttributesAtRange(r):a.terminal?o.removeLastTerminalAttributeAtRange(r):o.consolidateBlocksAtRange(r);return o.addAttributeAtRange(e,n,r)}removeLastListAttributeAtRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:r}=this;return this.eachBlockAtRange(e,function(s,o,a){const l=s.getLastAttribute();l&&ft(l).listAttribute&&l!==n.exceptAttributeName&&(r=r.editObjectAtIndex(a,()=>s.removeAttribute(l)))}),new this.constructor(r)}removeLastTerminalAttributeAtRange(e){let{blockList:n}=this;return this.eachBlockAtRange(e,function(r,s,o){const a=r.getLastAttribute();a&&ft(a).terminal&&(n=n.editObjectAtIndex(o,()=>r.removeAttribute(a)))}),new this.constructor(n)}removeBlockAttributesAtRange(e){let{blockList:n}=this;return this.eachBlockAtRange(e,function(r,s,o){r.hasAttributes()&&(n=n.editObjectAtIndex(o,()=>r.copyWithoutAttributes()))}),new this.constructor(n)}expandRangeToLineBreaksAndSplitBlocks(e){let n;e=He(e);let[r,s]=e;const o=this.locationFromPosition(r),a=this.locationFromPosition(s);let l=this;const c=l.getBlockAtIndex(o.index);if(o.offset=c.findLineBreakInDirectionFromPosition("backward",o.offset),o.offset!=null&&(n=l.positionFromLocation(o),l=l.insertBlockBreakAtRange([n,n+1]),a.index+=1,a.offset-=l.getBlockAtIndex(o.index).getLength(),o.index+=1),o.offset=0,a.offset===0&&a.index>o.index)a.index-=1,a.offset=l.getBlockAtIndex(a.index).getBlockBreakPosition();else{const u=l.getBlockAtIndex(a.index);u.text.getStringAtRange([a.offset-1,a.offset])===`
`?a.offset-=1:a.offset=u.findLineBreakInDirectionFromPosition("forward",a.offset),a.offset!==u.getBlockBreakPosition()&&(n=l.positionFromLocation(a),l=l.insertBlockBreakAtRange([n,n+1]))}return r=l.positionFromLocation(o),s=l.positionFromLocation(a),{document:l,range:e=He([r,s])}}convertLineBreaksToBlockBreaksInRange(e){e=He(e);let[n]=e;const r=this.getStringAtRange(e).slice(0,-1);let s=this;return r.replace(/.*?\n/g,function(o){n+=o.length,s=s.insertBlockBreakAtRange([n-1,n])}),{document:s,range:e}}consolidateBlocksAtRange(e){e=He(e);const[n,r]=e,s=this.locationFromPosition(n).index,o=this.locationFromPosition(r).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(s,o))}getDocumentAtRange(e){e=He(e);const n=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(n)}getStringAtRange(e){let n;const r=e=He(e);return r[r.length-1]!==this.getLength()&&(n=-1),this.getDocumentAtRange(e).toString().slice(0,n)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){const{index:n}=this.locationFromPosition(e);return this.getBlockAtIndex(n)}getTextAtIndex(e){var n;return(n=this.getBlockAtIndex(e))===null||n===void 0?void 0:n.text}getTextAtPosition(e){const{index:n}=this.locationFromPosition(e);return this.getTextAtIndex(n)}getPieceAtPosition(e){const{index:n,offset:r}=this.locationFromPosition(e);return this.getTextAtIndex(n).getPieceAtPosition(r)}getCharacterAtPosition(e){const{index:n,offset:r}=this.locationFromPosition(e);return this.getTextAtIndex(n).getStringAtRange([r,r+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,n){let r,s;e=He(e);const[o,a]=e,l=this.locationFromPosition(o),c=this.locationFromPosition(a);if(l.index===c.index)return r=this.getBlockAtIndex(l.index),s=[l.offset,c.offset],n(r,s,l.index);for(let u=l.index;u<=c.index;u++)if(r=this.getBlockAtIndex(u),r){switch(u){case l.index:s=[l.offset,r.text.getLength()];break;case c.index:s=[0,c.offset];break;default:s=[0,r.text.getLength()]}n(r,s,u)}}getCommonAttributesAtRange(e){e=He(e);const[n]=e;if(ms(e))return this.getCommonAttributesAtPosition(n);{const r=[],s=[];return this.eachBlockAtRange(e,function(o,a){if(a[0]!==a[1])return r.push(o.text.getCommonAttributesAtRange(a)),s.push(yw(o))}),On.fromCommonAttributesOfObjects(r).merge(On.fromCommonAttributesOfObjects(s)).toObject()}}getCommonAttributesAtPosition(e){let n,r;const{index:s,offset:o}=this.locationFromPosition(e),a=this.getBlockAtIndex(s);if(!a)return{};const l=yw(a),c=a.text.getAttributesAtPosition(o),u=a.text.getAttributesAtPosition(o-1),d=Object.keys(fo).filter(f=>fo[f].inheritable);for(n in u)r=u[n],(r===c[n]||d.includes(n))&&(l[n]=r);return l}getRangeOfCommonAttributeAtPosition(e,n){const{index:r,offset:s}=this.locationFromPosition(n),o=this.getTextAtIndex(r),[a,l]=Array.from(o.getExpandedRangeForAttributeAtOffset(e,s)),c=this.positionFromLocation({index:r,offset:a}),u=this.positionFromLocation({index:r,offset:l});return He([c,u])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let n=1;n<this.getBlockCount();n++){const r=this.getBlockAtIndex(n).getAttributes(),s=Math.min(e.length,r.length);e=(()=>{const o=[];for(let a=0;a<s&&r[a]===e[a];a++)o.push(r[a]);return o})()}return e}getAttachmentById(e){for(const n of this.getAttachments())if(n.id===e)return n}getAttachmentPieces(){let e=[];return this.blockList.eachObject(n=>{let{text:r}=n;return e=e.concat(r.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let n=0;const r=this.blockList.toArray();for(let s=0;s<r.length;s++){const{text:o}=r[s],a=o.getRangeOfAttachment(e);if(a)return He([n+a[0],n+a[1]]);n+=o.getLength()}}getLocationRangeOfAttachment(e){const n=this.getRangeOfAttachment(e);return this.locationRangeFromRange(n)}getAttachmentPieceForAttachment(e){for(const n of this.getAttachmentPieces())if(n.attachment===e)return n}findRangesForBlockAttribute(e){let n=0;const r=[];return this.getBlocks().forEach(s=>{const o=s.getLength();s.hasAttribute(e)&&r.push([n,n+o]),n+=o}),r}findRangesForTextAttribute(e){let{withValue:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=0,s=[];const o=[];return this.getPieces().forEach(a=>{const l=a.getLength();(function(c){return n?c.getAttribute(e)===n:c.hasAttribute(e)})(a)&&(s[1]===r?s[1]=r+l:o.push(s=[r,r+l])),r+=l}),o}locationFromPosition(e){const n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(n.index!=null)return n;{const r=this.getBlocks();return{index:r.length-1,offset:r[r.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return He(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=He(e)))return;const[n,r]=Array.from(e),s=this.locationFromPosition(n),o=this.locationFromPosition(r);return He([s,o])}rangeFromLocationRange(e){let n;e=He(e);const r=this.positionFromLocation(e[0]);return ms(e)||(n=this.positionFromLocation(e[1])),He([r,n])}isEqualTo(e){return this.blockList.isEqualTo(e==null?void 0:e.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){const e=[];return Array.from(this.getTexts()).forEach(n=>{e.push(...Array.from(n.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const e=[];return this.blockList.eachObject(n=>e.push(n.copyWithText(n.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(e=>JSON.parse(e.text.toConsole())))}}const yw=function(t){const e={},n=t.getLastAttribute();return n&&(e[n]=!0),e},pm=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:t=Rl(t),attributes:e,type:"string"}},bw=(t,e)=>{try{return JSON.parse(t.getAttribute("data-trix-".concat(e)))}catch{return{}}};class _c extends bt{static parse(e,n){const r=new this(e,n);return r.parse(),r}constructor(e){let{referenceElement:n,purifyOptions:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=n,this.purifyOptions=r,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Gn.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),Gh.setHTML(this.containerElement,this.html,{purifyOptions:this.purifyOptions});const e=Gd(this.containerElement,{usingFilter:z5});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=Ae({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return yi(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){const n=e.parentNode;if(n===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(n===this.containerElement||this.isBlockElement(n)){var r;const s=this.getBlockAttributes(n),o=this.getBlockHTMLAttributes(n);mo(s,(r=this.currentBlock)===null||r===void 0?void 0:r.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(s,n,o),this.currentBlockElement=n)}}appendBlockForElement(e){const n=this.isBlockElement(e),r=Ii(this.currentBlockElement,e);if(n&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){const s=this.getBlockAttributes(e),o=this.getBlockHTMLAttributes(e);if(e.firstChild){if(r&&mo(s,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(s,e,o),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!r&&!n){const s=this.findParentBlockElement(e);if(s)return this.appendBlockForElement(s);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:n}=e;for(;n&&n!==this.containerElement;){if(this.isBlockElement(n)&&this.blockElements.includes(n))return n;n=n.parentElement}return null}processTextNode(e){let n=e.data;var r;return ww(e.parentNode)||(n=$v(n),X_((r=e.previousSibling)===null||r===void 0?void 0:r.textContent)&&(n=q5(n))),this.appendStringWithAttributes(n,this.getTextAttributes(e.parentNode))}processElement(e){let n;if(Xi(e)){if(n=bw(e,"attachment"),Object.keys(n).length){const r=this.getTextAttributes(e);this.appendAttachmentWithAttributes(n,r),e.innerHTML=""}return this.processedElements.push(e)}switch(ln(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":n={url:e.getAttribute("src"),contentType:"image"};const r=(s=>{const o=s.getAttribute("width"),a=s.getAttribute("height"),l={};return o&&(l.width=parseInt(o,10)),a&&(l.height=parseInt(a,10)),l})(e);for(const s in r){const o=r[s];n[s]=o}return this.appendAttachmentWithAttributes(n,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(nd.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(nd.tableCellSeparator)}}appendBlockForAttributesWithElement(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(n);const s=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(e,r);return this.blocks.push(s),s}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,n){return this.appendPiece(pm(e,n))}appendAttachmentWithAttributes(e,n){return this.appendPiece(function(r){return{attachment:r,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,n))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,n){const{text:r}=this.blocks[n],s=r[r.length-1];if((s==null?void 0:s.type)!=="string")return r.push(pm(e));s.string+=e}prependStringToTextAtIndex(e,n){const{text:r}=this.blocks[n],s=r[0];if((s==null?void 0:s.type)!=="string")return r.unshift(pm(e));s.string=e+s.string}getTextAttributes(e){let n;const r={};for(const s in fo){const o=fo[s];if(o.tagName&&vi(e,{matchingSelector:o.tagName,untilNode:this.containerElement}))r[s]=!0;else if(o.parser){if(n=o.parser(e),n){let a=!1;for(const l of this.findBlockElementAncestors(e))if(o.parser(l)===n){a=!0;break}a||(r[s]=n)}}else o.styleProperty&&(n=e.style[o.styleProperty],n&&(r[s]=n))}if(Xi(e)){const s=bw(e,"attributes");for(const o in s)n=s[o],r[o]=n}return r}getBlockAttributes(e){const n=[];for(;e&&e!==this.containerElement;){for(const s in un){const o=un[s];var r;o.parse!==!1&&ln(e)===o.tagName&&((r=o.test)!==null&&r!==void 0&&r.call(o,e)||!o.test)&&(n.push(s),o.listAttribute&&n.push(o.listAttribute))}e=e.parentNode}return n.reverse()}getBlockHTMLAttributes(e){const n={},r=Object.values(un).find(s=>s.tagName===ln(e));return((r==null?void 0:r.htmlAttributes)||[]).forEach(s=>{e.hasAttribute(s)&&(n[s]=e.getAttribute(s))}),n}findBlockElementAncestors(e){const n=[];for(;e&&e!==this.containerElement;){const r=ln(e);Wl().includes(r)&&n.push(e),e=e.parentNode}return n}isBlockElement(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE&&!Xi(e)&&!vi(e,{matchingSelector:"td",untilNode:this.containerElement}))return Wl().includes(ln(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if((e==null?void 0:e.nodeType)!==Node.TEXT_NODE||!W5(e.data))return;const{parentNode:n,previousSibling:r,nextSibling:s}=e;return U5(n.previousSibling)&&!this.isBlockElement(n.previousSibling)||ww(n)?void 0:!r||this.isBlockElement(r)||!s||this.isBlockElement(s)}isExtraBR(e){return ln(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(nd.removeBlankTableCells){var n;const r=(n=e.previousSibling)===null||n===void 0?void 0:n.textContent;return r&&/\S/.test(r)}return e.previousSibling}translateBlockElementMarginsToNewlines(){const e=this.getMarginOfDefaultBlockElement();for(let n=0;n<this.blocks.length;n++){const r=this.getMarginOfBlockElementAtIndex(n);r&&(r.top>2*e.top&&this.prependStringToTextAtIndex(`
`,n),r.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,n))}}getMarginOfBlockElementAtIndex(e){const n=this.blockElements[e];if(n&&n.textContent&&!Wl().includes(ln(n))&&!this.processedElements.includes(n))return Sw(n)}getMarginOfDefaultBlockElement(){const e=Ae(un.default.tagName);return this.containerElement.appendChild(e),Sw(e)}}const ww=function(t){const{whiteSpace:e}=window.getComputedStyle(t);return["pre","pre-wrap","pre-line"].includes(e)},U5=t=>t&&!X_(t.textContent),Sw=function(t){const e=window.getComputedStyle(t);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},z5=function(t){return ln(t)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},q5=t=>t.replace(new RegExp("^".concat(Bv.source,"+")),""),W5=t=>new RegExp("^".concat(Bv.source,"*$")).test(t),X_=t=>/\s$/.test(t),V5=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],wg="data-trix-serialized-attributes",H5="[".concat(wg,"]"),K5=new RegExp("<!--block-->","g"),G5={"application/json":function(t){let e;if(t instanceof Gn)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=_c.parse(t.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(t){let e;if(t instanceof Gn)e=Qh.render(t);else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=t.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(n=>{yi(n)}),V5.forEach(n=>{Array.from(e.querySelectorAll("[".concat(n,"]"))).forEach(r=>{r.removeAttribute(n)})}),Array.from(e.querySelectorAll(H5)).forEach(n=>{try{const r=JSON.parse(n.getAttribute(wg));n.removeAttribute(wg);for(const s in r){const o=r[s];n.setAttribute(s,o)}}catch{}}),e.innerHTML.replace(K5,"")}};var Q5=Object.freeze({__proto__:null});class rt extends bt{constructor(e,n){super(...arguments),this.attachmentManager=e,this.attachment=n,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}rt.proxyMethod("attachment.getAttribute"),rt.proxyMethod("attachment.hasAttribute"),rt.proxyMethod("attachment.setAttribute"),rt.proxyMethod("attachment.getAttributes"),rt.proxyMethod("attachment.setAttributes"),rt.proxyMethod("attachment.isPending"),rt.proxyMethod("attachment.isPreviewable"),rt.proxyMethod("attachment.getURL"),rt.proxyMethod("attachment.getPreviewURL"),rt.proxyMethod("attachment.setPreviewURL"),rt.proxyMethod("attachment.getHref"),rt.proxyMethod("attachment.getFilename"),rt.proxyMethod("attachment.getFilesize"),rt.proxyMethod("attachment.getFormattedFilesize"),rt.proxyMethod("attachment.getExtension"),rt.proxyMethod("attachment.getContentType"),rt.proxyMethod("attachment.getFile"),rt.proxyMethod("attachment.setFile"),rt.proxyMethod("attachment.releaseFile"),rt.proxyMethod("attachment.getUploadProgress"),rt.proxyMethod("attachment.setUploadProgress");class J_ extends bt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(n=>{this.manageAttachment(n)})}getAttachments(){const e=[];for(const n in this.managedAttachments){const r=this.managedAttachments[n];e.push(r)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new rt(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var n,r;if(this.attachmentIsManaged(e))return(n=this.delegate)===null||n===void 0||(r=n.attachmentManagerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,e)}unmanageAttachment(e){const n=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],n}}class Z_{constructor(e){this.composition=e,this.document=this.composition.document;const n=this.composition.getSelectedRange();this.startPosition=n[0],this.endPosition=n[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class $s extends bt{constructor(){super(...arguments),this.document=new Gn,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var n,r;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeDocument)===null||r===void 0?void 0:r.call(n,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var n,r,s,o;let{document:a,selectedRange:l}=e;return(n=this.delegate)===null||n===void 0||(r=n.compositionWillLoadSnapshot)===null||r===void 0||r.call(n),this.setDocument(a??new Gn),this.setSelection(l??[0,0]),(s=this.delegate)===null||s===void 0||(o=s.compositionDidLoadSnapshot)===null||o===void 0?void 0:o.call(s)}insertText(e){let{updatePosition:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const r=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,r));const s=r[0],o=s+e.getLength();return n&&this.setSelection(o),this.notifyDelegateOfInsertionAtRange([s,o])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new zr;const n=new Gn([e]);return this.insertDocument(n)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Gn;const n=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,n));const r=n[0],s=r+e.getLength();return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([r,s])}insertString(e,n){const r=this.getCurrentTextAttributes(),s=vr.textForStringWithAttributes(e,r);return this.insertText(s,n)}insertBlockBreak(){const e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));const n=e[0],r=n+1;return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}insertLineBreak(){const e=new Z_(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){const n=new Gn([e.block.copyWithoutText()]);return this.insertDocument(n)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){const n=_c.parse(e,{purifyOptions:{SAFE_FOR_XML:!0}}).getDocument(),r=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(n,r));const s=r[0],o=s+n.getLength()-1;return this.setSelection(o),this.notifyDelegateOfInsertionAtRange([s,o])}replaceHTML(e){const n=_c.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),r=this.getLocationRange({strict:!1}),s=this.document.rangeFromLocationRange(r);return this.setDocument(n),this.setSelection(s)}insertFile(e){return this.insertFiles([e])}insertFiles(e){const n=[];return Array.from(e).forEach(r=>{var s;if((s=this.delegate)!==null&&s!==void 0&&s.compositionShouldAcceptFile(r)){const o=nl.attachmentForFile(r);n.push(o)}}),this.insertAttachments(n)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let n=new vr;return Array.from(e).forEach(r=>{var s;const o=r.getType(),a=(s=Pv[o])===null||s===void 0?void 0:s.presentation,l=this.getCurrentTextAttributes();a&&(l.presentation=a);const c=vr.textForAttachmentWithAttributes(r,l);n=n.appendText(c)}),this.insertText(n)}shouldManageDeletingInDirection(e){const n=this.getLocationRange();if(ms(n)){if(e==="backward"&&n[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(n[0].index!==n[1].index)return!0;return!1}deleteInDirection(e){let n,r,s,{length:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getLocationRange();let l=this.getSelectedRange();const c=ms(l);if(c?r=e==="backward"&&a[0].offset===0:s=a[0].index!==a[1].index,r&&this.canDecreaseBlockAttributeLevel()){const u=this.getBlock();if(u.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(l[0]),u.isEmpty())return!1}return c&&(l=this.getExpandedRangeInDirection(e,{length:o}),e==="backward"&&(n=this.getAttachmentAtRange(l))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(l)),this.setSelection(l[0]),!r&&!s&&void 0)}moveTextFromRange(e){const[n]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,n)),this.setSelection(n)}removeAttachment(e){const n=this.document.getRangeOfAttachment(e);if(n)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(n)),this.setSelection(n[0])}removeLastBlockAttribute(){const[e,n]=Array.from(this.getSelectedRange()),r=this.document.getBlockAtPosition(n);return this.removeCurrentAttribute(r.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){const n=this.currentAttributes[e];return n!=null&&n!==!1}toggleCurrentAttribute(e){const n=!this.currentAttributes[e];return n?this.setCurrentAttribute(e,n):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return ft(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){const n=this.getSelectedDocument();if(n){for(const r of Array.from(n.getAttachments()))if(!r.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){const n=this.getBlock();if(n)return!n.isTerminalBlock()}setCurrentAttribute(e,n){return ft(e)?this.setBlockAttribute(e,n):(this.setTextAttribute(e,n),this.currentAttributes[e]=n,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(e,n,r){var s;const o=this.document.getBlockAtPosition(e),a=(s=ft(o.getLastAttribute()))===null||s===void 0?void 0:s.htmlAttributes;if(o&&a!=null&&a.includes(n)){const l=this.document.setHTMLAttributeAtPosition(e,n,r);this.setDocument(l)}}setTextAttribute(e,n){const r=this.getSelectedRange();if(!r)return;const[s,o]=Array.from(r);if(s!==o)return this.setDocument(this.document.addAttributeAtRange(e,n,r));if(e==="href"){const a=vr.textForStringWithAttributes(n,{href:n});return this.insertText(a)}}setBlockAttribute(e,n){const r=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,n,r)),this.setSelection(r)}removeCurrentAttribute(e){return ft(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(e,n))}removeBlockAttribute(e){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(e,n))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;const n=this.getBlock();if(n){if((e=ft(n.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return n.getNestingLevel()>0;{const r=this.getPreviousBlock();if(r)return function(){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return mo((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,s.length),s)}(r.getListItemAttributes(),n.getListItemAttributes())}}}decreaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;const n=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(n)return this.removeCurrentAttribute(n)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange());const{index:n}=this.document.locationFromPosition(e);let r=n;const s=this.getBlock().getAttributeLevel();let o=this.document.getBlockAtIndex(r+1);for(;o&&o.isListItem()&&!(o.getAttributeLevel()<=s);)r++,o=this.document.getBlockAtIndex(r+1);e=this.document.positionFromLocation({index:n,offset:0});const a=this.document.positionFromLocation({index:r,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,a]))}updateCurrentAttributes(){const e=this.getSelectedRange({ignoreLock:!0});if(e){const n=this.document.getCommonAttributesAtRange(e);if(Array.from(gg()).forEach(r=>{n[r]||this.canSetCurrentAttribute(r)||(n[r]=!1)}),!tl(n,this.currentAttributes))return this.currentAttributes=n,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return __.call({},this.currentAttributes)}getCurrentTextAttributes(){const e={};for(const n in this.currentAttributes){const r=this.currentAttributes[n];r!==!1&&xg(n)&&(e[n]=r)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var n;const r=this.document.locationRangeFromRange(e);return(n=this.delegate)===null||n===void 0?void 0:n.compositionDidRequestChangingSelectionToLocationRange(r)}getSelectedRange(){const e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){const n=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(n)}getPosition(){const e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||He({index:0,offset:0})}withTargetLocationRange(e,n){let r;this.targetLocationRange=e;try{r=n()}finally{this.targetLocationRange=null}return r}withTargetRange(e,n){const r=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(r,n)}withTargetDOMRange(e,n){const r=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(r,n)}getExpandedRangeInDirection(e){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[r,s]=Array.from(this.getSelectedRange());return e==="backward"?n?r-=n:r=this.translateUTF16PositionFromOffset(r,-1):n?s+=n:s=this.translateUTF16PositionFromOffset(s,1),He([r,s])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;const n=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(n)!=null}moveCursorInDirection(e){let n,r;if(this.editingAttachment)r=this.document.getRangeOfAttachment(this.editingAttachment);else{const s=this.getSelectedRange();r=this.getExpandedRangeInDirection(e),n=!Qd(s,r)}if(e==="backward"?this.setSelectedRange(r[0]):this.setSelectedRange(r[1]),n){const s=this.getAttachmentAtRange(r);if(s)return this.editAttachment(s)}}expandSelectionInDirection(e){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getExpandedRangeInDirection(e,{length:n});return this.setSelectedRange(r)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){const n=this.getPosition(),r=this.document.getRangeOfCommonAttributeAtPosition(e,n);return this.setSelectedRange(r)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){const n=this.document.locationFromPosition(e);if(n)return this.locationIsCursorTarget(n)}positionIsBlockBreak(e){var n;return(n=this.document.getPieceAtPosition(e))===null||n===void 0?void 0:n.isBlockBreak()}getSelectedDocument(){const e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const e=this.document.getAttachments(),{added:n,removed:r}=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const a=[],l=[],c=new Set;s.forEach(d=>{c.add(d)});const u=new Set;return o.forEach(d=>{u.add(d),c.has(d)||a.push(d)}),s.forEach(d=>{u.has(d)||l.push(d)}),{added:a,removed:l}}(this.attachments,e);return this.attachments=e,Array.from(r).forEach(s=>{var o,a;s.delegate=null,(o=this.delegate)===null||o===void 0||(a=o.compositionDidRemoveAttachment)===null||a===void 0||a.call(o,s)}),(()=>{const s=[];return Array.from(n).forEach(o=>{var a,l;o.delegate=this,s.push((a=this.delegate)===null||a===void 0||(l=a.compositionDidAddAttachment)===null||l===void 0?void 0:l.call(a,o))}),s})()}attachmentDidChangeAttributes(e){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidEditAttachment)===null||r===void 0?void 0:r.call(n,e)}attachmentDidChangePreviewURL(e){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeAttachmentPreviewURL)===null||r===void 0?void 0:r.call(n,e)}editAttachment(e,n){var r,s;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(r=this.delegate)===null||r===void 0||(s=r.compositionDidStartEditingAttachment)===null||s===void 0?void 0:s.call(r,this.editingAttachment,n)}stopEditingAttachment(){var e,n;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(n=e.compositionDidStopEditingAttachment)===null||n===void 0||n.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,n){return this.setDocument(this.document.updateAttributesForAttachment(e,n))}removeAttributeForAttachment(e,n){return this.setDocument(this.document.removeAttributeForAttachment(e,n))}breakFormattedBlock(e){let{document:n}=e;const{block:r}=e;let s=e.startPosition,o=[s-1,s];r.getBlockBreakPosition()===e.startLocation.offset?(r.breaksOnReturn()&&e.nextCharacter===`
`?s+=1:n=n.removeTextAtRange(o),o=[s,s]):e.nextCharacter===`
`?e.previousCharacter===`
`?o=[s-1,s+1]:(o=[s,s+1],s+=1):e.startLocation.offset-1!=0&&(s+=1);const a=new Gn([r.removeLastAttribute().copyWithoutText()]);return this.setDocument(n.insertDocumentAtRange(a,o)),this.setSelection(s)}getPreviousBlock(){const e=this.getLocationRange();if(e){const{index:n}=e[0];if(n>0)return this.document.getBlockAtIndex(n-1)}}getBlock(){const e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){const n=this.document.getDocumentAtRange(e);if(n.toString()==="".concat("",`
`))return n.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.compositionDidChangeCurrentAttributes)===null||n===void 0?void 0:n.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionDidPerformInsertionAtRange)===null||r===void 0?void 0:r.call(n,e)}translateUTF16PositionFromOffset(e,n){const r=this.document.toUTF16String(),s=r.offsetFromUCS2Offset(e);return r.offsetToUCS2Offset(s+n)}}$s.proxyMethod("getSelectionManager().getPointRange"),$s.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),$s.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),$s.proxyMethod("getSelectionManager().locationIsCursorTarget"),$s.proxyMethod("getSelectionManager().selectionIsExpanded"),$s.proxyMethod("delegate?.getSelectionManager");class Sg extends bt{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.undoEntries.slice(-1)[0];if(!r||!Y5(s,e,n)){const o=this.createEntry({description:e,context:n});this.undoEntries.push(o),this.redoEntries=[]}}undo(){const e=this.undoEntries.pop();if(e){const n=this.createEntry(e);return this.redoEntries.push(n),this.composition.loadSnapshot(e.snapshot)}}redo(){const e=this.redoEntries.pop();if(e){const n=this.createEntry(e);return this.undoEntries.push(n),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e==null?void 0:e.toString(),context:JSON.stringify(n),snapshot:this.composition.getSnapshot()}}}const Y5=(t,e,n)=>(t==null?void 0:t.description)===(e==null?void 0:e.toString())&&(t==null?void 0:t.context)===JSON.stringify(n),gm="attachmentGallery";class eA{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange(gm,e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(n=>{n[1]-n[0]>1&&(n[0]+=e,n[1]+=e,this.document.getCharacterAtPosition(n[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[1]),n[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),n[1]++,e++),n[0]!==0&&this.document.getCharacterAtPosition(n[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[0]),n[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),n[0]++,e++),this.document=this.document.applyBlockAttributeAtRange(gm,!0,n))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(gm)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const tA=function(t){const e=new eA(t);return e.perform(),e.getSnapshot()},X5=[tA];class nA{constructor(e,n,r){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=n,this.element=r,this.undoManager=new Sg(this.composition),this.filters=X5.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=_c.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(n)}loadJSON(e){let{document:n,selectedRange:r}=e;return n=Gn.fromJSON(n),this.loadSnapshot({document:n,selectedRange:r})}loadSnapshot(e){return this.undoManager=new Sg(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){const n=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(n)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,n)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}setHTMLAtributeAtPosition(e,n,r){this.composition.setHTMLAtributeAtPosition(e,n,r)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:n,consolidatable:r})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class rA{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,n){let{strict:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},s=0,o=!1;const a={index:0,offset:0},l=this.findAttachmentElementParentForNode(e);l&&(e=l.parentNode,n=em(l));const c=Gd(this.element,{usingFilter:sA});for(;c.nextNode();){const u=c.currentNode;if(u===e&&Vl(e)){ca(u)||(a.offset+=n);break}if(u.parentNode===e){if(s++===n)break}else if(!Ii(e,u)&&s>0)break;Y0(u,{strict:r})?(o&&a.index++,a.offset=0,o=!0):a.offset+=xm(u)}return a}findContainerAndOffsetFromLocation(e){let n,r;if(e.index===0&&e.offset===0){for(n=this.element,r=0;n.firstChild;)if(n=n.firstChild,tm(n)){r=1;break}return[n,r]}let[s,o]=this.findNodeAndOffsetFromLocation(e);if(s){if(Vl(s))xm(s)===0?(n=s.parentNode.parentNode,r=em(s.parentNode),ca(s,{name:"right"})&&r++):(n=s,r=e.offset-o);else{if(n=s.parentNode,!Y0(s.previousSibling)&&!tm(n))for(;s===n.lastChild&&(s=n,n=n.parentNode,!tm(n)););r=em(s),e.offset!==0&&r++}return[n,r]}}findNodeAndOffsetFromLocation(e){let n,r,s=0;for(const o of this.getSignificantNodesForIndex(e.index)){const a=xm(o);if(e.offset<=s+a)if(Vl(o)){if(n=o,r=s,e.offset===r&&ca(n))break}else n||(n=o,r=s);if(s+=a,s>e.offset)break}return[n,r]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(Xi(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){const n=[],r=Gd(this.element,{usingFilter:J5});let s=!1;for(;r.nextNode();){const a=r.currentNode;var o;if(la(a)){if(o!=null?o++:o=0,o===e)s=!0;else if(s)break}else s&&n.push(a)}return n}}const xm=function(t){return t.nodeType===Node.TEXT_NODE?ca(t)?0:t.textContent.length:ln(t)==="br"||Xi(t)?1:0},J5=function(t){return Z5(t)===NodeFilter.FILTER_ACCEPT?sA(t):NodeFilter.FILTER_REJECT},Z5=function(t){return R_(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},sA=function(t){return Xi(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class iA{createDOMRangeFromPoint(e){let n,{x:r,y:s}=e;if(document.caretPositionFromPoint){const{offsetNode:o,offset:a}=document.caretPositionFromPoint(r,s);return n=document.createRange(),n.setStart(o,a),n}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(r,s);if(document.body.createTextRange){const o=Hl();try{const a=document.body.createTextRange();a.moveToPoint(r,s),a.select()}catch{}return n=Hl(),F_(o),n}}getClientRectsForDOMRange(e){const n=Array.from(e.getClientRects());return[n[0],n[n.length-1]]}}class Ti extends bt{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new rA(this.element),this.pointMapper=new iA,this.lockCount=0,it("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange(Hl()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=He(e);const n=this.createDOMRangeFromLocationRange(e);n&&(F_(n),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=He(e);const n=this.getLocationAtPoint(e[0]),r=this.getLocationAtPoint(e[1]);this.setLocationRange([n,r])}getClientRectAtLocationRange(e){const n=this.createDOMRangeFromLocationRange(e);if(n)return this.getClientRectsForDOMRange(n)[1]}locationIsCursorTarget(e){const n=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return ca(n)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=I_())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=Hl())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,n){if(e==null||!this.domRangeWithinElement(e))return;const r=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,n);if(!r)return;const s=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,n);return He([r,s])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;const n=()=>{if(this.paused=!1,clearTimeout(r),Array.from(e).forEach(s=>{s.destroy()}),Ii(document,this.element))return this.selectionDidChange()},r=setTimeout(n,200);e=["mousemove","keydown"].map(s=>it(s,{onElement:document,withCallback:n}))}selectionDidChange(){if(!this.paused&&!Lv(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var n,r;if((e??(e=this.createLocationRangeFromDOMRange(Hl())))&&!Qd(e,this.currentLocationRange))return this.currentLocationRange=e,(n=this.delegate)===null||n===void 0||(r=n.locationRangeDidChange)===null||r===void 0?void 0:r.call(n,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){const n=this.findContainerAndOffsetFromLocation(e[0]),r=ms(e)?n:this.findContainerAndOffsetFromLocation(e[1])||n;if(n!=null&&r!=null){const s=document.createRange();return s.setStart(...Array.from(n||[])),s.setEnd(...Array.from(r||[])),s}}getLocationAtPoint(e){const n=this.createDOMRangeFromPoint(e);var r;if(n)return(r=this.createLocationRangeFromDOMRange(n))===null||r===void 0?void 0:r[0]}domRangeWithinElement(e){return e.collapsed?Ii(this.element,e.startContainer):Ii(this.element,e.startContainer)&&Ii(this.element,e.endContainer)}}Ti.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Ti.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Ti.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Ti.proxyMethod("pointMapper.createDOMRangeFromPoint"),Ti.proxyMethod("pointMapper.getClientRectsForDOMRange");var oA=Object.freeze({__proto__:null,Attachment:nl,AttachmentManager:J_,AttachmentPiece:Oa,Block:zr,Composition:$s,Document:Gn,Editor:nA,HTMLParser:_c,HTMLSanitizer:Gh,LineBreakInsertion:Z_,LocationMapper:rA,ManagedAttachment:rt,Piece:jo,PointMapper:iA,SelectionManager:Ti,SplittableList:Xd,StringPiece:qv,Text:vr,UndoManager:Sg}),eU=Object.freeze({__proto__:null,ObjectView:Co,AttachmentView:zv,BlockView:H_,DocumentView:Qh,PieceView:W_,PreviewableAttachmentView:q_,TextView:V_});const{lang:vm,css:_i,keyNames:tU}=Xc,ym=function(t){return function(){const e=t.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}};class aA extends bt{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Yt(this,"makeElementMutable",ym(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Yt(this,"addToolbar",ym(()=>{const o=Ae({tagName:"div",className:_i.attachmentToolbar,data:{trixMutable:!0},childNodes:Ae({tagName:"div",className:"trix-button-row",childNodes:Ae({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:Ae({tagName:"button",className:"trix-button trix-button--remove",textContent:vm.remove,attributes:{title:vm.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&o.appendChild(Ae({tagName:"div",className:_i.attachmentMetadataContainer,childNodes:Ae({tagName:"span",className:_i.attachmentMetadata,childNodes:[Ae({tagName:"span",className:_i.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),Ae({tagName:"span",className:_i.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),it("click",{onElement:o,withCallback:this.didClickToolbar}),it("click",{onElement:o,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),ql("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:o,attachment:this.attachment}}),{do:()=>this.element.appendChild(o),undo:()=>yi(o)}})),Yt(this,"installCaptionEditor",ym(()=>{const o=Ae({tagName:"textarea",className:_i.attachmentCaptionEditor,attributes:{placeholder:vm.captionPlaceholder},data:{trixMutable:!0}});o.value=this.attachmentPiece.getCaption();const a=o.cloneNode();a.classList.add("trix-autoresize-clone"),a.tabIndex=-1;const l=function(){a.value=o.value,o.style.height=a.scrollHeight+"px"};it("input",{onElement:o,withCallback:l}),it("input",{onElement:o,withCallback:this.didInputCaption}),it("keydown",{onElement:o,withCallback:this.didKeyDownCaption}),it("change",{onElement:o,withCallback:this.didChangeCaption}),it("blur",{onElement:o,withCallback:this.didBlurCaption});const c=this.element.querySelector("figcaption"),u=c.cloneNode();return{do:()=>{if(c.style.display="none",u.appendChild(o),u.appendChild(a),u.classList.add("".concat(_i.attachmentCaption,"--editing")),c.parentElement.insertBefore(u,c),l(),this.options.editCaption)return Fv(()=>o.focus())},undo(){yi(u),c.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=n,this.container=r,this.options=s,this.attachment=this.attachmentPiece.attachment,ln(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let n=this.undos.pop();for(this.savePendingCaption();n;)n(),n=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const o=this.pendingCaption;var e,n,r,s;this.pendingCaption=null,o?(e=this.delegate)===null||e===void 0||(n=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||n===void 0||n.call(e,{caption:o},this.attachment):(r=this.delegate)===null||r===void 0||(s=r.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||s===void 0||s.call(r,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var n;if(e.target.getAttribute("data-trix-action")==="remove")return(n=this.delegate)===null||n===void 0?void 0:n.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var n,r;if(tU[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(n=this.delegate)===null||n===void 0||(r=n.attachmentEditorDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}}class lA extends bt{constructor(e,n){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=n,this.documentView=new Qh(this.composition.document,{element:this.element}),it("focus",{onElement:this.element,withCallback:this.didFocus}),it("blur",{onElement:this.element,withCallback:this.didBlur}),it("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),it("mousedown",{onElement:this.element,matchingSelector:Yi,withCallback:this.didClickAttachment}),it("click",{onElement:this.element,matchingSelector:"a".concat(Yi),preventDefault:!0})}didFocus(e){var n;const r=()=>{var s,o;if(!this.focused)return this.focused=!0,(s=this.delegate)===null||s===void 0||(o=s.compositionControllerDidFocus)===null||o===void 0?void 0:o.call(s)};return((n=this.blurPromise)===null||n===void 0?void 0:n.then(r))||r()}didBlur(e){this.blurPromise=new Promise(n=>Fv(()=>{var r,s;return Lv(this.element)||(this.focused=null,(r=this.delegate)===null||r===void 0||(s=r.compositionControllerDidBlur)===null||s===void 0||s.call(r)),this.blurPromise=null,n()}))}didClickAttachment(e,n){var r,s;const o=this.findAttachmentForElement(n),a=!!vi(e.target,{matchingSelector:"figcaption"});return(r=this.delegate)===null||r===void 0||(s=r.compositionControllerDidSelectAttachment)===null||s===void 0?void 0:s.call(r,o,{editCaption:a})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,n,r,s,o,a;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((r=this.delegate)===null||r===void 0||(s=r.compositionControllerWillSyncDocumentView)===null||s===void 0||s.call(r),this.documentView.sync(),(o=this.delegate)===null||o===void 0||(a=o.compositionControllerDidSyncDocumentView)===null||a===void 0||a.call(o)),(e=this.delegate)===null||e===void 0||(n=e.compositionControllerDidRender)===null||n===void 0?void 0:n.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,n){var r;if(((r=this.attachmentEditor)===null||r===void 0?void 0:r.attachment)===e)return;const s=this.documentView.findElementForObject(e);if(!s)return;this.uninstallAttachmentEditor();const o=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new aA(o,s,this.element,n),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,n){var r,s;return(r=this.delegate)===null||r===void 0||(s=r.compositionControllerWillUpdateAttachment)===null||s===void 0||s.call(r,n),this.composition.updateAttributesForAttachment(e,n)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,n){var r,s;return(r=this.delegate)===null||r===void 0||(s=r.compositionControllerWillUpdateAttachment)===null||s===void 0||s.call(r,n),this.composition.removeAttributeForAttachment(e,n)}attachmentEditorDidRequestRemovalOfAttachment(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,e)}attachmentEditorDidRequestDeselectingAttachment(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}}class cA extends bt{}const uA="data-trix-mutable",nU="[".concat(uA,"]"),rU={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class dA extends bt{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,rU)}stop(){return this.observer.disconnect()}didMutate(e){var n,r;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(n=this.delegate)===null||n===void 0||(r=n.elementDidMutate)===null||r===void 0||r.call(n,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(n=>this.mutationIsSignificant(n))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(const n of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(n))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!R_(e)}nodeIsMutable(e){return vi(e,{matchingSelector:nU})}nodesModifiedByMutation(e){const n=[];switch(e.type){case"attributes":e.attributeName!==uA&&n.push(e.target);break;case"characterData":n.push(e.target.parentNode),n.push(e.target);break;case"childList":n.push(...Array.from(e.addedNodes||[])),n.push(...Array.from(e.removedNodes||[]))}return n}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:e,deletions:n}=this.getTextChangesFromCharacterData(),r=this.getTextChangesFromChildList();Array.from(r.additions).forEach(l=>{Array.from(e).includes(l)||e.push(l)}),n.push(...Array.from(r.deletions||[]));const s={},o=e.join("");o&&(s.textAdded=o);const a=n.join("");return a&&(s.textDeleted=a),s}getMutationsByType(e){return Array.from(this.mutations).filter(n=>n.type===e)}getTextChangesFromChildList(){let e,n;const r=[],s=[];Array.from(this.getMutationsByType("childList")).forEach(l=>{r.push(...Array.from(l.addedNodes||[])),s.push(...Array.from(l.removedNodes||[]))}),r.length===0&&s.length===1&&la(s[0])?(e=[],n=[`
`]):(e=Cg(r),n=Cg(s));const o=e.filter((l,c)=>l!==n[c]).map(Rl),a=n.filter((l,c)=>l!==e[c]).map(Rl);return{additions:o,deletions:a}}getTextChangesFromCharacterData(){let e,n;const r=this.getMutationsByType("characterData");if(r.length){const s=r[0],o=r[r.length-1],a=function(l,c){let u,d;return l=Nc.box(l),(c=Nc.box(c)).length<l.length?[d,u]=nw(l,c):[u,d]=nw(c,l),{added:u,removed:d}}(Rl(s.oldValue),Rl(o.target.data));e=a.added,n=a.removed}return{additions:e?[e]:[],deletions:n?[n]:[]}}}const Cg=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];for(const n of Array.from(t))switch(n.nodeType){case Node.TEXT_NODE:e.push(n.data);break;case Node.ELEMENT_NODE:ln(n)==="br"?e.push(`
`):e.push(...Array.from(Cg(n.childNodes)||[]))}return e};class hA extends Yd{constructor(e){super(...arguments),this.file=e}perform(e){const n=new FileReader;return n.onerror=()=>e(!1),n.onload=()=>{n.onerror=null;try{n.abort()}catch{}return e(!0,this.file)},n.readAsArrayBuffer(this.file)}}class sU{constructor(e){this.element=e}shouldIgnore(e){return!!Yc.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&iU(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,n;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((n=this.previousEvent)===null||n===void 0?void 0:n.key)==="Unidentified"}}const iU=(t,e)=>Cw(t)===Cw(e),oU=new RegExp("(".concat("","|").concat(Kh,"|").concat(qs,"|\\s)+"),"g"),Cw=t=>t.replace(oU," ").trim();class Yh extends bt{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new dA(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new sU(this.element);for(const n in this.constructor.events)it(n,{onElement:this.element,withCallback:this.handlerFor(n)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidRequestRender)===null||n===void 0?void 0:n.call(e)}requestReparse(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidRequestReparse)===null||n===void 0||n.call(e),this.requestRender()}attachFiles(e){const n=Array.from(e).map(r=>new hA(r));return Promise.all(n).then(r=>{this.handleInput(function(){var s,o;return(s=this.delegate)===null||s===void 0||s.inputControllerWillAttachFiles(),(o=this.responder)===null||o===void 0||o.insertFiles(r),this.requestRender()})})}handlerFor(e){return n=>{n.defaultPrevented||this.handleInput(()=>{if(!Lv(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(n))return;this.eventName=e,this.constructor.events[e].call(this,n)}})}}handleInput(e){try{var n;(n=this.delegate)===null||n===void 0||n.inputControllerWillHandleInput(),e.call(this)}finally{var r;(r=this.delegate)===null||r===void 0||r.inputControllerDidHandleInput()}}createLinkHTML(e,n){const r=document.createElement("a");return r.href=e,r.textContent=n||e,r.outerHTML}}var bm;Yt(Yh,"events",{});const{browser:aU,keyNames:fA}=Xc;let lU=0;class is extends Yh{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const n in e){const r=e[n];this.inputSummary[n]=r}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),po.reset()}elementDidMutate(e){var n,r;return this.isComposing()?(n=this.delegate)===null||n===void 0||(r=n.inputControllerDidAllowUnhandledInput)===null||r===void 0?void 0:r.call(n):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:n,textDeleted:r}=e;if(this.inputSummary.preferDocument)return!0;const s=n!=null?n===this.inputSummary.textAdded:!this.inputSummary.textAdded,o=r!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,a=[`
`,` 
`].includes(n)&&!s,l=r===`
`&&!o;if(a&&!l||l&&!a){const u=this.getSelectedRange();if(u){var c;const d=a?n.replace(/\n$/,"").length||-1:(n==null?void 0:n.length)||1;if((c=this.responder)!==null&&c!==void 0&&c.positionIsBlockBreak(u[1]+d))return!0}}return s&&o}mutationIsSignificant(e){var n;const r=Object.keys(e).length>0,s=((n=this.compositionInput)===null||n===void 0?void 0:n.getEndData())==="";return r||!s}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new Ms(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,n){var r;return((r=this.responder)===null||r===void 0?void 0:r.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):n?(n.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var n;if(!function(s){if(s==null||!s.setData)return!1;for(const o in Z0){const a=Z0[o];try{if(s.setData(o,a),!s.getData(o)===a)return!1}catch{return!1}}return!0}(e))return;const r=(n=this.responder)===null||n===void 0?void 0:n.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(r)),e.setData("text/html",Qh.render(r).innerHTML),e.setData("text/plain",r.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){const n={};return Array.from((e==null?void 0:e.types)||[]).forEach(r=>{n[r]=!0}),n.Files||n["application/x-trix-document"]||n["text/html"]||n["text/plain"]}getPastedHTMLUsingHiddenElement(e){const n=this.getSelectedRange(),r={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},s=Ae({style:r,tagName:"div",editable:!0});return document.body.appendChild(s),s.focus(),requestAnimationFrame(()=>{const o=s.innerHTML;return yi(s),this.setSelectedRange(n),e(o)})}}Yt(is,"events",{keydown(t){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=fA[t.keyCode];if(e){var n;let s=this.keys;["ctrl","alt","shift","meta"].forEach(o=>{var a;t["".concat(o,"Key")]&&(o==="ctrl"&&(o="control"),s=(a=s)===null||a===void 0?void 0:a[o])}),((n=s)===null||n===void 0?void 0:n[e])!=null&&(this.setInputSummary({keyName:e}),po.reset(),s[e].call(this,t))}if(O_(t)){const s=String.fromCharCode(t.keyCode).toLowerCase();if(s){var r;const o=["alt","shift"].map(a=>{if(t["".concat(a,"Key")])return a}).filter(a=>a);o.push(s),(r=this.delegate)!==null&&r!==void 0&&r.inputControllerDidReceiveKeyboardCommand(o)&&t.preventDefault()}}},keypress(t){if(this.inputSummary.eventName!=null||t.metaKey||t.ctrlKey&&!t.altKey)return;const e=dU(t);var n,r;return e?((n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(t){const{data:e}=t,{textAdded:n}=this.inputSummary;if(n&&n!==e&&n.toUpperCase()===e){var r;const s=this.getSelectedRange();return this.setSelectedRange([s[0],s[1]+n.length]),(r=this.responder)===null||r===void 0||r.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(s)}},dragenter(t){t.preventDefault()},dragstart(t){var e,n;return this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidStartDrag)===null||n===void 0?void 0:n.call(e)},dragover(t){if(this.draggedRange||this.canAcceptDataTransfer(t.dataTransfer)){t.preventDefault();const r={x:t.clientX,y:t.clientY};var e,n;if(!tl(r,this.draggingPoint))return this.draggingPoint=r,(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidReceiveDragOverPoint)===null||n===void 0?void 0:n.call(e,this.draggingPoint)}},dragend(t){var e,n;(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidCancelDrag)===null||n===void 0||n.call(e),this.draggedRange=null,this.draggingPoint=null},drop(t){var e,n;t.preventDefault();const r=(e=t.dataTransfer)===null||e===void 0?void 0:e.files,s=t.dataTransfer.getData("application/x-trix-document"),o={x:t.clientX,y:t.clientY};if((n=this.responder)===null||n===void 0||n.setLocationRangeFromPointRange(o),r!=null&&r.length)this.attachFiles(r);else if(this.draggedRange){var a,l;(a=this.delegate)===null||a===void 0||a.inputControllerWillMoveText(),(l=this.responder)===null||l===void 0||l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(s){var c;const u=Gn.fromJSONString(s);(c=this.responder)===null||c===void 0||c.insertDocument(u),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(t){var e,n;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),(n=this.delegate)===null||n===void 0||n.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented))return this.requestRender()},copy(t){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault()},paste(t){const e=t.clipboardData||t.testClipboardData,n={clipboard:e};if(!e||hU(t))return void this.getPastedHTMLUsingHiddenElement(S=>{var j,E,C;return n.type="text/html",n.html=S,(j=this.delegate)===null||j===void 0||j.inputControllerWillPaste(n),(E=this.responder)===null||E===void 0||E.insertHTML(n.html),this.requestRender(),(C=this.delegate)===null||C===void 0?void 0:C.inputControllerDidPaste(n)});const r=e.getData("URL"),s=e.getData("text/html"),o=e.getData("public.url-name");if(r){var a,l,c;let S;n.type="text/html",S=o?$v(o).trim():r,n.html=this.createLinkHTML(r,S),(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(n),this.setInputSummary({textAdded:S,didDelete:this.selectionIsExpanded()}),(l=this.responder)===null||l===void 0||l.insertHTML(n.html),this.requestRender(),(c=this.delegate)===null||c===void 0||c.inputControllerDidPaste(n)}else if(P_(e)){var u,d,f;n.type="text/plain",n.string=e.getData("text/plain"),(u=this.delegate)===null||u===void 0||u.inputControllerWillPaste(n),this.setInputSummary({textAdded:n.string,didDelete:this.selectionIsExpanded()}),(d=this.responder)===null||d===void 0||d.insertString(n.string),this.requestRender(),(f=this.delegate)===null||f===void 0||f.inputControllerDidPaste(n)}else if(s){var g,w,y;n.type="text/html",n.html=s,(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(n),(w=this.responder)===null||w===void 0||w.insertHTML(n.html),this.requestRender(),(y=this.delegate)===null||y===void 0||y.inputControllerDidPaste(n)}else if(Array.from(e.types).includes("Files")){var p,b;const S=(p=e.items)===null||p===void 0||(p=p[0])===null||p===void 0||(b=p.getAsFile)===null||b===void 0?void 0:b.call(p);if(S){var x,m,v;const j=cU(S);!S.name&&j&&(S.name="pasted-file-".concat(++lU,".").concat(j)),n.type="File",n.file=S,(x=this.delegate)===null||x===void 0||x.inputControllerWillAttachFiles(),(m=this.responder)===null||m===void 0||m.insertFile(n.file),this.requestRender(),(v=this.delegate)===null||v===void 0||v.inputControllerDidPaste(n)}}t.preventDefault()},compositionstart(t){return this.getCompositionInput().start(t.data)},compositionupdate(t){return this.getCompositionInput().update(t.data)},compositionend(t){return this.getCompositionInput().end(t.data)},beforeinput(t){this.inputSummary.didInput=!0},input(t){return this.inputSummary.didInput=!0,t.stopPropagation()}}),Yt(is,"keys",{backspace(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},delete(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},return(t){var e,n;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0?void 0:n.insertLineBreak()},tab(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.increaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o(t){var e,n;return t.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(t){var e,n;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`),this.requestRender(),t.preventDefault()},tab(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.decreaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("backward")},right(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),is.proxyMethod("responder?.getSelectedRange"),is.proxyMethod("responder?.setSelectedRange"),is.proxyMethod("responder?.expandSelectionInDirection"),is.proxyMethod("responder?.selectionIsInCursorTarget"),is.proxyMethod("responder?.selectionIsExpanded");const cU=t=>{var e;return(e=t.type)===null||e===void 0||(e=e.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},uU=!((bm=" ".codePointAt)===null||bm===void 0||!bm.call(" ",0)),dU=function(t){if(t.key&&uU&&t.key.codePointAt(0)===t.keyCode)return t.key;{let e;if(t.which===null?e=t.keyCode:t.which!==0&&t.charCode!==0&&(e=t.charCode),e!=null&&fA[e]!=="escape")return Nc.fromCodepoints([e]).toString()}},hU=function(t){const e=t.clipboardData;if(e){if(e.types.includes("text/html")){for(const n of e.types){const r=/^CorePasteboardFlavorType/.test(n),s=/^dyn\./.test(n)&&e.getData(n);if(r||s)return!0}return!1}{const n=e.types.includes("com.apple.webarchive"),r=e.types.includes("com.apple.flat-rtfd");return n||r}}};class Ms extends bt{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var n,r;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((r=this.responder)===null||r===void 0||r.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){const n=this.selectPlaceholder();n&&(this.forgetPlaceholder(),this.range=n)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.setSelectedRange(this.range),(s=this.responder)===null||s===void 0||s.insertString(this.data.end),(o=this.responder)===null||o===void 0?void 0:o.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var n,r,s,o}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!aU.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,n;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((n=this.data.end)===null||n===void 0?void 0:n.length)>0&&this.range}}Ms.proxyMethod("inputController.setInputSummary"),Ms.proxyMethod("inputController.requestRender"),Ms.proxyMethod("inputController.requestReparse"),Ms.proxyMethod("responder?.selectionIsExpanded"),Ms.proxyMethod("responder?.insertPlaceholder"),Ms.proxyMethod("responder?.selectPlaceholder"),Ms.proxyMethod("responder?.forgetPlaceholder");class Gl extends Yh{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidAllowUnhandledInput)===null||n===void 0?void 0:n.call(e):void 0:this.reparse();var e,n}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,n;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(n=this.delegate)===null||n===void 0||n.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.insertString(n,r)})}toggleAttributeIfSupported(e){var n;if(gg().includes(e))return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,n){var r;if(gg().includes(e))return(r=this.delegate)===null||r===void 0||r.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.setCurrentAttribute(e,n)})}deleteInDirection(e){let{recordUndoEntry:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var r;n&&((r=this.delegate)===null||r===void 0||r.inputControllerWillPerformTyping());const s=()=>{var a;return(a=this.responder)===null||a===void 0?void 0:a.deleteInDirection(e)},o=this.getTargetDOMRange({minLength:this.composing?1:2});return o?this.withTargetDOMRange(o,s):s()}withTargetDOMRange(e,n){var r;return typeof e=="function"&&(n=e,e=this.getTargetDOMRange()),e?(r=this.responder)===null||r===void 0?void 0:r.withTargetDOMRange(e,n.bind(this)):(po.reset(),n.call(this))}getTargetDOMRange(){var e,n;let{minLength:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const s=(e=(n=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(n);if(s&&s.length){const o=fU(s[0]);if(r===0||o.toString().length>=r)return o}}withEvent(e,n){let r;this.event=e;try{r=n.call(this)}finally{this.event=null}return r}}Yt(Gl,"events",{keydown(t){if(O_(t)){var e;const n=gU(t);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(n)&&t.preventDefault()}else{let n=t.key;t.altKey&&(n+="+Alt"),t.shiftKey&&(n+="+Shift");const r=this.constructor.keys[n];if(r)return this.withEvent(t,r)}},paste(t){var e;let n;const r=(e=t.clipboardData)===null||e===void 0?void 0:e.getData("URL");return mA(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):pU(t)?(t.preventDefault(),n={type:"text/plain",string:t.clipboardData.getData("text/plain")},(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(n),(o=this.responder)===null||o===void 0||o.insertString(n.string),this.render(),(a=this.delegate)===null||a===void 0?void 0:a.inputControllerDidPaste(n)):r?(t.preventDefault(),n={type:"text/html",html:this.createLinkHTML(r)},(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(n),(c=this.responder)===null||c===void 0||c.insertHTML(n.html),this.render(),(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(n)):void 0;var s,o,a,l,c,u},beforeinput(t){const e=this.constructor.inputTypes[t.inputType],n=(r=t,!(!/iPhone|iPad/.test(navigator.userAgent)||r.inputType&&r.inputType!=="insertParagraph"));var r;e&&(this.withEvent(t,e),n||this.scheduleRender()),n&&this.render()},input(t){po.reset()},dragstart(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(t.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange(),point:Sm(t)})},dragenter(t){wm(t)&&t.preventDefault()},dragover(t){if(this.dragging){t.preventDefault();const n=Sm(t);var e;if(!tl(n,this.dragging.point))return this.dragging.point=n,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(n)}else wm(t)&&t.preventDefault()},drop(t){var e,n;if(this.dragging)return t.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(n=this.responder)===null||n===void 0||n.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(wm(t)){var r;t.preventDefault();const s=Sm(t);return(r=this.responder)===null||r===void 0||r.setLocationRangeFromPointRange(s),this.attachFiles(t.dataTransfer.files)}},dragend(){var t;this.dragging&&((t=this.responder)===null||t===void 0||t.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(t){this.composing&&(this.composing=!1,Yc.recentAndroid||this.scheduleRender())}}),Yt(Gl,"keys",{ArrowLeft(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var t,e,n;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.deleteInDirection("backward"),this.render()},Tab(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),Yt(Gl,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var t;this.deleteByDragRange=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var t;if((t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var t;if((t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const n in(t=this.responder)===null||t===void 0?void 0:t.getCurrentAttributes()){var t,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(n)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformRedo()},historyUndo(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const t=this.deleteByDragRange;var e;if(t)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var n;return(n=this.responder)===null||n===void 0?void 0:n.moveTextFromRange(t)})},insertFromPaste(){const{dataTransfer:t}=this.event,e={dataTransfer:t},n=t.getData("URL"),r=t.getData("text/html");if(n){var s;let c;this.event.preventDefault(),e.type="text/html";const u=t.getData("public.url-name");c=u?$v(u).trim():n,e.html=this.createLinkHTML(n,c),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var d;return(d=this.responder)===null||d===void 0?void 0:d.insertHTML(e.html)}),this.afterRender=()=>{var d;return(d=this.delegate)===null||d===void 0?void 0:d.inputControllerDidPaste(e)}}else if(P_(t)){var o;e.type="text/plain",e.string=t.getData("text/plain"),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertString(e.string)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(mU(this.event)){var a;e.type="File",e.file=t.files[0],(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertFile(e.file)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(r){var l;this.event.preventDefault(),e.type="text/html",e.html=r,(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertHTML(e.html)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){const t=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(t,{updatePosition:!1})})},insertText(){var t;return this.insertString(this.event.data||((t=this.event.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const fU=function(t){const e=document.createRange();return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},wm=t=>{var e;return Array.from(((e=t.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},mU=t=>{var e;return((e=t.dataTransfer.files)===null||e===void 0?void 0:e[0])&&!mA(t)&&!(n=>{let{dataTransfer:r}=n;return r.types.includes("Files")&&r.types.includes("text/html")&&r.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(t)},mA=function(t){const e=t.clipboardData;if(e)return Array.from(e.types).filter(n=>n.match(/file/i)).length===e.types.length&&e.files.length>=1},pU=function(t){const e=t.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},gU=function(t){const e=[];return t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.push(t.key),e},Sm=t=>({x:t.clientX,y:t.clientY}),jg="[data-trix-attribute]",Ng="[data-trix-action]",xU="".concat(jg,", ").concat(Ng),Xh="[data-trix-dialog]",vU="".concat(Xh,"[data-trix-active]"),yU="".concat(Xh," [data-trix-method]"),jw="".concat(Xh," [data-trix-input]"),Nw=(t,e)=>(e||(e=Mo(t)),t.querySelector("[data-trix-input][name='".concat(e,"']"))),Ew=t=>t.getAttribute("data-trix-action"),Mo=t=>t.getAttribute("data-trix-attribute")||t.getAttribute("data-trix-dialog-attribute");class pA extends bt{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),it("mousedown",{onElement:this.element,matchingSelector:Ng,withCallback:this.didClickActionButton}),it("mousedown",{onElement:this.element,matchingSelector:jg,withCallback:this.didClickAttributeButton}),it("click",{onElement:this.element,matchingSelector:xU,preventDefault:!0}),it("click",{onElement:this.element,matchingSelector:yU,withCallback:this.didClickDialogButton}),it("keydown",{onElement:this.element,matchingSelector:jw,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),e.preventDefault();const s=Ew(n);return this.getDialog(s)?this.toggleDialog(s):(o=this.delegate)===null||o===void 0?void 0:o.toolbarDidInvokeAction(s,n);var o}didClickAttributeButton(e,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),e.preventDefault();const s=Mo(n);var o;return this.getDialog(s)?this.toggleDialog(s):(o=this.delegate)===null||o===void 0||o.toolbarDidToggleAttribute(s),this.refreshAttributeButtons()}didClickDialogButton(e,n){const r=vi(n,{matchingSelector:Xh});return this[n.getAttribute("data-trix-method")].call(this,r)}didKeyDownDialogInput(e,n){if(e.keyCode===13){e.preventDefault();const r=n.getAttribute("name"),s=this.getDialog(r);this.setAttribute(s)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,n)=>{e.disabled=this.actions[n]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll(Ng)).map(n=>e(n,Ew(n)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,n)=>(e.disabled=this.attributes[n]===!1,this.attributes[n]||this.dialogIsVisible(n)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll(jg)).map(n=>e(n,Mo(n)))}applyKeyboardCommand(e){const n=JSON.stringify(e.sort());for(const r of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const s=r.getAttribute("data-trix-key").split("+");if(JSON.stringify(s.sort())===n)return ql("mousedown",{onElement:r}),!0}return!1}dialogIsVisible(e){const n=this.getDialog(e);if(n)return n.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var n,r;this.hideDialog(),(n=this.delegate)===null||n===void 0||n.toolbarWillShowDialog();const s=this.getDialog(e);s.setAttribute("data-trix-active",""),s.classList.add("trix-active"),Array.from(s.querySelectorAll("input[disabled]")).forEach(a=>{a.removeAttribute("disabled")});const o=Mo(s);if(o){const a=Nw(s,e);a&&(a.value=this.attributes[o]||"",a.select())}return(r=this.delegate)===null||r===void 0?void 0:r.toolbarDidShowDialog(e)}setAttribute(e){var n;const r=Mo(e),s=Nw(e,r);return!s.willValidate||(s.setCustomValidity(""),s.checkValidity()&&this.isSafeAttribute(s))?((n=this.delegate)===null||n===void 0||n.toolbarDidUpdateAttribute(r,s.value),this.hideDialog()):(s.setCustomValidity("Invalid value"),s.setAttribute("data-trix-validate",""),s.classList.add("trix-validate"),s.focus())}isSafeAttribute(e){return!e.hasAttribute("data-trix-validate-href")||Ec.isValidAttribute("a","href",e.value)}removeAttribute(e){var n;const r=Mo(e);return(n=this.delegate)===null||n===void 0||n.toolbarDidRemoveAttribute(r),this.hideDialog()}hideDialog(){const e=this.element.querySelector(vU);var n;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(n=this.delegate)===null||n===void 0?void 0:n.toolbarDidHideDialog((r=>r.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(jw)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}}class Ql extends cA{constructor(e){let{editorElement:n,document:r,html:s}=e;super(...arguments),this.editorElement=n,this.selectionManager=new Ti(this.editorElement),this.selectionManager.delegate=this,this.composition=new $s,this.composition.delegate=this,this.attachmentManager=new J_(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=Mv.getLevel()===2?new Gl(this.editorElement):new is(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new lA(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new pA(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new nA(this.composition,this.selectionManager,this.editorElement),r?this.editor.loadDocument(r):this.editor.loadHTML(s)}registerSelectionManager(){return po.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return po.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){const n=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:n})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);const n=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:n}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){const n=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:n})}compositionDidStartEditingAttachment(e,n){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,n),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,n){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,n)}compositionControllerDidRequestDeselectingAttachment(e){const n=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(n[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Qd(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e,n){return this.invokeAction(e,n)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,n){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,n),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((n=this.actions[e])===null||n===void 0||(n=n.test)===null||n===void 0||!n.call(this));var n}invokeAction(e,n){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e,invokingElement:n}):(r=this.actions[e])===null||r===void 0||(r=r.perform)===null||r===void 0?void 0:r.call(this);var r}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){const e={};for(const n in this.actions)e[n]=this.canInvokeAction(n);return e}updateCurrentActions(){const e=this.getCurrentActions();if(!tl(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(s=>{const{document:o,selectedRange:a}=e;e=s.call(this.editor,e)||{},e.document||(e.document=o),e.selectedRange||(e.selectedRange=a)}),n=e,r=this.composition.getSnapshot(),!Qd(n.selectedRange,r.selectedRange)||!n.document.isEqualTo(r.document))return this.composition.loadSnapshot(e);var n,r}updateInputElement(){const e=function(n,r){const s=G5[r];if(s)return s(n);throw new Error("unknown content type: ".concat(r))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(e)}notifyEditorElement(e,n){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,n)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){const n=ft(e),r=this.selectionManager.getLocationRange();if(n||!ms(r))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return[this.getLocationContext(),this.getTimeContext(),...Array.from(n)]}getLocationContext(){const e=this.selectionManager.getLocationRange();return ms(e)?e[0].index:e}getTimeContext(){return fg.interval>0?Math.floor(new Date().getTime()/fg.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Yt(Ql,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return Mv.pickFiles(this.editor.insertFiles)}}}),Ql.proxyMethod("getSelectionManager().setLocationRange"),Ql.proxyMethod("getSelectionManager().getLocationRange");var bU=Object.freeze({__proto__:null,AttachmentEditorController:aA,CompositionController:lA,Controller:cA,EditorController:Ql,InputController:Yh,Level0InputController:is,Level2InputController:Gl,ToolbarController:pA}),wU=Object.freeze({__proto__:null,MutationObserver:dA,SelectionChangeObserver:M_}),SU=Object.freeze({__proto__:null,FileVerificationOperation:hA,ImagePreloadOperation:Q_});D_("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class gA extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=T_.getDefaultHTML())}get editorElements(){if(this.id){var e;const n=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll('trix-editor[toolbar="'.concat(this.id,'"]'));return Array.from(n)}return[]}get editorElement(){const[e]=this.editorElements;return e}}let CU=0;const jU=function(t){if(!t.hasAttribute("contenteditable"))return t.toggleAttribute("contenteditable",!t.disabled),function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.times=1,it(e,n)}("focus",{onElement:t,withCallback:()=>NU(t)})},NU=function(t){return EU(t),_U()},EU=function(t){var e,n;if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),it("mscontrolselect",{onElement:t,preventDefault:!0})},_U=function(t){var e,n;if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"DefaultParagraphSeparator")){const{tagName:r}=un.default;if(["div","p"].includes(r))return document.execCommand("DefaultParagraphSeparator",!1,r)}},_w=Yc.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};D_("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Yi,` figcaption textarea {
    resize: none;
}

%t `).concat(Yi,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Yi,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(_w.display,` !important;
    width: `).concat(_w.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var cr=new WeakMap,Tu=new WeakMap,wl=new WeakSet;class AU{constructor(e){var n,r;G_(n=this,r=wl),r.add(n),Yt(this,"value",""),ua(this,cr,{writable:!0,value:void 0}),ua(this,Tu,{writable:!0,value:void 0}),this.element=e,Kl(this,cr,e.attachInternals()),Kl(this,Tu,!1)}connectedCallback(){Ru(this,wl,Du).call(this)}disconnectedCallback(){}get form(){return Ie(this,cr).form}get name(){return this.element.getAttribute("name")}set name(e){this.element.setAttribute("name",e)}get labels(){return Ie(this,cr).labels}get disabled(){return Ie(this,Tu)||this.element.hasAttribute("disabled")}set disabled(e){this.element.toggleAttribute("disabled",e)}get required(){return this.element.hasAttribute("required")}set required(e){this.element.toggleAttribute("required",e),Ru(this,wl,Du).call(this)}get validity(){return Ie(this,cr).validity}get validationMessage(){return Ie(this,cr).validationMessage}get willValidate(){return Ie(this,cr).willValidate}formDisabledCallback(e){Kl(this,Tu,e)}setFormValue(e){this.value=e,Ru(this,wl,Du).call(this),Ie(this,cr).setFormValue(this.element.disabled?void 0:this.value)}checkValidity(){return Ie(this,cr).checkValidity()}reportValidity(){return Ie(this,cr).reportValidity()}setCustomValidity(e){Ru(this,wl,Du).call(this,e)}}function Du(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:e,value:n}=this.element,r=e&&!n,s=!!t,o=Ae("input",{required:e}),a=t||o.validationMessage;Ie(this,cr).setValidity({valueMissing:r,customError:s},a)}var Cm=new WeakMap,jm=new WeakMap,Nm=new WeakMap;class kU{constructor(e){ua(this,Cm,{writable:!0,value:void 0}),ua(this,jm,{writable:!0,value:n=>{n.defaultPrevented||n.target===this.element.form&&this.element.reset()}}),ua(this,Nm,{writable:!0,value:n=>{if(n.defaultPrevented||this.element.contains(n.target))return;const r=vi(n.target,{matchingSelector:"label"});r&&Array.from(this.labels).includes(r)&&this.element.focus()}}),this.element=e}connectedCallback(){Kl(this,Cm,function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;const n=function(){const r=Array.from(e.labels).map(o=>{if(!o.contains(e))return o.textContent}).filter(o=>o),s=r.join(" ");return s?e.setAttribute("aria-label",s):e.removeAttribute("aria-label")};return n(),it("focus",{onElement:e,withCallback:n})}(this.element)),window.addEventListener("reset",Ie(this,jm),!1),window.addEventListener("click",Ie(this,Nm),!1)}disconnectedCallback(){var e;(e=Ie(this,Cm))===null||e===void 0||e.destroy(),window.removeEventListener("reset",Ie(this,jm),!1),window.removeEventListener("click",Ie(this,Nm),!1)}get labels(){const e=[];this.element.id&&this.element.ownerDocument&&e.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const n=vi(this.element,{matchingSelector:"label"});return n&&[this.element,null].includes(n.control)&&e.push(n),e}get form(){return console.warn("This browser does not support the .form property for trix-editor elements."),null}get name(){return console.warn("This browser does not support the .name property for trix-editor elements."),null}set name(e){console.warn("This browser does not support the .name property for trix-editor elements.")}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(e){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(e){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}formDisabledCallback(e){}setFormValue(e){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(e){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var ht=new WeakMap;class Jd extends HTMLElement{constructor(){super(),ua(this,ht,{writable:!0,value:void 0}),this.willCreateInput=!0,Kl(this,ht,this.constructor.formAssociated?new AU(this):new kU(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++CU),this.trixId)}get labels(){return Ie(this,ht).labels}get disabled(){const{inputElement:e}=this;return e?e.disabled:Ie(this,ht).disabled}set disabled(e){const{inputElement:n}=this;n&&(n.disabled=e),Ie(this,ht).disabled=e}get required(){return Ie(this,ht).required}set required(e){Ie(this,ht).required=e}get validity(){return Ie(this,ht).validity}get validationMessage(){return Ie(this,ht).validationMessage}get willValidate(){return Ie(this,ht).willValidate}get type(){return this.localName}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const n="trix-toolbar-".concat(this.trixId);return this.setAttribute("toolbar",n),this.internalToolbar=Ae("trix-toolbar",{id:n}),this.parentNode.insertBefore(this.internalToolbar,this),this.internalToolbar}}get form(){const{inputElement:e}=this;return e?e.form:Ie(this,ht).form}get inputElement(){var e;return this.hasAttribute("input")?(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input")):void 0}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){const{inputElement:e}=this;return e?e.name:Ie(this,ht).name}set name(e){const{inputElement:n}=this;n?n.name=e:Ie(this,ht).name=e}get value(){const{inputElement:e}=this;return e?e.value:Ie(this,ht).value}set value(e){var n;this.defaultValue=e,(n=this.editor)===null||n===void 0||n.loadHTML(this.defaultValue)}attributeChangedCallback(e,n,r){e==="connected"&&this.isConnected&&n!=null&&n!==r&&requestAnimationFrame(()=>this.reconnect())}notify(e,n){if(this.editorController)return ql("trix-".concat(e),{onElement:this,attributes:n})}setFormValue(e){const{inputElement:n}=this;n&&(n.value=e),Ie(this,ht).setFormValue(e)}connectedCallback(){if(!this.hasAttribute("data-trix-internal")){if(jU(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),!this.editorController){if(ql("trix-before-initialize",{onElement:this}),this.defaultValue=this.inputElement?this.inputElement.value:this.innerHTML,!this.hasAttribute("input")&&this.parentNode&&this.willCreateInput){const e="trix-input-".concat(this.trixId);this.setAttribute("input",e);const n=Ae("input",{type:"hidden",id:e});this.parentNode.insertBefore(n,this.nextElementSibling)}this.editorController=new Ql({editorElement:this,html:this.defaultValue}),requestAnimationFrame(()=>ql("trix-initialize",{onElement:this}))}this.editorController.registerSelectionManager(),Ie(this,ht).connectedCallback(),this.toggleAttribute("connected",!0),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this)}}disconnectedCallback(){var e;(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),Ie(this,ht).disconnectedCallback(),this.toggleAttribute("connected",!1)}reconnect(){this.removeInternalToolbar(),this.disconnectedCallback(),this.connectedCallback()}removeInternalToolbar(){var e;(e=this.internalToolbar)===null||e===void 0||e.remove(),this.internalToolbar=null}checkValidity(){return Ie(this,ht).checkValidity()}reportValidity(){return Ie(this,ht).reportValidity()}setCustomValidity(e){Ie(this,ht).setCustomValidity(e)}formDisabledCallback(e){const{inputElement:n}=this;n&&(n.disabled=e),this.toggleAttribute("contenteditable",!e),Ie(this,ht).formDisabledCallback(e)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}Yt(Jd,"formAssociated","ElementInternals"in window),Yt(Jd,"observedAttributes",["connected"]);const Aw={VERSION:R$,config:Xc,core:Q5,models:oA,views:eU,controllers:bU,observers:wU,operations:SU,elements:Object.freeze({__proto__:null,TrixEditorElement:Jd,TrixToolbarElement:gA}),filters:Object.freeze({__proto__:null,Filter:eA,attachmentGalleryFilter:tA})};Object.assign(Aw,oA),window.Trix=Aw,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",gA),customElements.get("trix-editor")||customElements.define("trix-editor",Jd)},0);let RU=0;const La=({value:t,onChange:e,placeholder:n})=>{const r=h.useRef(null),s=h.useRef(null),o=h.useRef(null),a=h.useRef(!1),l=h.useRef(e),c=h.useMemo(()=>`trix-input-${++RU}`,[]);return h.useEffect(()=>{l.current=e},[e]),h.useEffect(()=>{const u=r.current;if(!u)return;const d=u.querySelector("trix-editor");if(!d)return;o.current=d;const f=()=>{a.current=!0,l.current(d.value)},g=async p=>{const b=p.file,x=new FormData;x.append("image",b);try{const v=await fetch("/api/upload/editor-image",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:x});if(!v.ok)throw new Error(`Upload failed with status: ${v.status}`);const S=await v.json();if(S.success&&S.data.url)p.setAttributes({url:S.data.url,href:S.data.url}),l.current(d.value),window.sonner&&window.sonner.success("Immagine caricata con successo");else throw new Error(S.error||"Upload failed")}catch(m){console.error("Attachment upload failed:",m),p.remove(),window.sonner&&window.sonner.error("Caricamento immagine fallito: "+(m instanceof Error?m.message:"Errore sconosciuto"))}},w=p=>{const b=p.attachment;b.file&&g(b)},y=async p=>{const x=p.attachment.getAttribute("url");if(x)try{await fetch(`/api/upload/file?url=${encodeURIComponent(x)}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),window.sonner&&window.sonner.success("File rimosso dal server")}catch(m){console.error("Failed to delete attachment from server:",m)}};return d.addEventListener("trix-change",f),d.addEventListener("trix-attachment-add",w),d.addEventListener("trix-attachment-remove",y),()=>{d.removeEventListener("trix-change",f),d.removeEventListener("trix-attachment-add",w),d.removeEventListener("trix-attachment-remove",y)}},[]),h.useEffect(()=>{var y;const u=o.current;if(a.current){a.current=!1;return}if(!u)return;if(!u.editor){const p=()=>{t&&u.editor.loadHTML(t),u.removeEventListener("trix-initialize",p)};return u.addEventListener("trix-initialize",p),()=>{u.removeEventListener("trix-initialize",p)}}const d=u.editor.getDocument().toString().trim(),f=(t||"").trim(),g=document.createElement("div");g.innerHTML=f;const w=((y=g.textContent)==null?void 0:y.trim())||"";w&&d!==w?u.editor.loadHTML(t):!w&&d&&u.editor.loadHTML("")},[t]),i.jsxs("div",{ref:r,className:"trix-editor-container",children:[i.jsx("input",{ref:s,id:c,type:"hidden",defaultValue:t}),i.jsx("trix-editor",{input:c,placeholder:n||"Start writing..."})]})};var TU=Symbol("radix.slottable");function DU(t){const e=({children:n})=>i.jsx(i.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=TU,e}var xA="AlertDialog",[PU]=_r(xA,[RE]),Es=RE(),vA=t=>{const{__scopeAlertDialog:e,...n}=t,r=Es(e);return i.jsx(HE,{...r,...n,modal:!0})};vA.displayName=xA;var OU="AlertDialogTrigger",LU=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Es(n);return i.jsx(KE,{...s,...r,ref:e})});LU.displayName=OU;var MU="AlertDialogPortal",yA=t=>{const{__scopeAlertDialog:e,...n}=t,r=Es(e);return i.jsx(GE,{...r,...n})};yA.displayName=MU;var IU="AlertDialogOverlay",bA=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Es(n);return i.jsx(Cv,{...s,...r,ref:e})});bA.displayName=IU;var da="AlertDialogContent",[FU,BU]=PU(da),$U=DU("AlertDialogContent"),wA=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=Es(n),a=h.useRef(null),l=qe(e,a),c=h.useRef(null);return i.jsx(BB,{contentName:da,titleName:SA,docsSlug:"alert-dialog",children:i.jsx(FU,{scope:n,cancelRef:c,children:i.jsxs(jv,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:Ee(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx($U,{children:r}),i.jsx(zU,{contentRef:a})]})})})});wA.displayName=da;var SA="AlertDialogTitle",CA=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Es(n);return i.jsx(Nv,{...s,...r,ref:e})});CA.displayName=SA;var jA="AlertDialogDescription",NA=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Es(n);return i.jsx(Ev,{...s,...r,ref:e})});NA.displayName=jA;var UU="AlertDialogAction",EA=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Es(n);return i.jsx(_v,{...s,...r,ref:e})});EA.displayName=UU;var _A="AlertDialogCancel",AA=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=BU(_A,n),o=Es(n),a=qe(e,s);return i.jsx(_v,{...o,...r,ref:a})});AA.displayName=_A;var zU=({contentRef:t})=>{const e=`\`${da}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${da}\` by passing a \`${jA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${da}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},qU=vA,WU=yA,kA=bA,RA=wA,TA=EA,DA=AA,PA=CA,OA=NA;const VU=qU,HU=WU,LA=h.forwardRef(({className:t,...e},n)=>i.jsx(kA,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));LA.displayName=kA.displayName;const MA=h.forwardRef(({className:t,...e},n)=>i.jsxs(HU,{children:[i.jsx(LA,{}),i.jsx(RA,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));MA.displayName=RA.displayName;const IA=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});IA.displayName="AlertDialogHeader";const FA=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});FA.displayName="AlertDialogFooter";const BA=h.forwardRef(({className:t,...e},n)=>i.jsx(PA,{ref:n,className:fe("text-lg font-semibold",t),...e}));BA.displayName=PA.displayName;const $A=h.forwardRef(({className:t,...e},n)=>i.jsx(OA,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));$A.displayName=OA.displayName;const UA=h.forwardRef(({className:t,...e},n)=>i.jsx(TA,{ref:n,className:fe(Ux(),t),...e}));UA.displayName=TA.displayName;const zA=h.forwardRef(({className:t,...e},n)=>i.jsx(DA,{ref:n,className:fe(Ux({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));zA.displayName=DA.displayName;function Ma({src:t,alt:e="",className:n="",fallback:r="gradient",style:s={},...o}){const[a,l]=h.useState(!1),[c,u]=h.useState(!1),d=()=>{l(!0)},f=()=>{u(!0)};return!t||a?i.jsx("div",{className:`relative flex items-center justify-center ${n}`,style:{background:r==="gradient"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#e5e7eb",...s},children:r==="gradient"&&i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"opacity-40",children:i.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z",fill:"white"})})}):i.jsxs("div",{className:`relative ${n}`,children:[!c&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-purple-600"})}),i.jsx("img",{src:t,alt:e,className:n,style:{...s,opacity:c?1:0,transition:"opacity 0.3s ease-in-out"},onError:d,onLoad:f,...o})]})}const KU="/api",kw=KU.replace(/\/api$/,""),GU=t=>t?t.startsWith("http")?t:t.startsWith("/")?`${kw}${t}`:`${kw}/${t}`:"";function QU({photo:t,index:e,onDelete:n,onUpdateAlt:r}){const[s,o]=h.useState(!1),[a,l]=h.useState(t.alt_text),{attributes:c,listeners:u,setNodeRef:d,transform:f,transition:g,isDragging:w}=rv({id:t.id}),y={transform:oo.Transform.toString(f),transition:g,opacity:w?.5:1},p=()=>{r(t.id,a),o(!1)};return i.jsxs("div",{ref:d,style:y,className:"flex items-center gap-3 p-3 bg-white border rounded-lg hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"text-xs text-muted-foreground font-mono w-6 text-center",children:["#",e+1]}),i.jsx("div",{...c,...u,className:"cursor-grab active:cursor-grabbing",children:i.jsx(js,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 rounded overflow-hidden bg-muted",children:[i.jsx(Ma,{src:GU(t.url),alt:t.alt_text||"Property photo",className:"w-full h-full object-cover"}),e===0&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-green-600 text-white text-xs text-center py-0.5",children:"Cover"})]}),i.jsx("div",{className:"flex-1 min-w-0",children:s?i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Q,{value:a,onChange:b=>l(b.target.value),placeholder:"Alt text...",className:"flex-1"}),i.jsx(W,{size:"sm",onClick:p,children:"Save"}),i.jsx(W,{size:"sm",variant:"outline",onClick:()=>o(!1),children:"Cancel"})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground truncate flex-1",children:t.alt_text||i.jsx("span",{className:"italic",children:"No alt text"})}),i.jsx(W,{size:"sm",variant:"ghost",onClick:()=>o(!0),className:"text-xs",children:"Edit"})]})}),i.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:i.jsx(W,{size:"sm",variant:"destructive",onClick:()=>n(t.id),title:"Delete photo",children:i.jsx(Ns,{className:"w-4 h-4"})})})]})}function YU({propertyId:t}){const e=_t(),[n,r]=h.useState(!1),[s,o]=h.useState(null),a=Yx(wc(Hc),wc(Dh,{coordinateGetter:n1})),{data:l=[],isLoading:c}=Xe({queryKey:["property-photos",t],queryFn:async()=>(await V.get(`/property-photos/property/${t}`)).data.data}),u=xe({mutationFn:async p=>{const b=new FormData;b.append("image",p);const m=(await V.post("/upload/property-image",b,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;return(await V.post("/property-photos",{property_id:t,url:m,alt_text:"",is_cover:l.length===0})).data},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})}}),d=xe({mutationFn:async p=>{await V.delete(`/property-photos/${p}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]}),o(null)}}),f=xe({mutationFn:async({id:p,alt_text:b})=>{await V.put(`/property-photos/${p}`,{alt_text:b})},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})}}),g=xe({mutationFn:async p=>(await V.post("/property-photos/reorder",{items:p})).data,onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})},onError:p=>{console.error("Reorder failed:",p),e.invalidateQueries({queryKey:["property-photos",t]})}}),w=async p=>{const b=p.target.files;if(!(!b||b.length===0)){r(!0);try{for(let x=0;x<b.length;x++){const m=b[x];if(!m.type.startsWith("image/")){alert(`${m.name} is not an image`);continue}if(m.size>5*1024*1024){alert(`${m.name} is too large (max 5MB)`);continue}await u.mutateAsync(m)}}catch(x){console.error("Upload error:",x),alert("Failed to upload one or more images")}finally{r(!1),p.target.value=""}}},y=p=>{const{active:b,over:x}=p;if(!x||b.id===x.id)return;const m=l.findIndex(E=>E.id===b.id),v=l.findIndex(E=>E.id===x.id),S=Kc(l,m,v);e.setQueryData(["property-photos",t],S.map((E,C)=>({...E,order:C+1})));const j=S.map((E,C)=>({id:E.id,order:C+1}));g.mutate(j)};return c?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(he,{children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(J,{htmlFor:"photo-upload",className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md cursor-pointer hover:bg-primary/90 transition-colors",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary-foreground border-t-transparent"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Sr,{className:"w-4 h-4"}),"Upload Photos"]})}),i.jsx(Q,{id:"photo-upload",type:"file",accept:"image/*",multiple:!0,onChange:w,disabled:n,className:"hidden"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Max 5MB per image. JPEG, PNG, WebP supported. Multiple selection allowed."})]})})}),l.length===0?i.jsx(he,{children:i.jsxs(ge,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(AN,{className:"w-12 h-12 text-muted-foreground mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"No photos uploaded yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload your first photo to get started"})]})}):i.jsx(he,{children:i.jsxs(ge,{className:"pt-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("h3",{className:"text-sm font-medium",children:[l.length," ",l.length===1?"Photo":"Photos"]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Drag to reorder. The first photo is used as cover."})]}),i.jsx(ev,{sensors:a,collisionDetection:Xx,onDragEnd:y,children:i.jsx(nv,{items:l.map(p=>p.id),strategy:tv,children:i.jsx("div",{className:"space-y-2",children:l.map((p,b)=>i.jsx(QU,{photo:p,index:b,onDelete:x=>o(x),onUpdateAlt:(x,m)=>f.mutate({id:x,alt_text:m})},p.id))})})})]})}),i.jsx(VU,{open:s!==null,onOpenChange:p=>!p&&o(null),children:i.jsxs(MA,{children:[i.jsxs(IA,{children:[i.jsx(BA,{children:"Delete Photo?"}),i.jsx($A,{children:"This action cannot be undone. This will permanently delete the photo from the property gallery."})]}),i.jsxs(FA,{children:[i.jsx(zA,{children:"Cancel"}),i.jsx(UA,{onClick:()=>s&&d.mutate(s),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}var Jh="Checkbox",[XU]=_r(Jh),[JU,Wv]=XU(Jh);function ZU(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:o,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[g,w]=Gr({prop:n,defaultProp:s??!1,onChange:c,caller:Jh}),[y,p]=h.useState(null),[b,x]=h.useState(null),m=h.useRef(!1),v=y?!!a||!!y.closest("form"):!0,S={checked:g,disabled:o,setChecked:w,control:y,setControl:p,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:m,required:u,defaultChecked:hi(s)?!1:s,isFormControl:v,bubbleInput:b,setBubbleInput:x};return i.jsx(JU,{scope:e,...S,children:ez(f)?f(S):r})}var qA="CheckboxTrigger",WA=h.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:o,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:w,bubbleInput:y}=Wv(qA,t),p=qe(s,d),b=h.useRef(c);return h.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const m=()=>f(b.current);return x.addEventListener("reset",m),()=>x.removeEventListener("reset",m)}},[o,f]),i.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":hi(c)?"mixed":c,"aria-required":u,"data-state":QA(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:p,onKeyDown:Ee(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Ee(n,x=>{f(m=>hi(m)?!0:!m),y&&w&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})})});WA.displayName=qA;var Vv=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return i.jsx(ZU,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>i.jsxs(i.Fragment,{children:[i.jsx(WA,{...f,ref:e,__scopeCheckbox:n}),g&&i.jsx(GA,{__scopeCheckbox:n})]})})});Vv.displayName=Jh;var VA="CheckboxIndicator",HA=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=Wv(VA,n);return i.jsx(wo,{present:r||hi(o.checked)||o.checked===!0,children:i.jsx(Se.span,{"data-state":QA(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});HA.displayName=VA;var KA="CheckboxBubbleInput",GA=h.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:g,setBubbleInput:w}=Wv(KA,t),y=qe(n,w),p=sv(o),b=iv(r);h.useEffect(()=>{const m=g;if(!m)return;const v=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(v,"checked").set,E=!s.current;if(p!==o&&j){const C=new Event("click",{bubbles:E});m.indeterminate=hi(o),j.call(m,hi(o)?!1:o),m.dispatchEvent(C)}},[g,p,o,s]);const x=h.useRef(hi(o)?!1:o);return i.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});GA.displayName=KA;function ez(t){return typeof t=="function"}function hi(t){return t==="indeterminate"}function QA(t){return hi(t)?"indeterminate":t?"checked":"unchecked"}const Eg=h.forwardRef(({className:t,...e},n)=>i.jsx(Vv,{ref:n,className:fe("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(HA,{className:fe("grid place-content-center text-current"),children:i.jsx(Br,{className:"h-4 w-4"})})}));Eg.displayName=Vv.displayName;var Zh="Collapsible",[tz,YA]=_r(Zh),[nz,Hv]=tz(Zh),XA=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:a,...l}=t,[c,u]=Gr({prop:r,defaultProp:s??!1,onChange:a,caller:Zh});return i.jsx(nz,{scope:n,disabled:o,contentId:Vr(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:i.jsx(Se.div,{"data-state":Gv(c),"data-disabled":o?"":void 0,...l,ref:e})})});XA.displayName=Zh;var JA="CollapsibleTrigger",ZA=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Hv(JA,n);return i.jsx(Se.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Gv(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Ee(t.onClick,s.onOpenToggle)})});ZA.displayName=JA;var Kv="CollapsibleContent",ek=h.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Hv(Kv,t.__scopeCollapsible);return i.jsx(wo,{present:n||s.open,children:({present:o})=>i.jsx(rz,{...r,ref:e,present:o})})});ek.displayName=Kv;var rz=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=t,a=Hv(Kv,n),[l,c]=h.useState(r),u=h.useRef(null),d=qe(e,u),f=h.useRef(0),g=f.current,w=h.useRef(0),y=w.current,p=a.open||l,b=h.useRef(p),x=h.useRef(void 0);return h.useEffect(()=>{const m=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(m)},[]),Ut(()=>{const m=u.current;if(m){x.current=x.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const v=m.getBoundingClientRect();f.current=v.height,w.current=v.width,b.current||(m.style.transitionDuration=x.current.transitionDuration,m.style.animationName=x.current.animationName),c(r)}},[a.open,r]),i.jsx(Se.div,{"data-state":Gv(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!p,...o,ref:d,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:p&&s})});function Gv(t){return t?"open":"closed"}var sz=XA,iz=ZA,oz=ek,kr="Accordion",az=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Qv,lz,cz]=ov(kr),[ef]=_r(kr,[cz,YA]),Yv=YA(),tk=Te.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,o=r;return i.jsx(Qv.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?i.jsx(fz,{...o,ref:e}):i.jsx(hz,{...s,ref:e})})});tk.displayName=kr;var[nk,uz]=ef(kr),[rk,dz]=ef(kr,{collapsible:!1}),hz=Te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...a}=t,[l,c]=Gr({prop:n,defaultProp:r??"",onChange:s,caller:kr});return i.jsx(nk,{scope:t.__scopeAccordion,value:Te.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Te.useCallback(()=>o&&c(""),[o,c]),children:i.jsx(rk,{scope:t.__scopeAccordion,collapsible:o,children:i.jsx(sk,{...a,ref:e})})})}),fz=Te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=t,[a,l]=Gr({prop:n,defaultProp:r??[],onChange:s,caller:kr}),c=Te.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=Te.useCallback(d=>l((f=[])=>f.filter(g=>g!==d)),[l]);return i.jsx(nk,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:i.jsx(rk,{scope:t.__scopeAccordion,collapsible:!0,children:i.jsx(sk,{...o,ref:e})})})}),[mz,tf]=ef(kr),sk=Te.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...a}=t,l=Te.useRef(null),c=qe(l,e),u=lz(n),f=Mh(s)==="ltr",g=Ee(t.onKeyDown,w=>{var N;if(!az.includes(w.key))return;const y=w.target,p=u().filter(R=>{var k;return!((k=R.ref.current)!=null&&k.disabled)}),b=p.findIndex(R=>R.ref.current===y),x=p.length;if(b===-1)return;w.preventDefault();let m=b;const v=0,S=x-1,j=()=>{m=b+1,m>S&&(m=v)},E=()=>{m=b-1,m<v&&(m=S)};switch(w.key){case"Home":m=v;break;case"End":m=S;break;case"ArrowRight":o==="horizontal"&&(f?j():E());break;case"ArrowDown":o==="vertical"&&j();break;case"ArrowLeft":o==="horizontal"&&(f?E():j());break;case"ArrowUp":o==="vertical"&&E();break}const C=m%x;(N=p[C].ref.current)==null||N.focus()});return i.jsx(mz,{scope:n,disabled:r,direction:s,orientation:o,children:i.jsx(Qv.Slot,{scope:n,children:i.jsx(Se.div,{...a,"data-orientation":o,ref:c,onKeyDown:r?void 0:g})})})}),Zd="AccordionItem",[pz,Xv]=ef(Zd),ik=Te.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,o=tf(Zd,n),a=uz(Zd,n),l=Yv(n),c=Vr(),u=r&&a.value.includes(r)||!1,d=o.disabled||t.disabled;return i.jsx(pz,{scope:n,open:u,disabled:d,triggerId:c,children:i.jsx(sz,{"data-orientation":o.orientation,"data-state":dk(u),...l,...s,ref:e,disabled:d,open:u,onOpenChange:f=>{f?a.onItemOpen(r):a.onItemClose(r)}})})});ik.displayName=Zd;var ok="AccordionHeader",ak=Te.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=tf(kr,n),o=Xv(ok,n);return i.jsx(Se.h3,{"data-orientation":s.orientation,"data-state":dk(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});ak.displayName=ok;var _g="AccordionTrigger",lk=Te.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=tf(kr,n),o=Xv(_g,n),a=dz(_g,n),l=Yv(n);return i.jsx(Qv.ItemSlot,{scope:n,children:i.jsx(iz,{"aria-disabled":o.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...r,ref:e})})});lk.displayName=_g;var ck="AccordionContent",uk=Te.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=tf(kr,n),o=Xv(ck,n),a=Yv(n);return i.jsx(oz,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});uk.displayName=ck;function dk(t){return t?"open":"closed"}var gz=tk,xz=ik,vz=ak,hk=lk,fk=uk;const mk=gz,eh=h.forwardRef(({className:t,...e},n)=>i.jsx(xz,{ref:n,className:fe("border-b",t),...e}));eh.displayName="AccordionItem";const th=h.forwardRef(({className:t,children:e,...n},r)=>i.jsx(vz,{className:"flex",children:i.jsxs(hk,{ref:r,className:fe("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,i.jsx(qx,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));th.displayName=hk.displayName;const nh=h.forwardRef(({className:t,children:e,...n},r)=>i.jsx(fk,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:i.jsx("div",{className:fe("pb-4 pt-0",t),children:e})}));nh.displayName=fk.displayName;function yz({propertyId:t}){const e=_t(),[n,r]=h.useState([]),[s,o]=h.useState(!1),{data:a=[]}=Xe({queryKey:["cities"],queryFn:async()=>{var p,b,x;const y=await V.get("/cities");return((b=(p=y.data)==null?void 0:p.data)==null?void 0:b.cities)||((x=y.data)==null?void 0:x.data)||[]}}),{data:l=[]}=Xe({queryKey:["areas"],queryFn:async()=>{var p,b,x;const y=await V.get("/areas");return((b=(p=y.data)==null?void 0:p.data)==null?void 0:b.areas)||((x=y.data)==null?void 0:x.data)||[]}}),c=Array.isArray(a)?a:[],u=Array.isArray(l)?l:[],{data:d=[],isLoading:f}=Xe({queryKey:["property-landing-pages",t],queryFn:async()=>(await V.get(`/properties/${t}/landing-pages`)).data.data||[]});h.useEffect(()=>{d.length>=0&&r(d)},[d]);const g=async y=>{o(!0);try{await V.put(`/properties/${t}/landing-pages`,{landing_pages:y}),e.invalidateQueries({queryKey:["property-landing-pages",t]})}catch(p){console.error("Failed to save landing pages:",p)}finally{o(!1)}},w=(y,p)=>{const b=p?[...n,y]:n.filter(x=>x!==y);r(b),g(b)};return f?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(he,{children:i.jsx(ge,{className:"pt-6",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-medium mb-2",children:"Landing Pages Association"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select which landing pages (Cities & Areas) will display this property."}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",n.length," landing page",n.length!==1?"s":"",s&&i.jsx("span",{className:"ml-2 text-blue-500",children:"Saving..."})]})]})})})}),i.jsx(he,{children:i.jsx(ge,{className:"pt-6",children:i.jsxs(mk,{type:"multiple",defaultValue:["cities","areas"],className:"w-full",children:[i.jsxs(eh,{value:"cities",children:[i.jsx(th,{className:"text-sm font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Od,{className:"w-4 h-4"}),"Cities (",c.length,")"]})}),i.jsx(nh,{children:c.length===0?i.jsx("p",{className:"text-sm text-muted-foreground italic py-4",children:"No cities available"}):i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-2",children:c.map(y=>{const p=n.includes(y.slug);return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Eg,{id:`city-${y.id}`,checked:p,onCheckedChange:b=>w(y.slug,!!b)}),i.jsx(J,{htmlFor:`city-${y.id}`,className:"text-sm font-normal cursor-pointer",children:y.title})]},y.id)})})})]}),i.jsxs(eh,{value:"areas",children:[i.jsx(th,{className:"text-sm font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kN,{className:"w-4 h-4"}),"Areas (",u.length,")"]})}),i.jsx(nh,{children:u.length===0?i.jsx("p",{className:"text-sm text-muted-foreground italic py-4",children:"No areas available"}):i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-2",children:u.map(y=>{const p=n.includes(y.slug);return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Eg,{id:`area-${y.id}`,checked:p,onCheckedChange:b=>w(y.slug,!!b)}),i.jsx(J,{htmlFor:`area-${y.id}`,className:"text-sm font-normal cursor-pointer",children:y.title})]},y.id)})})})]})]})})}),i.jsx(he,{className:"bg-muted/50",children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"text-sm space-y-2",children:[i.jsx("p",{className:"font-medium",children:"How it works:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[i.jsx("li",{children:"Select landing pages where this property should appear"}),i.jsx("li",{children:"Cities: Main destination pages (e.g., Tulum, Playa del Carmen)"}),i.jsx("li",{children:"Areas: Sub-locations within cities (e.g., Downtown, Beach Zone)"}),i.jsx("li",{children:"Property will be visible in search results on selected pages"}),i.jsx("li",{children:i.jsx("strong",{children:"Changes are saved automatically"})})]})]})})})]})}var bz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wz=bz.reduce((t,e)=>{const n=Bx(`Primitive.${e}`),r=h.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Sz="Separator",Rw="horizontal",Cz=["horizontal","vertical"],pk=h.forwardRef((t,e)=>{const{decorative:n,orientation:r=Rw,...s}=t,o=jz(r)?r:Rw,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(wz.div,{"data-orientation":o,...l,...s,ref:e})});pk.displayName=Sz;function jz(t){return Cz.includes(t)}var gk=pk;const xk=h.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>i.jsx(gk,{ref:s,decorative:n,orientation:e,className:fe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));xk.displayName=gk.displayName;const Nz=20*1024*1024,Ez=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,text/plain";function _z({propertyId:t}){const e=_t(),[n,r]=h.useState([]),[s,o]=h.useState(!1),[a,l]=h.useState(null),[c,u]=h.useState(""),[d,f]=h.useState(""),{data:g=[],isLoading:w}=Xe({queryKey:["property-attachments",t],queryFn:async()=>{const _=await V.get(`/properties/${t}/attachments`);return _.data.data||_.data||[]}});h.useEffect(()=>{Array.isArray(g)&&r(g)},[g]);const y=xe({mutationFn:async _=>{const D=new FormData;D.append("file",_);const q=(await V.post("/upload/attachment",D,{headers:{"Content-Type":"multipart/form-data"}})).data.data,I=_.name.replace(/\.[^.]+$/,"");await V.post(`/properties/${t}/attachments`,{title:I,filename:q.filename,url:q.url,mime_type:q.mime_type,size_bytes:q.size,display_order:n.length})},onSuccess:()=>{e.invalidateQueries({queryKey:["property-attachments",t]})},onSettled:()=>o(!1)}),p=xe({mutationFn:async()=>{let _=d.trim();/^https?:\/\//i.test(_)||(_="https://"+_),await V.post(`/properties/${t}/attachments`,{title:c.trim(),filename:null,url:_,mime_type:"link",size_bytes:null,display_order:n.length})},onSuccess:()=>{e.invalidateQueries({queryKey:["property-attachments",t]}),u(""),f("")},onSettled:()=>o(!1)}),b=xe({mutationFn:async({id:_,title:D})=>{l(_),await V.put(`/properties/${t}/attachments/${_}`,{title:D})},onSuccess:()=>e.invalidateQueries({queryKey:["property-attachments",t]}),onSettled:()=>l(null)}),x=xe({mutationFn:async _=>{const D=_.map((L,q)=>({id:L.id,display_order:q}));await V.put(`/properties/${t}/attachments/reorder`,{order:D})},onSuccess:()=>e.invalidateQueries({queryKey:["property-attachments",t]}),onError:()=>e.invalidateQueries({queryKey:["property-attachments",t]})}),m=xe({mutationFn:async _=>{await V.delete(`/properties/${t}/attachments/${_}`)},onSuccess:()=>e.invalidateQueries({queryKey:["property-attachments",t]})}),v=_=>{var L;const D=(L=_.target.files)==null?void 0:L[0];if(D){if(D.size>Nz){alert("File too large. Max 20MB.");return}o(!0),y.mutate(D)}},S=()=>{!c.trim()||!d.trim()||(o(!0),p.mutate())},j=(_,D)=>{const L=[...n],q=D==="up"?_-1:_+1;q<0||q>=L.length||([L[_],L[q]]=[L[q],L[_]],r(L),x.mutate(L))},E=(_,D)=>{r(L=>L.map(q=>q.id===_?{...q,title:D}:q))},C=(_,D)=>{D.trim()&&b.mutate({id:_,title:D.trim()})},N=_=>{confirm("Delete this attachment? The file will be removed from the server.")&&m.mutate(_)},R=_=>{var L;if(_.mime_type==="link"||!_.filename)return"LINK";const D=((L=(_.filename||"").split(".").pop())==null?void 0:L.toLowerCase())||"";return _.mime_type&&_.mime_type.includes("pdf")||D==="pdf"?"PDF":["doc","docx"].includes(D)?"DOC":["xls","xlsx"].includes(D)?"XLS":["ppt","pptx"].includes(D)?"PPT":"FILE"},k=_=>{if(!_)return"";const D=_/1024;return D<1024?`${D.toFixed(1)} KB`:`${(D/1024).toFixed(1)} MB`};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(he,{children:i.jsx(ge,{className:"pt-6 space-y-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-6 flex-col md:flex-row",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-base font-medium",children:"Attachments"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload PDFs, Word, Excel, PowerPoint, TXT files (max 20MB) or add external links. Visible on the property page."})]}),i.jsxs("div",{className:"flex flex-col gap-4 min-w-[300px] w-full max-w-md",children:[i.jsxs(S_,{defaultValue:"file",className:"w-full",children:[i.jsxs(Dv,{className:"grid w-full grid-cols-2",children:[i.jsx(Un,{value:"file",children:"Upload File"}),i.jsx(Un,{value:"link",children:"Add Link"})]}),i.jsx(zn,{value:"file",className:"mt-2",children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Q,{type:"file",accept:Ez,onChange:v,disabled:s,className:"flex-1"})})}),i.jsxs(zn,{value:"link",className:"mt-2 space-y-2",children:[i.jsx(Q,{placeholder:"Link Title (e.g. Masterplan)",value:c,onChange:_=>u(_.target.value),disabled:s}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q,{placeholder:"https://...",value:d,onChange:_=>f(_.target.value),disabled:s}),i.jsx(W,{type:"button",onClick:S,disabled:s||!c.trim()||!d.trim(),children:"Add"})]})]})]}),s&&i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-600 rounded-md border border-blue-100 animate-pulse w-fit",children:[i.jsx(vc,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"text-sm font-medium",children:"Processing..."})]})]})]})})}),i.jsx(he,{children:i.jsx(ge,{className:"pt-6 space-y-3",children:w?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading attachments..."}):n.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No attachments yet."}):i.jsx("div",{className:"space-y-3",children:n.map((_,D)=>i.jsxs("div",{className:"border rounded-lg p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx(js,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ao,{variant:"outline",children:R(_)}),i.jsx(W,{variant:"ghost",size:"icon",asChild:!0,children:i.jsx("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",title:_.mime_type==="link"||!_.filename?"Visit Link":"Download",children:_.mime_type==="link"||!_.filename?i.jsx(kh,{className:"h-4 w-4"}):i.jsx(WL,{className:"h-4 w-4"})})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(J,{className:"text-xs text-muted-foreground",children:"Title (shown on frontend)"}),i.jsx(Q,{value:_.title,onChange:L=>E(_.id,L.target.value),onBlur:L=>C(_.id,L.target.value),disabled:a===_.id}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-1 space-x-2",children:[_.filename?i.jsx("span",{children:_.filename}):i.jsx("span",{className:"text-blue-500 underline truncate max-w-[200px] inline-block align-bottom",children:_.url}),_.size_bytes?i.jsxs("span",{children:[" ",k(_.size_bytes)]}):null]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(W,{variant:"outline",size:"icon",onClick:()=>j(D,"up"),disabled:D===0||x.isPending,title:"Move up",children:i.jsx(BL,{className:"h-4 w-4"})}),i.jsx(W,{variant:"outline",size:"icon",onClick:()=>j(D,"down"),disabled:D===n.length-1||x.isPending,title:"Move down",children:i.jsx(FL,{className:"h-4 w-4"})}),i.jsx(W,{variant:"destructive",size:"icon",onClick:()=>N(_.id),disabled:m.isPending,children:i.jsx(Vx,{className:"h-4 w-4"})})]})]},_.id))})})}),i.jsx(xk,{}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Tip: give each attachment a clear, concise title (e.g., Masterplan PDF, Floorplans - Tower A)."})]})}const Tw={"Essential Features":["A/C","Elevator","Laundry Room","Fireplace","Storage Room","Basement"],"Outdoor & Terraces":["Terrace","Balcony","Rooftop","Solarium","Garden","Private Garden","Zen Garden","Patio"],"Parking & Mobility":["Parking","Garage","Underground Parking","Covered Parking","Street Parking","Bike Parking","Shuttle Service"],"Security & Access":["Controlled Access","Security 24/7","CCTV","Perimeter Fence","Concierge","Gated Community","Intercom","Alarm System"],"Pools & Water":["Pool","Rooftop Pool","Infinity Pool","Beach-like Pool","Waterfront","Beach Club","Jacuzzi"],"Wellness & Spa":["Spa","Sauna","Steam Room","Temazcal","Yoga Area","Meditation Space"],"Fitness & Sports":["Gym","Jogging Track","Paddle Court","Pickleball Court","Tennis Court","Mini Golf","Pet Park"],"Community & Entertainment":["Clubhouse","Lounge","Cinema Room","Bar","Kids Area","Playground","BBQ Area"],"Work & Connectivity":["Co-working Space","Business Lounge","High Speed Internet","Smart Home"],Sustainability:["Solar Panels","Rainwater Harvesting","Water Treatment","Energy Efficient","Eco-Friendly"],"Views & Setting":["Ocean View","Beach Front","Golf View","City View","Mountain View","Lake View","Marina View","Jungle View"],"Interior Features":["Furnished","Semi-Furnished","Unfurnished","Walk-in Closet","High Ceilings","Hardwood Floors","Marble Floors","Modern Kitchen","Open Plan"],"Property Status":["New Construction","Recently Renovated","Move-in Ready","Pre-sale","Investment Opportunity"],"Legal & Rentals":["HOA","No HOA","Short Term Rental OK","Long Term Rental OK","Pet Friendly"],Proximity:["Near Beach","Near Golf","Near Downtown","Near Airport","Near Shopping","Near Schools","Near Hospital","Quiet Neighborhood"]};function Az({selectedTags:t,onChange:e,maxTags:n}){const[r,s]=h.useState(""),[o,a]=h.useState(""),l=h.useMemo(()=>{if(!r)return Tw;const g={};return Object.entries(Tw).forEach(([w,y])=>{const p=y.filter(b=>b.toLowerCase().includes(r.toLowerCase()));p.length>0&&(g[w]=p)}),g},[r]),c=g=>{n!==void 0&&t.length>=n||t.includes(g)||e([...t,g])},u=g=>{e(t.filter(w=>w!==g))},d=()=>{const g=o.trim();if(g){if(t.includes(g)){a("");return}n!==void 0&&t.length>=n||(e([...t,g]),a(""))}},f=g=>{g.key==="Enter"&&(g.preventDefault(),d())};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(he,{children:i.jsxs(ge,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center justif{maxTags !== undefined ? `/${maxTags}` : '' mb-3",children:[i.jsxs("h3",{className:"text-sm font-medium",children:["Selected Tags (",t.length,"/",n,")"]}),t.length>0&&i.jsx(W,{size:"sm",type:"button",variant:"ghost",onClick:()=>e([]),className:"h-7 text-xs",children:"Clear All"})]}),t.length===0?i.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No tags selected"}):i.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(g=>i.jsxs(ao,{variant:"secondary",className:"px-3 py-1.5 text-sm",children:[g,i.jsx("button",{type:"button",onClick:()=>u(g),className:"ml-2 hover:text-destructive transition-colors",children:i.jsx(Zn,{className:"w-3 h-3"})})]},g))})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(Wx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Q,{placeholder:"Search tags...",value:r,onChange:g=>s(g.target.value),className:"pl-9"})]}),i.jsx(he,{children:i.jsxs(ge,{className:"pt-6",children:[i.jsx("h3",{className:"text-sm font-medium mb-3",children:"Add Custom Tag"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Q,{placeholder:"Enter custom tag...",value:o,onChange:g=>a(g.target.value),onKeyDown:f,className:"flex-1"}),i.jsxs(W,{type:"button",onClick:d,disabled:!o.trim(),children:[i.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Add"]})]})]})}),i.jsx(he,{children:i.jsxs(ge,{className:"pt-6",children:[i.jsx("h3",{className:"text-sm font-medium mb-3",children:"Predefined Tags"}),Object.keys(l).length===0?i.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No tags found"}):i.jsx(mk,{type:"multiple",className:"w-full",children:Object.entries(l).map(([g,w])=>i.jsxs(eh,{value:g,children:[i.jsxs(th,{className:"text-sm font-medium",children:[g," (",w.length,")"]}),i.jsx(nh,{children:i.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:w.map(y=>{const p=t.includes(y),b=!p&&n!==void 0&&t.length>=n;return i.jsxs(W,{type:"button",size:"sm",variant:p?"default":"outline",onClick:()=>p?u(y):c(y),disabled:b,className:"h-7 text-xs",children:[p&&i.jsx(Zn,{className:"w-3 h-3 mr-1"}),!p&&i.jsx(Qt,{className:"w-3 h-3 mr-1"}),y]},y)})})})]},g))})]})})]})}function Em(){const{id:t}=bo(),e=Ot(),n=!!t,r=T=>T.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),[s,o]=h.useState({title:"",slug:"",subtitle:"",property_type:"active",status:"for_sale",property_categories:["apartment"],description:"",content:"",price_base_currency:"USD",price_usd:"",price_mxn:"",price_eur:"",exchange_rate:"",price_on_demand:!1,price_negotiable:!1,price_from_usd:"",price_to_usd:"",price_from_mxn:"",price_to_mxn:"",price_from_eur:"",price_to_eur:"",bedrooms:"",bedrooms_min:"",bedrooms_max:"",bathrooms:"",bathrooms_min:"",bathrooms_max:"",sqm:"",sqft:"",sqm_min:"",sqm_max:"",sqft_min:"",sqft_max:"",lot_size_sqm:"",size_unit:"sqm",year_built:"",furnishing_status:"unfurnished",neighborhood:"",city:"",state:"",country:"Mexico",address:"",latitude:"",longitude:"",google_maps_url:"",youtube_video_url:"",tags:[],seo_title:"",seo_description:"",seo_keywords:"",og_title:"",og_description:"",og_image:"",is_active:!1,featured:!1,show_in_home:!1,order:"",internal_notes:""}),a=s.property_type==="development",l=!a,c=s.property_type==="land",[u,d]=h.useState(17.5),[f,g]=h.useState(.92),[w,y]=h.useState(!1),p=u||0,b=f||0,x=p?1/p:0,m=p?b/p:0,v=b?1/b:0,S=b?p/b:0;Xe({queryKey:["property",t],queryFn:async()=>{var z,G,H,re,oe,me,K,ie,pe,ye,We,De,_e,Ve,xt,Jt,An,tr,nr,Fn,Bn,rr;const A=(await V.get(`/properties/${t}`)).data.data;return o({title:A.title||"",slug:A.slug||"",subtitle:A.subtitle||"",property_type:A.property_type||"active",status:A.status||"for_sale",property_categories:(z=A.property_categories)!=null&&z.length?A.property_categories:A.property_category?[A.property_category]:["apartment"],description:A.description||"",content:A.content||"",price_base_currency:A.price_base_currency||"USD",price_usd:((G=A.price_usd)==null?void 0:G.toString())||"",price_mxn:((H=A.price_mxn)==null?void 0:H.toString())||"",price_eur:((re=A.price_eur)==null?void 0:re.toString())||"",exchange_rate:((oe=A.exchange_rate)==null?void 0:oe.toString())||"",price_on_demand:A.price_on_demand||!1,price_negotiable:A.price_negotiable||!1,price_from_usd:((me=A.price_from_usd)==null?void 0:me.toString())||"",price_to_usd:((K=A.price_to_usd)==null?void 0:K.toString())||"",price_from_mxn:((ie=A.price_from_mxn)==null?void 0:ie.toString())||"",price_to_mxn:((pe=A.price_to_mxn)==null?void 0:pe.toString())||"",price_from_eur:((ye=A.price_from_eur)==null?void 0:ye.toString())||"",price_to_eur:((We=A.price_to_eur)==null?void 0:We.toString())||"",bedrooms:A.bedrooms||"",bedrooms_min:A.bedrooms_min||"",bedrooms_max:A.bedrooms_max||"",bathrooms:A.bathrooms||"",bathrooms_min:A.bathrooms_min||"",bathrooms_max:A.bathrooms_max||"",sqm:((De=A.sqm)==null?void 0:De.toString())||"",sqft:((_e=A.sqft)==null?void 0:_e.toString())||"",sqm_min:((Ve=A.sqm_min)==null?void 0:Ve.toString())||"",sqm_max:((xt=A.sqm_max)==null?void 0:xt.toString())||"",sqft_min:((Jt=A.sqft_min)==null?void 0:Jt.toString())||"",sqft_max:((An=A.sqft_max)==null?void 0:An.toString())||"",lot_size_sqm:((tr=A.lot_size_sqm)==null?void 0:tr.toString())||"",size_unit:"sqm",year_built:((nr=A.year_built)==null?void 0:nr.toString())||"",furnishing_status:A.furnishing_status||"unfurnished",neighborhood:A.neighborhood||"",city:A.city||"",state:A.state||"",country:A.country||"Mexico",address:A.address||"",latitude:((Fn=A.latitude)==null?void 0:Fn.toString())||"",longitude:((Bn=A.longitude)==null?void 0:Bn.toString())||"",google_maps_url:A.google_maps_url||"",youtube_video_url:A.youtube_video_url||"",tags:A.tags||[],seo_title:A.seo_title||"",seo_description:A.seo_description||"",seo_keywords:A.seo_keywords||"",og_title:A.og_title||"",og_description:A.og_description||"",og_image:A.og_image||"",is_active:A.is_active||!1,featured:A.featured||!1,show_in_home:A.show_in_home||!1,order:((rr=A.order)==null?void 0:rr.toString())||"",internal_notes:A.internal_notes||""}),A},enabled:n});const j=xe({mutationFn:async T=>n?V.put(`/properties/${t}`,T):V.post("/properties",T),onSuccess:T=>{var A,z;!n&&((z=(A=T.data)==null?void 0:A.data)!=null&&z.id)&&e(`/properties/${T.data.data.id}`)},onError:T=>{var A,z;alert(((z=(A=T.response)==null?void 0:A.data)==null?void 0:z.error)||"An error occurred")}}),[E,C]=h.useState(null),[N,R]=h.useState("info"),k=h.useRef(null),[_,D]=h.useState(!1),[L,q]=h.useState(!1);h.useEffect(()=>{!n&&!s.exchange_rate&&fetch("/api/exchange-rate/current").then(T=>T.json()).then(T=>{T.success&&T.data.rate&&o(A=>({...A,exchange_rate:T.data.rate}))}).catch(T=>console.error("Failed to load global exchange rate:",T))},[n,s.exchange_rate]),h.useEffect(()=>{(async()=>{var A,z;try{const G="/api",[H,re]=await Promise.all([fetch(`${G}/exchange-rate/current?currency_from=USD&currency_to=MXN`),fetch(`${G}/exchange-rate/current?currency_from=USD&currency_to=EUR`)]),oe=await H.json(),me=await re.json();oe!=null&&oe.success&&((A=oe==null?void 0:oe.data)!=null&&A.rate)&&d(parseFloat(oe.data.rate)),me!=null&&me.success&&((z=me==null?void 0:me.data)!=null&&z.rate)&&g(parseFloat(me.data.rate))}catch(G){console.error("Failed to load exchange rates:",G)}})()},[]),h.useEffect(()=>{s.property_type==="land"&&!s.property_categories.includes("land")&&o(T=>({...T,property_categories:["land"]}))},[s.property_type,s.property_categories]);const I={title:"info",subtitle:"info",property_type:"info",status:"info",property_categories:"info",description:"info",content:"info",seo_title:"info",seo_description:"info",og_title:"info",og_description:"info",price_usd:"price",exchange_rate:"price",price_on_demand:"price",price_negotiable:"price",price_from_usd:"price",price_to_usd:"price",bedrooms:"price",bathrooms:"price",sqm:"price",lot_size_sqm:"price",year_built:"price",furnishing_status:"price",neighborhood:"location",city:"location",state:"location",country:"location",address:"location",google_maps_url:"location",internal_notes:"notes"},F=T=>{C(T);const A=I[T];A&&R(A),setTimeout(()=>{const z=document.querySelector(`[name="${T}"]`);z&&(z.focus(),z.scrollIntoView({behavior:"smooth",block:"center"}))},100)},$=T=>{if(T.preventDefault(),C(null),!t){if(!s.title.trim()){F("title");return}if(!s.city.trim()){F("city");return}if(!s.seo_title.trim()){F("seo_title");return}if(!s.seo_description.trim()){F("seo_description");return}if(!s.og_title.trim()){F("og_title");return}if(!s.og_description.trim()){F("og_description");return}}if(t){if(!s.title.trim()){F("title");return}if(!s.city.trim()){F("city");return}if(!s.property_categories||s.property_categories.length===0){alert("Please select at least one category"),R("info");return}if(l&&s.property_categories.length>1){alert("Active-like properties can have only one category"),R("info");return}if(s.property_type==="land"&&!s.property_categories.includes("land")){alert('Land properties must include the "land" category'),R("info");return}if(!s.seo_title.trim()){F("seo_title");return}if(!s.seo_description.trim()){F("seo_description");return}if(!s.og_title.trim()){F("og_title");return}if(!s.og_description.trim()){F("og_description");return}}const A={title:s.title,slug:s.slug,subtitle:s.subtitle,property_type:s.property_type,status:s.status,description:s.description,content:s.content,city:s.city,neighborhood:s.neighborhood,state:s.state,address:s.address,google_maps_url:s.google_maps_url,youtube_video_url:s.youtube_video_url,country:s.country,latitude:s.latitude?parseFloat(s.latitude):null,longitude:s.longitude?parseFloat(s.longitude):null,price_base_currency:s.price_base_currency,price_usd:s.price_usd?parseFloat(s.price_usd):null,price_mxn:s.price_mxn?parseFloat(s.price_mxn):null,exchange_rate:s.exchange_rate?parseFloat(s.exchange_rate):20,price_on_demand:s.price_on_demand,price_negotiable:s.price_negotiable,price_from_usd:s.price_from_usd?parseFloat(s.price_from_usd):null,price_to_usd:s.price_to_usd?parseFloat(s.price_to_usd):null,price_from_mxn:s.price_from_mxn?parseFloat(s.price_from_mxn):null,price_to_mxn:s.price_to_mxn?parseFloat(s.price_to_mxn):null,sqm:s.sqm?parseFloat(s.sqm):null,sqft:s.sqft?parseFloat(s.sqft):null,sqm_min:s.sqm_min?parseFloat(s.sqm_min):null,sqm_max:s.sqm_max?parseFloat(s.sqm_max):null,sqft_min:s.sqft_min?parseFloat(s.sqft_min):null,sqft_max:s.sqft_max?parseFloat(s.sqft_max):null,lot_size_sqm:s.lot_size_sqm?parseFloat(s.lot_size_sqm):null,year_built:s.year_built?parseInt(s.year_built):null,furnishing_status:s.furnishing_status,tags:s.tags,is_active:s.is_active,featured:s.featured,show_in_home:s.show_in_home,order:s.order?parseInt(s.order):0,internal_notes:s.internal_notes,seo_title:s.seo_title,seo_description:s.seo_description,seo_keywords:s.seo_keywords,og_image:s.og_image};A.property_categories=s.property_categories,A.property_category=s.property_categories[0]||null,a?(A.bedrooms_min=s.bedrooms_min||null,A.bedrooms_max=s.bedrooms_max||null,A.bathrooms_min=s.bathrooms_min||null,A.bathrooms_max=s.bathrooms_max||null):(A.bedrooms=s.bedrooms||null,A.bathrooms=s.bathrooms||null),j.mutate(A)},M=T=>E===T?"border-red-500 ring-2 ring-red-200":"",U=T=>{const{name:A,value:z}=T.target;o(G=>({...G,[A]:z}))},Y=(T,A)=>{if(T==="property_type"){o(z=>{const G={...z,[T]:A};return A==="land"&&(G.property_categories=["land"]),G});return}o(z=>({...z,[T]:A}))},ee=(T,A)=>{o(z=>({...z,[T]:A}))},Z=async T=>{var A,z;if(!T.type.startsWith("image/")){alert("Please select an image file");return}if(T.size>10*1024*1024){alert("Image must be smaller than 10MB");return}D(!0);try{const G=new FormData;G.append("image",T);const re=(z=(A=(await V.post("/upload/property-image",G,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:A.data)==null?void 0:z.url;re&&(o(oe=>({...oe,og_image:re})),q(!1))}catch(G){console.error("OG image upload failed",G),alert("Upload failed. Please try again.")}finally{D(!1)}},ve=async()=>{if(s.og_image&&confirm("Remove this OG image?")){try{await V.delete(`/upload/file?url=${encodeURIComponent(s.og_image)}`)}catch(T){console.error("Failed to delete OG image",T)}o(T=>({...T,og_image:""})),q(!1)}},ue=i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Q,{name:"title",value:s.title,onChange:U,required:!0,className:M("title")})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-sm font-medium",children:"Subtitle"}),i.jsx(tt,{name:"subtitle",value:s.subtitle,onChange:U,rows:3})]}),i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["City ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Q,{name:"city",value:s.city,onChange:U,required:!0,className:M("city")})]}),i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["Property Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs(Vt,{value:s.property_type,onValueChange:T=>Y("property_type",T),children:[i.jsx(It,{children:i.jsx(Ht,{})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"active",children:"Active Property"}),i.jsx(ae,{value:"development",children:"New Development"}),i.jsx(ae,{value:"hot_deal",children:"Hot Deals (Oportunidades)"}),i.jsx(ae,{value:"off_market",children:"Off Market"}),i.jsx(ae,{value:"land",children:"Land (Tierra)"})]})]})]}),i.jsxs("div",{className:"space-y-2 border-t pt-4",children:[i.jsx(J,{className:"text-sm font-medium",children:"OG Image"}),i.jsxs("div",{className:"flex items-start gap-3",children:[s.og_image&&!L?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:s.og_image,alt:"OG preview",className:"w-40 h-24 object-cover rounded-md border",onError:()=>q(!0)}),i.jsx(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:ve,children:"Remove"})]}):i.jsxs("div",{className:"border-2 border-dashed rounded-md p-3 text-center w-40 h-24 flex flex-col items-center justify-center bg-muted/30",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload OG image"}),i.jsx(W,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>{var T;return(T=k.current)==null?void 0:T.click()},disabled:_,children:_?"Uploading...":"Select file"})]}),i.jsx("input",{ref:k,type:"file",accept:"image/*",className:"hidden",onChange:T=>{var z;const A=(z=T.target.files)==null?void 0:z[0];A&&Z(A)}}),i.jsx("div",{className:"text-xs text-muted-foreground flex-1",children:"Usa unimmagine 1200630 ottimizzata (<300KB). Se non presente, verr usata quella di default."})]})]})]}),Be=i.jsxs(S_,{value:N,onValueChange:R,className:"w-full",children:[i.jsxs(Dv,{className:`grid w-full ${s.property_type==="off_market"?"grid-cols-8":"grid-cols-9"}`,children:[i.jsx(Un,{value:"info",children:"Basic Info & SEO"}),i.jsx(Un,{value:"location",children:"Location"}),i.jsx(Un,{value:"price",children:"Pricing"}),i.jsx(Un,{value:"gallery",children:"Gallery"}),i.jsx(Un,{value:"attachments",children:"Attachments"}),i.jsx(Un,{value:"details",children:"Details"}),i.jsx(Un,{value:"tags",children:"Tags"}),s.property_type!=="off_market"&&i.jsx(Un,{value:"landing",children:"Landing"}),i.jsx(Un,{value:"notes",children:"Notes"})]}),i.jsxs(zn,{value:"info",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Q,{name:"title",value:s.title,onChange:T=>{const A=T.target.value;o(z=>({...z,title:A,slug:n?z.slug:r(A)}))},required:!0,className:s.title.trim()?"":"border-red-300"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" ",i.jsx("strong",{children:"Main heading"})," displayed at the top of the property page and in listings"]})]}),i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["Property Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs(Vt,{value:s.property_type,onValueChange:T=>Y("property_type",T),children:[i.jsx(It,{children:i.jsx(Ht,{})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"active",children:"Active Property"}),i.jsx(ae,{value:"development",children:"New Development"}),i.jsx(ae,{value:"hot_deal",children:"Hot Deals (Oportunidades)"}),i.jsx(ae,{value:"off_market",children:"Off Market"}),i.jsx(ae,{value:"land",children:"Land (Tierra)"})]})]})]})]}),n&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs(J,{className:"text-sm font-medium",children:["URL Slug ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>y(!w),className:"h-7 gap-1.5",children:w?i.jsxs(i.Fragment,{children:[i.jsx(GL,{className:"h-3.5 w-3.5"}),"Lock URL"]}):i.jsxs(i.Fragment,{children:[i.jsx(nM,{className:"h-3.5 w-3.5"}),"Change URL"]})})]}),i.jsx(Q,{name:"slug",value:s.slug,onChange:T=>o(A=>({...A,slug:r(T.target.value)})),readOnly:!w,className:w?"":"bg-gray-50 cursor-not-allowed",required:!0}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" URL-friendly version: ",i.jsxs("strong",{children:["/properties/",s.slug||"property-url"]})]})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Subtitle"}),i.jsx(tt,{name:"subtitle",value:s.subtitle,onChange:U,rows:2}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" ",i.jsx("strong",{children:"Secondary heading"})," shown below the title (optional short description or tagline)"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs(Vt,{value:s.status,onValueChange:T=>Y("status",T),children:[i.jsx(It,{children:i.jsx(Ht,{})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"for_sale",children:"For Sale"}),i.jsx(ae,{value:"sold",children:"Sold"}),i.jsx(ae,{value:"reserved",children:"Reserved"})]})]})]}),i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["Property Category ",i.jsx("span",{className:"text-red-500",children:"*"}),l&&i.jsx("span",{className:"text-xs text-muted-foreground font-normal ml-2",children:"(select one)"}),a&&i.jsx("span",{className:"text-xs text-muted-foreground font-normal ml-2",children:"(select one or more)"})]}),i.jsxs("div",{className:"space-y-2 border rounded-md p-3 bg-slate-50",children:[["apartment","house","villa","condo","penthouse","land","commercial"].map(T=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`cat-${T}`,checked:c?T==="land":s.property_categories.includes(T),disabled:c&&T!=="land",onChange:A=>{c||(l?o(z=>({...z,property_categories:A.target.checked?[T]:[]})):A.target.checked?o(z=>({...z,property_categories:[...z.property_categories,T]})):o(z=>({...z,property_categories:z.property_categories.filter(G=>G!==T)})))},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary cursor-pointer"}),i.jsx("label",{htmlFor:`cat-${T}`,className:"capitalize cursor-pointer text-sm",children:T})]},T)),s.property_categories.length===0&&i.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Select at least one category"})]})]})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Description"}),i.jsx(tt,{name:"description",value:s.description,onChange:U,rows:3})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Content"}),i.jsx(La,{value:s.content,onChange:T=>o(A=>({...A,content:T}))})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dt,{checked:s.is_active,onCheckedChange:T=>ee("is_active",T)}),i.jsx(J,{children:"Published"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dt,{checked:s.featured,onCheckedChange:T=>ee("featured",T)}),i.jsx(J,{children:"Featured"})]})]}),i.jsxs("div",{className:"border-t pt-6 mt-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"SEO & Social Media"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"These fields control how your property appears in Google search results and when shared on social media platforms."}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm text-blue-900 mb-2",children:" SEO Fields (Google Search)"}),i.jsx("p",{className:"text-xs text-blue-800",children:"Controls what users see when they search for properties on Google, Bing, and other search engines."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm text-green-900 mb-2",children:" OG Fields (Social Sharing)"}),i.jsx("p",{className:"text-xs text-green-800",children:"Controls the preview card when someone shares the property link on WhatsApp, Facebook, LinkedIn, or Twitter."})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs(J,{children:["SEO Title (max 160 chars) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Q,{name:"seo_title",value:s.seo_title,onChange:U,maxLength:160,className:M("seo_title")}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.seo_title.length,"/160 characters"]})]}),i.jsxs("div",{children:[i.jsxs(J,{children:["SEO Description (max 320 chars) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(tt,{name:"seo_description",value:s.seo_description,onChange:U,maxLength:320,rows:3,className:M("seo_description")}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.seo_description.length,"/320 characters"]})]}),i.jsxs("div",{children:[i.jsxs(J,{children:["OG Title (Facebook/LinkedIn) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Q,{name:"og_title",value:s.og_title,onChange:U,maxLength:160,className:M("og_title")})]}),i.jsxs("div",{children:[i.jsxs(J,{children:["OG Description (Facebook/LinkedIn) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(tt,{name:"og_description",value:s.og_description,onChange:U,maxLength:320,rows:3,className:M("og_description")}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.og_description.length,"/320 characters"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(J,{children:"OG Image (1200630)"}),i.jsxs("div",{className:"flex items-start gap-3",children:[s.og_image&&!L?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:s.og_image,alt:"OG preview",className:"w-48 h-28 object-cover rounded-md border",onError:()=>q(!0)}),i.jsx(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:ve,children:"Remove"})]}):i.jsxs("div",{className:"border-2 border-dashed rounded-md p-4 text-center w-48 h-28 flex flex-col items-center justify-center bg-muted/30",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload OG image"}),i.jsx(W,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>{var T;return(T=k.current)==null?void 0:T.click()},disabled:_,children:_?"Uploading...":"Select file"})]}),i.jsx("input",{ref:k,type:"file",accept:"image/*",className:"hidden",onChange:T=>{var z;const A=(z=T.target.files)==null?void 0:z[0];A&&Z(A)}}),i.jsx("div",{className:"text-xs text-muted-foreground flex-1",children:"Raccomandato: JPG/WebP 1200630 <300KB. Se vuoto, useremo limmagine di default."})]})]})]}),i.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mt-6",children:[i.jsx("h4",{className:"font-semibold text-sm mb-3",children:" Quick Reference: Where Each Text Appears"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"Title:"}),i.jsx("span",{className:"text-muted-foreground",children:"Main heading on property page + listing cards"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"Subtitle:"}),i.jsx("span",{className:"text-muted-foreground",children:"Secondary text below title (optional tagline)"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"Description:"}),i.jsx("span",{className:"text-muted-foreground",children:"Short summary in property cards/previews"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"Content:"}),i.jsx("span",{className:"text-muted-foreground",children:"Full rich-text description in detail page"})]}),i.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"Address:"}),i.jsx("span",{className:"text-muted-foreground",children:"Full street address shown on property page"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"Neighborhood:"}),i.jsx("span",{className:"text-muted-foreground",children:"Area/zone name in property details"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"City:"}),i.jsx("span",{className:"text-muted-foreground",children:"City name in property details + filters"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"State:"}),i.jsx("span",{className:"text-muted-foreground",children:"State/region in property details"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"Google Maps URL:"}),i.jsx("span",{className:"text-muted-foreground",children:"Interactive map embed on property page"})]}),i.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"SEO Title/Desc:"}),i.jsx("span",{className:"text-muted-foreground",children:"SEO for Google indexing and search results"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"font-semibold min-w-[140px]",children:"OG Title/Desc:"}),i.jsx("span",{className:"text-muted-foreground",children:"Preview card for social media sharing (WhatsApp, Facebook, LinkedIn)"})]})]})]})]})]}),i.jsxs(zn,{value:"price",className:"space-y-6",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dt,{checked:s.price_on_demand,onCheckedChange:T=>ee("price_on_demand",T)}),i.jsx(J,{className:"font-medium",children:"Price on Demand"})]}),i.jsx("p",{className:"text-xs text-amber-800 mt-2",children:'Enable this if you prefer to show "Contact for pricing" instead of actual price'})]}),!s.price_on_demand&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-semibold mb-3 text-gray-900",children:" Base Currency"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>o(T=>({...T,price_base_currency:"USD"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${s.price_base_currency==="USD"?"bg-blue-600 text-white shadow-md":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:" USD"}),i.jsx("button",{type:"button",onClick:()=>o(T=>({...T,price_base_currency:"MXN"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${s.price_base_currency==="MXN"?"bg-green-600 text-white shadow-md":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:" MXN"}),i.jsx("button",{type:"button",onClick:()=>o(T=>({...T,price_base_currency:"EUR"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${s.price_base_currency==="EUR"?"bg-purple-600 text-white shadow-md":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:" EUR"})]}),i.jsx("p",{className:"text-xs text-blue-800 mt-3",children:s.price_base_currency==="USD"?"Enter price in USD - other currencies auto-calculated":s.price_base_currency==="MXN"?"Enter price in MXN - other currencies auto-calculated":"Enter price in EUR - other currencies auto-calculated"})]}),!s.price_negotiable&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-sm font-semibold mb-3 text-gray-900",children:[" ",a?"Fixed Price (Optional)":"Property Price"]}),s.price_base_currency==="USD"?i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-sm font-medium",children:"Price USD"}),i.jsx(Q,{type:"number",name:"price_usd",value:s.price_usd,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*p).toString():"",G=A?Math.round(parseFloat(A)*b).toString():"";o(H=>({...H,price_usd:A,price_mxn:z,price_eur:G}))},step:"0.01",className:M("price_usd")})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-sm text-gray-600",children:"Price MXN (auto)"}),i.jsx(Q,{type:"text",value:s.price_mxn?`$${parseFloat(s.price_mxn).toLocaleString("es-MX",{maximumFractionDigits:0})}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-sm text-gray-600",children:"Price EUR (auto)"}),i.jsx(Q,{type:"text",value:s.price_eur?`${parseFloat(s.price_eur).toLocaleString("it-IT",{maximumFractionDigits:0})}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]}):s.price_base_currency==="MXN"?i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["Price MXN ",l&&i.jsx("span",{className:"text-red-500",children:"*"}),a&&i.jsx("span",{className:"text-gray-400 text-xs ml-1",children:"(optional)"})]}),i.jsx(Q,{type:"number",name:"price_mxn",value:s.price_mxn,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*x).toString():"",G=A?Math.round(parseFloat(A)*m).toString():"";o(H=>({...H,price_mxn:A,price_usd:z,price_eur:G}))},step:"0.01",className:M("price_mxn")})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-sm text-gray-600",children:"Price USD (auto)"}),i.jsx(Q,{type:"text",value:s.price_usd?`$${parseFloat(s.price_usd).toLocaleString("en-US",{maximumFractionDigits:0})}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-sm text-gray-600",children:"Price EUR (auto)"}),i.jsx(Q,{type:"text",value:s.price_eur?`${parseFloat(s.price_eur).toLocaleString("it-IT",{maximumFractionDigits:0})}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]}):i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["Price EUR ",l&&i.jsx("span",{className:"text-red-500",children:"*"}),a&&i.jsx("span",{className:"text-gray-400 text-xs ml-1",children:"(optional)"})]}),i.jsx(Q,{type:"number",name:"price_eur",value:s.price_eur,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*v).toString():"",G=A?Math.round(parseFloat(A)*S).toString():"";o(H=>({...H,price_eur:A,price_usd:z,price_mxn:G}))},step:"0.01",className:M("price_eur")})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-sm text-gray-600",children:"Price USD (auto)"}),i.jsx(Q,{type:"text",value:s.price_usd?`$${parseFloat(s.price_usd).toLocaleString("en-US",{maximumFractionDigits:0})}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-sm text-gray-600",children:"Price MXN (auto)"}),i.jsx(Q,{type:"text",value:s.price_mxn?`$${parseFloat(s.price_mxn).toLocaleString("es-MX",{maximumFractionDigits:0})}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]})]}),a&&i.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-semibold mb-3 text-gray-900",children:" Price Range"}),i.jsx("p",{className:"text-xs text-purple-800 mb-3",children:"For developments, specify a price range for units"}),i.jsx("div",{children:s.price_base_currency==="USD"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"From USD"}),i.jsx(Q,{type:"number",name:"price_from_usd",value:s.price_from_usd,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*p).toString():"",G=A?Math.round(parseFloat(A)*b).toString():"";o(H=>({...H,price_from_usd:A,price_from_mxn:z,price_from_eur:G}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"To USD"}),i.jsx(Q,{type:"number",name:"price_to_usd",value:s.price_to_usd,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*p).toString():"",G=A?Math.round(parseFloat(A)*b).toString():"";o(H=>({...H,price_to_usd:A,price_to_mxn:z,price_to_eur:G}))},step:"0.01"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[i.jsxs("div",{children:["MXN: ",s.price_from_mxn?`$${parseFloat(s.price_from_mxn).toLocaleString("es-MX",{maximumFractionDigits:0})}`:"-"]}),i.jsxs("div",{children:["MXN: ",s.price_to_mxn?`$${parseFloat(s.price_to_mxn).toLocaleString("es-MX",{maximumFractionDigits:0})}`:"-"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[i.jsxs("div",{children:["EUR: ",s.price_from_eur?`${parseFloat(s.price_from_eur).toLocaleString("it-IT",{maximumFractionDigits:0})}`:"-"]}),i.jsxs("div",{children:["EUR: ",s.price_to_eur?`${parseFloat(s.price_to_eur).toLocaleString("it-IT",{maximumFractionDigits:0})}`:"-"]})]})]}):s.price_base_currency==="MXN"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"From MXN"}),i.jsx(Q,{type:"number",name:"price_from_mxn",value:s.price_from_mxn,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*x).toString():"",G=A?Math.round(parseFloat(A)*m).toString():"";o(H=>({...H,price_from_mxn:A,price_from_usd:z,price_from_eur:G}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"To MXN"}),i.jsx(Q,{type:"number",name:"price_to_mxn",value:s.price_to_mxn,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*x).toString():"",G=A?Math.round(parseFloat(A)*m).toString():"";o(H=>({...H,price_to_mxn:A,price_to_usd:z,price_to_eur:G}))},step:"0.01"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[i.jsxs("div",{children:["USD: ",s.price_from_usd?`$${parseFloat(s.price_from_usd).toLocaleString("en-US",{maximumFractionDigits:0})}`:"-"]}),i.jsxs("div",{children:["USD: ",s.price_to_usd?`$${parseFloat(s.price_to_usd).toLocaleString("en-US",{maximumFractionDigits:0})}`:"-"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[i.jsxs("div",{children:["EUR: ",s.price_from_eur?`${parseFloat(s.price_from_eur).toLocaleString("it-IT",{maximumFractionDigits:0})}`:"-"]}),i.jsxs("div",{children:["EUR: ",s.price_to_eur?`${parseFloat(s.price_to_eur).toLocaleString("it-IT",{maximumFractionDigits:0})}`:"-"]})]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"From EUR"}),i.jsx(Q,{type:"number",name:"price_from_eur",value:s.price_from_eur,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*v).toString():"",G=A?Math.round(parseFloat(A)*S).toString():"";o(H=>({...H,price_from_eur:A,price_from_usd:z,price_from_mxn:G}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"To EUR"}),i.jsx(Q,{type:"number",name:"price_to_eur",value:s.price_to_eur,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*v).toString():"",G=A?Math.round(parseFloat(A)*S).toString():"";o(H=>({...H,price_to_eur:A,price_to_usd:z,price_to_mxn:G}))},step:"0.01"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[i.jsxs("div",{children:["USD: ",s.price_from_usd?`$${parseFloat(s.price_from_usd).toLocaleString("en-US",{maximumFractionDigits:0})}`:"-"]}),i.jsxs("div",{children:["USD: ",s.price_to_usd?`$${parseFloat(s.price_to_usd).toLocaleString("en-US",{maximumFractionDigits:0})}`:"-"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[i.jsxs("div",{children:["MXN: ",s.price_from_mxn?`$${parseFloat(s.price_from_mxn).toLocaleString("es-MX",{maximumFractionDigits:0})}`:"-"]}),i.jsxs("div",{children:["MXN: ",s.price_to_mxn?`$${parseFloat(s.price_to_mxn).toLocaleString("es-MX",{maximumFractionDigits:0})}`:"-"]})]})]})})]}),!a&&i.jsxs("div",{className:"bg-sky-50 border border-sky-200 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-semibold mb-3 text-gray-900",children:" Price Negotiable"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dt,{checked:s.price_negotiable,onCheckedChange:T=>ee("price_negotiable",T)}),i.jsx(J,{children:"Allow price negotiation (shows negotiable range below)"})]})]}),s.price_negotiable&&!a&&i.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-semibold mb-3 text-gray-900",children:" Negotiable Price Range"}),i.jsx("p",{className:"text-xs text-indigo-800 mb-3",children:"Specify the negotiable price range for this property"}),i.jsx("div",{children:s.price_base_currency==="USD"?i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"From USD"}),i.jsx(Q,{type:"number",name:"price_from_usd",value:s.price_from_usd,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*p).toString():"",G=A?Math.round(parseFloat(A)*b).toString():"";o(H=>({...H,price_from_usd:A,price_from_mxn:z,price_from_eur:G}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"To USD"}),i.jsx(Q,{type:"number",name:"price_to_usd",value:s.price_to_usd,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*p).toString():"",G=A?Math.round(parseFloat(A)*b).toString():"";o(H=>({...H,price_to_usd:A,price_to_mxn:z,price_to_eur:G}))},step:"0.01"})]})]}):s.price_base_currency==="MXN"?i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"From MXN"}),i.jsx(Q,{type:"number",name:"price_from_mxn",value:s.price_from_mxn,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*x).toString():"",G=A?Math.round(parseFloat(A)*m).toString():"";o(H=>({...H,price_from_mxn:A,price_from_usd:z,price_from_eur:G}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"To MXN"}),i.jsx(Q,{type:"number",name:"price_to_mxn",value:s.price_to_mxn,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*x).toString():"",G=A?Math.round(parseFloat(A)*m).toString():"";o(H=>({...H,price_to_mxn:A,price_to_usd:z,price_to_eur:G}))},step:"0.01"})]})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"From EUR"}),i.jsx(Q,{type:"number",name:"price_from_eur",value:s.price_from_eur,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*v).toString():"",G=A?Math.round(parseFloat(A)*S).toString():"";o(H=>({...H,price_from_eur:A,price_from_usd:z,price_from_mxn:G}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"To EUR"}),i.jsx(Q,{type:"number",name:"price_to_eur",value:s.price_to_eur,onChange:T=>{const A=T.target.value,z=A?Math.round(parseFloat(A)*v).toString():"",G=A?Math.round(parseFloat(A)*S).toString():"";o(H=>({...H,price_to_eur:A,price_to_usd:z,price_to_mxn:G}))},step:"0.01"})]})]})})]})]})]}),i.jsxs(zn,{value:"details",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l?i.jsxs("div",{children:[i.jsx(J,{children:"Bedrooms"}),i.jsxs(Vt,{value:s.bedrooms,onValueChange:T=>Y("bedrooms",T),children:[i.jsx(It,{children:i.jsx(Ht,{placeholder:"Select"})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"studio",children:"Studio"}),i.jsx(ae,{value:"1",children:"1"}),i.jsx(ae,{value:"2",children:"2"}),i.jsx(ae,{value:"3",children:"3"}),i.jsx(ae,{value:"4",children:"4"}),i.jsx(ae,{value:"5+",children:"5+"})]})]})]}):i.jsxs("div",{children:[i.jsx(J,{className:"text-sm font-medium mb-2",children:"Bedrooms Range"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs text-gray-600",children:"From"}),i.jsxs(Vt,{value:s.bedrooms_min,onValueChange:T=>Y("bedrooms_min",T),children:[i.jsx(It,{children:i.jsx(Ht,{placeholder:"Min"})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"studio",children:"Studio"}),i.jsx(ae,{value:"1",children:"1"}),i.jsx(ae,{value:"2",children:"2"}),i.jsx(ae,{value:"3",children:"3"}),i.jsx(ae,{value:"4",children:"4"}),i.jsx(ae,{value:"5+",children:"5+"})]})]})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs text-gray-600",children:"To"}),i.jsxs(Vt,{value:s.bedrooms_max,onValueChange:T=>Y("bedrooms_max",T),children:[i.jsx(It,{children:i.jsx(Ht,{placeholder:"Max"})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"studio",children:"Studio"}),i.jsx(ae,{value:"1",children:"1"}),i.jsx(ae,{value:"2",children:"2"}),i.jsx(ae,{value:"3",children:"3"}),i.jsx(ae,{value:"4",children:"4"}),i.jsx(ae,{value:"5+",children:"5+"})]})]})]})]})]}),l?i.jsxs("div",{children:[i.jsx(J,{children:"Bathrooms"}),i.jsxs(Vt,{value:s.bathrooms,onValueChange:T=>Y("bathrooms",T),children:[i.jsx(It,{children:i.jsx(Ht,{placeholder:"Select"})}),i.jsx(Ft,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(T=>i.jsx(ae,{value:T,children:T},T))})]})]}):i.jsxs("div",{children:[i.jsx(J,{className:"text-sm font-medium mb-2",children:"Bathrooms Range"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs text-gray-600",children:"From"}),i.jsxs(Vt,{value:s.bathrooms_min,onValueChange:T=>Y("bathrooms_min",T),children:[i.jsx(It,{children:i.jsx(Ht,{placeholder:"Min"})}),i.jsx(Ft,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(T=>i.jsx(ae,{value:T,children:T},T))})]})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs text-gray-600",children:"To"}),i.jsxs(Vt,{value:s.bathrooms_max,onValueChange:T=>Y("bathrooms_max",T),children:[i.jsx(It,{children:i.jsx(Ht,{placeholder:"Max"})}),i.jsx(Ft,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(T=>i.jsx(ae,{value:T,children:T},T))})]})]})]})]})]}),i.jsxs("div",{className:"bg-slate-50 border rounded-lg p-4",children:[i.jsx(J,{className:"text-sm font-medium mb-3 block",children:"Property Size"}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("button",{type:"button",onClick:()=>o(T=>({...T,size_unit:"sqm"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${s.size_unit==="sqm"?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"m (Square Meters)"}),i.jsx("button",{type:"button",onClick:()=>o(T=>({...T,size_unit:"sqft"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${s.size_unit==="sqft"?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"sq ft (Square Feet)"})]}),l?i.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.size_unit==="sqm"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"Size (m)"}),i.jsx(Q,{type:"number",name:"sqm",value:s.sqm,onChange:T=>{const A=T.target.value,z=A?(parseFloat(A)*10.7639).toFixed(0):"";o(G=>({...G,sqm:A,sqft:z}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs text-gray-600",children:"Size (sq ft) - auto"}),i.jsx(Q,{type:"text",value:s.sqft?`${parseFloat(s.sqft).toFixed(0)} sq ft`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"Size (sq ft)"}),i.jsx(Q,{type:"number",name:"sqft",value:s.sqft,onChange:T=>{const A=T.target.value,z=A?(parseFloat(A)/10.7639).toFixed(2):"";o(G=>({...G,sqft:A,sqm:z}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs text-gray-600",children:"Size (m) - auto"}),i.jsx(Q,{type:"text",value:s.sqm?`${parseFloat(s.sqm).toFixed(2)} m`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]})}):i.jsxs("div",{children:[i.jsx(J,{className:"text-sm font-medium mb-2",children:"Size Range (for developments)"}),s.size_unit==="sqm"?i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"From (m)"}),i.jsx(Q,{type:"number",name:"sqm_min",value:s.sqm_min,onChange:T=>{const A=T.target.value,z=A?(parseFloat(A)*10.7639).toFixed(0):"";o(G=>({...G,sqm_min:A,sqft_min:z}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"To (m)"}),i.jsx(Q,{type:"number",name:"sqm_max",value:s.sqm_max,onChange:T=>{const A=T.target.value,z=A?(parseFloat(A)*10.7639).toFixed(0):"";o(G=>({...G,sqm_max:A,sqft_max:z}))},step:"0.01"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(J,{className:"text-xs text-gray-600",children:"Range in sq ft (auto-calculated)"}),i.jsx("div",{className:"text-sm text-gray-600 p-2 bg-gray-50 rounded",children:s.sqft_min&&s.sqft_max?`${parseFloat(s.sqft_min).toFixed(0)} - ${parseFloat(s.sqft_max).toFixed(0)} sq ft`:"Enter m range above"})]})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"From (sq ft)"}),i.jsx(Q,{type:"number",name:"sqft_min",value:s.sqft_min,onChange:T=>{const A=T.target.value,z=A?(parseFloat(A)/10.7639).toFixed(2):"";o(G=>({...G,sqft_min:A,sqm_min:z}))},step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-xs",children:"To (sq ft)"}),i.jsx(Q,{type:"number",name:"sqft_max",value:s.sqft_max,onChange:T=>{const A=T.target.value,z=A?(parseFloat(A)/10.7639).toFixed(2):"";o(G=>({...G,sqft_max:A,sqm_max:z}))},step:"0.01"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(J,{className:"text-xs text-gray-600",children:"Range in m (auto-calculated)"}),i.jsx("div",{className:"text-sm text-gray-600 p-2 bg-gray-50 rounded",children:s.sqm_min&&s.sqm_max?`${parseFloat(s.sqm_min).toFixed(2)} - ${parseFloat(s.sqm_max).toFixed(2)} m`:"Enter sq ft range above"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{children:"Lot Size (m)"}),i.jsx(Q,{type:"number",name:"lot_size_sqm",value:s.lot_size_sqm,onChange:U,step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(J,{className:"text-gray-600",children:"Lot Size (sq ft) - auto"}),i.jsx(Q,{type:"text",value:s.lot_size_sqm?`${(parseFloat(s.lot_size_sqm)*10.7639).toFixed(0)} sq ft`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Year Built"}),i.jsx(Q,{type:"number",name:"year_built",value:s.year_built,onChange:U})]})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Furnishing Status"}),i.jsxs(Vt,{value:s.furnishing_status,onValueChange:T=>Y("furnishing_status",T),children:[i.jsx(It,{children:i.jsx(Ht,{})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"furnished",children:"Furnished"}),i.jsx(ae,{value:"semi-furnished",children:"Semi-Furnished"}),i.jsx(ae,{value:"unfurnished",children:"Unfurnished"})]})]})]})]}),i.jsxs(zn,{value:"location",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs(J,{className:"text-sm font-medium",children:["City ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Q,{name:"city",value:s.city,onChange:U,required:!0,className:s.city.trim()?"":"border-red-300"})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Neighborhood"}),i.jsx(Q,{name:"neighborhood",value:s.neighborhood,onChange:U})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(J,{children:"State"}),i.jsx(Q,{name:"state",value:s.state,onChange:U})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Country"}),i.jsxs(Vt,{value:s.country,onValueChange:T=>Y("country",T),children:[i.jsx(It,{children:i.jsx(Ht,{})}),i.jsxs(Ft,{children:[i.jsx(ae,{value:"Mexico",children:"Mexico"}),i.jsx(ae,{value:"USA",children:"USA"}),i.jsx(ae,{value:"Italy",children:"Italy"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Address"}),i.jsx(tt,{name:"address",value:s.address,onChange:U,rows:2})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Google Maps URL"}),i.jsx(tt,{name:"google_maps_url",value:s.google_maps_url,onChange:U,rows:3,placeholder:"Paste any Google Maps URL (e.g., https://www.google.com/maps/place/...)"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" You can paste any Google Maps link. We'll automatically convert it to the correct format for embedding."})]})]}),i.jsxs(zn,{value:"gallery",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(J,{children:"Video URL (YouTube, Vimeo, o Instagram, opzionale)"}),i.jsx(tt,{name:"youtube_video_url",value:s.youtube_video_url,onChange:U,rows:3,placeholder:"Incolla il link YouTube, Vimeo o Instagram (es. https://youtu.be/VIDEO_ID, https://vimeo.com/VIDEO_ID, https://instagram.com/reel/...)"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" Accettiamo YouTube, Vimeo o Instagram; il video sar mostrato nella pagina del listing."})]}),t?i.jsx(YU,{propertyId:parseInt(t)}):i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center bg-muted/50",children:[i.jsx("p",{className:"text-muted-foreground mb-2",children:"Gallery Upload"}),i.jsx("p",{className:"text-sm",children:"Save the property first to upload images"})]})]}),i.jsx(zn,{value:"attachments",className:"space-y-4",children:t?i.jsx(_z,{propertyId:Number(t)}):i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center bg-muted/50",children:[i.jsx("p",{className:"text-muted-foreground mb-2",children:"Attachments"}),i.jsx("p",{className:"text-sm",children:"Save the property first to upload attachments"})]})}),i.jsx(zn,{value:"tags",className:"space-y-4",children:i.jsx(Az,{selectedTags:s.tags,onChange:T=>o(A=>({...A,tags:T}))})}),s.property_type!=="off_market"&&i.jsx(zn,{value:"landing",className:"space-y-4",children:t?i.jsx(yz,{propertyId:Number(t)}):i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center bg-muted/50",children:[i.jsx("p",{className:"text-muted-foreground mb-2",children:"Landing Pages"}),i.jsx("p",{className:"text-sm",children:"Save the property first to associate landing pages"})]})}),i.jsx(zn,{value:"notes",className:"space-y-4",children:i.jsx("div",{children:i.jsx(tt,{name:"internal_notes",value:s.internal_notes,onChange:U,rows:10,placeholder:"Add private notes about this property..."})})})]});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>e("/properties"),children:i.jsx(Xr,{className:"h-4 w-4"})}),i.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Property":"New Property"})]}),i.jsxs(W,{type:"button",onClick:$,disabled:j.isPending,children:[i.jsx(DN,{className:"mr-2 h-4 w-4"}),j.isPending?"Saving...":n?"Update":"Create"]})]}),i.jsx(he,{children:i.jsx(ge,{className:"pt-6",children:i.jsx("form",{onSubmit:$,children:n?Be:ue})})})]})}function kz(){var w,y,p,b,x;const t=Ot(),[e,n]=h.useState(""),[r,s]=h.useState(null),[o,a]=h.useState([]),l={title:"Luxury Beachfront Villa in Tulum",subtitle:"Modern 3BR villa with private pool",property_type:"active",status:"for_sale",property_categories:["villa"],description:"Stunning beachfront villa...",content:"<h2>Welcome</h2><p>Description...</p>",price_usd:85e4,price_on_demand:!1,bedrooms:"3",bathrooms:"3.5",sqm:250,furnishing_status:"furnished",neighborhood:"Tulum Beach",city:"Tulum",country:"Mexico",latitude:20.2114185,longitude:-87.4653502,tags:["Ocean View","Private Pool","Security 24/7"],seo_title:"Luxury Villa in Tulum - 3BR with Pool",seo_description:"Discover this stunning villa...",is_active:!0,featured:!1},c=xe({mutationFn:async m=>V.post("/properties/import-json?validate_only=true",m),onSuccess:m=>{s(m.data.data),a([])},onError:m=>{var S,j;const v=((j=(S=m.response)==null?void 0:S.data)==null?void 0:j.error)||"Validation failed";a([v]),s(null)}}),u=xe({mutationFn:async m=>V.post("/properties/import-json",m),onSuccess:m=>{var S;const v=(S=m.data.data)==null?void 0:S.id;alert("Property imported successfully!"),t(v?`/properties/${v}`:"/properties")},onError:m=>{var S,j;const v=((j=(S=m.response)==null?void 0:S.data)==null?void 0:j.error)||"Import failed";a([v])}}),d=()=>{a([]),s(null);try{const m=JSON.parse(e);c.mutate(m)}catch(m){a([`Invalid JSON syntax: ${m.message}`])}},f=()=>{if(!(r!=null&&r.valid)){a(["Please validate JSON first"]);return}try{const m=JSON.parse(e);u.mutate(m)}catch(m){a([`Invalid JSON: ${m.message}`])}},g=()=>{n(JSON.stringify(l,null,2)),s(null),a([])};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t("/properties"),children:i.jsx(Xr,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Import Property from JSON"}),i.jsx("p",{className:"text-muted-foreground",children:"Import properties in bulk or migrate from external systems"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(dt,{children:"JSON Data"}),i.jsxs(W,{variant:"outline",size:"sm",onClick:g,children:[i.jsx(EN,{className:"mr-2 h-4 w-4"}),"Show Example"]})]})}),i.jsxs(ge,{className:"space-y-4",children:[i.jsx(tt,{value:e,onChange:m=>n(m.target.value),placeholder:"Paste your JSON here...",rows:20,className:"font-mono text-sm"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(W,{onClick:d,disabled:!e||c.isPending,variant:"outline",children:c.isPending?"Validating...":"Validate JSON"}),i.jsxs(W,{onClick:f,disabled:!(r!=null&&r.valid)||u.isPending,children:[i.jsx(Sr,{className:"mr-2 h-4 w-4"}),u.isPending?"Importing...":"Import Property"]})]})]})]}),r&&i.jsxs(Wd,{className:"border-green-500 bg-green-50",children:[i.jsx(wN,{className:"h-4 w-4 text-green-600"}),i.jsxs(Vd,{children:[i.jsx("strong",{className:"text-green-900",children:" JSON is valid"}),i.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[i.jsxs("p",{children:["Title: ",(w=r.preview)==null?void 0:w.title]}),i.jsxs("p",{children:["Type: ",(y=r.preview)==null?void 0:y.property_type]}),i.jsxs("p",{children:["Price: $",(b=(p=r.preview)==null?void 0:p.price_usd)==null?void 0:b.toLocaleString()]}),i.jsxs("p",{children:["City: ",(x=r.preview)==null?void 0:x.city]})]})]})]}),o.length>0&&i.jsxs(Wd,{variant:"destructive",children:[i.jsx(Qp,{className:"h-4 w-4"}),i.jsxs(Vd,{children:[i.jsx("strong",{children:"Validation Errors:"}),i.jsx("ul",{className:"mt-2 list-disc list-inside",children:o.map((m,v)=>i.jsx("li",{children:m},v))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsx(dt,{className:"text-lg",children:"Required Fields"})}),i.jsx(ge,{className:"text-sm space-y-2",children:i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"title (string)"}),i.jsx("li",{children:"property_type (active/development/hot_deal/off_market/land)"}),i.jsx("li",{children:"property_categories (array)"}),i.jsx("li",{children:"city (string)"}),i.jsx("li",{children:"latitude (number)"}),i.jsx("li",{children:"longitude (number)"}),i.jsx("li",{children:"price_usd or price_on_demand"})]})})]}),i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsx(dt,{className:"text-lg",children:"Tags Format"})}),i.jsxs(ge,{className:"text-sm",children:[i.jsx("p",{className:"mb-2",children:"Tags must be an array:"}),i.jsx("code",{className:"block bg-gray-100 p-2 rounded text-xs",children:'"tags": ["Pool", "Gym", "Security 24/7"]'}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Max 20 tags"})]})]}),i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsx(dt,{className:"text-lg",children:"Use Cases"})}),i.jsx(ge,{className:"text-sm space-y-2",children:i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[i.jsx("li",{children:"Migrate from WordPress"}),i.jsx("li",{children:"Bulk property import"}),i.jsx("li",{children:"Duplicate existing property"}),i.jsx("li",{children:"Backup & restore"}),i.jsx("li",{children:"Testing with sample data"})]})})]})]})]})]})}function Rr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function go(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const vk=6048e5,Rz=864e5;let Tz={};function nf(){return Tz}function Ac(t,e){var l,c,u,d;const n=nf(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Rr(t),o=s.getDay(),a=(o<r?7:0)+o-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function rh(t){return Ac(t,{weekStartsOn:1})}function yk(t){const e=Rr(t),n=e.getFullYear(),r=go(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=rh(r),o=go(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=rh(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Dw(t){const e=Rr(t);return e.setHours(0,0,0,0),e}function Pw(t){const e=Rr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Dz(t,e){const n=Dw(t),r=Dw(e),s=+n-Pw(n),o=+r-Pw(r);return Math.round((s-o)/Rz)}function Pz(t){const e=yk(t),n=go(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),rh(n)}function Oz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lz(t){if(!Oz(t)&&typeof t!="number")return!1;const e=Rr(t);return!isNaN(Number(e))}function Mz(t){const e=Rr(t),n=go(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Iz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fz=(t,e,n)=>{let r;const s=Iz[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _m(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Bz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$z={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Uz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zz={date:_m({formats:Bz,defaultWidth:"full"}),time:_m({formats:$z,defaultWidth:"full"}),dateTime:_m({formats:Uz,defaultWidth:"full"})},qz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wz=(t,e,n,r)=>qz[t];function Sl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const Vz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Jz={ordinalNumber:Xz,era:Sl({values:Vz,defaultWidth:"wide"}),quarter:Sl({values:Hz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Sl({values:Kz,defaultWidth:"wide"}),day:Sl({values:Gz,defaultWidth:"wide"}),dayPeriod:Sl({values:Qz,defaultWidth:"wide",formattingValues:Yz,defaultFormattingWidth:"wide"})};function Cl(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?e6(l,f=>f.test(a)):Zz(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function Zz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function e6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function t6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const n6=/^(\d+)(th|st|nd|rd)?/i,r6=/\d+/i,s6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},i6={any:[/^b/i,/^(a|c)/i]},o6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},a6={any:[/1/i,/2/i,/3/i,/4/i]},l6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},c6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},u6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},f6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m6={ordinalNumber:t6({matchPattern:n6,parsePattern:r6,valueCallback:t=>parseInt(t,10)}),era:Cl({matchPatterns:s6,defaultMatchWidth:"wide",parsePatterns:i6,defaultParseWidth:"any"}),quarter:Cl({matchPatterns:o6,defaultMatchWidth:"wide",parsePatterns:a6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cl({matchPatterns:l6,defaultMatchWidth:"wide",parsePatterns:c6,defaultParseWidth:"any"}),day:Cl({matchPatterns:u6,defaultMatchWidth:"wide",parsePatterns:d6,defaultParseWidth:"any"}),dayPeriod:Cl({matchPatterns:h6,defaultMatchWidth:"any",parsePatterns:f6,defaultParseWidth:"any"})},p6={code:"en-US",formatDistance:Fz,formatLong:zz,formatRelative:Wz,localize:Jz,match:m6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function g6(t){const e=Rr(t);return Dz(e,Mz(e))+1}function x6(t){const e=Rr(t),n=+rh(e)-+Pz(e);return Math.round(n/vk)+1}function bk(t,e){var d,f,g,w;const n=Rr(t),r=n.getFullYear(),s=nf(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(g=s.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,a=go(t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=Ac(a,e),c=go(t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=Ac(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function v6(t,e){var l,c,u,d;const n=nf(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=bk(t,e),o=go(t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Ac(o,e)}function y6(t,e){const n=Rr(t),r=+Ac(n,e)-+v6(n,e);return Math.round(r/vk)+1}function Ke(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ps={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ke(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ke(n+1,2)},d(t,e){return Ke(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ke(t.getHours()%12||12,e.length)},H(t,e){return Ke(t.getHours(),e.length)},m(t,e){return Ke(t.getMinutes(),e.length)},s(t,e){return Ke(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ke(s,e.length)}},Lo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ow={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ps.y(t,e)},Y:function(t,e,n,r){const s=bk(t,r),o=s>0?s:1-s;if(e==="YY"){const a=o%100;return Ke(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ke(o,e.length)},R:function(t,e){const n=yk(t);return Ke(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ke(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ke(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ke(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ps.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ke(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=y6(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ke(s,e.length)},I:function(t,e,n){const r=x6(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ke(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ps.d(t,e)},D:function(t,e,n){const r=g6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ke(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ke(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ke(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ke(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Lo.noon:r===0?s=Lo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Lo.evening:r>=12?s=Lo.afternoon:r>=4?s=Lo.morning:s=Lo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ps.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ps.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ke(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ke(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ps.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ps.s(t,e)},S:function(t,e){return Ps.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Mw(r);case"XXXX":case"XX":return Ri(r);case"XXXXX":case"XXX":default:return Ri(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Mw(r);case"xxxx":case"xx":return Ri(r);case"xxxxx":case"xxx":default:return Ri(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Lw(r,":");case"OOOO":default:return"GMT"+Ri(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Lw(r,":");case"zzzz":default:return"GMT"+Ri(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ke(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ke(r,e.length)}};function Lw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+Ke(o,2)}function Mw(t,e){return t%60===0?(t>0?"-":"+")+Ke(Math.abs(t)/60,2):Ri(t,e)}function Ri(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Ke(Math.trunc(r/60),2),o=Ke(r%60,2);return n+s+e+o}const Iw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wk=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},b6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Iw(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Iw(r,e)).replace("{{time}}",wk(s,e))},w6={p:wk,P:b6},S6=/^D+$/,C6=/^Y+$/,j6=["D","DD","YY","YYYY"];function N6(t){return S6.test(t)}function E6(t){return C6.test(t)}function _6(t,e,n){const r=A6(t,e,n);if(console.warn(r),j6.includes(t))throw new RangeError(r)}function A6(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const k6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,T6=/^'([^]*?)'?$/,D6=/''/g,P6=/[a-zA-Z]/;function Ag(t,e,n){var d,f,g,w;const r=nf(),s=r.locale??p6,o=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((w=(g=r.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,l=Rr(t);if(!Lz(l))throw new RangeError("Invalid time value");let c=e.match(R6).map(y=>{const p=y[0];if(p==="p"||p==="P"){const b=w6[p];return b(y,s.formatLong)}return y}).join("").match(k6).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const p=y[0];if(p==="'")return{isToken:!1,value:O6(y)};if(Ow[p])return{isToken:!0,value:y};if(p.match(P6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const p=y.value;(E6(p)||N6(p))&&_6(p,e,String(t));const b=Ow[p[0]];return b(l,p,s.localize,u)}).join("")}function O6(t){const e=t.match(T6);return e?e[1].replace(D6,"'"):t}function L6(){var E;const t=_t(),[e,n]=h.useState(""),[r,s]=h.useState([]),[o,a]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!1),f="/api",g=h.useMemo(()=>f.replace(/\/api$/,""),[f]),w=C=>{if(!C)return"";const N=g||window.location.origin;return C.startsWith("http")?C:C.startsWith("/")?`${N}${C}`:`${N}/${C}`},{data:y,isLoading:p,refetch:b}=Xe({queryKey:["blogs",e],queryFn:async()=>{var D;const C=e?`&q=${encodeURIComponent(e)}`:"",N=await V.get(`/blogs?include_deleted=false${C}`),R=((D=N.data)==null?void 0:D.data)??N.data??[],k=Array.isArray(R==null?void 0:R.blogs)?R.blogs:Array.isArray(R)?R:[],_=(R==null?void 0:R.pagination)??null;return{blogs:k,pagination:_}},refetchOnWindowFocus:!1});h.useEffect(()=>{const C=(y==null?void 0:y.blogs)||[];if(C.length){const N=[...C].sort((R,k)=>(R.display_order||0)-(k.display_order||0));s(N)}else s([])},[y]),h.useEffect(()=>{if(p){d(!1);return}const C=setTimeout(()=>d(!0),600);return()=>clearTimeout(C)},[p,e]);const x=async C=>{if(o===null||o===C){a(null);return}const N=[...r],[R]=N.splice(o,1);N.splice(C,0,R);const k=N.map((_,D)=>({..._,display_order:D+1}));s(k),a(null);try{await V.post("/blogs/reorder",{order:k.map((_,D)=>({id:_.id,display_order:D+1}))}),t.invalidateQueries({queryKey:["blogs"]}),b()}catch(_){console.error("Failed to reorder blogs:",_),b()}},m=async(C,N)=>{try{s(R=>R.map(k=>k.id===C.id?{...k,is_home:N}:k)),await V.put(`/blogs/${C.id}`,{is_home:N?1:0}),t.invalidateQueries({queryKey:["blogs"]})}catch(R){console.error("Failed to update isHome",R),b()}},v=xe({mutationFn:async C=>V.delete(`/blogs/${C}`),onSuccess:async C=>{var N,R;c(null),t.invalidateQueries({queryKey:["blogs"]}),b(),console.log(((R=(N=C==null?void 0:C.data)==null?void 0:N.data)==null?void 0:R.message)||"Blog removed")},onError:C=>{var N,R;console.error(((R=(N=C==null?void 0:C.response)==null?void 0:N.data)==null?void 0:R.error)||"Failed to delete blog")}}),S=()=>{l&&v.mutate(l)};return p||!u?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Blogs"}),i.jsx(W,{asChild:!0,children:i.jsxs(cn,{to:"/blogs/new",children:[i.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Add Blog"]})})]}),i.jsx("div",{className:"grid gap-4",children:[1,2,3].map(C=>i.jsxs(he,{className:"animate-pulse",children:[i.jsx(Ye,{children:i.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),i.jsx(ge,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"})]})})]},C))})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Blogs"}),i.jsxs("p",{className:"text-muted-foreground",children:[((E=y==null?void 0:y.pagination)==null?void 0:E.total)??r.length??0," total blogs"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Q,{placeholder:"Search blogs...",value:e,onChange:C=>n(C.target.value),className:"w-56"}),i.jsx(W,{asChild:!0,children:i.jsxs(cn,{to:"/blogs/new",children:[i.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Add Blog"]})})]})]}),r.length===0?i.jsx(he,{children:i.jsxs(ge,{className:"flex flex-col items-center justify-center py-16",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No blogs found"}),i.jsx(W,{asChild:!0,children:i.jsxs(cn,{to:"/blogs/new",children:[i.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Create your first blog"]})})]})}):i.jsx("div",{className:"grid gap-4",children:r.map((C,N)=>i.jsx(he,{className:"overflow-hidden border border-dashed",draggable:!0,onDragStart:()=>a(N),onDragOver:R=>R.preventDefault(),onDrop:()=>x(N),onDragEnd:()=>a(null),children:i.jsxs("div",{className:"flex gap-4 items-center p-4",children:[i.jsxs("div",{className:"text-muted-foreground cursor-grab flex flex-col items-center gap-1",children:[i.jsx(js,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-xs",children:["#",N+1]})]}),i.jsx(Ma,{src:w(C.featured_image),alt:C.featured_image_alt||C.title,className:"w-32 h-20 object-cover rounded flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate",children:C.title}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mb-1",children:[i.jsx(Ka,{className:"h-3 w-3"}),i.jsxs("span",{className:"truncate",children:["/blog/",C.slug]})]}),C.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:C.description})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Home"}),i.jsx(Dt,{checked:!!C.is_home,onCheckedChange:R=>m(C,R),className:"data-[state=checked]:bg-green-500"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Vp,{className:"h-4 w-4"}),i.jsx("span",{children:C.published_date?Ag(new Date(C.published_date),"MMM dd, yyyy"):"No date"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:i.jsx(cn,{to:`/blogs/${C.id}/edit`,children:i.jsx(Ga,{className:"h-4 w-4"})})}),i.jsx(W,{variant:"destructive",size:"sm",onClick:()=>c(C.id),children:i.jsx(Ns,{className:"h-4 w-4"})})]})]})]})},C.id))}),l&&i.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Delete blog?"}),i.jsx("p",{className:"text-muted-foreground",children:"If the blog is older than 24h it will be archived (not removed) and a redirect placeholder will be created for SEO safety."}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(W,{variant:"outline",onClick:()=>c(null),children:"Close"}),i.jsx(W,{variant:"destructive",onClick:S,disabled:v.isPending,children:v.isPending?"Deleting...":"Delete"})]})]})})]})}function Fw(){const{id:t}=bo(),e=Ot(),n=!!t,s="/api".replace(/\/api$/,""),o=N=>N?N.startsWith("http")?N:`${s}${N}`:"",a=N=>N.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),[l,c]=h.useState({title:"",slug:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",description:"",content:"",featured_image:"",featured_image_alt:"",content_image:"",content_image_alt:"",is_home:!1,published_date:new Date().toISOString().split("T")[0]}),[u,d]=h.useState(!1),[f,g]=h.useState(!1),[w,y]=h.useState(""),[p,b]=h.useState(""),x=h.useRef(null),m=h.useRef(null);Xe({queryKey:["blog",t],queryFn:async()=>{const R=(await V.get(`/blogs/${t}`)).data.data;return c({title:R.title||"",slug:R.slug||"",seoTitle:R.seoTitle||"",seoDescription:R.seoDescription||"",ogTitle:R.ogTitle||"",ogDescription:R.ogDescription||"",description:R.description||"",content:R.content||"",featured_image:R.featured_image||"",featured_image_alt:R.featured_image_alt||"",content_image:R.content_image||"",content_image_alt:R.content_image_alt||"",is_home:R.is_home,published_date:R.published_date||new Date().toISOString().split("T")[0]}),R.featured_image&&y(o(R.featured_image)),R.content_image&&b(o(R.content_image)),R},enabled:n});const v=xe({mutationFn:async N=>n?V.put(`/blogs/${t}`,N):V.post("/blogs",N),onSuccess:()=>{e("/blogs")},onError:N=>{var R,k;alert(((k=(R=N.response)==null?void 0:R.data)==null?void 0:k.error)||"An error occurred")}}),S=N=>{var _;N.preventDefault();const R=((_=l.slug)==null?void 0:_.trim())||a(l.title);if(!l.seoTitle.trim()||!l.seoDescription.trim()||!l.ogTitle.trim()||!l.ogDescription.trim()){alert("SEO fields (title, meta description, OG title, OG description) are required");return}if(l.featured_image&&!l.featured_image_alt.trim()){alert("Alt text is required when you upload an image");return}if(l.content_image&&!l.content_image_alt.trim()){alert("Alt text is required when you upload the content image");return}const k={...l,slug:R,is_home:l.is_home?1:0};v.mutate(k)},j=N=>{const{name:R,value:k,type:_}=N.target;c(D=>({...D,[R]:_==="checkbox"?N.target.checked:k,...R==="title"&&!n?{slug:D.slug?D.slug:a(k)}:{}}))},E=async(N,R)=>{var q;const k=(q=N.target.files)==null?void 0:q[0];if(!k)return;if(!k.type.startsWith("image/")){console.warn("Please select an image file");return}if(k.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const _=R==="featured"?d:g,D=R==="featured"?y:b,L=R==="featured"?"featured_image":"content_image";_(!0);try{const I=new FormData;I.append("image",k);const $=(await V.post("/upload/blog-image",I,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;c(M=>({...M,[L]:$})),D(o($))}catch(I){console.error("Upload failed:",I)}finally{_(!1)}},C=async N=>{const R=N==="featured"?l.featured_image:l.content_image;if(R&&confirm("Remove this image?")){try{await V.delete(`/upload/file?url=${encodeURIComponent(R)}`)}catch(k){console.error("Failed to delete image:",k)}c(k=>({...k,...N==="featured"?{featured_image:"",featured_image_alt:""}:{content_image:"",content_image_alt:""}})),N==="featured"?y(""):b("")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>e("/blogs"),children:i.jsx(Xr,{className:"h-4 w-4"})}),i.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Blog":"New Blog"})]}),i.jsx("form",{onSubmit:S,children:i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsx(dt,{children:"Blog Information"})}),i.jsxs(ge,{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Page title (H1) *"}),i.jsx(Q,{id:"title",name:"title",value:l.title,onChange:j,required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Short description"}),i.jsx(tt,{id:"description",name:"description",value:l.description,onChange:j,rows:3,placeholder:"Short summary for listings"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"published_date",className:"text-sm font-medium",children:"Published date"}),i.jsx(Q,{id:"published_date",name:"published_date",type:"date",value:l.published_date,onChange:j})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Dt,{checked:l.is_home,onCheckedChange:N=>c(R=>({...R,is_home:N})),className:"data-[state=checked]:bg-green-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-base font-semibold",children:"Images"}),i.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[i.jsx("div",{className:"space-y-1",children:i.jsx("p",{className:"text-sm font-semibold",children:"Cover image"})}),w?i.jsxs("div",{className:"relative inline-block",children:[i.jsx(Ma,{src:w,alt:"Preview",style:{width:"340px",height:"250px"},className:"object-cover rounded-lg border"}),i.jsxs(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>C("featured"),children:[i.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Rimuovi"]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var N;return(N=x.current)==null?void 0:N.click()},onKeyDown:N=>{var R;(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),(R=x.current)==null||R.click())},children:[i.jsx(Sr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload image"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"340 x 250px"}),i.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:N=>E(N,"featured"),disabled:u,className:"hidden"}),u&&i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}),i.jsx("p",{className:"text-sm text-primary",children:"Uploading..."})]})]}),i.jsxs("div",{className:"space-y-1 pt-1 max-w-xl",children:[i.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),i.jsx(Q,{name:"featured_image_alt",value:l.featured_image_alt,onChange:j,required:!!l.featured_image})]})]}),i.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[i.jsx("div",{className:"space-y-1",children:i.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"})}),p?i.jsxs("div",{className:"relative inline-block",children:[i.jsx(Ma,{src:p,alt:"Content preview",style:{width:"340px",height:"250px"},className:"object-cover rounded-lg border"}),i.jsxs(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>C("content"),children:[i.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Rimuovi"]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var N;return(N=m.current)==null?void 0:N.click()},onKeyDown:N=>{var R;(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),(R=m.current)==null||R.click())},children:[i.jsx(Sr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"16:9 recommended, max 10MB"}),i.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:N=>E(N,"content"),disabled:f,className:"hidden"}),f&&i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}),i.jsx("p",{className:"text-sm text-primary",children:"Uploading..."})]})]}),i.jsxs("div",{className:"space-y-1 pt-1 max-w-xl",children:[i.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),i.jsx(Q,{name:"content_image_alt",value:l.content_image_alt,onChange:j,required:!!l.content_image})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Full content"}),i.jsx(La,{value:l.content,onChange:N=>c(R=>({...R,content:N})),placeholder:"Write your blog content..."})]}),i.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[i.jsx("div",{className:"flex items-center justify-between gap-2",children:i.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{htmlFor:"slug",className:"text-sm font-medium",children:"LNK (url)"}),i.jsx(Q,{id:"slug",name:"slug",value:l.slug,onChange:N=>{n||c(R=>({...R,slug:a(N.target.value)}))},disabled:n})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),i.jsx(Q,{name:"seoTitle",value:l.seoTitle,onChange:j,maxLength:160})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),i.jsx(tt,{name:"seoDescription",value:l.seoDescription,onChange:j,rows:3,maxLength:320})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:'OG Title  (meta="og:title")'}),i.jsx(Q,{name:"ogTitle",value:l.ogTitle,onChange:j,maxLength:160})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:'OG Description  (meta="og:description")'}),i.jsx(tt,{name:"ogDescription",value:l.ogDescription,onChange:j,rows:3,maxLength:320})]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsx(W,{type:"submit",disabled:v.isPending,children:v.isPending?"Saving...":n?"Update Blog":"Create Blog"}),i.jsx(W,{type:"button",variant:"outline",onClick:()=>e("/blogs"),children:"Close"})]})]})]})})]})}function M6(){return i.jsx("div",{className:"space-y-6",children:i.jsx(he,{className:"p-10 text-center border-dashed",children:i.jsxs(ge,{className:"space-y-3",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx(iM,{className:"h-10 w-10 text-muted-foreground"})}),i.jsx("h2",{className:"text-2xl font-semibold",children:"Photo Gallery  work in progress"}),i.jsx("p",{className:"text-muted-foreground",children:"This section is under construction. Check back soon."})]})})})}function Bw(){const t=Ot(),{id:e}=bo(),[n]=nD(),r=_t(),s=!!e,o=n.get("property_id"),[a,l]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState({property_id:o?parseInt(o):0,image_url:"",caption:"",alt_text:"",display_order:0,is_featured:!1}),{data:g}=Xe({queryKey:["photo",e],queryFn:async()=>(await V.get(`/photogallery/${e}`)).data.data,enabled:s});h.useEffect(()=>{g&&(f({property_id:g.property_id,image_url:g.image_url,thumbnail_url:g.thumbnail_url,medium_url:g.medium_url,caption:g.caption||"",alt_text:g.alt_text||"",display_order:g.display_order,is_featured:g.is_featured}),u(g.medium_url||g.image_url))},[g]);const w=xe({mutationFn:async v=>{await V.post("/photogallery",v)},onSuccess:()=>{r.invalidateQueries({queryKey:["photos"]}),t(`/photogallery?property_id=${d.property_id}`)}}),y=xe({mutationFn:async v=>{await V.put(`/photogallery/${e}`,v)},onSuccess:()=>{r.invalidateQueries({queryKey:["photos"]}),r.invalidateQueries({queryKey:["photo",e]}),t(`/photogallery?property_id=${d.property_id}`)}}),p=async v=>{var j;const S=(j=v.target.files)==null?void 0:j[0];if(S){if(!S.type.startsWith("image/")){alert("Please select an image file");return}if(S.size>10*1024*1024){alert("File is too large. Maximum 10MB");return}try{l(!0);const E=new FormData;E.append("image",S);const N=(await V.post("/upload/property-image",E,{headers:{"Content-Type":"multipart/form-data"}})).data.data;f(R=>({...R,image_url:N.original,thumbnail_url:N.thumbnail,medium_url:N.medium})),u(N.medium)}catch(E){console.error("Upload error:",E),alert("Error while uploading the image")}finally{l(!1)}}},b=async()=>{if(confirm("Do you want to remove this image?")){if(d.image_url)try{await V.delete(`/upload/file?url=${encodeURIComponent(d.image_url)}`)}catch(v){console.error("Error deleting file:",v)}f(v=>({...v,image_url:"",thumbnail_url:"",medium_url:""})),u("")}},x=v=>{if(v.preventDefault(),!d.image_url){alert("Please upload an image");return}if(s){const S={caption:d.caption,alt_text:d.alt_text,display_order:d.display_order,is_featured:d.is_featured};y.mutate(S)}else w.mutate(d)},m=()=>{const v=d.property_id||o;t(v?`/photogallery?property_id=${v}`:"/photogallery")};return i.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:s?"Edit Photo":"Upload New Photo"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:s?"Update photo details":"Add a new photo to the gallery"})]}),i.jsx("form",{onSubmit:x,children:i.jsxs(he,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(J,{children:"Image *"}),c?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:c,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}),!s&&i.jsxs(W,{type:"button",variant:"destructive",size:"sm",onClick:b,className:"absolute top-2 right-2",children:[i.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-12 text-center hover:border-primary/50 transition-colors",children:[i.jsx(Q,{type:"file",accept:"image/*",onChange:p,disabled:a,className:"hidden",id:"image-upload"}),i.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[a?i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto mb-4"}):i.jsx(Sr,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-sm font-medium mb-1",children:a?"Uploading...":"Click to upload or drag here"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP up to 10MB"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(J,{htmlFor:"caption",children:"Caption"}),i.jsx(Q,{id:"caption",value:d.caption,onChange:v=>f(S=>({...S,caption:v.target.value})),placeholder:"e.g.: Living room view"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(J,{htmlFor:"alt_text",children:"Alternative Text"}),i.jsx(Q,{id:"alt_text",value:d.alt_text,onChange:v=>f(S=>({...S,alt_text:v.target.value})),placeholder:"Description for accessibility and SEO"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(J,{htmlFor:"display_order",children:"Display Order"}),i.jsx(Q,{id:"display_order",type:"number",value:d.display_order,onChange:v=>f(S=>({...S,display_order:parseInt(v.target.value)||0})),min:"0"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower numbers appear first"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(J,{htmlFor:"is_featured",children:"Featured Photo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"This will be the main photo for the property"})]}),i.jsx(Dt,{id:"is_featured",checked:d.is_featured,onCheckedChange:v=>f(S=>({...S,is_featured:v}))})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(W,{type:"submit",disabled:w.isPending||y.isPending,className:"flex-1",children:w.isPending||y.isPending?"Saving...":s?"Update Photo":"Upload Photo"}),i.jsx(W,{type:"button",variant:"outline",onClick:m,children:"Cancel"})]})]})})]})}function I6(){const t=_t(),[e,n]=h.useState(""),[r,s]=h.useState([]),[o,a]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!1),f="/api",g=h.useMemo(()=>f.replace(/\/api$/,""),[f]),w=j=>j?j.startsWith("http")?j:j.startsWith("/")?`${g}${j}`:`${g}/${j}`:"",{data:y,isLoading:p,refetch:b}=Xe({queryKey:["videos",e],queryFn:async()=>{var N;const j=e?`&q=${encodeURIComponent(e)}`:"",E=await V.get(`/videos?include_deleted=false${j}`),C=((N=E.data)==null?void 0:N.data)??E.data??{};return Array.isArray(C==null?void 0:C.videos)?{videos:C.videos,pagination:C.pagination??null}:Array.isArray(C)?{videos:C,pagination:null}:{videos:[],pagination:null}},refetchOnWindowFocus:!1});h.useEffect(()=>{const j=(y==null?void 0:y.videos)||[];if(j.length){const E=[...j].sort((C,N)=>(C.display_order||0)-(N.display_order||0));s(E)}else s([])},[y]),h.useEffect(()=>{if(p){d(!1);return}const j=setTimeout(()=>d(!0),1e3);return()=>clearTimeout(j)},[p,e]);const x=async j=>{if(o===null||o===j){a(null);return}const E=[...r],[C]=E.splice(o,1);E.splice(j,0,C);const N=E.map((R,k)=>({...R,display_order:k+1}));s(N),a(null);try{await V.post("/videos/reorder",{order:N.map((R,k)=>({id:R.id,display_order:k+1}))}),t.invalidateQueries({queryKey:["videos"]}),b()}catch(R){console.error("Failed to reorder videos:",R),b()}},m=async(j,E)=>{try{s(C=>C.map(N=>N.id===j.id?{...N,is_home:E}:N)),await V.put(`/videos/${j.id}`,{is_home:E?1:0}),t.invalidateQueries({queryKey:["videos"]})}catch(C){console.error("Failed to update home flag",C),b()}},v=async()=>{if(l)try{await V.delete(`/videos/${l}`),c(null),b()}catch(j){console.error("Failed to delete video:",j)}};return p||!u?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Videos"}),i.jsx(cn,{to:"/videos/new",children:i.jsxs(W,{children:[i.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Add Video"]})})]}),i.jsx("div",{className:"grid gap-4",children:[1,2,3].map(j=>i.jsxs(he,{className:"animate-pulse",children:[i.jsx(Ye,{children:i.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),i.jsx(ge,{children:i.jsx("div",{className:"h-4 w-full bg-gray-100 rounded"})})]},j))})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Videos"}),i.jsx(cn,{to:"/videos/new",children:i.jsxs(W,{children:[i.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Add Video"]})})]}),i.jsx(Q,{placeholder:"Search videos...",value:e,onChange:j=>n(j.target.value)}),r.length===0?i.jsx(he,{children:i.jsxs(ge,{className:"pt-6 text-center text-muted-foreground",children:["No videos found."," ",i.jsx(cn,{to:"/videos/new",className:"text-primary hover:underline",children:"Create your first video"})]})}):i.jsx("div",{className:"grid gap-4",children:r.map((j,E)=>i.jsx(he,{draggable:!0,onDragStart:()=>a(E),onDragOver:C=>C.preventDefault(),onDrop:()=>x(E),onDragEnd:()=>a(null),className:`overflow-hidden border border-dashed cursor-move transition ${o===E?"opacity-50":""}`,children:i.jsxs("div",{className:"flex gap-4 items-center p-4",children:[i.jsxs("div",{className:"text-muted-foreground cursor-grab flex flex-col items-center gap-1",children:[i.jsx(js,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-xs",children:["#",E+1]})]}),i.jsx(Ma,{src:w(j.thumbnail_url),alt:j.thumbnail_alt||j.title,className:"w-32 h-20 object-cover rounded flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate",children:j.title}),j.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:j.description})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Home"}),i.jsx(Dt,{checked:!!j.is_home,onCheckedChange:C=>m(j,C),className:"data-[state=checked]:bg-green-500"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:i.jsx(cn,{to:`/videos/${j.id}/edit`,children:i.jsx(Ga,{className:"h-4 w-4"})})}),i.jsx(W,{variant:"destructive",size:"sm",onClick:()=>c(j.id),children:i.jsx(Ns,{className:"h-4 w-4"})})]})]})]})},j.id))}),l&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs(he,{className:"w-full max-w-md",children:[i.jsx(Ye,{children:i.jsx(dt,{children:"Confirm Delete"})}),i.jsxs(ge,{className:"space-y-4",children:[i.jsx("p",{children:"Are you sure you want to delete this video?"}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(W,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),i.jsx(W,{variant:"destructive",onClick:v,children:"Delete"})]})]})]})})]})}function $w(){const{id:t}=bo(),e=Ot(),n=!!t,s="/api".replace(/\/api$/,""),o=m=>m?m.startsWith("http")?m:`${s}${m}`:"",[a,l]=h.useState({title:"",description:"",video_url:"",thumbnail_url:"",thumbnail_alt:"",is_home:!1}),[c,u]=h.useState(!1),[d,f]=h.useState(""),g=h.useRef(null);Xe({queryKey:["video",t],queryFn:async()=>{const v=(await V.get(`/videos/${t}`)).data.data;return l({title:v.title||"",description:v.description||"",video_url:v.video_url||"",thumbnail_url:v.thumbnail_url||"",thumbnail_alt:v.thumbnail_alt||"",is_home:v.is_home}),v.thumbnail_url&&f(o(v.thumbnail_url)),v},enabled:n});const w=xe({mutationFn:async m=>n?V.put(`/videos/${t}`,m):V.post("/videos",m),onSuccess:()=>{e("/videos")},onError:m=>{var v,S;alert(((S=(v=m.response)==null?void 0:v.data)==null?void 0:S.error)||"An error occurred")}}),y=m=>{if(m.preventDefault(),!a.thumbnail_url){alert("Thumbnail image is required");return}if(!a.thumbnail_alt.trim()){alert("Thumbnail alt text is required");return}const v={...a,is_home:a.is_home?1:0};w.mutate(v)},p=m=>{const{name:v,value:S,type:j}=m.target;l(E=>({...E,[v]:j==="checkbox"?m.target.checked:S}))},b=async m=>{var S;const v=(S=m.target.files)==null?void 0:S[0];if(v){if(!v.type.startsWith("image/")){console.warn("Please select an image file");return}if(v.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}u(!0);try{const j=new FormData;j.append("image",v);const C=(await V.post("/upload/video-thumbnail",j,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;l(N=>({...N,thumbnail_url:C})),f(o(C))}catch(j){console.error("Upload failed:",j)}finally{u(!1)}}},x=async()=>{if(a.thumbnail_url&&confirm("Remove this thumbnail?")){try{await V.delete(`/upload/file?url=${encodeURIComponent(a.thumbnail_url)}`)}catch(m){console.error("Failed to delete image:",m)}l(m=>({...m,thumbnail_url:"",thumbnail_alt:""})),f("")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>e("/videos"),children:i.jsx(Xr,{className:"h-4 w-4"})}),i.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Video":"New Video"})]}),i.jsx("form",{onSubmit:y,children:i.jsxs(he,{children:[i.jsxs(Ye,{className:"flex flex-row items-center justify-between",children:[i.jsx(dt,{children:"Video Information"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Dt,{checked:a.is_home,onCheckedChange:m=>l(v=>({...v,is_home:m})),className:"data-[state=checked]:bg-green-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),i.jsxs(ge,{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title *"}),i.jsx(Q,{id:"title",name:"title",value:a.title,onChange:p,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),i.jsx(tt,{id:"description",name:"description",value:a.description,onChange:p,rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"video_url",className:"text-sm font-medium",children:"Video URL *"}),i.jsx(Q,{id:"video_url",name:"video_url",type:"url",value:a.video_url,onChange:p,placeholder:"YouTube, Instagram, or Vimeo URL",required:!0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports YouTube, Instagram Reels, and Vimeo"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Thumbnail Image *"}),d?i.jsxs("div",{className:"relative w-full",children:[i.jsx(Ma,{src:d,alt:"Thumbnail preview",className:"w-full max-w-md rounded-md"}),i.jsx(W,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:x,children:i.jsx(Zn,{className:"h-4 w-4"})})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q,{ref:g,type:"file",accept:"image/*",onChange:b,className:"hidden"}),i.jsx(W,{type:"button",variant:"outline",onClick:()=>{var m;return(m=g.current)==null?void 0:m.click()},disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent mr-2"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Upload Thumbnail"]})})]})]}),a.thumbnail_url&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"thumbnail_alt",className:"text-sm font-medium",children:"Thumbnail Alt Text *"}),i.jsx(Q,{id:"thumbnail_alt",name:"thumbnail_alt",value:a.thumbnail_alt,onChange:p,placeholder:"Describe the thumbnail image",required:!0})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(W,{type:"submit",disabled:w.isPending,children:w.isPending?"Saving...":n?"Update Video":"Create Video"}),i.jsx(W,{type:"button",variant:"outline",onClick:()=>e("/videos"),children:"Cancel"})]})]})]})})]})}function F6(){var x;const t=_t(),[e,n]=h.useState(""),[r,s]=h.useState([]),[o,a]=h.useState(null),[l,c]=h.useState(null),{data:u,isLoading:d,refetch:f}=Xe({queryKey:["testimonials",e],queryFn:async()=>{const m=e?`&q=${encodeURIComponent(e)}`:"";return(await V.get(`/testimonials${m?`?${m.slice(1)}`:""}`)).data.data},refetchOnWindowFocus:!1});h.useEffect(()=>{if(u!=null&&u.testimonials){const m=[...u.testimonials].sort((v,S)=>(v.display_order||0)-(S.display_order||0));s(m)}},[u]);const g=async m=>{if(o===null||o===m){a(null);return}const v=[...r],[S]=v.splice(o,1);v.splice(m,0,S);const j=v.map((E,C)=>({...E,display_order:C+1}));s(j),a(null);try{await V.post("/testimonials/reorder",{order:j.map((E,C)=>({id:E.id,display_order:C+1}))}),t.invalidateQueries({queryKey:["testimonials"]}),f()}catch(E){console.error("Failed to reorder testimonials:",E),f()}},w=async(m,v)=>{try{s(S=>S.map(j=>j.id===m.id?{...j,is_home:v}:j)),await V.put(`/testimonials/${m.id}`,{is_home:v?1:0}),t.invalidateQueries({queryKey:["testimonials"]})}catch(S){console.error("Failed to update home flag",S),f()}},y=async()=>{if(l)try{await V.delete(`/testimonials/${l}`),s(m=>m.filter(v=>v.id!==l)),t.invalidateQueries({queryKey:["testimonials"]})}catch(m){console.error("Failed to delete testimonial",m)}finally{c(null)}},p=m=>m.replace(/<[^>]+>/g,""),b=m=>{const v=p(m||"");return v.length<=160?v:`${v.slice(0,160)}`};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Testimonials"}),i.jsxs("p",{className:"text-muted-foreground",children:[((x=u==null?void 0:u.pagination)==null?void 0:x.total)||0," total testimonials"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Q,{placeholder:"Search testimonials...",value:e,onChange:m=>n(m.target.value),className:"w-56"}),i.jsx(cn,{to:"/testimonials/new",children:i.jsxs(W,{children:[i.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Add Testimonial"]})})]})]}),r.length===0&&!d&&i.jsx(he,{children:i.jsxs(ge,{className:"flex flex-col items-center justify-center py-16",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No testimonials yet"}),i.jsx(cn,{to:"/testimonials/new",children:i.jsxs(W,{children:[i.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Create your first testimonial"]})})]})}),i.jsx("div",{className:"grid gap-4",children:r.map((m,v)=>i.jsx(he,{className:"overflow-hidden border border-dashed",draggable:!0,onDragStart:()=>a(v),onDragOver:S=>S.preventDefault(),onDrop:()=>g(v),onDragEnd:()=>a(null),children:i.jsxs("div",{className:"flex gap-4 items-start",children:[i.jsxs("div",{className:"p-3 text-muted-foreground cursor-grab",children:[i.jsx(js,{className:"h-5 w-5"}),i.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",v+1]})]}),i.jsxs("div",{className:"flex-1 py-4 pr-4",children:[i.jsx(Ye,{className:"p-0 pb-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(dt,{className:"line-clamp-1",children:m.author}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[i.jsx(Vp,{className:"h-3 w-3"}),i.jsx("span",{children:m.testimonial_date?Ag(new Date(m.testimonial_date),"dd MMM yyyy"):"No date"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),i.jsx(Dt,{checked:!!m.is_home,onCheckedChange:S=>w(m,S),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle testimonial visibility"})]})]})}),i.jsxs(ge,{className:"p-0",children:[i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:b(m.content)}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Vp,{className:"h-4 w-4"}),i.jsx("span",{children:m.testimonial_date?Ag(new Date(m.testimonial_date),"dd MMM yyyy"):"No date"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(cn,{to:`/testimonials/${m.id}/edit`,children:[i.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Edit"]})}),i.jsxs(W,{variant:"destructive",size:"sm",onClick:()=>c(m.id),children:[i.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]})]})},m.id))}),l&&i.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Delete testimonial?"}),i.jsx("p",{className:"text-muted-foreground",children:"This action cannot be undone. The testimonial will be permanently removed."}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(W,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),i.jsx(W,{variant:"destructive",onClick:y,children:"Delete"})]})]})})]})}function Uw(){const{id:t}=bo(),e=Ot(),n=!!t,[r,s]=h.useState({author:"",content:"",testimonial_date:new Date().toISOString().split("T")[0],is_home:!1});Xe({queryKey:["testimonial",t],queryFn:async()=>{const u=(await V.get(`/testimonials/${t}`)).data.data;return s({author:u.author||"",content:u.content||"",testimonial_date:u.testimonial_date||new Date().toISOString().split("T")[0],is_home:u.is_home}),u},enabled:n});const o=xe({mutationFn:async c=>n?V.put(`/testimonials/${t}`,c):V.post("/testimonials",c),onSuccess:()=>{e("/testimonials")},onError:c=>{var u,d;alert(((d=(u=c.response)==null?void 0:u.data)==null?void 0:d.error)||"An error occurred")}}),a=c=>{c.preventDefault();const u={...r,is_home:r.is_home?1:0};o.mutate(u)},l=c=>{const{name:u,value:d}=c.target;s(f=>({...f,[u]:d}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>e("/testimonials"),children:i.jsx(Xr,{className:"h-4 w-4"})}),i.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Testimonial":"New Testimonial"})]}),i.jsx("form",{onSubmit:a,children:i.jsxs(he,{children:[i.jsxs(Ye,{className:"flex flex-row items-center justify-between",children:[i.jsx(dt,{children:"Testimonial Information"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Dt,{checked:r.is_home,onCheckedChange:c=>s(u=>({...u,is_home:c})),className:"data-[state=checked]:bg-green-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),i.jsxs(ge,{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"author",className:"text-sm font-medium",children:"Author *"}),i.jsx(Q,{id:"author",name:"author",value:r.author,onChange:l,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Testimonial Content *"}),i.jsx(tt,{id:"content",name:"content",value:r.content,onChange:l,rows:5,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"testimonial_date",className:"text-sm font-medium",children:"Date"}),i.jsx(Q,{id:"testimonial_date",name:"testimonial_date",type:"date",value:r.testimonial_date,onChange:l})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(W,{type:"submit",disabled:o.isPending,children:o.isPending?"Saving...":n?"Update Testimonial":"Create Testimonial"}),i.jsx(W,{type:"button",variant:"outline",onClick:()=>e("/testimonials"),children:"Cancel"})]})]})]})})]})}const ds=t=>{const e=(t||"").trim().toLowerCase();if(!e)return"";try{let r=new URL(e,"https://dummy.host").pathname||"/";return r=r.replace(/\/\/+/g,"/").replace(/\/+$/,""),r===""&&(r="/"),r}catch{const n=e.replace(/\/\/+/g,"/").replace(/\/+$/,"");return n===""?"/":n}},B6=(t,e,n,r)=>{if(!n)return!1;const s={};t.forEach(c=>{r&&c.id===r||c.urlNew&&(s[ds(c.urlOld)]=ds(c.urlNew))}),s[ds(e)]=ds(n);const o=ds(e),a={};let l=o;for(;s[l];){if(l=s[l],l===o)return!0;if(a[l])break;a[l]=!0}return!1},zw=(t,e,n,r)=>{const s=ds(t),o=ds(e);if(!s)throw new Error("urlOld is required");if(!o)throw new Error("urlNew is required");if(o&&s===o)throw new Error("urlOld and urlNew cannot match");if(n.some(a=>ds(a.urlOld)===s&&a.id!==r))throw new Error("urlOld must be unique");if(o&&n.some(a=>ds(a.urlOld)===o&&a.id!==r))throw new Error("urlNew already exists as urlOld (double redirect)");if(B6(n,s,o,r))throw new Error("Rule would create a redirect loop");return{urlOld:s,urlNew:o}};function $6(){const t=_t(),{data:e,isLoading:n}=Xe({queryKey:["redirects"],queryFn:async()=>{var E;return((E=(await V.get("/redirects")).data.data)==null?void 0:E.redirects)||[]},refetchOnWindowFocus:!1}),[r,s]=h.useState({urlOld:"",urlNew:""}),[o,a]=h.useState({old:!1,neu:!1}),[l,c]=h.useState({}),[u,d]=h.useState(""),[f,g]=h.useState(""),w=h.useMemo(()=>{const j=e||[];if(!f.trim())return j;const E=f.trim().toLowerCase();return j.filter(C=>C.urlOld.toLowerCase().includes(E)||C.urlNew.toLowerCase().includes(E))},[e,f]),y=xe({mutationFn:async j=>V.post("/redirects",j),onSuccess:()=>{t.invalidateQueries({queryKey:["redirects"]}),s({urlOld:"",urlNew:""}),a({old:!1,neu:!1}),d("")},onError:j=>{var E,C;d(((C=(E=j==null?void 0:j.response)==null?void 0:E.data)==null?void 0:C.error)||"Error creating redirect"),a({old:!0,neu:!0})}}),p=xe({mutationFn:async({id:j,urlOld:E,urlNew:C})=>V.put(`/redirects/${j}`,{urlOld:E,urlNew:C}),onSuccess:()=>{t.invalidateQueries({queryKey:["redirects"]}),d(""),c(j=>{const E={...j};return delete E[0],E})},onError:(j,E)=>{var C,N;d(((N=(C=j==null?void 0:j.response)==null?void 0:C.data)==null?void 0:N.error)||"Error saving redirect"),c(R=>({...R,[E.id]:{old:!0,neu:!0}}))}}),b=xe({mutationFn:async j=>V.delete(`/redirects/${j}`),onSuccess:()=>t.invalidateQueries({queryKey:["redirects"]})}),x=()=>{try{const j=zw(r.urlOld,r.urlNew,w);y.mutate(j)}catch(j){d((j==null?void 0:j.message)||"Validation failed");const E=((j==null?void 0:j.message)||"").toLowerCase();a({old:E.includes("old")||E.includes("loop")||E.includes("match"),neu:E.includes("new")||E.includes("loop")||E.includes("match")})}},m=j=>{try{const E=zw(j.urlOld,j.urlNew,w,j.id);p.mutate({id:j.id,...E})}catch(E){d((E==null?void 0:E.message)||"Validation failed");const C=((E==null?void 0:E.message)||"").toLowerCase();c(N=>({...N,[j.id]:{old:C.includes("old")||C.includes("loop")||C.includes("match"),neu:C.includes("new")||C.includes("loop")||C.includes("match")}}))}},v=j=>{confirm("Delete this redirect?")&&b.mutate(j)},S=(j,E,C)=>{const N=w.map(R=>R.id===j?{...R,[E]:C}:R);t.setQueryData(["redirects"],N),C.trim()&&c(R=>({...R,[j]:{...R[j]||{},[E==="urlOld"?"old":"neu"]:!1}}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Redirect"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage 301 redirects with anti-loop checks."})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(Q,{placeholder:"search",value:f,onChange:j=>g(j.target.value),className:"w-56"})})]}),i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsx(dt,{children:"new redirect"})}),i.jsxs(ge,{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:[i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"OLD *"}),i.jsx(Q,{value:r.urlOld,onChange:j=>{const E=j.target.value;s(C=>({...C,urlOld:E})),E.trim()&&a(C=>({...C,old:!1}))},className:o.old&&!r.urlOld.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"NEW *"}),i.jsx(Q,{value:r.urlNew,onChange:j=>{const E=j.target.value;s(C=>({...C,urlNew:E})),E.trim()&&a(C=>({...C,neu:!1}))},className:o.neu&&!r.urlNew.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),i.jsx("div",{className:"pt-1",children:i.jsx(W,{onClick:x,disabled:y.isPending,className:"w-full md:w-auto",children:y.isPending?"Saving...":"Add redirect"})})]}),u&&i.jsx("p",{className:"text-sm text-red-500",children:u})]})]}),i.jsxs(he,{children:[i.jsx(Ye,{}),i.jsxs(ge,{className:"space-y-4",children:[n&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}),!n&&w.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"No redirects found."}),!n&&w.length>0&&i.jsx("div",{className:"space-y-3",children:w.map(j=>{var E,C;return i.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("label",{className:"text-xs uppercase tracking-[2px] text-muted-foreground",children:"OLD"}),i.jsx(Q,{value:j.urlOld,onChange:N=>S(j.id,"urlOld",N.target.value),className:(E=l[j.id])!=null&&E.old&&!j.urlOld.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("label",{className:"text-xs uppercase tracking-[2px] text-muted-foreground",children:"NEW"}),i.jsx(Q,{value:j.urlNew,onChange:N=>S(j.id,"urlNew",N.target.value),className:(C=l[j.id])!=null&&C.neu&&!j.urlNew.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),i.jsxs("div",{className:"flex items-center gap-2 justify-end md:justify-start",children:[i.jsxs(W,{variant:"outline",size:"sm",onClick:()=>m(j),disabled:p.isPending,children:[i.jsx(DN,{className:"h-4 w-4 mr-2"}),"Save"]}),i.jsxs(W,{variant:"destructive",size:"sm",onClick:()=>v(j.id),children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})},j.id)})})]})]})]})}function U6(){const t=[{number:1,title:"URL",icon:Ka,color:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",description:"Every piece of content must have a clear, readable, and concise URL. It's recommended not to exceed 80 characters and to avoid unnecessary elements like numbers, dates, or redundant words. Once published, a URL should never be deleted.",example:{title:"Example",good:"new.buywithdali.com/luxury-properties-playa-del-carmen",bad:"new.buywithdali.com/page-123-luxury-prop-2024-01-22-final"}},{number:2,title:"Page Title",icon:VL,color:"bg-purple-50",borderColor:"border-purple-200",iconColor:"text-purple-600",description:"The title must always be consistent with the article's content. It should clearly describe the topic covered and use the main keywords developed throughout the text. The title should not exceed 60 characters.",example:{title:"Example",good:"Luxury Beachfront Properties in Playa del Carmen",bad:"Amazing Properties You Won't Believe Exist"}},{number:3,title:"Meta Description",icon:_N,color:"bg-pink-50",borderColor:"border-pink-200",iconColor:"text-pink-600",description:"The description should align with the title and reinforce its meaning. It's important to use the same words from the title, writing a clear and natural sentence that previews the page content. The recommended length is between 140 and 160 characters.",example:{title:"Example",good:"Discover exclusive luxury beachfront properties in Playa del Carmen. Premium real estate with ocean views, modern amenities, and prime locations.",bad:"This page has great properties"}},{number:4,title:"Content",icon:bN,color:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-600",description:"Content must be original, clear, and genuinely useful to the reader. The text should address the topic declared by the title and avoid content that is too brief, generic, or misleading.",example:{title:"Example",good:"Detailed neighborhood guide with local amenities, market trends, investment potential, property types, and buyer testimonials.",bad:"Nice houses here. Very good."}},{number:5,title:"Pages & Redirects",icon:TN,color:"bg-orange-50",borderColor:"border-orange-200",iconColor:"text-orange-600",description:"Pages should never be deleted. If content is updated or replaced with new material, it's mandatory to create a redirect from the old page to the new one to avoid losing traffic and visibility.",example:{title:"Example",good:"Old URL  301 Redirect  New URL (preserves all link value)",bad:"Delete old page (loses all traffic and backlinks)"}},{number:6,title:"Images & Alt Text",icon:AN,color:"bg-indigo-50",borderColor:"border-indigo-200",iconColor:"text-indigo-600",description:"All inserted images must have alt text filled in. The alt text should describe the image simply and relevantly to the content, avoiding automatic or generic descriptions.",example:{title:"Example",good:"Modern luxury villa with ocean view and private pool in Playa del Carmen",bad:"image123.jpg or image"}},{number:7,title:"Image Weight",icon:oM,color:"bg-yellow-50",borderColor:"border-yellow-200",iconColor:"text-yellow-600",description:"Images should not be too heavy. Large file sizes slow down page loading and worsen user experience. It's always recommended to use web-optimized images.",example:{title:"Example",good:"JPG 100KB - WebP 45KB - PNG optimized 80KB (all load in <2s)",bad:"RAW image 5MB - RAW 8MB (slow loading, poor UX)"}},{number:8,title:"Open Graph & Social",icon:ZL,color:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600",description:"For social sharing, Open Graph fields must be correctly filled out, particularly the title and image. The social title should be consistent with the page title and article content.",example:{title:"Example",good:'og:title: "Luxury Properties in Playa del Carmen" | og:image: high-quality-property.jpg',bad:"Missing Open Graph tags or mismatched titles"}},{number:9,title:"Overall Consistency",icon:kN,color:"bg-teal-50",borderColor:"border-teal-200",iconColor:"text-teal-600",description:"Title, description, URL, content, and images should all address the same topic. Consistency is fundamental to helping readers immediately understand the page subject.",example:{title:"Example",good:'URL, Title, Description, Content & Images all about "Beachfront Luxury"',bad:"Title: Luxury Properties | Description: Budget homes | Content: Investment tips"}},{number:10,title:"Core Principle",icon:ra,color:"bg-lime-50",borderColor:"border-lime-200",iconColor:"text-lime-600",description:"If content is clear and understandable to the reader, it is also correct from an SEO perspective.",example:{title:"Example",good:"Reader understands immediately what the page offers  Google ranks it well",bad:"Confusing content  Poor user experience  Lower rankings"}}];return i.jsxs("div",{className:"seo-rules-container",children:[i.jsx("div",{className:"seo-rules-header",children:i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"SEO RULES"}),i.jsx("p",{children:"Essential guide to optimize content according to SEO best practices"})]})}),i.jsx("div",{className:"seo-rules-grid",children:t.map(e=>{const n=e.icon;return i.jsxs(he,{className:`seo-rule-card ${e.color} border-2 ${e.borderColor}`,children:[i.jsxs(Ye,{className:"pb-3",children:[i.jsxs("div",{className:"rule-header",children:[i.jsx("div",{className:`rule-number ${e.iconColor}`,children:e.number}),i.jsx(n,{className:`rule-icon ${e.iconColor}`})]}),i.jsx(dt,{className:"text-lg",children:e.title})]}),i.jsxs(ge,{children:[i.jsx("p",{className:"rule-description",children:e.description}),i.jsxs("div",{className:"rule-example mt-4 pt-4 border-t border-gray-200",children:[i.jsx("p",{className:"example-label font-semibold text-sm mb-3",children:e.example.title}),i.jsxs("div",{className:"example-item mb-3",children:[i.jsx("p",{className:"example-type text-xs font-bold text-green-700 mb-1",children:" GOOD:"}),i.jsx("p",{className:"example-text text-sm text-gray-700 bg-green-50 p-2 rounded border-l-2 border-green-500",children:e.example.good})]}),i.jsxs("div",{className:"example-item",children:[i.jsx("p",{className:"example-type text-xs font-bold text-red-700 mb-1",children:" BAD:"}),i.jsx("p",{className:"example-text text-sm text-gray-700 bg-red-50 p-2 rounded border-l-2 border-red-500",children:e.example.bad})]})]})]})]},e.number)})}),i.jsx("div",{className:"seo-rules-footer",children:i.jsxs("div",{className:"footer-content",children:[i.jsx(ra,{className:"check-icon"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Remember:"})," Consistency between URL, title, description, content, and images is the foundation of a good SEO strategy. Follow these rules to ensure the best results."]})]})})]})}function z6(){const t=Ot();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Landing Pages"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage Cities and Areas landing pages"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs(he,{className:"hover:shadow-md transition",children:[i.jsx(Ye,{children:i.jsxs(dt,{className:"flex items-center gap-2",children:[i.jsx(Od,{className:"h-5 w-5 text-primary"}),"Cities"]})}),i.jsxs(ge,{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and edit city landing pages with hero images, content, and SEO meta tags."}),i.jsx(W,{onClick:()=>t("/cities"),children:"Manage Cities"})]})]}),i.jsxs(he,{className:"hover:shadow-md transition",children:[i.jsx(Ye,{children:i.jsxs(dt,{className:"flex items-center gap-2",children:[i.jsx($L,{className:"h-5 w-5 text-primary"}),"Areas"]})}),i.jsxs(ge,{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage area landing pages linked to cities, with full SEO controls and images."}),i.jsx(W,{onClick:()=>t("/areas"),children:"Manage Areas"})]})]})]})]})}function q6(){const t=Ot(),e=_t(),[n,r]=h.useState(""),[s,o]=h.useState([]),a="/api",l=h.useMemo(()=>a.replace(/\/api$/,""),[a]),c=S=>S?S.startsWith("http")?S:S.startsWith("/")?`${l}${S}`:`${l}/${S}`:"",[u,d]=h.useState({}),{data:f,isLoading:g}=Xe({queryKey:["cities"],queryFn:async()=>{var j,E;return((E=(j=(await V.get("/cities")).data)==null?void 0:j.data)==null?void 0:E.cities)||[]}}),w=h.useMemo(()=>{if(!f)return[];const S=n.toLowerCase();return f.filter(j=>!S||j.title.toLowerCase().includes(S)||j.slug.toLowerCase().includes(S)).sort((j,E)=>(j.display_order??0)-(E.display_order??0))},[f,n]);h.useEffect(()=>{o(w.map((S,j)=>({...S,display_order:S.display_order??j+1})))},[w]);const y=xe({mutationFn:async({id:S,value:j})=>V.put(`/cities/${S}`,{is_home:j?1:0}),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),p=xe({mutationFn:async S=>V.delete(`/cities/${S}`),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),b=xe({mutationFn:async S=>V.put("/cities/reorder",{items:S}),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),[x,m]=h.useState(null),v=S=>{if(x===null||x===S){m(null);return}const j=[...s],[E]=j.splice(x,1);j.splice(S,0,E);const C=j.map((N,R)=>({...N,display_order:R+1}));o(C),m(null),b.mutate(C.map((N,R)=>({id:N.id,display_order:R+1})))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:i.jsx(Xr,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Cities"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage city landing pages"})]})]}),i.jsxs(W,{onClick:()=>t("/cities/new"),children:[i.jsx(Qt,{className:"h-4 w-4 mr-2"})," New City"]})]}),i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsx(dt,{children:"All Cities"}),i.jsx(Q,{placeholder:"Search...",value:n,onChange:S=>r(S.target.value),className:"max-w-xs"})]})}),i.jsxs(ge,{className:"space-y-3",children:[g&&i.jsx("p",{children:"Loading..."}),!g&&s.length===0&&i.jsx("p",{className:"text-muted-foreground",children:"No cities found."}),!g&&s.map((S,j)=>i.jsxs(he,{className:`flex gap-4 items-start ${x===j?"opacity-60 border-dashed":""}`,draggable:!0,onDragStart:()=>m(j),onDragOver:E=>E.preventDefault(),onDrop:()=>v(j),onDragEnd:()=>m(null),children:[i.jsxs("div",{className:"p-3 text-muted-foreground flex flex-col items-center justify-start cursor-grab",children:[i.jsx(js,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-2xs text-muted-foreground mt-1",children:["#",j+1]})]}),S.cover_image&&!u[S.id]?i.jsx("img",{src:c(S.cover_image),alt:S.cover_image_alt||S.title,className:"w-40 h-32 md:w-48 md:h-48 object-cover my-4 ml-1 mr-3 rounded-lg",onError:()=>d(E=>({...E,[S.id]:!0}))}):i.jsx("div",{className:"w-40 h-32 md:w-48 md:h-48 flex items-center justify-center flex-shrink-0 my-4 ml-1 mr-3 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-amber-50 to-rose-50",children:i.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),i.jsxs("div",{className:"flex-1 py-4 pr-4",children:[i.jsx(Ye,{className:"p-0 pb-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(dt,{className:"line-clamp-1",children:S.title}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.jsx(Ka,{className:"h-3 w-3 inline mr-1"}),i.jsxs("span",{className:"break-all",children:["/community/",S.slug]})]}),S.subtitle&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:S.subtitle})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),i.jsx(Dt,{checked:!!S.is_home,onCheckedChange:E=>y.mutate({id:S.id,value:E}),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle city on home"})]})]})}),i.jsx(ge,{className:"p-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:i.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(`/areas?city_id=${S.id}`),children:"View Areas"})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(W,{variant:"outline",size:"sm",onClick:()=>t(`/cities/${S.id}/edit`),children:[i.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(W,{variant:"destructive",size:"sm",onClick:()=>{confirm("Delete this city?")&&p.mutate(S.id)},children:[i.jsx(Vx,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]},S.id))]})]})]})}const W6={title:"",subtitle:"",slug:"",cover_image:"",cover_image_alt:"",content_image:"",content_image_alt:"",fullContent:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",is_home:0,display_order:0};function qw(){const{id:t}=bo(),e=!!t,n=Ot(),r=_t(),[s,o]=h.useState(W6),[a,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[g,w]=h.useState(!1),y=h.useRef(null),p=h.useRef(null),b="/api",x=h.useMemo(()=>b.replace(/\/api$/,""),[b]),m=k=>k?k.startsWith("http")?k:`${x}${k}`:"",v=Xe({queryKey:["city",t],enabled:e,queryFn:async()=>{var _;return(_=(await V.get(`/cities/${t}`)).data)==null?void 0:_.data}});h.useEffect(()=>{const k=v.data;k&&o({title:k.title||"",subtitle:k.subtitle||"",slug:k.slug||"",cover_image:k.cover_image||"",cover_image_alt:k.cover_image_alt||"",content_image:k.content_image||"",content_image_alt:k.content_image_alt||"",fullContent:k.fullContent||"",seoTitle:k.seoTitle||"",seoDescription:k.seoDescription||"",ogTitle:k.ogTitle||"",ogDescription:k.ogDescription||"",is_home:k.is_home?1:0,display_order:k.display_order||0})},[v.data]);const S=xe({mutationFn:async k=>e?V.put(`/cities/${t}`,{...k,is_home:k.is_home?1:0}):V.post("/cities",{...k,is_home:k.is_home?1:0}),onSuccess:()=>{r.invalidateQueries({queryKey:["cities"]}),n("/cities")}}),j=k=>{const{name:_,value:D}=k.target;o(L=>({...L,[_]:D}))},E=k=>{k.preventDefault();const _=[];if(s.title.trim()||_.push("Title is required"),s.slug.trim()||_.push("URL is required"),s.seoTitle.trim()||_.push("Title tag is required"),s.seoDescription.trim()||_.push("Meta description is required"),s.ogTitle.trim()||_.push("OG Title is required"),s.ogDescription.trim()||_.push("OG Description is required"),s.cover_image&&!s.cover_image_alt.trim()&&_.push("Alt text is required for cover image"),s.content_image&&!s.content_image_alt.trim()&&_.push("Alt text is required for content image"),_.length){alert(_.join(`
`));return}const D={...s,slug:s.slug.trim()||C(s.title),is_home:s.is_home?1:0};S.mutate(D)},C=k=>k.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"city-slug",N=async(k,_)=>{var L,q;if(!k.type.startsWith("image/")){console.warn("Please select an image file");return}if(k.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const D=_==="cover_image"?l:u;D(!0);try{const I=new FormData;I.append("image",k);const $=(q=(L=(await V.post("/upload/city-image",I,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:L.data)==null?void 0:q.url;$&&o(M=>({...M,[_]:$}))}catch(I){console.error(I)}finally{D(!1)}},R=async k=>{const _=s[k];if(_&&confirm("Remove this image?")){try{await V.delete(`/upload/file?url=${encodeURIComponent(_)}`)}catch(D){console.error(D)}o(D=>({...D,[k]:"",...k==="cover_image"?{cover_image_alt:""}:{content_image_alt:""}}))}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>n("/cities"),children:i.jsx(Xr,{className:"h-4 w-4"})}),i.jsx("h1",{className:"text-3xl font-bold",children:e?"Edit City":"New City"})]}),i.jsxs("form",{onSubmit:E,className:"space-y-6",children:[i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsx(dt,{children:"City Information"})}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Title (H1) *"}),i.jsx(Q,{name:"title",value:s.title,onChange:k=>{o(_=>({..._,title:k.target.value})),e||o(_=>({..._,slug:C(k.target.value)}))},required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Short description"}),i.jsx(tt,{name:"subtitle",value:s.subtitle,onChange:j,rows:3,placeholder:"Brief summary for listings"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Dt,{checked:!!s.is_home,onCheckedChange:k=>o(_=>({..._,is_home:k?1:0})),className:"data-[state=checked]:bg-green-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-base font-semibold",children:"Images"}),i.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Cover image"}),s.cover_image&&!d?i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:m(s.cover_image),alt:"Cover",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>f(!0)}),i.jsxs(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>R("cover_image"),children:[i.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var k;return(k=y.current)==null?void 0:k.click()},children:[i.jsx(Sr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload cover"}),i.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:k=>{var _;(_=k.target.files)!=null&&_[0]&&N(k.target.files[0],"cover_image")},disabled:a,className:"hidden"}),a&&i.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),i.jsx(Q,{name:"cover_image_alt",value:s.cover_image_alt,onChange:j,required:!!s.cover_image})]})]}),i.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"}),s.content_image&&!g?i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:m(s.content_image),alt:"Content",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>w(!0)}),i.jsxs(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>R("content_image"),children:[i.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var k;return(k=p.current)==null?void 0:k.click()},children:[i.jsx(Sr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),i.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:k=>{var _;(_=k.target.files)!=null&&_[0]&&N(k.target.files[0],"content_image")},disabled:c,className:"hidden"}),c&&i.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),i.jsx(Q,{name:"content_image_alt",value:s.content_image_alt,onChange:j,required:!!s.content_image})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Full content"}),i.jsx(La,{value:s.fullContent,onChange:k=>o(_=>({..._,fullContent:k})),placeholder:"Write your content..."})]}),i.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[i.jsx("div",{className:"flex items-center justify-between gap-2",children:i.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"LNK (url)"}),i.jsx(Q,{name:"slug",value:s.slug,onChange:k=>o(_=>({..._,slug:C(k.target.value)})),disabled:e,required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),i.jsx(Q,{name:"seoTitle",value:s.seoTitle,onChange:j,maxLength:160})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),i.jsx(tt,{name:"seoDescription",value:s.seoDescription,onChange:j,rows:3,maxLength:320})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:'OG Title (meta="og:title")'}),i.jsx(Q,{name:"ogTitle",value:s.ogTitle,onChange:j,maxLength:160})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:'OG Description (meta="og:description")'}),i.jsx(tt,{name:"ogDescription",value:s.ogDescription,onChange:j,rows:3,maxLength:320})]})]})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(W,{type:"submit",disabled:S.isPending,children:S.isPending?"Saving...":e?"Update City":"Create City"}),i.jsx(W,{variant:"outline",type:"button",onClick:()=>n("/cities"),children:"Close"})]})]})]})}function V6(){const t=Ot(),e=_t(),[n,r]=h.useState(""),[s,o]=h.useState([]),a=yo(),l="/api",c=h.useMemo(()=>l.replace(/\/api$/,""),[l]),u=C=>C?C.startsWith("http")?C:C.startsWith("/")?`${c}${C}`:`${c}/${C}`:"",[d,f]=h.useState({}),{data:g=[]}=Xe({queryKey:["cities"],queryFn:async()=>{var N,R;return((R=(N=(await V.get("/cities")).data)==null?void 0:N.data)==null?void 0:R.cities)||[]}}),{data:w=[],isLoading:y}=Xe({queryKey:["areas"],queryFn:async()=>{var N,R;return((R=(N=(await V.get("/areas")).data)==null?void 0:N.data)==null?void 0:R.areas)||[]}}),p=h.useMemo(()=>{const C=n.toLowerCase(),R=new URLSearchParams(a.search).get("city_id");return w.filter(k=>!C||k.title.toLowerCase().includes(C)||k.slug.toLowerCase().includes(C)).filter(k=>!R||String(k.city_id)===R).sort((k,_)=>(k.display_order??0)-(_.display_order??0))},[w,n,a.search]);h.useEffect(()=>{o(p.map((C,N)=>({...C,display_order:C.display_order??N+1})))},[p]);const b=xe({mutationFn:async({id:C,value:N})=>V.put(`/areas/${C}`,{is_home:N?1:0}),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),x=xe({mutationFn:async C=>V.put("/areas/reorder",{items:C}),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),m=xe({mutationFn:async C=>V.delete(`/areas/${C}`),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),v=C=>g.find(N=>N.id===C),[S,j]=h.useState(null),E=C=>{if(S===null||S===C){j(null);return}const N=[...s],[R]=N.splice(S,1);N.splice(C,0,R);const k=N.map((_,D)=>({..._,display_order:D+1}));o(k),j(null),x.mutate(k.map((_,D)=>({id:_.id,display_order:D+1})))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:i.jsx(Xr,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Areas"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage area landing pages"})]})]}),i.jsxs(W,{onClick:()=>t("/areas/new"),children:[i.jsx(Qt,{className:"h-4 w-4 mr-2"})," New Area"]})]}),i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsx(dt,{children:"All Areas"}),i.jsx(Q,{placeholder:"Search...",value:n,onChange:C=>r(C.target.value),className:"max-w-xs"})]})}),i.jsxs(ge,{className:"space-y-3",children:[y&&i.jsx("p",{children:"Loading..."}),!y&&s.length===0&&i.jsx("p",{className:"text-muted-foreground",children:"No areas found."}),!y&&s.map((C,N)=>{const R=v(C.city_id);return i.jsxs(he,{className:`flex gap-4 items-start ${S===N?"opacity-60 border-dashed":""}`,draggable:!0,onDragStart:()=>j(N),onDragOver:k=>k.preventDefault(),onDrop:()=>E(N),onDragEnd:()=>j(null),children:[i.jsxs("div",{className:"p-3 text-muted-foreground flex flex-col items-center justify-start cursor-grab",children:[i.jsx(js,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-2xs text-muted-foreground mt-1",children:["#",N+1]})]}),C.cover_image&&!d[C.id]?i.jsx("img",{src:u(C.cover_image),alt:C.cover_image_alt||C.title,className:"w-40 h-32 md:w-48 md:h-48 object-cover my-4 ml-1 mr-3 rounded-lg",onError:()=>f(k=>({...k,[C.id]:!0}))}):i.jsx("div",{className:"w-40 h-32 md:w-48 md:h-48 flex items-center justify-center flex-shrink-0 my-4 ml-1 mr-3 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-amber-50 to-rose-50",children:i.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),i.jsxs("div",{className:"flex-1 py-4 pr-4",children:[i.jsx(Ye,{className:"p-0 pb-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(dt,{className:"line-clamp-1",children:C.title}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.jsx(Ka,{className:"h-3 w-3 inline mr-1"}),i.jsxs("span",{className:"break-all",children:["/community/",R==null?void 0:R.slug,"/",C.slug]})]}),R&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["City: ",R.title]}),C.subtitle&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:C.subtitle})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),i.jsx(Dt,{checked:!!C.is_home,onCheckedChange:k=>b.mutate({id:C.id,value:k}),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle area on home"})]})]})}),i.jsx(ge,{className:"p-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm text-muted-foreground"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(W,{variant:"outline",size:"sm",onClick:()=>t(`/areas/${C.id}/edit`),children:[i.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(W,{variant:"destructive",size:"sm",onClick:()=>{confirm("Delete this area?")&&m.mutate(C.id)},children:[i.jsx(Vx,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]},C.id)})]})]})]})}const H6={city_id:"",title:"",subtitle:"",slug:"",cover_image:"",cover_image_alt:"",content_image:"",content_image_alt:"",fullContent:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",is_home:0,display_order:0};function Ww(){const{id:t}=bo(),e=!!t,n=Ot(),r=_t(),[s,o]=h.useState(H6),[a,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[g,w]=h.useState(!1),y=h.useRef(null),p=h.useRef(null),b="/api",x=h.useMemo(()=>b.replace(/\/api$/,""),[b]),m=_=>_?_.startsWith("http")?_:`${x}${_}`:"",{data:v=[]}=Xe({queryKey:["cities"],queryFn:async()=>{var D,L;return((L=(D=(await V.get("/cities")).data)==null?void 0:D.data)==null?void 0:L.cities)||[]}}),S=Xe({queryKey:["area",t],enabled:e,queryFn:async()=>{var D;return(D=(await V.get(`/areas/${t}`)).data)==null?void 0:D.data}});h.useEffect(()=>{const _=S.data;_&&o({city_id:_.city_id,title:_.title||"",subtitle:_.subtitle||"",slug:_.slug||"",cover_image:_.cover_image||"",cover_image_alt:_.cover_image_alt||"",content_image:_.content_image||"",content_image_alt:_.content_image_alt||"",fullContent:_.fullContent||"",seoTitle:_.seoTitle||"",seoDescription:_.seoDescription||"",ogTitle:_.ogTitle||"",ogDescription:_.ogDescription||"",is_home:_.is_home?1:0,display_order:_.display_order||0})},[S.data]);const j=xe({mutationFn:async _=>{const D={..._,is_home:_.is_home?1:0,city_id:Number(_.city_id)};return e?V.put(`/areas/${t}`,D):V.post("/areas",D)},onSuccess:()=>{r.invalidateQueries({queryKey:["areas"]}),n("/areas")}}),E=_=>{const{name:D,value:L}=_.target;o(q=>({...q,[D]:D==="city_id"?Number(L):L}))},C=_=>{_.preventDefault();const D=[];if(s.city_id||D.push("Select a city"),s.title.trim()||D.push("Title is required"),s.slug.trim()||D.push("URL is required"),s.seoTitle.trim()||D.push("Title tag is required"),s.seoDescription.trim()||D.push("Meta description is required"),s.ogTitle.trim()||D.push("OG Title is required"),s.ogDescription.trim()||D.push("OG Description is required"),s.cover_image&&!s.cover_image_alt.trim()&&D.push("Alt text is required for cover image"),s.content_image&&!s.content_image_alt.trim()&&D.push("Alt text is required for content image"),D.length){alert(D.join(`
`));return}j.mutate({...s,slug:s.slug.trim()||N(s.title),is_home:s.is_home?1:0})},N=_=>_.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"area-slug",R=async(_,D)=>{var q,I;if(!_.type.startsWith("image/")){console.warn("Please select an image file");return}if(_.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const L=D==="cover_image"?l:u;L(!0);try{const F=new FormData;F.append("image",_);const M=(I=(q=(await V.post("/upload/area-image",F,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:q.data)==null?void 0:I.url;M&&o(U=>({...U,[D]:M}))}catch(F){console.error(F)}finally{L(!1)}},k=async _=>{const D=s[_];if(D&&confirm("Remove this image?")){try{await V.delete(`/upload/file?url=${encodeURIComponent(D)}`)}catch(L){console.error(L)}o(L=>({...L,[_]:"",..._==="cover_image"?{cover_image_alt:""}:{content_image_alt:""}}))}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(W,{variant:"ghost",size:"icon",onClick:()=>n("/areas"),children:i.jsx(Xr,{className:"h-4 w-4"})}),i.jsx("h1",{className:"text-3xl font-bold",children:e?"Edit Area":"New Area"})]}),i.jsxs("form",{onSubmit:C,className:"space-y-6",children:[i.jsxs(he,{children:[i.jsx(Ye,{children:i.jsx(dt,{children:"Area Information"})}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"City *"}),i.jsxs("select",{name:"city_id",value:s.city_id,onChange:E,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",required:!0,children:[i.jsx("option",{value:"",children:"Select a city"}),v.map(_=>i.jsx("option",{value:_.id,children:_.title},_.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Title (H1) *"}),i.jsx(Q,{name:"title",value:s.title,onChange:_=>{o(D=>({...D,title:_.target.value})),e||o(D=>({...D,slug:N(_.target.value)}))},required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Short description"}),i.jsx(tt,{name:"subtitle",value:s.subtitle,onChange:E,rows:3,placeholder:"Brief summary for listings"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Dt,{checked:!!s.is_home,onCheckedChange:_=>o(D=>({...D,is_home:_?1:0})),className:"data-[state=checked]:bg-green-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-base font-semibold",children:"Images"}),i.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Cover image"}),s.cover_image&&!d?i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:m(s.cover_image),alt:"Cover",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>f(!0)}),i.jsxs(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>k("cover_image"),children:[i.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var _;return(_=y.current)==null?void 0:_.click()},children:[i.jsx(Sr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload cover"}),i.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:_=>{var D;(D=_.target.files)!=null&&D[0]&&R(_.target.files[0],"cover_image")},disabled:a,className:"hidden"}),a&&i.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),i.jsx(Q,{name:"cover_image_alt",value:s.cover_image_alt,onChange:E,required:!!s.cover_image})]})]}),i.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"}),s.content_image&&!g?i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:m(s.content_image),alt:"Content",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>w(!0)}),i.jsxs(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>k("content_image"),children:[i.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var _;return(_=p.current)==null?void 0:_.click()},children:[i.jsx(Sr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),i.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:_=>{var D;(D=_.target.files)!=null&&D[0]&&R(_.target.files[0],"content_image")},disabled:c,className:"hidden"}),c&&i.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),i.jsx(Q,{name:"content_image_alt",value:s.content_image_alt,onChange:E,required:!!s.content_image})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Full content"}),i.jsx(La,{value:s.fullContent,onChange:_=>o(D=>({...D,fullContent:_})),placeholder:"Write your content..."})]}),i.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[i.jsx("div",{className:"flex items-center justify-between gap-2",children:i.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"LNK (url)"}),i.jsx(Q,{name:"slug",value:s.slug,onChange:_=>o(D=>({...D,slug:N(_.target.value)})),disabled:e,required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),i.jsx(Q,{name:"seoTitle",value:s.seoTitle,onChange:E,maxLength:160})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),i.jsx(tt,{name:"seoDescription",value:s.seoDescription,onChange:E,rows:3,maxLength:320})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:'OG Title (meta="og:title")'}),i.jsx(Q,{name:"ogTitle",value:s.ogTitle,onChange:E,maxLength:160})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium",children:'OG Description (meta="og:description")'}),i.jsx(tt,{name:"ogDescription",value:s.ogDescription,onChange:E,rows:3,maxLength:320})]})]})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(W,{type:"submit",disabled:j.isPending,children:j.isPending?"Saving...":e?"Update Area":"Create Area"}),i.jsx(W,{variant:"outline",type:"button",onClick:()=>n("/areas"),children:"Close"})]})]})]})}function K6(){return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Buyers Guide"}),i.jsx("p",{className:"text-muted-foreground",children:"Working in progress. This section will host the Buyers Guide landing and related content."})]})}function G6(){var j,E;const t=_t(),[e,n]=h.useState(1),[r,s]=h.useState({}),[o,a]=h.useState(null),[l,c]=h.useState(null),{data:u,isLoading:d}=Xe({queryKey:["access-requests",e],queryFn:async()=>(await V.get(`/access-requests?page=${e}&per_page=20`)).data}),f=xe({mutationFn:()=>V.post("/access-requests/mark-all-viewed"),onSuccess:()=>{t.invalidateQueries({queryKey:["access-requests-count"]})}});h.useState(()=>{f.mutate()});const g=xe({mutationFn:C=>V.post(`/access-requests/${C}/generate-code`),onSuccess:(C,N)=>{t.invalidateQueries({queryKey:["access-requests"]}),s(R=>({...R,[N]:!0}))}}),w=xe({mutationFn:C=>V.post(`/access-requests/${C}/regenerate-code`),onSuccess:(C,N)=>{t.invalidateQueries({queryKey:["access-requests"]}),s(R=>({...R,[N]:!0}))}}),y=xe({mutationFn:C=>V.delete(`/access-requests/${C}`),onSuccess:()=>{t.invalidateQueries({queryKey:["access-requests"]}),t.invalidateQueries({queryKey:["access-requests-count"]}),c(null)}}),p=C=>{s(N=>({...N,[C]:!N[C]}))},b=(C,N)=>{navigator.clipboard.writeText(C),a(N),setTimeout(()=>a(null),2e3)},x=C=>{const N=new Date().getTime(),k=new Date(C).getTime()-N;if(k<=0)return null;const _=Math.floor(k/(1e3*60*60)),D=Math.floor(k%(1e3*60*60)/(1e3*60));return _>0?`${_}h ${D}m remaining`:`${D}m remaining`},m=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),v=((j=u==null?void 0:u.data)==null?void 0:j.requests)||[],S=((E=u==null?void 0:u.data)==null?void 0:E.pagination)||{total_pages:1,total:0};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Requests"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage document access requests for New Developments and Active Properties"})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-amber-50 text-amber-800 px-4 py-2 rounded-lg border border-amber-200",children:[i.jsx(Qu,{className:"h-4 w-4"}),i.jsxs("span",{className:"text-sm font-medium",children:[S.total," total request",S.total!==1?"s":""]})]})]}),d&&i.jsx("div",{className:"flex justify-center py-20",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}),!d&&v.length===0&&i.jsxs("div",{className:"text-center py-20 bg-white rounded-xl border border-gray-200",children:[i.jsx(Kp,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No access requests yet"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Requests will appear here when clients request access to property documents"})]}),!d&&v.length>0&&i.jsx("div",{className:"space-y-4",children:v.map(C=>i.jsxs("div",{className:`bg-white rounded-xl border transition-all duration-200 overflow-hidden ${C.viewed?"border-gray-200":"border-blue-300 shadow-md shadow-blue-50"}`,children:[!C.viewed&&i.jsx("div",{className:"bg-blue-500 text-white text-xs font-semibold px-3 py-1",children:"NEW REQUEST"}),i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-5",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-white font-bold text-sm",children:[C.first_name[0],C.last_name[0]]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900",children:[C.first_name," ",C.last_name]}),i.jsx("p",{className:"text-xs text-gray-400",children:m(C.created_at)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx(Kp,{className:"h-3.5 w-3.5 text-gray-400"}),i.jsx("a",{href:`mailto:${C.email}`,className:"hover:text-blue-600 truncate",children:C.email})]}),C.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx(XL,{className:"h-3.5 w-3.5 text-gray-400"}),i.jsx("a",{href:`tel:${C.phone}`,className:"hover:text-blue-600",children:C.phone})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm bg-gray-50 rounded-lg px-3 py-2",children:[i.jsx(HL,{className:"h-3.5 w-3.5 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-gray-500",children:"Property:"}),i.jsxs("a",{href:`https://new.buywithdali.com/properties/${C.property_slug}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:text-blue-800 hover:underline truncate flex items-center gap-1",children:[C.property_title,i.jsx(kh,{className:"h-3 w-3 flex-shrink-0"})]})]}),C.message&&i.jsxs("div",{className:"mt-3 text-sm text-gray-600 bg-gray-50 rounded-lg p-3 italic",children:['"',C.message,'"']})]}),i.jsx("div",{className:"lg:w-72 flex-shrink-0",children:i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Access Code"}),C.access_code?i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg border border-gray-200 px-3 py-2.5 mb-3",children:[i.jsx("code",{className:"font-mono text-lg font-bold tracking-widest text-gray-800",children:r[C.id]?C.access_code:""}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>p(C.id),className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",title:r[C.id]?"Hide code":"Show code",children:r[C.id]?i.jsx(jN,{className:"h-4 w-4"}):i.jsx(NN,{className:"h-4 w-4"})}),C.access_code&&i.jsx("button",{onClick:()=>b(C.access_code,C.id),className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",title:"Copy code",children:o===C.id?i.jsx(Br,{className:"h-4 w-4 text-green-500"}):i.jsx(Qo,{className:"h-4 w-4"})})]})]}),C.code_expired?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-red-600 text-xs font-medium",children:[i.jsx(Wp,{className:"h-3.5 w-3.5"}),"Code expired"]}),i.jsxs(W,{size:"sm",variant:"outline",className:"w-full border-amber-300 text-amber-700 hover:bg-amber-50",onClick:()=>w.mutate(C.id),disabled:w.isPending,children:[w.isPending?i.jsx(sa,{className:"h-3.5 w-3.5 mr-2 animate-spin"}):i.jsx(sa,{className:"h-3.5 w-3.5 mr-2"}),"Regenerate Code"]})]}):i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 text-xs font-medium",children:[i.jsx(ra,{className:"h-3.5 w-3.5"}),"Active"]}),C.code_expires_at&&i.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs",children:[i.jsx(Hp,{className:"h-3 w-3"}),x(C.code_expires_at)||"Expiring soon"]})]})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center mx-auto mb-3",children:i.jsx(Qu,{className:"h-5 w-5 text-amber-600"})}),i.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"No code generated"}),i.jsxs(W,{size:"sm",className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white",onClick:()=>g.mutate(C.id),disabled:g.isPending,children:[g.isPending?i.jsx(sa,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Generate Code"]})]})]})}),i.jsx("div",{className:"lg:w-10 flex lg:flex-col items-center gap-2",children:l===C.id?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>y.mutate(C.id),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Confirm delete",children:i.jsx(Br,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>c(null),className:"p-2 rounded-lg bg-gray-50 text-gray-400 hover:bg-gray-100 transition-colors",title:"Cancel",children:""})]}):i.jsx("button",{onClick:()=>c(C.id),className:"p-2 rounded-lg text-gray-300 hover:text-red-500 hover:bg-red-50 transition-colors",title:"Delete request",children:i.jsx(Ns,{className:"h-4 w-4"})})})]})})]},C.id))}),S.total_pages>1&&i.jsxs("div",{className:"flex items-center justify-center gap-3 pt-4",children:[i.jsxs(W,{variant:"outline",size:"sm",onClick:()=>n(C=>Math.max(1,C-1)),disabled:e<=1,children:[i.jsx(SN,{className:"h-4 w-4 mr-1"}),"Previous"]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",e," of ",S.total_pages]}),i.jsxs(W,{variant:"outline",size:"sm",onClick:()=>n(C=>Math.min(S.total_pages,C+1)),disabled:e>=S.total_pages,children:["Next",i.jsx(CN,{className:"h-4 w-4 ml-1"})]})]})]})}function Q6(){var _,D;const t=_t(),[e,n]=h.useState(1),[r,s]=h.useState({}),[o,a]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!1),[f,g]=h.useState({client_name:"",client_email:""}),[w,y]=h.useState(null),{data:p,isLoading:b}=Xe({queryKey:["off-market-invites",e],queryFn:async()=>(await V.get(`/off-market-invites?page=${e}&per_page=20`)).data}),x=xe({mutationFn:L=>V.post("/off-market-invites",L),onSuccess:L=>{t.invalidateQueries({queryKey:["off-market-invites"]}),y(L.data.data),g({client_name:"",client_email:""})}}),m=xe({mutationFn:L=>V.post(`/off-market-invites/${L}/regenerate`),onSuccess:(L,q)=>{t.invalidateQueries({queryKey:["off-market-invites"]}),s(I=>({...I,[q]:!0}))}}),v=xe({mutationFn:L=>V.delete(`/off-market-invites/${L}`),onSuccess:()=>{t.invalidateQueries({queryKey:["off-market-invites"]}),c(null)}}),S=L=>{s(q=>({...q,[L]:!q[L]}))},j=(L,q)=>{navigator.clipboard.writeText(L),a(q),setTimeout(()=>a(null),2e3)},E=L=>{const q=new Date(L).getTime()-Date.now();if(q<=0)return null;const I=Math.floor(q/(1e3*60*60*24)),F=Math.floor(q%(1e3*60*60*24)/(1e3*60*60));return I>0?`${I}d ${F}h remaining`:`${F}h remaining`},C=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),N=((_=p==null?void 0:p.data)==null?void 0:_.invites)||[],R=((D=p==null?void 0:p.data)==null?void 0:D.pagination)||{total_pages:1},k=L=>{L.preventDefault(),x.mutate({property_id:null,client_name:f.client_name,client_email:f.client_email})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Off Market Invites"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create and manage private access invites for off-market properties"})]}),i.jsxs(W,{onClick:()=>{d(!0),y(null)},className:"bg-gray-900 hover:bg-gray-800 text-white",children:[i.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create Invite"]})]}),u&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-violet-100 flex items-center justify-center",children:i.jsx(Gp,{className:"h-5 w-5 text-violet-600"})}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:w?"Invite Created!":"Create New Invite"})]}),i.jsx("button",{onClick:()=>{d(!1),y(null)},className:"text-gray-400 hover:text-gray-600",children:i.jsx(Zn,{className:"h-5 w-5"})})]}),w?i.jsxs("div",{className:"p-6 space-y-5",children:[(()=>{const L=w.property_title||"Off-Market Collection";return i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[i.jsx(ra,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),i.jsxs("p",{className:"text-sm text-green-800 font-medium",children:['Invite created for "',L,'"']})]})})(),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Invite Link"}),i.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg border border-gray-200 p-3",children:[i.jsx("code",{className:"flex-1 text-sm text-violet-700 break-all",children:w.invite_link}),i.jsx("button",{onClick:()=>j(w.invite_link,"new-link"),className:"flex-shrink-0 p-2 rounded-md hover:bg-gray-200 text-gray-500 transition-colors",children:o==="new-link"?i.jsx(Br,{className:"h-4 w-4 text-green-500"}):i.jsx(Qo,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Access Code"}),i.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg border border-gray-200 p-3",children:[i.jsx("code",{className:"flex-1 text-2xl font-bold tracking-[0.3em] text-center text-gray-800",children:w.access_code}),i.jsx("button",{onClick:()=>j(w.access_code,"new-code"),className:"flex-shrink-0 p-2 rounded-md hover:bg-gray-200 text-gray-500 transition-colors",children:o==="new-code"?i.jsx(Br,{className:"h-4 w-4 text-green-500"}):i.jsx(Qo,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[i.jsx(Hp,{className:"h-3.5 w-3.5"}),"Expires: ",C(w.expires_at)]}),i.jsx(W,{className:"w-full",variant:"outline",onClick:()=>{d(!1),y(null)},children:"Done"})]}):i.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-700 border border-gray-100",children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Scope: Entire Off-Market Collection"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This invite unlocks all off-market listings (no property selection needed)."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Client Name"}),i.jsx("input",{type:"text",value:f.client_name,onChange:L=>g(q=>({...q,client_name:L.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-violet-500 focus:border-violet-500 outline-none",placeholder:"Optional"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Client Email"}),i.jsx("input",{type:"email",value:f.client_email,onChange:L=>g(q=>({...q,client_email:L.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-violet-500 focus:border-violet-500 outline-none",placeholder:"Optional"})]})]}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-xs text-gray-500",children:i.jsxs("p",{children:["An invite link and 6-character access code will be generated. The invite expires after ",i.jsx("strong",{children:"7 days"}),"."]})}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx(W,{type:"button",variant:"outline",className:"flex-1",onClick:()=>d(!1),children:"Cancel"}),i.jsxs(W,{type:"submit",className:"flex-1 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 text-white",disabled:x.isPending,children:[x.isPending?i.jsx(sa,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Generate Invite"]})]})]})]})}),b&&i.jsx("div",{className:"flex justify-center py-20",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-violet-500 border-t-transparent"})}),!b&&N.length===0&&i.jsxs("div",{className:"text-center py-20 bg-white rounded-xl border border-gray-200",children:[i.jsx(Gp,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No invites yet"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create an invite to share the private off-market collection with a client"})]}),!b&&N.length>0&&i.jsx("div",{className:"space-y-4",children:N.map(L=>{const q=L.property_title||"Off-Market Collection";return i.jsx("div",{className:`bg-white rounded-xl border overflow-hidden transition-all ${L.is_expired?"border-gray-200 opacity-75":"border-violet-200 shadow-sm"}`,children:i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-5",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold ${L.is_expired?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:L.is_expired?i.jsxs(i.Fragment,{children:[i.jsx(Wp,{className:"h-3 w-3"})," Expired"]}):i.jsxs(i.Fragment,{children:[i.jsx(ra,{className:"h-3 w-3"})," Active"]})}),i.jsx("span",{className:"text-xs text-gray-400",children:C(L.created_at)})]}),i.jsx("h3",{className:"font-semibold text-gray-900 mb-2 truncate",children:q}),(L.client_name||L.client_email)&&i.jsxs("div",{className:"text-sm text-gray-500 mb-3",children:[L.client_name&&i.jsx("span",{className:"font-medium text-gray-700",children:L.client_name}),L.client_name&&L.client_email&&i.jsx("span",{className:"mx-1",children:""}),L.client_email&&i.jsx("a",{href:`mailto:${L.client_email}`,className:"hover:text-violet-600",children:L.client_email})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg px-3 py-2 text-xs",children:[i.jsx(Ka,{className:"h-3.5 w-3.5 text-gray-400 flex-shrink-0"}),i.jsx("code",{className:"text-violet-600 truncate flex-1",children:L.invite_link}),i.jsx("button",{onClick:()=>j(L.invite_link,`link-${L.id}`),className:"p-1 rounded hover:bg-gray-200 text-gray-400 transition-colors flex-shrink-0",title:"Copy link",children:o===`link-${L.id}`?i.jsx(Br,{className:"h-3.5 w-3.5 text-green-500"}):i.jsx(Qo,{className:"h-3.5 w-3.5"})}),i.jsx("a",{href:L.invite_link,target:"_blank",rel:"noopener noreferrer",className:"p-1 rounded hover:bg-gray-200 text-gray-400 transition-colors flex-shrink-0",title:"Open link",children:i.jsx(kh,{className:"h-3.5 w-3.5"})})]})]}),i.jsx("div",{className:"lg:w-64 flex-shrink-0",children:i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Access Code"}),i.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg border border-gray-200 px-3 py-2.5 mb-3",children:[i.jsx("code",{className:"font-mono text-lg font-bold tracking-widest text-gray-800",children:r[L.id]?L.access_code:""}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>S(L.id),className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:r[L.id]?i.jsx(jN,{className:"h-4 w-4"}):i.jsx(NN,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>j(L.access_code,`code-${L.id}`),className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:o===`code-${L.id}`?i.jsx(Br,{className:"h-4 w-4 text-green-500"}):i.jsx(Qo,{className:"h-4 w-4"})})]})]}),L.is_expired?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-red-600 text-xs font-medium",children:[i.jsx(Wp,{className:"h-3.5 w-3.5"})," Expired"]}),i.jsxs(W,{size:"sm",variant:"outline",className:"w-full border-violet-300 text-violet-700 hover:bg-violet-50",onClick:()=>m.mutate(L.id),disabled:m.isPending,children:[i.jsx(sa,{className:`h-3.5 w-3.5 mr-2 ${m.isPending?"animate-spin":""}`}),"Regenerate (7 days)"]})]}):i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 text-xs font-medium",children:[i.jsx(ra,{className:"h-3.5 w-3.5"})," Active"]}),L.expires_at&&i.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs",children:[i.jsx(Hp,{className:"h-3 w-3"}),E(L.expires_at)||"Expiring soon"]})]})]})}),i.jsx("div",{className:"lg:w-10 flex lg:flex-col items-center gap-2",children:l===L.id?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>v.mutate(L.id),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Confirm",children:i.jsx(Br,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>c(null),className:"p-2 rounded-lg bg-gray-50 text-gray-400 hover:bg-gray-100 transition-colors",title:"Cancel",children:""})]}):i.jsx("button",{onClick:()=>c(L.id),className:"p-2 rounded-lg text-gray-300 hover:text-red-500 hover:bg-red-50 transition-colors",title:"Delete",children:i.jsx(Ns,{className:"h-4 w-4"})})})]})})},L.id)})}),R.total_pages>1&&i.jsxs("div",{className:"flex items-center justify-center gap-3 pt-4",children:[i.jsxs(W,{variant:"outline",size:"sm",onClick:()=>n(L=>Math.max(1,L-1)),disabled:e<=1,children:[i.jsx(SN,{className:"h-4 w-4 mr-1"})," Previous"]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",e," of ",R.total_pages]}),i.jsxs(W,{variant:"outline",size:"sm",onClick:()=>n(L=>Math.min(R.total_pages,L+1)),disabled:e>=R.total_pages,children:["Next ",i.jsx(CN,{className:"h-4 w-4 ml-1"})]})]})]})}const Am=[{key:"todo",label:"Backlog",color:"bg-amber-50",accent:"border-amber-200",dot:"bg-amber-500"},{key:"in_progress",label:"In Progress",color:"bg-sky-50",accent:"border-sky-200",dot:"bg-sky-500"},{key:"done",label:"Complete",color:"bg-emerald-50",accent:"border-emerald-200",dot:"bg-emerald-600"},{key:"nicetohave",label:"Nice to Have",color:"bg-fuchsia-50",accent:"border-fuchsia-200",dot:"bg-fuchsia-600"}];function Y6(){var q;const t=_t(),[e,n]=h.useState(""),[r,s]=h.useState({title:"",author:"",description:""}),[o,a]=h.useState(""),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,g]=h.useState(null),[w,y]=h.useState(null),p=Yx(wc(Hc)),{data:b}=Xe({queryKey:["todos",e],queryFn:async()=>(await V.get(`/todos?q=${encodeURIComponent(e)}`)).data}),x=h.useMemo(()=>{var I;return((I=b==null?void 0:b.data)==null?void 0:I.items)||[]},[b]),[m,v]=h.useState(x);h.useEffect(()=>{v(x)},[x]),h.useEffect(()=>{if(!f){y(null);return}const I=x.find(F=>F.id===f.id)||f;g(I),y({...I})},[x,f]);const S=xe({mutationFn:async()=>{d(null);const I=x.length;await V.post("/todos",{...r,priority:I})},onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),s({title:"",author:"",description:""}),a(""),c(!1)},onError:I=>{var $,M;const F=((M=($=I==null?void 0:I.response)==null?void 0:$.data)==null?void 0:M.error)||(I==null?void 0:I.message)||"Save failed";d(F)}}),j=xe({mutationFn:async I=>{await V.put(`/todos/${I.id}`,I)},onSuccess:()=>t.invalidateQueries({queryKey:["todos"]})}),E=xe({mutationFn:async I=>{await V.post("/todos/reorder",{items:I})},onSuccess:()=>t.invalidateQueries({queryKey:["todos"]})}),C=xe({mutationFn:async I=>V.delete(`/todos/${I}`),onSuccess:()=>t.invalidateQueries({queryKey:["todos"]})}),N=xe({mutationFn:async({id:I,content:F,author:$})=>V.post(`/todos/${I}/comments`,{content:F,author:$}),onSuccess:()=>t.invalidateQueries({queryKey:["todos"]})}),R=h.useMemo(()=>{const I={todo:[],nicetohave:[],in_progress:[],done:[]};return m.forEach(F=>{const $=I[F.status]?F.status:"todo";I[$].push(F)}),Object.keys(I).forEach(F=>I[F]=I[F].sort(($,M)=>$.priority-M.priority)),I},[m]),k=I=>{if(!(!I&&I!==0))return typeof I=="string"&&["todo","nicetohave","in_progress","done"].includes(I)?I:Object.keys(R).find(F=>R[F].some($=>$.id===I))},_=I=>{var Y,ee,Z,ve,ue,Be,T,A,z,G;const{active:F,over:$}=I;if(!$)return;const M=((Z=(ee=(Y=F.data)==null?void 0:Y.current)==null?void 0:ee.sortable)==null?void 0:Z.containerId)||((ue=(ve=F.data)==null?void 0:ve.current)==null?void 0:ue.containerId)||k(F.id),U=((A=(T=(Be=$.data)==null?void 0:Be.current)==null?void 0:T.sortable)==null?void 0:A.containerId)||((G=(z=$.data)==null?void 0:z.current)==null?void 0:G.containerId)||k($.id);!M||!U||M===U||v(H=>{const re={todo:[],nicetohave:[],in_progress:[],done:[]};H.forEach(ye=>{const We=re[ye.status]?ye.status:"todo";re[We].push(ye)});const oe=re[M].findIndex(ye=>ye.id===F.id),me=re[U].findIndex(ye=>ye.id===$.id);if(oe<0)return H;const[K]=re[M].splice(oe,1),ie=me>=0?me:re[U].length;re[U].splice(ie,0,{...K,status:U});const pe=[];return Object.keys(re).forEach(ye=>{re[ye].forEach((We,De)=>pe.push({...We,priority:De,status:ye}))}),pe})},D=I=>{var Y,ee,Z,ve,ue,Be,T,A,z,G;const{active:F,over:$}=I;if(!$)return;const M=((Z=(ee=(Y=F.data)==null?void 0:Y.current)==null?void 0:ee.sortable)==null?void 0:Z.containerId)||((ue=(ve=F.data)==null?void 0:ve.current)==null?void 0:ue.containerId)||k(F.id),U=((A=(T=(Be=$.data)==null?void 0:Be.current)==null?void 0:T.sortable)==null?void 0:A.containerId)||((G=(z=$.data)==null?void 0:z.current)==null?void 0:G.containerId)||k($.id);!M||!U||v(H=>{const re={todo:[],nicetohave:[],in_progress:[],done:[]};if(H.forEach(K=>{const ie=re[K.status]?K.status:"todo";re[ie].push(K)}),M===U){const K=re[M].findIndex(pe=>pe.id===F.id),ie=re[U].findIndex(pe=>pe.id===$.id);if(K<0||ie<0)return H;re[M]=Kc(re[M],K,ie)}else{const K=re[M].findIndex(ye=>ye.id===F.id),ie=re[U].findIndex(ye=>ye.id===$.id);if(K<0)return H;const[pe]=re[M].splice(K,1);re[U].splice(ie>=0?ie:re[U].length,0,{...pe,status:U})}const oe=[];Object.keys(re).forEach(K=>{re[K].forEach((ie,pe)=>oe.push({...ie,priority:pe,status:K}))});const me=oe.map(K=>({id:K.id,priority:K.priority,status:K.status}));return E.mutate(me),oe})},L=()=>{w&&(j.mutate({id:w.id,title:w.title,author:w.author,description:w.description,status:w.status}),g(null))};return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[i.jsxs("div",{className:"p-6 flex items-start justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-900 text-slate-50 text-xs font-semibold uppercase tracking-[0.2em]",children:[i.jsx(eM,{className:"h-4 w-4"})," Mini Trello"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Sprint Board"}),i.jsx("span",{className:"text-xs px-2.5 py-1 rounded-full bg-slate-100 border border-slate-200",children:"Drag & drop, editable cards"})]}),i.jsx("p",{className:"text-sm text-slate-500 max-w-2xl",children:"Move cards between columns, open to update title, author, status, description."})]}),i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Wx,{className:"h-4 w-4 text-slate-400 absolute left-2 top-3"}),i.jsx(Q,{className:"pl-8 w-64",placeholder:"Search by title or author",value:e,onChange:I=>n(I.target.value)})]}),i.jsxs(dg,{open:l,onOpenChange:c,children:[i.jsx(QE,{asChild:!0,children:i.jsxs(W,{children:[i.jsx(Qt,{className:"h-4 w-4 mr-2"}),"New Task"]})}),i.jsxs(Kd,{className:"max-w-5xl max-h-[85vh] overflow-y-auto",children:[i.jsxs(Av,{children:[i.jsx(kv,{children:"New card"}),i.jsx(Rv,{children:"Enter title, author, and description in rich text."})]}),i.jsxs("div",{className:"space-y-3",children:[u&&i.jsx("div",{className:"rounded-md border border-red-300 bg-red-50 text-red-700 text-sm px-3 py-2",children:u}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(J,{children:"Title"}),i.jsx(Q,{value:r.title,onChange:I=>s(F=>({...F,title:I.target.value}))})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Author"}),i.jsx(Q,{value:r.author,onChange:I=>s(F=>({...F,author:I.target.value}))})]})]}),i.jsxs("div",{children:[i.jsx(J,{children:"Description"}),i.jsx(La,{value:o,onChange:I=>{a(I),s(F=>({...F,description:I}))}})]}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 text-slate-500",children:[i.jsx(sM,{className:"h-4 w-4"})," New cards start in Backlog."]}),i.jsxs(W,{onClick:()=>S.mutate(),disabled:S.isPending||!r.title.trim()||!r.author.trim(),children:[S.isPending?i.jsx(vc,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]})]})]}),i.jsx("div",{className:"px-6 pb-6",children:i.jsx(ev,{sensors:p,collisionDetection:Xx,onDragOver:_,onDragEnd:D,children:i.jsx("div",{className:"w-full overflow-x-auto",children:i.jsx("div",{className:"flex gap-4 min-w-[1000px]",children:Am.map(I=>i.jsx(J6,{col:I,items:R[I.key],onSelect:g},I.key))})})})})]}),i.jsx(dg,{open:!!f,onOpenChange:I=>!I&&g(null),children:i.jsx(Kd,{className:"max-w-5xl max-h-[85vh] overflow-y-auto",children:w&&i.jsxs("div",{className:"space-y-5",children:[i.jsx("div",{className:"flex items-start gap-3",children:i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(ao,{variant:"secondary",className:"bg-slate-900/10 text-slate-900 border-slate-200",children:w.author||"Anon"}),i.jsx(ao,{variant:"outline",children:(q=Am.find(I=>I.key===w.status))==null?void 0:q.label}),i.jsxs("span",{className:"text-xs text-muted-foreground inline-flex items-center gap-1",children:[i.jsx(zL,{className:"h-3 w-3"})," id ",w.id]})]}),i.jsx(Q,{value:w.title,onChange:I=>y(F=>F&&{...F,title:I.target.value}),className:"text-lg font-semibold"})]})}),i.jsxs("div",{className:"space-y-3 max-w-md",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(J,{children:"Author"}),i.jsx(Q,{value:w.author,onChange:I=>y(F=>F&&{...F,author:I.target.value})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(J,{children:"Status"}),i.jsxs(Vt,{value:w.status,onValueChange:I=>y(F=>F&&{...F,status:I}),children:[i.jsx(It,{className:"w-full",children:i.jsx(Ht,{})}),i.jsx(Ft,{children:Am.map(I=>i.jsx(ae,{value:I.key,children:I.label},I.key))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(J,{children:"Description"}),i.jsx(La,{value:w.description||"",onChange:I=>y(F=>F&&{...F,description:I})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(RN,{className:"h-4 w-4"}),"Comments"]}),i.jsx("div",{className:"space-y-2 max-h-56 overflow-y-auto pr-1",children:w.comments.map(I=>i.jsxs("div",{className:"bg-muted/40 px-3 py-2 rounded text-sm border border-muted",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold",children:I.author}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(I.created_at).toLocaleString()})]}),i.jsx("div",{className:"text-muted-foreground",children:I.content})]},I.id))}),i.jsx(X6,{onSubmit:(I,F)=>f&&N.mutate({id:f.id,content:I,author:F})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs(W,{variant:"destructive",onClick:()=>f&&C.mutate(f.id),children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"})," Delete"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(W,{variant:"outline",onClick:()=>g(null),children:"Cancel"}),i.jsxs(W,{onClick:L,disabled:j.isPending,children:[j.isPending?i.jsx(vc,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(Br,{className:"h-4 w-4 mr-2"}),"Save changes"]})]})]})]})})})]})}function X6({onSubmit:t}){const[e,n]=h.useState(""),[r,s]=h.useState("");return i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(Q,{placeholder:"Author",value:r,onChange:o=>s(o.target.value)}),i.jsx(tt,{placeholder:"Add a comment...",value:e,onChange:o=>n(o.target.value),rows:2}),i.jsx("div",{className:"flex justify-end",children:i.jsx(W,{size:"sm",onClick:()=>{e.trim()&&(t(e.trim(),r||"Anon"),n(""))},children:"Post"})})]})}function J6({col:t,items:e,onSelect:n}){const{setNodeRef:r}=XN({id:t.key,data:{containerId:t.key}});return i.jsx("div",{ref:r,className:"flex-1 min-w-[240px]",children:i.jsxs("div",{className:`rounded-xl p-3 space-y-3 ${t.color} border ${t.accent}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`h-2.5 w-2.5 rounded-full ${t.dot}`}),i.jsx("div",{className:"font-semibold text-sm tracking-tight",children:t.label})]}),i.jsx(ao,{variant:"outline",children:e.length})]}),i.jsx(nv,{id:t.key,items:e.map(s=>s.id),strategy:tv,children:i.jsxs("div",{className:"space-y-3 min-h-[120px]",children:[e.map(s=>i.jsx(Z6,{id:s.id,columnKey:t.key,onSelect:n,item:s,accent:t.accent},s.id)),e.length===0&&i.jsx("div",{className:"text-sm text-muted-foreground py-6 text-center border border-dashed border-slate-200 rounded-lg",children:"Drag here or create a card."})]})})]})})}function Z6({id:t,columnKey:e,onSelect:n,item:r,accent:s}){const{attributes:o,listeners:a,setNodeRef:l,transform:c,transition:u,isDragging:d}=rv({id:t,data:{sortable:{containerId:e},containerId:e}}),f={transform:oo.Transform.toString(c),transition:u,opacity:d?.7:1,cursor:"grab"};return i.jsx(he,{ref:l,style:f,className:`shadow-sm border ${s} bg-white cursor-pointer`,onClick:()=>n(r),children:i.jsxs(ge,{className:"py-3 flex items-center gap-2",children:[i.jsx("span",{className:"p-1",...o,...a,children:i.jsx(js,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx("div",{className:`font-semibold ${r.status==="done"?"line-through text-muted-foreground":""}`,children:r.title})]})})}function eq({children:t}){const e=Ot(),{isAuthenticated:n,token:r,expiresAt:s,logout:o,refreshSession:a}=xc(u=>({isAuthenticated:u.isAuthenticated,token:u.token,expiresAt:u.expiresAt,logout:u.logout,refreshSession:u.refreshSession})),[l,c]=h.useState(!0);return h.useEffect(()=>{if(!n||!r||!s){o(),e("/login",{replace:!0});return}const u=Date.now();if(s<=u){o(),e("/login",{replace:!0});return}let d=!1;(async()=>{var w,y,p;try{const x=(p=(y=(w=(await V.post("/auth/verify")).data)==null?void 0:w.data)==null?void 0:y.user)==null?void 0:p.exp;if(x){const m=x*1e3;a(m)}d||c(!1)}catch{d||(o(),e("/login",{replace:!0}))}})();const g=window.setTimeout(()=>{o(),e("/login",{replace:!0})},Math.max(0,s-u));return()=>{d=!0,clearTimeout(g)}},[n,r,s,o,e,a]),!n||!r?i.jsx(jj,{to:"/login",replace:!0}):l?null:i.jsx(i.Fragment,{children:t})}function tq(){return i.jsxs(W2,{children:[i.jsx(Oe,{path:"/login",element:i.jsx(LL,{})}),i.jsxs(Oe,{path:"/",element:i.jsx(eq,{children:i.jsx(aM,{})}),children:[i.jsx(Oe,{index:!0,element:i.jsx(lM,{})}),i.jsx(Oe,{path:"properties",element:i.jsx(u$,{})}),i.jsx(Oe,{path:"properties/new",element:i.jsx(Em,{})}),i.jsx(Oe,{path:"properties/import-json",element:i.jsx(kz,{})}),i.jsx(Oe,{path:"properties/:id",element:i.jsx(Em,{})}),i.jsx(Oe,{path:"properties/:id/edit",element:i.jsx(Em,{})}),i.jsx(Oe,{path:"blogs",element:i.jsx(L6,{})}),i.jsx(Oe,{path:"blogs/new",element:i.jsx(Fw,{})}),i.jsx(Oe,{path:"blogs/:id/edit",element:i.jsx(Fw,{})}),i.jsx(Oe,{path:"photogallery",element:i.jsx(M6,{})}),i.jsx(Oe,{path:"photogallery/upload",element:i.jsx(Bw,{})}),i.jsx(Oe,{path:"photogallery/:id/edit",element:i.jsx(Bw,{})}),i.jsx(Oe,{path:"videos",element:i.jsx(I6,{})}),i.jsx(Oe,{path:"videos/new",element:i.jsx($w,{})}),i.jsx(Oe,{path:"videos/:id/edit",element:i.jsx($w,{})}),i.jsx(Oe,{path:"testimonials",element:i.jsx(F6,{})}),i.jsx(Oe,{path:"testimonials/new",element:i.jsx(Uw,{})}),i.jsx(Oe,{path:"testimonials/:id/edit",element:i.jsx(Uw,{})}),i.jsx(Oe,{path:"redirects",element:i.jsx($6,{})}),i.jsx(Oe,{path:"feedbacks",element:i.jsx(jj,{to:"/testimonials",replace:!0})}),i.jsx(Oe,{path:"landing-pages",element:i.jsx(z6,{})}),i.jsx(Oe,{path:"cities",element:i.jsx(q6,{})}),i.jsx(Oe,{path:"cities/new",element:i.jsx(qw,{})}),i.jsx(Oe,{path:"cities/:id/edit",element:i.jsx(qw,{})}),i.jsx(Oe,{path:"areas",element:i.jsx(V6,{})}),i.jsx(Oe,{path:"areas/new",element:i.jsx(Ww,{})}),i.jsx(Oe,{path:"areas/:id/edit",element:i.jsx(Ww,{})}),i.jsx(Oe,{path:"buyers-guide",element:i.jsx(K6,{})}),i.jsx(Oe,{path:"access-requests",element:i.jsx(G6,{})}),i.jsx(Oe,{path:"off-market-invites",element:i.jsx(Q6,{})}),i.jsx(Oe,{path:"todo",element:i.jsx(Y6,{})}),i.jsx(Oe,{path:"seo-rules",element:i.jsx(U6,{})})]})]})}const nq=new ED({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});mj(document.getElementById("root")).render(i.jsx(h.StrictMode,{children:i.jsx(_D,{client:nq,children:i.jsx(J2,{basename:"/admin/",children:i.jsx(tq,{})})})}));
