var Lx=t=>{throw TypeError(t)};var Yh=(t,e,n)=>e.has(t)||Lx("Cannot "+n);var R=(t,e,n)=>(Yh(t,e,"read from private field"),n?n.call(t):e.get(t)),re=(t,e,n)=>e.has(t)?Lx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),K=(t,e,n,r)=>(Yh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xe=(t,e,n)=>(Yh(t,e,"access private method"),n);var Wc=(t,e,n,r)=>({set _(i){K(t,e,i,n)},get _(){return R(t,e,r)}});function nk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ow={exports:{}},Kd={},Lw={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=Symbol.for("react.element"),rk=Symbol.for("react.portal"),ik=Symbol.for("react.fragment"),sk=Symbol.for("react.strict_mode"),ok=Symbol.for("react.profiler"),ak=Symbol.for("react.provider"),lk=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),uk=Symbol.for("react.suspense"),dk=Symbol.for("react.memo"),hk=Symbol.for("react.lazy"),Ix=Symbol.iterator;function fk(t){return t===null||typeof t!="object"?null:(t=Ix&&t[Ix]||t["@@iterator"],typeof t=="function"?t:null)}var Iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mw=Object.assign,Fw={};function Ra(t,e,n){this.props=t,this.context=e,this.refs=Fw,this.updater=n||Iw}Ra.prototype.isReactComponent={};Ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bw(){}Bw.prototype=Ra.prototype;function vg(t,e,n){this.props=t,this.context=e,this.refs=Fw,this.updater=n||Iw}var xg=vg.prototype=new Bw;xg.constructor=vg;Mw(xg,Ra.prototype);xg.isPureReactComponent=!0;var Mx=Array.isArray,$w=Object.prototype.hasOwnProperty,yg={current:null},Uw={key:!0,ref:!0,__self:!0,__source:!0};function zw(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)$w.call(e,r)&&!Uw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ec,type:t,key:s,ref:a,props:i,_owner:yg.current}}function mk(t,e){return{$$typeof:Ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ec}function pk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fx=/\/+/g;function Xh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pk(""+t.key):e.toString(36)}function Cu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ec:case rk:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Xh(a,0):r,Mx(i)?(n="",t!=null&&(n=t.replace(Fx,"$&/")+"/"),Cu(i,e,n,"",function(u){return u})):i!=null&&(bg(i)&&(i=mk(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Fx,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Mx(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Xh(s,l);a+=Cu(s,e,n,c,i)}else if(c=fk(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Xh(s,l++),a+=Cu(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qc(t,e,n){if(t==null)return t;var r=[],i=0;return Cu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},Nu={transition:null},vk={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:yg};function Ww(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:qc,forEach:function(t,e,n){qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qc(t,function(){e++}),e},toArray:function(t){return qc(t,function(e){return e})||[]},only:function(t){if(!bg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Ra;Ce.Fragment=ik;Ce.Profiler=ok;Ce.PureComponent=vg;Ce.StrictMode=sk;Ce.Suspense=uk;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;Ce.act=Ww;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Mw({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=yg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)$w.call(e,c)&&!Uw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ec,type:t.type,key:i,ref:s,props:r,_owner:a}};Ce.createContext=function(t){return t={$$typeof:lk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ak,_context:t},t.Consumer=t};Ce.createElement=zw;Ce.createFactory=function(t){var e=zw.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:ck,render:t}};Ce.isValidElement=bg;Ce.lazy=function(t){return{$$typeof:hk,_payload:{_status:-1,_result:t},_init:gk}};Ce.memo=function(t,e){return{$$typeof:dk,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Nu.transition;Nu.transition={};try{t()}finally{Nu.transition=e}};Ce.unstable_act=Ww;Ce.useCallback=function(t,e){return dn.current.useCallback(t,e)};Ce.useContext=function(t){return dn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return dn.current.useEffect(t,e)};Ce.useId=function(){return dn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return dn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Ce.useRef=function(t){return dn.current.useRef(t)};Ce.useState=function(t){return dn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return dn.current.useTransition()};Ce.version="18.3.1";Lw.exports=Ce;var h=Lw.exports;const Ne=gg(h),Gd=nk({__proto__:null,default:Ne},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xk=h,yk=Symbol.for("react.element"),bk=Symbol.for("react.fragment"),wk=Object.prototype.hasOwnProperty,Sk=xk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ck={key:!0,ref:!0,__self:!0,__source:!0};function qw(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)wk.call(e,r)&&!Ck.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yk,type:t,key:s,ref:a,props:i,_owner:Sk.current}}Kd.Fragment=bk;Kd.jsx=qw;Kd.jsxs=qw;Ow.exports=Kd;var o=Ow.exports,Vw={exports:{}},On={},Hw={exports:{}},Kw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var G=O.length;O.push(L);e:for(;0<G;){var Z=G-1>>>1,V=O[Z];if(0<i(V,L))O[Z]=L,O[G]=V,G=Z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],G=O.pop();if(G!==L){O[0]=G;e:for(var Z=0,V=O.length,ke=V>>>1;Z<ke;){var ie=2*(Z+1)-1,He=O[ie],ne=ie+1,Y=O[ne];if(0>i(He,G))ne<V&&0>i(Y,He)?(O[Z]=Y,O[ne]=G,Z=ne):(O[Z]=He,O[ie]=G,Z=ie);else if(ne<V&&0>i(Y,G))O[Z]=Y,O[ne]=G,Z=ne;else break e}}return L}function i(O,L){var G=O.sortIndex-L.sortIndex;return G!==0?G:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,x=3,S=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=O)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function p(O){if(v=!1,m(O),!y)if(n(c)!==null)y=!0,z(C);else{var L=n(u);L!==null&&Q(p,L.startTime-O)}}function C(O,L){y=!1,v&&(v=!1,b(E),E=-1),S=!0;var G=x;try{for(m(L),f=n(c);f!==null&&(!(f.expirationTime>L)||O&&!k());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,x=f.priorityLevel;var V=Z(f.expirationTime<=L);L=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),m(L)}else r(c);f=n(c)}if(f!==null)var ke=!0;else{var ie=n(u);ie!==null&&Q(p,ie.startTime-L),ke=!1}return ke}finally{f=null,x=G,S=!1}}var j=!1,N=null,E=-1,_=5,A=-1;function k(){return!(t.unstable_now()-A<_)}function P(){if(N!==null){var O=t.unstable_now();A=O;var L=!0;try{L=N(!0,O)}finally{L?M():(j=!1,N=null)}}else j=!1}var M;if(typeof g=="function")M=function(){g(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=P,M=function(){X.postMessage(null)}}else M=function(){w(P,0)};function z(O){N=O,j||(j=!0,M())}function Q(O,L){E=w(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||S||(y=!0,z(C))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var G=x;x=L;try{return O()}finally{x=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=x;x=O;try{return L()}finally{x=G}},t.unstable_scheduleCallback=function(O,L,G){var Z=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=G+V,O={id:d++,callback:L,priorityLevel:O,startTime:G,expirationTime:V,sortIndex:-1},G>Z?(O.sortIndex=G,e(u,O),n(c)===null&&O===n(u)&&(v?(b(E),E=-1):v=!0,Q(p,G-Z))):(O.sortIndex=V,e(c,O),y||S||(y=!0,z(C))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var L=x;return function(){var G=x;x=L;try{return O.apply(this,arguments)}finally{x=G}}}})(Kw);Hw.exports=Kw;var Nk=Hw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk=h,Dn=Nk;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gw=new Set,ql={};function ho(t,e){va(t,e),va(t+"Capture",e)}function va(t,e){for(ql[t]=e,t=0;t<e.length;t++)Gw.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=Object.prototype.hasOwnProperty,Ek=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bx={},$x={};function Ak(t){return ym.call($x,t)?!0:ym.call(Bx,t)?!1:Ek.test(t)?$x[t]=!0:(Bx[t]=!0,!1)}function _k(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kk(t,e,n,r){if(e===null||typeof e>"u"||_k(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var wg=/[\-:]([a-z])/g;function Sg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wg,Sg);Mt[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wg,Sg);Mt[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wg,Sg);Mt[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cg(t,e,n,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kk(e,n,i,r)&&(n=null),r||i===null?Ak(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),Qw=Symbol.for("react.provider"),Yw=Symbol.for("react.context"),jg=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),Eg=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),Xw=Symbol.for("react.offscreen"),Ux=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=Ux&&t[Ux]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Jh;function xl(t){if(Jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jh=e&&e[1]||""}return`
`+Jh+t}var Zh=!1;function ef(t,e){if(!t||Zh)return"";Zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xl(t):""}function Rk(t){switch(t.tag){case 5:return xl(t.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return t=ef(t.type,!1),t;case 11:return t=ef(t.type.render,!1),t;case 1:return t=ef(t.type,!0),t;default:return""}}function Cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oo:return"Fragment";case Do:return"Portal";case bm:return"Profiler";case Ng:return"StrictMode";case wm:return"Suspense";case Sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yw:return(t.displayName||"Context")+".Consumer";case Qw:return(t._context.displayName||"Context")+".Provider";case jg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Eg:return e=t.displayName||null,e!==null?e:Cm(t.type)||"Memo";case Oi:e=t._payload,t=t._init;try{return Cm(t(e))}catch{}}return null}function Tk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cm(e);case 8:return e===Ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pk(t){var e=Jw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=Pk(t))}function Zw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nm(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eS(t,e){e=e.checked,e!=null&&Cg(t,"checked",e,!1)}function jm(t,e){eS(t,e);var n=us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Em(t,e.type,n):e.hasOwnProperty("defaultValue")&&Em(t,e.type,us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Em(t,e,n){(e!=="number"||Gu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yl=Array.isArray;function Vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+us(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(yl(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:us(n)}}function tS(t,e){var n=us(e.value),r=us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _m(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kc,rS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dk=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(t){Dk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jl[e]=jl[t]})});function iS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jl.hasOwnProperty(t)&&jl[t]?(""+e).trim():e+"px"}function sS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ok=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(t,e){if(e){if(Ok[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Rm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tm=null;function Ag(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pm=null,Ho=null,Ko=null;function Hx(t){if(t=kc(t)){if(typeof Pm!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Zd(e),Pm(t.stateNode,t.type,e))}}function oS(t){Ho?Ko?Ko.push(t):Ko=[t]:Ho=t}function aS(){if(Ho){var t=Ho,e=Ko;if(Ko=Ho=null,Hx(t),e)for(t=0;t<e.length;t++)Hx(e[t])}}function lS(t,e){return t(e)}function cS(){}var tf=!1;function uS(t,e,n){if(tf)return t(e,n);tf=!0;try{return lS(t,e,n)}finally{tf=!1,(Ho!==null||Ko!==null)&&(cS(),aS())}}function Hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Zd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Dm=!1;if(ui)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Dm=!1}function Lk(t,e,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var El=!1,Qu=null,Yu=!1,Om=null,Ik={onError:function(t){El=!0,Qu=t}};function Mk(t,e,n,r,i,s,a,l,c){El=!1,Qu=null,Lk.apply(Ik,arguments)}function Fk(t,e,n,r,i,s,a,l,c){if(Mk.apply(this,arguments),El){if(El){var u=Qu;El=!1,Qu=null}else throw Error(F(198));Yu||(Yu=!0,Om=u)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kx(t){if(fo(t)!==t)throw Error(F(188))}function Bk(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kx(i),t;if(s===r)return Kx(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function hS(t){return t=Bk(t),t!==null?fS(t):null}function fS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fS(t);if(e!==null)return e;t=t.sibling}return null}var mS=Dn.unstable_scheduleCallback,Gx=Dn.unstable_cancelCallback,$k=Dn.unstable_shouldYield,Uk=Dn.unstable_requestPaint,mt=Dn.unstable_now,zk=Dn.unstable_getCurrentPriorityLevel,_g=Dn.unstable_ImmediatePriority,pS=Dn.unstable_UserBlockingPriority,Xu=Dn.unstable_NormalPriority,Wk=Dn.unstable_LowPriority,gS=Dn.unstable_IdlePriority,Qd=null,Lr=null;function qk(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(Qd,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Kk,Vk=Math.log,Hk=Math.LN2;function Kk(t){return t>>>=0,t===0?32:31-(Vk(t)/Hk|0)|0}var Gc=64,Qc=4194304;function bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ju(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=bl(l):(s&=a,s!==0&&(r=bl(s)))}else a=n&~i,a!==0?r=bl(a):s!==0&&(r=bl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function Gk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ur(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=Gk(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Lm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vS(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function Yk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function kg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function xS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yS,Rg,bS,wS,SS,Im=!1,Yc=[],Zi=null,es=null,ts=null,Kl=new Map,Gl=new Map,Fi=[],Xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qx(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(e.pointerId)}}function el(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=kc(e),e!==null&&Rg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jk(t,e,n,r,i){switch(e){case"focusin":return Zi=el(Zi,t,e,n,r,i),!0;case"dragenter":return es=el(es,t,e,n,r,i),!0;case"mouseover":return ts=el(ts,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kl.set(s,el(Kl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gl.set(s,el(Gl.get(s)||null,t,e,n,r,i)),!0}return!1}function CS(t){var e=ks(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=dS(n),e!==null){t.blockedOn=e,SS(t.priority,function(){bS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tm=r,n.target.dispatchEvent(r),Tm=null}else return e=kc(n),e!==null&&Rg(e),t.blockedOn=n,!1;e.shift()}return!0}function Yx(t,e,n){ju(t)&&n.delete(e)}function Zk(){Im=!1,Zi!==null&&ju(Zi)&&(Zi=null),es!==null&&ju(es)&&(es=null),ts!==null&&ju(ts)&&(ts=null),Kl.forEach(Yx),Gl.forEach(Yx)}function tl(t,e){t.blockedOn===e&&(t.blockedOn=null,Im||(Im=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,Zk)))}function Ql(t){function e(i){return tl(i,t)}if(0<Yc.length){tl(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&tl(Zi,t),es!==null&&tl(es,t),ts!==null&&tl(ts,t),Kl.forEach(e),Gl.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)CS(n),n.blockedOn===null&&Fi.shift()}var Go=gi.ReactCurrentBatchConfig,Zu=!0;function eR(t,e,n,r){var i=We,s=Go.transition;Go.transition=null;try{We=1,Tg(t,e,n,r)}finally{We=i,Go.transition=s}}function tR(t,e,n,r){var i=We,s=Go.transition;Go.transition=null;try{We=4,Tg(t,e,n,r)}finally{We=i,Go.transition=s}}function Tg(t,e,n,r){if(Zu){var i=Mm(t,e,n,r);if(i===null)ff(t,e,r,ed,n),Qx(t,r);else if(Jk(i,t,e,n,r))r.stopPropagation();else if(Qx(t,r),e&4&&-1<Xk.indexOf(t)){for(;i!==null;){var s=kc(i);if(s!==null&&yS(s),s=Mm(t,e,n,r),s===null&&ff(t,e,r,ed,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ff(t,e,r,null,n)}}var ed=null;function Mm(t,e,n,r){if(ed=null,t=Ag(r),t=ks(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ed=t,null}function NS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zk()){case _g:return 1;case pS:return 4;case Xu:case Wk:return 16;case gS:return 536870912;default:return 16}default:return 16}}var Yi=null,Pg=null,Eu=null;function jS(){if(Eu)return Eu;var t,e=Pg,n=e.length,r,i="value"in Yi?Yi.value:Yi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Eu=i.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function Xx(){return!1}function Ln(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xc:Xx,this.isPropagationStopped=Xx,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dg=Ln(Ta),_c=st({},Ta,{view:0,detail:0}),nR=Ln(_c),rf,sf,nl,Yd=st({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(rf=t.screenX-nl.screenX,sf=t.screenY-nl.screenY):sf=rf=0,nl=t),rf)},movementY:function(t){return"movementY"in t?t.movementY:sf}}),Jx=Ln(Yd),rR=st({},Yd,{dataTransfer:0}),iR=Ln(rR),sR=st({},_c,{relatedTarget:0}),of=Ln(sR),oR=st({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),aR=Ln(oR),lR=st({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cR=Ln(lR),uR=st({},Ta,{data:0}),Zx=Ln(uR),dR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fR[t])?!!e[t]:!1}function Og(){return mR}var pR=st({},_c,{key:function(t){if(t.key){var e=dR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Og,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gR=Ln(pR),vR=st({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ey=Ln(vR),xR=st({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Og}),yR=Ln(xR),bR=st({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),wR=Ln(bR),SR=st({},Yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CR=Ln(SR),NR=[9,13,27,32],Lg=ui&&"CompositionEvent"in window,Al=null;ui&&"documentMode"in document&&(Al=document.documentMode);var jR=ui&&"TextEvent"in window&&!Al,ES=ui&&(!Lg||Al&&8<Al&&11>=Al),ty=" ",ny=!1;function AS(t,e){switch(t){case"keyup":return NR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _S(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function ER(t,e){switch(t){case"compositionend":return _S(e);case"keypress":return e.which!==32?null:(ny=!0,ty);case"textInput":return t=e.data,t===ty&&ny?null:t;default:return null}}function AR(t,e){if(Lo)return t==="compositionend"||!Lg&&AS(t,e)?(t=jS(),Eu=Pg=Yi=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ES&&e.locale!=="ko"?null:e.data;default:return null}}var _R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_R[t.type]:e==="textarea"}function kS(t,e,n,r){oS(r),e=td(e,"onChange"),0<e.length&&(n=new Dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,Yl=null;function kR(t){$S(t,0)}function Xd(t){var e=Fo(t);if(Zw(e))return t}function RR(t,e){if(t==="change")return e}var RS=!1;if(ui){var af;if(ui){var lf="oninput"in document;if(!lf){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),lf=typeof iy.oninput=="function"}af=lf}else af=!1;RS=af&&(!document.documentMode||9<document.documentMode)}function sy(){_l&&(_l.detachEvent("onpropertychange",TS),Yl=_l=null)}function TS(t){if(t.propertyName==="value"&&Xd(Yl)){var e=[];kS(e,Yl,t,Ag(t)),uS(kR,e)}}function TR(t,e,n){t==="focusin"?(sy(),_l=e,Yl=n,_l.attachEvent("onpropertychange",TS)):t==="focusout"&&sy()}function PR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xd(Yl)}function DR(t,e){if(t==="click")return Xd(e)}function OR(t,e){if(t==="input"||t==="change")return Xd(e)}function LR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:LR;function Xl(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ym.call(e,i)||!hr(t[i],e[i]))return!1}return!0}function oy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ay(t,e){var n=oy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oy(n)}}function PS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DS(){for(var t=window,e=Gu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gu(t.document)}return e}function Ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IR(t){var e=DS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PS(n.ownerDocument.documentElement,n)){if(r!==null&&Ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ay(n,s);var a=ay(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MR=ui&&"documentMode"in document&&11>=document.documentMode,Io=null,Fm=null,kl=null,Bm=!1;function ly(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||Io==null||Io!==Gu(r)||(r=Io,"selectionStart"in r&&Ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&Xl(kl,r)||(kl=r,r=td(Fm,"onSelect"),0<r.length&&(e=new Dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Io)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},cf={},OS={};ui&&(OS=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Jd(t){if(cf[t])return cf[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OS)return cf[t]=e[n];return t}var LS=Jd("animationend"),IS=Jd("animationiteration"),MS=Jd("animationstart"),FS=Jd("transitionend"),BS=new Map,cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){BS.set(t,e),ho(e,[t])}for(var uf=0;uf<cy.length;uf++){var df=cy[uf],FR=df.toLowerCase(),BR=df[0].toUpperCase()+df.slice(1);vs(FR,"on"+BR)}vs(LS,"onAnimationEnd");vs(IS,"onAnimationIteration");vs(MS,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(FS,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$R=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function uy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Fk(r,e,void 0,t),t.currentTarget=null}function $S(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;uy(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;uy(i,l,u),s=c}}}if(Yu)throw t=Om,Yu=!1,Om=null,t}function Ye(t,e){var n=e[qm];n===void 0&&(n=e[qm]=new Set);var r=t+"__bubble";n.has(r)||(US(e,t,2,!1),n.add(r))}function hf(t,e,n){var r=0;e&&(r|=4),US(n,t,r,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[Zc]){t[Zc]=!0,Gw.forEach(function(n){n!=="selectionchange"&&($R.has(n)||hf(n,!1,t),hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,hf("selectionchange",!1,e))}}function US(t,e,n,r){switch(NS(e)){case 1:var i=eR;break;case 4:i=tR;break;default:i=Tg}n=i.bind(null,e,n,t),i=void 0,!Dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ff(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ks(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}uS(function(){var u=s,d=Ag(n),f=[];e:{var x=BS.get(t);if(x!==void 0){var S=Dg,y=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":S=gR;break;case"focusin":y="focus",S=of;break;case"focusout":y="blur",S=of;break;case"beforeblur":case"afterblur":S=of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Jx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=iR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=yR;break;case LS:case IS:case MS:S=aR;break;case FS:S=wR;break;case"scroll":S=nR;break;case"wheel":S=CR;break;case"copy":case"cut":case"paste":S=cR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=ey}var v=(e&4)!==0,w=!v&&t==="scroll",b=v?x!==null?x+"Capture":null:x;v=[];for(var g=u,m;g!==null;){m=g;var p=m.stateNode;if(m.tag===5&&p!==null&&(m=p,b!==null&&(p=Hl(g,b),p!=null&&v.push(Zl(g,p,m)))),w)break;g=g.return}0<v.length&&(x=new S(x,y,null,n,d),f.push({event:x,listeners:v}))}}if(!(e&7)){e:{if(x=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",x&&n!==Tm&&(y=n.relatedTarget||n.fromElement)&&(ks(y)||y[di]))break e;if((S||x)&&(x=d.window===d?d:(x=d.ownerDocument)?x.defaultView||x.parentWindow:window,S?(y=n.relatedTarget||n.toElement,S=u,y=y?ks(y):null,y!==null&&(w=fo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(S=null,y=u),S!==y)){if(v=Jx,p="onMouseLeave",b="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=ey,p="onPointerLeave",b="onPointerEnter",g="pointer"),w=S==null?x:Fo(S),m=y==null?x:Fo(y),x=new v(p,g+"leave",S,n,d),x.target=w,x.relatedTarget=m,p=null,ks(d)===u&&(v=new v(b,g+"enter",y,n,d),v.target=m,v.relatedTarget=w,p=v),w=p,S&&y)t:{for(v=S,b=y,g=0,m=v;m;m=Ao(m))g++;for(m=0,p=b;p;p=Ao(p))m++;for(;0<g-m;)v=Ao(v),g--;for(;0<m-g;)b=Ao(b),m--;for(;g--;){if(v===b||b!==null&&v===b.alternate)break t;v=Ao(v),b=Ao(b)}v=null}else v=null;S!==null&&dy(f,x,S,v,!1),y!==null&&w!==null&&dy(f,w,y,v,!0)}}e:{if(x=u?Fo(u):window,S=x.nodeName&&x.nodeName.toLowerCase(),S==="select"||S==="input"&&x.type==="file")var C=RR;else if(ry(x))if(RS)C=OR;else{C=PR;var j=TR}else(S=x.nodeName)&&S.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(C=DR);if(C&&(C=C(t,u))){kS(f,C,n,d);break e}j&&j(t,x,u),t==="focusout"&&(j=x._wrapperState)&&j.controlled&&x.type==="number"&&Em(x,"number",x.value)}switch(j=u?Fo(u):window,t){case"focusin":(ry(j)||j.contentEditable==="true")&&(Io=j,Fm=u,kl=null);break;case"focusout":kl=Fm=Io=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,ly(f,n,d);break;case"selectionchange":if(MR)break;case"keydown":case"keyup":ly(f,n,d)}var N;if(Lg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Lo?AS(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ES&&n.locale!=="ko"&&(Lo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Lo&&(N=jS()):(Yi=d,Pg="value"in Yi?Yi.value:Yi.textContent,Lo=!0)),j=td(u,E),0<j.length&&(E=new Zx(E,t,null,n,d),f.push({event:E,listeners:j}),N?E.data=N:(N=_S(n),N!==null&&(E.data=N)))),(N=jR?ER(t,n):AR(t,n))&&(u=td(u,"onBeforeInput"),0<u.length&&(d=new Zx("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}$S(f,e)})}function Zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function td(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hl(t,n),s!=null&&r.unshift(Zl(t,s,i)),s=Hl(t,e),s!=null&&r.push(Zl(t,s,i))),t=t.return}return r}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dy(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Hl(n,s),c!=null&&a.unshift(Zl(n,c,l))):i||(c=Hl(n,s),c!=null&&a.push(Zl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var UR=/\r\n?/g,zR=/\u0000|\uFFFD/g;function hy(t){return(typeof t=="string"?t:""+t).replace(UR,`
`).replace(zR,"")}function eu(t,e,n){if(e=hy(e),hy(t)!==e&&n)throw Error(F(425))}function nd(){}var $m=null,Um=null;function zm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,WR=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,qR=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(t){return fy.resolve(null).then(t).catch(VR)}:Wm;function VR(t){setTimeout(function(){throw t})}function mf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ql(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function my(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Pa,ec="__reactProps$"+Pa,di="__reactContainer$"+Pa,qm="__reactEvents$"+Pa,HR="__reactListeners$"+Pa,KR="__reactHandles$"+Pa;function ks(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=my(t);t!==null;){if(n=t[Tr])return n;t=my(t)}return e}t=n,n=t.parentNode}return null}function kc(t){return t=t[Tr]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Zd(t){return t[ec]||null}var Vm=[],Bo=-1;function xs(t){return{current:t}}function Xe(t){0>Bo||(t.current=Vm[Bo],Vm[Bo]=null,Bo--)}function Ge(t,e){Bo++,Vm[Bo]=t.current,t.current=e}var ds={},Kt=xs(ds),bn=xs(!1),Qs=ds;function xa(t,e){var n=t.type.contextTypes;if(!n)return ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function rd(){Xe(bn),Xe(Kt)}function py(t,e,n){if(Kt.current!==ds)throw Error(F(168));Ge(Kt,e),Ge(bn,n)}function zS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,Tk(t)||"Unknown",i));return st({},n,r)}function id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ds,Qs=Kt.current,Ge(Kt,t),Ge(bn,bn.current),!0}function gy(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=zS(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,Xe(bn),Xe(Kt),Ge(Kt,t)):Xe(bn),Ge(bn,n)}var Zr=null,eh=!1,pf=!1;function WS(t){Zr===null?Zr=[t]:Zr.push(t)}function GR(t){eh=!0,WS(t)}function ys(){if(!pf&&Zr!==null){pf=!0;var t=0,e=We;try{var n=Zr;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,eh=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),mS(_g,ys),i}finally{We=e,pf=!1}}return null}var $o=[],Uo=0,sd=null,od=0,Un=[],zn=0,Ys=null,si=1,oi="";function js(t,e){$o[Uo++]=od,$o[Uo++]=sd,sd=t,od=e}function qS(t,e,n){Un[zn++]=si,Un[zn++]=oi,Un[zn++]=Ys,Ys=t;var r=si;t=oi;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var s=32-ur(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,si=1<<32-ur(e)+i|n<<i|r,oi=s+t}else si=1<<s|n<<i|r,oi=t}function Mg(t){t.return!==null&&(js(t,1),qS(t,1,0))}function Fg(t){for(;t===sd;)sd=$o[--Uo],$o[Uo]=null,od=$o[--Uo],$o[Uo]=null;for(;t===Ys;)Ys=Un[--zn],Un[zn]=null,oi=Un[--zn],Un[zn]=null,si=Un[--zn],Un[zn]=null}var kn=null,_n=null,Ze=!1,ar=null;function VS(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,_n=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:si,overflow:oi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,_n=null,!0):!1;default:return!1}}function Hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Km(t){if(Ze){var e=_n;if(e){var n=e;if(!vy(t,e)){if(Hm(t))throw Error(F(418));e=ns(n.nextSibling);var r=kn;e&&vy(t,e)?VS(r,n):(t.flags=t.flags&-4097|2,Ze=!1,kn=t)}}else{if(Hm(t))throw Error(F(418));t.flags=t.flags&-4097|2,Ze=!1,kn=t}}}function xy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function tu(t){if(t!==kn)return!1;if(!Ze)return xy(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zm(t.type,t.memoizedProps)),e&&(e=_n)){if(Hm(t))throw HS(),Error(F(418));for(;e;)VS(t,e),e=ns(e.nextSibling)}if(xy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=kn?ns(t.stateNode.nextSibling):null;return!0}function HS(){for(var t=_n;t;)t=ns(t.nextSibling)}function ya(){_n=kn=null,Ze=!1}function Bg(t){ar===null?ar=[t]:ar.push(t)}var QR=gi.ReactCurrentBatchConfig;function rl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function nu(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yy(t){var e=t._init;return e(t._payload)}function KS(t){function e(b,g){if(t){var m=b.deletions;m===null?(b.deletions=[g],b.flags|=16):m.push(g)}}function n(b,g){if(!t)return null;for(;g!==null;)e(b,g),g=g.sibling;return null}function r(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function i(b,g){return b=os(b,g),b.index=0,b.sibling=null,b}function s(b,g,m){return b.index=m,t?(m=b.alternate,m!==null?(m=m.index,m<g?(b.flags|=2,g):m):(b.flags|=2,g)):(b.flags|=1048576,g)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,g,m,p){return g===null||g.tag!==6?(g=Sf(m,b.mode,p),g.return=b,g):(g=i(g,m),g.return=b,g)}function c(b,g,m,p){var C=m.type;return C===Oo?d(b,g,m.props.children,p,m.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Oi&&yy(C)===g.type)?(p=i(g,m.props),p.ref=rl(b,g,m),p.return=b,p):(p=Ou(m.type,m.key,m.props,null,b.mode,p),p.ref=rl(b,g,m),p.return=b,p)}function u(b,g,m,p){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Cf(m,b.mode,p),g.return=b,g):(g=i(g,m.children||[]),g.return=b,g)}function d(b,g,m,p,C){return g===null||g.tag!==7?(g=Vs(m,b.mode,p,C),g.return=b,g):(g=i(g,m),g.return=b,g)}function f(b,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Sf(""+g,b.mode,m),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vc:return m=Ou(g.type,g.key,g.props,null,b.mode,m),m.ref=rl(b,null,g),m.return=b,m;case Do:return g=Cf(g,b.mode,m),g.return=b,g;case Oi:var p=g._init;return f(b,p(g._payload),m)}if(yl(g)||Ja(g))return g=Vs(g,b.mode,m,null),g.return=b,g;nu(b,g)}return null}function x(b,g,m,p){var C=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:l(b,g,""+m,p);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vc:return m.key===C?c(b,g,m,p):null;case Do:return m.key===C?u(b,g,m,p):null;case Oi:return C=m._init,x(b,g,C(m._payload),p)}if(yl(m)||Ja(m))return C!==null?null:d(b,g,m,p,null);nu(b,m)}return null}function S(b,g,m,p,C){if(typeof p=="string"&&p!==""||typeof p=="number")return b=b.get(m)||null,l(g,b,""+p,C);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vc:return b=b.get(p.key===null?m:p.key)||null,c(g,b,p,C);case Do:return b=b.get(p.key===null?m:p.key)||null,u(g,b,p,C);case Oi:var j=p._init;return S(b,g,m,j(p._payload),C)}if(yl(p)||Ja(p))return b=b.get(m)||null,d(g,b,p,C,null);nu(g,p)}return null}function y(b,g,m,p){for(var C=null,j=null,N=g,E=g=0,_=null;N!==null&&E<m.length;E++){N.index>E?(_=N,N=null):_=N.sibling;var A=x(b,N,m[E],p);if(A===null){N===null&&(N=_);break}t&&N&&A.alternate===null&&e(b,N),g=s(A,g,E),j===null?C=A:j.sibling=A,j=A,N=_}if(E===m.length)return n(b,N),Ze&&js(b,E),C;if(N===null){for(;E<m.length;E++)N=f(b,m[E],p),N!==null&&(g=s(N,g,E),j===null?C=N:j.sibling=N,j=N);return Ze&&js(b,E),C}for(N=r(b,N);E<m.length;E++)_=S(N,b,E,m[E],p),_!==null&&(t&&_.alternate!==null&&N.delete(_.key===null?E:_.key),g=s(_,g,E),j===null?C=_:j.sibling=_,j=_);return t&&N.forEach(function(k){return e(b,k)}),Ze&&js(b,E),C}function v(b,g,m,p){var C=Ja(m);if(typeof C!="function")throw Error(F(150));if(m=C.call(m),m==null)throw Error(F(151));for(var j=C=null,N=g,E=g=0,_=null,A=m.next();N!==null&&!A.done;E++,A=m.next()){N.index>E?(_=N,N=null):_=N.sibling;var k=x(b,N,A.value,p);if(k===null){N===null&&(N=_);break}t&&N&&k.alternate===null&&e(b,N),g=s(k,g,E),j===null?C=k:j.sibling=k,j=k,N=_}if(A.done)return n(b,N),Ze&&js(b,E),C;if(N===null){for(;!A.done;E++,A=m.next())A=f(b,A.value,p),A!==null&&(g=s(A,g,E),j===null?C=A:j.sibling=A,j=A);return Ze&&js(b,E),C}for(N=r(b,N);!A.done;E++,A=m.next())A=S(N,b,E,A.value,p),A!==null&&(t&&A.alternate!==null&&N.delete(A.key===null?E:A.key),g=s(A,g,E),j===null?C=A:j.sibling=A,j=A);return t&&N.forEach(function(P){return e(b,P)}),Ze&&js(b,E),C}function w(b,g,m,p){if(typeof m=="object"&&m!==null&&m.type===Oo&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Vc:e:{for(var C=m.key,j=g;j!==null;){if(j.key===C){if(C=m.type,C===Oo){if(j.tag===7){n(b,j.sibling),g=i(j,m.props.children),g.return=b,b=g;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Oi&&yy(C)===j.type){n(b,j.sibling),g=i(j,m.props),g.ref=rl(b,j,m),g.return=b,b=g;break e}n(b,j);break}else e(b,j);j=j.sibling}m.type===Oo?(g=Vs(m.props.children,b.mode,p,m.key),g.return=b,b=g):(p=Ou(m.type,m.key,m.props,null,b.mode,p),p.ref=rl(b,g,m),p.return=b,b=p)}return a(b);case Do:e:{for(j=m.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(b,g.sibling),g=i(g,m.children||[]),g.return=b,b=g;break e}else{n(b,g);break}else e(b,g);g=g.sibling}g=Cf(m,b.mode,p),g.return=b,b=g}return a(b);case Oi:return j=m._init,w(b,g,j(m._payload),p)}if(yl(m))return y(b,g,m,p);if(Ja(m))return v(b,g,m,p);nu(b,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(b,g.sibling),g=i(g,m),g.return=b,b=g):(n(b,g),g=Sf(m,b.mode,p),g.return=b,b=g),a(b)):n(b,g)}return w}var ba=KS(!0),GS=KS(!1),ad=xs(null),ld=null,zo=null,$g=null;function Ug(){$g=zo=ld=null}function zg(t){var e=ad.current;Xe(ad),t._currentValue=e}function Gm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qo(t,e){ld=t,$g=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if($g!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(ld===null)throw Error(F(308));zo=t,ld.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Rs=null;function Wg(t){Rs===null?Rs=[t]:Rs.push(t)}function QS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wg(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Li=!1;function qg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,Wg(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function _u(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}function by(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cd(t,e,n,r){var i=t.updateQueue;Li=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var x=l.lane,S=l.eventTime;if((r&x)===x){d!==null&&(d=d.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,v=l;switch(x=e,S=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(S,f,x);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,x=typeof y=="function"?y.call(S,f,x):y,x==null)break e;f=st({},f,x);break e;case 2:Li=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,x=i.effects,x===null?i.effects=[l]:x.push(l))}else S={eventTime:S,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=S,c=f):d=d.next=S,a|=x;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;x=l,l=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Js|=a,t.lanes=a,t.memoizedState=f}}function wy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Rc={},Ir=xs(Rc),tc=xs(Rc),nc=xs(Rc);function Ts(t){if(t===Rc)throw Error(F(174));return t}function Vg(t,e){switch(Ge(nc,e),Ge(tc,t),Ge(Ir,Rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_m(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_m(e,t)}Xe(Ir),Ge(Ir,e)}function wa(){Xe(Ir),Xe(tc),Xe(nc)}function XS(t){Ts(nc.current);var e=Ts(Ir.current),n=_m(e,t.type);e!==n&&(Ge(tc,t),Ge(Ir,n))}function Hg(t){tc.current===t&&(Xe(Ir),Xe(tc))}var nt=xs(0);function ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gf=[];function Kg(){for(var t=0;t<gf.length;t++)gf[t]._workInProgressVersionPrimary=null;gf.length=0}var ku=gi.ReactCurrentDispatcher,vf=gi.ReactCurrentBatchConfig,Xs=0,it=null,St=null,_t=null,dd=!1,Rl=!1,rc=0,YR=0;function $t(){throw Error(F(321))}function Gg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function Qg(t,e,n,r,i,s){if(Xs=s,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ku.current=t===null||t.memoizedState===null?eT:tT,t=n(r,i),Rl){s=0;do{if(Rl=!1,rc=0,25<=s)throw Error(F(301));s+=1,_t=St=null,e.updateQueue=null,ku.current=nT,t=n(r,i)}while(Rl)}if(ku.current=hd,e=St!==null&&St.next!==null,Xs=0,_t=St=it=null,dd=!1,e)throw Error(F(300));return t}function Yg(){var t=rc!==0;return rc=0,t}function Ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?it.memoizedState=_t=t:_t=_t.next=t,_t}function Kn(){if(St===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=_t===null?it.memoizedState:_t.next;if(e!==null)_t=e,St=t;else{if(t===null)throw Error(F(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},_t===null?it.memoizedState=_t=t:_t=_t.next=t}return _t}function ic(t,e){return typeof e=="function"?e(t):e}function xf(t){var e=Kn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Xs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,it.lanes|=d,Js|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,hr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,it.lanes|=s,Js|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yf(t){var e=Kn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);hr(s,e.memoizedState)||(yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JS(){}function ZS(t,e){var n=it,r=Kn(),i=e(),s=!hr(r.memoizedState,i);if(s&&(r.memoizedState=i,yn=!0),r=r.queue,Xg(nC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,sc(9,tC.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(F(349));Xs&30||eC(n,e,i)}return i}function eC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tC(t,e,n,r){e.value=n,e.getSnapshot=r,rC(e)&&iC(t)}function nC(t,e,n){return n(function(){rC(e)&&iC(t)})}function rC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function iC(t){var e=hi(t,1);e!==null&&dr(e,t,1,-1)}function Sy(t){var e=Ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},e.queue=t,t=t.dispatch=ZR.bind(null,it,t),[e.memoizedState,t]}function sc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sC(){return Kn().memoizedState}function Ru(t,e,n,r){var i=Ar();it.flags|=t,i.memoizedState=sc(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var i=Kn();r=r===void 0?null:r;var s=void 0;if(St!==null){var a=St.memoizedState;if(s=a.destroy,r!==null&&Gg(r,a.deps)){i.memoizedState=sc(e,n,s,r);return}}it.flags|=t,i.memoizedState=sc(1|e,n,s,r)}function Cy(t,e){return Ru(8390656,8,t,e)}function Xg(t,e){return th(2048,8,t,e)}function oC(t,e){return th(4,2,t,e)}function aC(t,e){return th(4,4,t,e)}function lC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cC(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,lC.bind(null,e,t),n)}function Jg(){}function uC(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dC(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hC(t,e,n){return Xs&21?(hr(n,e)||(n=vS(),it.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function XR(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=vf.transition;vf.transition={};try{t(!1),e()}finally{We=n,vf.transition=r}}function fC(){return Kn().memoizedState}function JR(t,e,n){var r=ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mC(t))pC(e,n);else if(n=QS(t,e,n,r),n!==null){var i=ln();dr(n,t,r,i),gC(n,e,r)}}function ZR(t,e,n){var r=ss(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mC(t))pC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,hr(l,a)){var c=e.interleaved;c===null?(i.next=i,Wg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=QS(t,e,i,r),n!==null&&(i=ln(),dr(n,t,r,i),gC(n,e,r))}}function mC(t){var e=t.alternate;return t===it||e!==null&&e===it}function pC(t,e){Rl=dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}var hd={readContext:Hn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},eT={readContext:Hn,useCallback:function(t,e){return Ar().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:Cy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ru(4194308,4,lC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ru(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ru(4,2,t,e)},useMemo:function(t,e){var n=Ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JR.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=Ar();return t={current:t},e.memoizedState=t},useState:Sy,useDebugValue:Jg,useDeferredValue:function(t){return Ar().memoizedState=t},useTransition:function(){var t=Sy(!1),e=t[0];return t=XR.bind(null,t[1]),Ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=Ar();if(Ze){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Tt===null)throw Error(F(349));Xs&30||eC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Cy(nC.bind(null,r,s,t),[t]),r.flags|=2048,sc(9,tC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ar(),e=Tt.identifierPrefix;if(Ze){var n=oi,r=si;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tT={readContext:Hn,useCallback:uC,useContext:Hn,useEffect:Xg,useImperativeHandle:cC,useInsertionEffect:oC,useLayoutEffect:aC,useMemo:dC,useReducer:xf,useRef:sC,useState:function(){return xf(ic)},useDebugValue:Jg,useDeferredValue:function(t){var e=Kn();return hC(e,St.memoizedState,t)},useTransition:function(){var t=xf(ic)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:JS,useSyncExternalStore:ZS,useId:fC,unstable_isNewReconciler:!1},nT={readContext:Hn,useCallback:uC,useContext:Hn,useEffect:Xg,useImperativeHandle:cC,useInsertionEffect:oC,useLayoutEffect:aC,useMemo:dC,useReducer:yf,useRef:sC,useState:function(){return yf(ic)},useDebugValue:Jg,useDeferredValue:function(t){var e=Kn();return St===null?e.memoizedState=t:hC(e,St.memoizedState,t)},useTransition:function(){var t=yf(ic)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:JS,useSyncExternalStore:ZS,useId:fC,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nh={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=ss(t),s=li(r,i);s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(dr(e,t,i,r),_u(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=ss(t),s=li(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(dr(e,t,i,r),_u(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=ss(t),i=li(n,r);i.tag=2,e!=null&&(i.callback=e),e=rs(t,i,r),e!==null&&(dr(e,t,r,n),_u(e,t,r))}};function Ny(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xl(n,r)||!Xl(i,s):!0}function vC(t,e,n){var r=!1,i=ds,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=wn(e)?Qs:Kt.current,r=e.contextTypes,s=(r=r!=null)?xa(t,i):ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function Ym(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=wn(e)?Qs:Kt.current,i.context=xa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nh.enqueueReplaceState(i,i.state,null),cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sa(t,e){try{var n="",r=e;do n+=Rk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rT=typeof WeakMap=="function"?WeakMap:Map;function xC(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){md||(md=!0,ap=r),Xm(t,e)},n}function yC(t,e,n){n=li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xm(t,e),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Ey(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vT.bind(null,t,e,n),e.then(t,t))}function Ay(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _y(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var iT=gi.ReactCurrentOwner,yn=!1;function nn(t,e,n,r){e.child=t===null?GS(e,null,n,r):ba(e,t.child,n,r)}function ky(t,e,n,r,i){n=n.render;var s=e.ref;return Qo(e,i),r=Qg(t,e,n,r,s,i),n=Yg(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(Ze&&n&&Mg(e),e.flags|=1,nn(t,e,r,i),e.child)}function Ry(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ov(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bC(t,e,s,r,i)):(t=Ou(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(a,r)&&t.ref===e.ref)return fi(t,e,i)}return e.flags|=1,t=os(s,r),t.ref=e.ref,t.return=e,e.child=t}function bC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xl(s,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,fi(t,e,i)}return Jm(t,e,n,r,i)}function wC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(qo,En),En|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(qo,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge(qo,En),En|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ge(qo,En),En|=r;return nn(t,e,i,n),e.child}function SC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jm(t,e,n,r,i){var s=wn(n)?Qs:Kt.current;return s=xa(e,s),Qo(e,i),n=Qg(t,e,n,r,s,i),r=Yg(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(Ze&&r&&Mg(e),e.flags|=1,nn(t,e,n,i),e.child)}function Ty(t,e,n,r,i){if(wn(n)){var s=!0;id(e)}else s=!1;if(Qo(e,i),e.stateNode===null)Tu(t,e),vC(e,n,r),Ym(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=wn(n)?Qs:Kt.current,u=xa(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&jy(e,a,r,u),Li=!1;var x=e.memoizedState;a.state=x,cd(e,r,a,i),c=e.memoizedState,l!==r||x!==c||bn.current||Li?(typeof d=="function"&&(Qm(e,n,d,r),c=e.memoizedState),(l=Li||Ny(e,n,l,r,x,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,YS(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:rr(e.type,l),a.props=u,f=e.pendingProps,x=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=wn(n)?Qs:Kt.current,c=xa(e,c));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||x!==c)&&jy(e,a,r,c),Li=!1,x=e.memoizedState,a.state=x,cd(e,r,a,i);var y=e.memoizedState;l!==f||x!==y||bn.current||Li?(typeof S=="function"&&(Qm(e,n,S,r),y=e.memoizedState),(u=Li||Ny(e,n,u,r,x,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),r=!1)}return Zm(t,e,n,r,s,i)}function Zm(t,e,n,r,i,s){SC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&gy(e,n,!1),fi(t,e,s);r=e.stateNode,iT.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ba(e,t.child,null,s),e.child=ba(e,null,l,s)):nn(t,e,l,s),e.memoizedState=r.state,i&&gy(e,n,!0),e.child}function CC(t){var e=t.stateNode;e.pendingContext?py(t,e.pendingContext,e.pendingContext!==e.context):e.context&&py(t,e.context,!1),Vg(t,e.containerInfo)}function Py(t,e,n,r,i){return ya(),Bg(i),e.flags|=256,nn(t,e,n,r),e.child}var ep={dehydrated:null,treeContext:null,retryLane:0};function tp(t){return{baseLanes:t,cachePool:null,transitions:null}}function NC(t,e,n){var r=e.pendingProps,i=nt.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(nt,i&1),t===null)return Km(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=sh(a,r,0,null),t=Vs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tp(n),e.memoizedState=ep,t):Zg(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return sT(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=os(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=os(l,s):(s=Vs(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?tp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=ep,r}return s=t.child,t=s.sibling,r=os(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zg(t,e){return e=sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ru(t,e,n,r){return r!==null&&Bg(r),ba(e,t.child,null,n),t=Zg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sT(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=bf(Error(F(422))),ru(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sh({mode:"visible",children:r.children},i,0,null),s=Vs(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ba(e,t.child,null,a),e.child.memoizedState=tp(a),e.memoizedState=ep,s);if(!(e.mode&1))return ru(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(F(419)),r=bf(s,r,void 0),ru(t,e,a,r)}if(l=(a&t.childLanes)!==0,yn||l){if(r=Tt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hi(t,i),dr(r,t,i,-1))}return sv(),r=bf(Error(F(421))),ru(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_n=ns(i.nextSibling),kn=e,Ze=!0,ar=null,t!==null&&(Un[zn++]=si,Un[zn++]=oi,Un[zn++]=Ys,si=t.id,oi=t.overflow,Ys=e),e=Zg(e,r.children),e.flags|=4096,e)}function Dy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gm(t.return,e,n)}function wf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,n,e);else if(t.tag===19)Dy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ud(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wf(e,!0,n,null,s);break;case"together":wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oT(t,e,n){switch(e.tag){case 3:CC(e),ya();break;case 5:XS(e);break;case 1:wn(e.type)&&id(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(ad,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?NC(t,e,n):(Ge(nt,nt.current&1),t=fi(t,e,n),t!==null?t.sibling:null);Ge(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,wC(t,e,n)}return fi(t,e,n)}var EC,np,AC,_C;EC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};np=function(){};AC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ts(Ir.current);var s=null;switch(n){case"input":i=Nm(t,i),r=Nm(t,r),s=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),s=[];break;case"textarea":i=Am(t,i),r=Am(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nd)}km(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ql.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ql.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};_C=function(t,e,n,r){n!==r&&(e.flags|=4)};function il(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aT(t,e,n){var r=e.pendingProps;switch(Fg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return wn(e.type)&&rd(),Ut(e),null;case 3:return r=e.stateNode,wa(),Xe(bn),Xe(Kt),Kg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(up(ar),ar=null))),np(t,e),Ut(e),null;case 5:Hg(e);var i=Ts(nc.current);if(n=e.type,t!==null&&e.stateNode!=null)AC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Ut(e),null}if(t=Ts(Ir.current),tu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Tr]=e,r[ec]=s,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<wl.length;i++)Ye(wl[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":zx(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":qx(r,s),Ye("invalid",r)}km(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&eu(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&eu(r.textContent,l,t),i=["children",""+l]):ql.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Hc(r),Wx(r,s,!0);break;case"textarea":Hc(r),Vx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=nd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Tr]=e,t[ec]=r,EC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Rm(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<wl.length;i++)Ye(wl[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":zx(t,r),i=Nm(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":qx(t,r),i=Am(t,r),Ye("invalid",t);break;default:i=r}km(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?sS(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rS(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vl(t,c):typeof c=="number"&&Vl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ql.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ye("scroll",t):c!=null&&Cg(t,s,c,a))}switch(n){case"input":Hc(t),Wx(t,r,!1);break;case"textarea":Hc(t),Vx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+us(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)_C(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Ts(nc.current),Ts(Ir.current),tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(s=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Xe(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&_n!==null&&e.mode&1&&!(e.flags&128))HS(),ya(),e.flags|=98560,s=!1;else if(s=tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Tr]=e}else ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else ar!==null&&(up(ar),ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?jt===0&&(jt=3):sv())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return wa(),np(t,e),t===null&&Jl(e.stateNode.containerInfo),Ut(e),null;case 10:return zg(e.type._context),Ut(e),null;case 17:return wn(e.type)&&rd(),Ut(e),null;case 19:if(Xe(nt),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)il(s,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ud(t),a!==null){for(e.flags|=128,il(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>Ca&&(e.flags|=128,r=!0,il(s,!1),e.lanes=4194304)}else{if(!r)if(t=ud(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ze)return Ut(e),null}else 2*mt()-s.renderingStartTime>Ca&&n!==1073741824&&(e.flags|=128,r=!0,il(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=nt.current,Ge(nt,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return iv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function lT(t,e){switch(Fg(e),e.tag){case 1:return wn(e.type)&&rd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wa(),Xe(bn),Xe(Kt),Kg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hg(e),null;case 13:if(Xe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(nt),null;case 4:return wa(),null;case 10:return zg(e.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var iu=!1,qt=!1,cT=typeof WeakSet=="function"?WeakSet:Set,J=null;function Wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function rp(t,e,n){try{n()}catch(r){ct(t,e,r)}}var Oy=!1;function uT(t,e){if($m=Zu,t=DS(),Ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,x=null;t:for(;;){for(var S;f!==n||i!==0&&f.nodeType!==3||(l=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(S=f.firstChild)!==null;)x=f,f=S;for(;;){if(f===t)break t;if(x===n&&++u===i&&(l=a),x===s&&++d===r&&(c=a),(S=f.nextSibling)!==null)break;f=x,x=f.parentNode}f=S}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Um={focusedElem:t,selectionRange:n},Zu=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,b=e.stateNode,g=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:rr(e.type,v),w);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(p){ct(e,e.return,p)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return y=Oy,Oy=!1,y}function Tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rp(e,n,s)}i=i.next}while(i!==r)}}function rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ip(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kC(t){var e=t.alternate;e!==null&&(t.alternate=null,kC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[ec],delete e[qm],delete e[HR],delete e[KR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RC(t){return t.tag===5||t.tag===3||t.tag===4}function Ly(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nd));else if(r!==4&&(t=t.child,t!==null))for(sp(t,e,n),t=t.sibling;t!==null;)sp(t,e,n),t=t.sibling}function op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(op(t,e,n),t=t.sibling;t!==null;)op(t,e,n),t=t.sibling}var Lt=null,or=!1;function Ni(t,e,n){for(n=n.child;n!==null;)TC(t,e,n),n=n.sibling}function TC(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(Qd,n)}catch{}switch(n.tag){case 5:qt||Wo(n,e);case 6:var r=Lt,i=or;Lt=null,Ni(t,e,n),Lt=r,or=i,Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?mf(t.parentNode,n):t.nodeType===1&&mf(t,n),Ql(t)):mf(Lt,n.stateNode));break;case 4:r=Lt,i=or,Lt=n.stateNode.containerInfo,or=!0,Ni(t,e,n),Lt=r,or=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&rp(n,e,a),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!qt&&(Wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ct(n,e,l)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Ni(t,e,n),qt=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function Iy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cT),e.forEach(function(r){var i=yT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Lt=l.stateNode,or=!1;break e;case 3:Lt=l.stateNode.containerInfo,or=!0;break e;case 4:Lt=l.stateNode.containerInfo,or=!0;break e}l=l.return}if(Lt===null)throw Error(F(160));TC(s,a,i),Lt=null,or=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PC(e,t),e=e.sibling}function PC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),jr(t),r&4){try{Tl(3,t,t.return),rh(3,t)}catch(v){ct(t,t.return,v)}try{Tl(5,t,t.return)}catch(v){ct(t,t.return,v)}}break;case 1:Zn(e,t),jr(t),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(Zn(e,t),jr(t),r&512&&n!==null&&Wo(n,n.return),t.flags&32){var i=t.stateNode;try{Vl(i,"")}catch(v){ct(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&eS(i,s),Rm(l,a);var u=Rm(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?sS(i,f):d==="dangerouslySetInnerHTML"?rS(i,f):d==="children"?Vl(i,f):Cg(i,d,f,u)}switch(l){case"input":jm(i,s);break;case"textarea":tS(i,s);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Vo(i,!!s.multiple,S,!1):x!==!!s.multiple&&(s.defaultValue!=null?Vo(i,!!s.multiple,s.defaultValue,!0):Vo(i,!!s.multiple,s.multiple?[]:"",!1))}i[ec]=s}catch(v){ct(t,t.return,v)}}break;case 6:if(Zn(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ct(t,t.return,v)}}break;case 3:if(Zn(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(e.containerInfo)}catch(v){ct(t,t.return,v)}break;case 4:Zn(e,t),jr(t);break;case 13:Zn(e,t),jr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nv=mt())),r&4&&Iy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(u=qt)||d,Zn(e,t),qt=u):Zn(e,t),jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(f=J=d;J!==null;){switch(x=J,S=x.child,x.tag){case 0:case 11:case 14:case 15:Tl(4,x,x.return);break;case 1:Wo(x,x.return);var y=x.stateNode;if(typeof y.componentWillUnmount=="function"){r=x,n=x.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){ct(r,n,v)}}break;case 5:Wo(x,x.return);break;case 22:if(x.memoizedState!==null){Fy(f);continue}}S!==null?(S.return=x,J=S):Fy(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=iS("display",a))}catch(v){ct(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ct(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zn(e,t),jr(t),r&4&&Iy(t);break;case 21:break;default:Zn(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RC(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vl(i,""),r.flags&=-33);var s=Ly(t);op(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Ly(t);sp(t,l,a);break;default:throw Error(F(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dT(t,e,n){J=t,DC(t)}function DC(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||iu;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||qt;l=iu;var u=qt;if(iu=a,(qt=c)&&!u)for(J=i;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?By(i):c!==null?(c.return=a,J=c):By(i);for(;s!==null;)J=s,DC(s),s=s.sibling;J=i,iu=l,qt=u}My(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):My(t)}}function My(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wy(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wy(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}qt||e.flags&512&&ip(e)}catch(x){ct(e,e.return,x)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Fy(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function By(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rh(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ct(e,i,c)}}var s=e.return;try{ip(e)}catch(c){ct(e,s,c)}break;case 5:var a=e.return;try{ip(e)}catch(c){ct(e,a,c)}}}catch(c){ct(e,e.return,c)}if(e===t){J=null;break}var l=e.sibling;if(l!==null){l.return=e.return,J=l;break}J=e.return}}var hT=Math.ceil,fd=gi.ReactCurrentDispatcher,ev=gi.ReactCurrentOwner,Vn=gi.ReactCurrentBatchConfig,Pe=0,Tt=null,xt=null,It=0,En=0,qo=xs(0),jt=0,oc=null,Js=0,ih=0,tv=0,Pl=null,xn=null,nv=0,Ca=1/0,Xr=null,md=!1,ap=null,is=null,su=!1,Xi=null,pd=0,Dl=0,lp=null,Pu=-1,Du=0;function ln(){return Pe&6?mt():Pu!==-1?Pu:Pu=mt()}function ss(t){return t.mode&1?Pe&2&&It!==0?It&-It:QR.transition!==null?(Du===0&&(Du=vS()),Du):(t=We,t!==0||(t=window.event,t=t===void 0?16:NS(t.type)),t):1}function dr(t,e,n,r){if(50<Dl)throw Dl=0,lp=null,Error(F(185));Ac(t,n,r),(!(Pe&2)||t!==Tt)&&(t===Tt&&(!(Pe&2)&&(ih|=n),jt===4&&Bi(t,It)),Sn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ca=mt()+500,eh&&ys()))}function Sn(t,e){var n=t.callbackNode;Qk(t,e);var r=Ju(t,t===Tt?It:0);if(r===0)n!==null&&Gx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gx(n),e===1)t.tag===0?GR($y.bind(null,t)):WS($y.bind(null,t)),qR(function(){!(Pe&6)&&ys()}),n=null;else{switch(xS(r)){case 1:n=_g;break;case 4:n=pS;break;case 16:n=Xu;break;case 536870912:n=gS;break;default:n=Xu}n=UC(n,OC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OC(t,e){if(Pu=-1,Du=0,Pe&6)throw Error(F(327));var n=t.callbackNode;if(Yo()&&t.callbackNode!==n)return null;var r=Ju(t,t===Tt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gd(t,r);else{e=r;var i=Pe;Pe|=2;var s=IC();(Tt!==t||It!==e)&&(Xr=null,Ca=mt()+500,qs(t,e));do try{pT();break}catch(l){LC(t,l)}while(!0);Ug(),fd.current=s,Pe=i,xt!==null?e=0:(Tt=null,It=0,e=jt)}if(e!==0){if(e===2&&(i=Lm(t),i!==0&&(r=i,e=cp(t,i))),e===1)throw n=oc,qs(t,0),Bi(t,r),Sn(t,mt()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!fT(i)&&(e=gd(t,r),e===2&&(s=Lm(t),s!==0&&(r=s,e=cp(t,s))),e===1))throw n=oc,qs(t,0),Bi(t,r),Sn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Es(t,xn,Xr);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=nv+500-mt(),10<e)){if(Ju(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wm(Es.bind(null,t,xn,Xr),e);break}Es(t,xn,Xr);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ur(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hT(r/1960))-r,10<r){t.timeoutHandle=Wm(Es.bind(null,t,xn,Xr),r);break}Es(t,xn,Xr);break;case 5:Es(t,xn,Xr);break;default:throw Error(F(329))}}}return Sn(t,mt()),t.callbackNode===n?OC.bind(null,t):null}function cp(t,e){var n=Pl;return t.current.memoizedState.isDehydrated&&(qs(t,e).flags|=256),t=gd(t,e),t!==2&&(e=xn,xn=n,e!==null&&up(e)),t}function up(t){xn===null?xn=t:xn.push.apply(xn,t)}function fT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~tv,e&=~ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function $y(t){if(Pe&6)throw Error(F(327));Yo();var e=Ju(t,0);if(!(e&1))return Sn(t,mt()),null;var n=gd(t,e);if(t.tag!==0&&n===2){var r=Lm(t);r!==0&&(e=r,n=cp(t,r))}if(n===1)throw n=oc,qs(t,0),Bi(t,e),Sn(t,mt()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Es(t,xn,Xr),Sn(t,mt()),null}function rv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ca=mt()+500,eh&&ys())}}function Zs(t){Xi!==null&&Xi.tag===0&&!(Pe&6)&&Yo();var e=Pe;Pe|=1;var n=Vn.transition,r=We;try{if(Vn.transition=null,We=1,t)return t()}finally{We=r,Vn.transition=n,Pe=e,!(Pe&6)&&ys()}}function iv(){En=qo.current,Xe(qo)}function qs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WR(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(Fg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rd();break;case 3:wa(),Xe(bn),Xe(Kt),Kg();break;case 5:Hg(r);break;case 4:wa();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:zg(r.type._context);break;case 22:case 23:iv()}n=n.return}if(Tt=t,xt=t=os(t.current,null),It=En=e,jt=0,oc=null,tv=ih=Js=0,xn=Pl=null,Rs!==null){for(e=0;e<Rs.length;e++)if(n=Rs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Rs=null}return t}function LC(t,e){do{var n=xt;try{if(Ug(),ku.current=hd,dd){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dd=!1}if(Xs=0,_t=St=it=null,Rl=!1,rc=0,ev.current=null,n===null||n.return===null){jt=1,oc=e,xt=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=It,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var x=d.alternate;x?(d.updateQueue=x.updateQueue,d.memoizedState=x.memoizedState,d.lanes=x.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=Ay(a);if(S!==null){S.flags&=-257,_y(S,a,l,s,e),S.mode&1&&Ey(s,u,e),e=S,c=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(c),e.updateQueue=v}else y.add(c);break e}else{if(!(e&1)){Ey(s,u,e),sv();break e}c=Error(F(426))}}else if(Ze&&l.mode&1){var w=Ay(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),_y(w,a,l,s,e),Bg(Sa(c,l));break e}}s=c=Sa(c,l),jt!==4&&(jt=2),Pl===null?Pl=[s]:Pl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=xC(s,c,e);by(s,b);break e;case 1:l=c;var g=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(is===null||!is.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var p=yC(s,l,e);by(s,p);break e}}s=s.return}while(s!==null)}FC(n)}catch(C){e=C,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function IC(){var t=fd.current;return fd.current=hd,t===null?hd:t}function sv(){(jt===0||jt===3||jt===2)&&(jt=4),Tt===null||!(Js&268435455)&&!(ih&268435455)||Bi(Tt,It)}function gd(t,e){var n=Pe;Pe|=2;var r=IC();(Tt!==t||It!==e)&&(Xr=null,qs(t,e));do try{mT();break}catch(i){LC(t,i)}while(!0);if(Ug(),Pe=n,fd.current=r,xt!==null)throw Error(F(261));return Tt=null,It=0,jt}function mT(){for(;xt!==null;)MC(xt)}function pT(){for(;xt!==null&&!$k();)MC(xt)}function MC(t){var e=$C(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?FC(t):xt=e,ev.current=null}function FC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lT(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,xt=null;return}}else if(n=aT(n,e,En),n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);jt===0&&(jt=5)}function Es(t,e,n){var r=We,i=Vn.transition;try{Vn.transition=null,We=1,gT(t,e,n,r)}finally{Vn.transition=i,We=r}return null}function gT(t,e,n,r){do Yo();while(Xi!==null);if(Pe&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Yk(t,s),t===Tt&&(xt=Tt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||su||(su=!0,UC(Xu,function(){return Yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vn.transition,Vn.transition=null;var a=We;We=1;var l=Pe;Pe|=4,ev.current=null,uT(t,n),PC(n,t),IR(Um),Zu=!!$m,Um=$m=null,t.current=n,dT(n),Uk(),Pe=l,We=a,Vn.transition=s}else t.current=n;if(su&&(su=!1,Xi=t,pd=i),s=t.pendingLanes,s===0&&(is=null),qk(n.stateNode),Sn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(md)throw md=!1,t=ap,ap=null,t;return pd&1&&t.tag!==0&&Yo(),s=t.pendingLanes,s&1?t===lp?Dl++:(Dl=0,lp=t):Dl=0,ys(),null}function Yo(){if(Xi!==null){var t=xS(pd),e=Vn.transition,n=We;try{if(Vn.transition=null,We=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,pd=0,Pe&6)throw Error(F(331));var i=Pe;for(Pe|=4,J=t.current;J!==null;){var s=J,a=s.child;if(J.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Tl(8,d,s)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var x=d.sibling,S=d.return;if(kC(d),d===u){J=null;break}if(x!==null){x.return=S,J=x;break}J=S}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}J=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,J=a;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tl(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,J=b;break e}J=s.return}}var g=t.current;for(J=g;J!==null;){a=J;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,J=m;else e:for(a=g;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rh(9,l)}}catch(C){ct(l,l.return,C)}if(l===a){J=null;break e}var p=l.sibling;if(p!==null){p.return=l.return,J=p;break e}J=l.return}}if(Pe=i,ys(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(Qd,t)}catch{}r=!0}return r}finally{We=n,Vn.transition=e}}return!1}function Uy(t,e,n){e=Sa(n,e),e=xC(t,e,1),t=rs(t,e,1),e=ln(),t!==null&&(Ac(t,1,e),Sn(t,e))}function ct(t,e,n){if(t.tag===3)Uy(t,t,n);else for(;e!==null;){if(e.tag===3){Uy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){t=Sa(n,t),t=yC(e,t,1),e=rs(e,t,1),t=ln(),e!==null&&(Ac(e,1,t),Sn(e,t));break}}e=e.return}}function vT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(It&n)===n&&(jt===4||jt===3&&(It&130023424)===It&&500>mt()-nv?qs(t,0):tv|=n),Sn(t,e)}function BC(t,e){e===0&&(t.mode&1?(e=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):e=1);var n=ln();t=hi(t,e),t!==null&&(Ac(t,e,n),Sn(t,n))}function xT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BC(t,n)}function yT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),BC(t,n)}var $C;$C=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,oT(t,e,n);yn=!!(t.flags&131072)}else yn=!1,Ze&&e.flags&1048576&&qS(e,od,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tu(t,e),t=e.pendingProps;var i=xa(e,Kt.current);Qo(e,n),i=Qg(null,e,r,t,i,n);var s=Yg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(s=!0,id(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qg(e),i.updater=nh,e.stateNode=i,i._reactInternals=e,Ym(e,r,t,n),e=Zm(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&Mg(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=wT(r),t=rr(r,t),i){case 0:e=Jm(null,e,r,t,n);break e;case 1:e=Ty(null,e,r,t,n);break e;case 11:e=ky(null,e,r,t,n);break e;case 14:e=Ry(null,e,r,rr(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Jm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Ty(t,e,r,i,n);case 3:e:{if(CC(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,YS(t,e),cd(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sa(Error(F(423)),e),e=Py(t,e,r,n,i);break e}else if(r!==i){i=Sa(Error(F(424)),e),e=Py(t,e,r,n,i);break e}else for(_n=ns(e.stateNode.containerInfo.firstChild),kn=e,Ze=!0,ar=null,n=GS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ya(),r===i){e=fi(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return XS(e),t===null&&Km(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,zm(r,i)?a=null:s!==null&&zm(r,s)&&(e.flags|=32),SC(t,e),nn(t,e,a,n),e.child;case 6:return t===null&&Km(e),null;case 13:return NC(t,e,n);case 4:return Vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ba(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),ky(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ge(ad,r._currentValue),r._currentValue=a,s!==null)if(hr(s.value,a)){if(s.children===i.children&&!bn.current){e=fi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=li(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Gm(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(F(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Gm(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qo(e,n),i=Hn(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),Ry(t,e,r,i,n);case 15:return bC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Tu(t,e),e.tag=1,wn(r)?(t=!0,id(e)):t=!1,Qo(e,n),vC(e,r,i),Ym(e,r,i,n),Zm(null,e,r,!0,t,n);case 19:return jC(t,e,n);case 22:return wC(t,e,n)}throw Error(F(156,e.tag))};function UC(t,e){return mS(t,e)}function bT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new bT(t,e,n,r)}function ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wT(t){if(typeof t=="function")return ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jg)return 11;if(t===Eg)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ou(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")ov(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Oo:return Vs(n.children,i,s,e);case Ng:a=8,i|=8;break;case bm:return t=qn(12,n,e,i|2),t.elementType=bm,t.lanes=s,t;case wm:return t=qn(13,n,e,i),t.elementType=wm,t.lanes=s,t;case Sm:return t=qn(19,n,e,i),t.elementType=Sm,t.lanes=s,t;case Xw:return sh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qw:a=10;break e;case Yw:a=9;break e;case jg:a=11;break e;case Eg:a=14;break e;case Oi:a=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=qn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vs(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function sh(t,e,n,r){return t=qn(22,t,r,e),t.elementType=Xw,t.lanes=n,t.stateNode={isHidden:!1},t}function Sf(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Cf(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ST(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function av(t,e,n,r,i,s,a,l,c){return t=new ST(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qg(s),t}function CT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zC(t){if(!t)return ds;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(wn(n))return zS(t,n,e)}return e}function WC(t,e,n,r,i,s,a,l,c){return t=av(n,r,!0,t,i,s,a,l,c),t.context=zC(null),n=t.current,r=ln(),i=ss(n),s=li(r,i),s.callback=e??null,rs(n,s,i),t.current.lanes=i,Ac(t,i,r),Sn(t,r),t}function oh(t,e,n,r){var i=e.current,s=ln(),a=ss(i);return n=zC(n),e.context===null?e.context=n:e.pendingContext=n,e=li(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rs(i,e,a),t!==null&&(dr(t,i,a,s),_u(t,i,a)),a}function vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lv(t,e){zy(t,e),(t=t.alternate)&&zy(t,e)}function NT(){return null}var qC=typeof reportError=="function"?reportError:function(t){console.error(t)};function cv(t){this._internalRoot=t}ah.prototype.render=cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));oh(t,e,null,null)};ah.prototype.unmount=cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){oh(null,t,null,null)}),e[di]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=wS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&CS(t)}};function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wy(){}function jT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=vd(a);s.call(u)}}var a=WC(e,r,t,0,null,!1,!1,"",Wy);return t._reactRootContainer=a,t[di]=a.current,Jl(t.nodeType===8?t.parentNode:t),Zs(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=vd(c);l.call(u)}}var c=av(t,0,!1,null,null,!1,!1,"",Wy);return t._reactRootContainer=c,t[di]=c.current,Jl(t.nodeType===8?t.parentNode:t),Zs(function(){oh(e,c,n,r)}),c}function ch(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=vd(a);l.call(c)}}oh(e,a,t,i)}else a=jT(n,e,t,i,r);return vd(a)}yS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bl(e.pendingLanes);n!==0&&(kg(e,n|1),Sn(e,mt()),!(Pe&6)&&(Ca=mt()+500,ys()))}break;case 13:Zs(function(){var r=hi(t,1);if(r!==null){var i=ln();dr(r,t,1,i)}}),lv(t,1)}};Rg=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=ln();dr(e,t,134217728,n)}lv(t,134217728)}};bS=function(t){if(t.tag===13){var e=ss(t),n=hi(t,e);if(n!==null){var r=ln();dr(n,t,e,r)}lv(t,e)}};wS=function(){return We};SS=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};Pm=function(t,e,n){switch(e){case"input":if(jm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zd(r);if(!i)throw Error(F(90));Zw(r),jm(r,i)}}}break;case"textarea":tS(t,n);break;case"select":e=n.value,e!=null&&Vo(t,!!n.multiple,e,!1)}};lS=rv;cS=Zs;var ET={usingClientEntryPoint:!1,Events:[kc,Fo,Zd,oS,aS,rv]},sl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AT={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hS(t),t===null?null:t.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||NT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Qd=ou.inject(AT),Lr=ou}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ET;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(e))throw Error(F(200));return CT(t,e,null,n)};On.createRoot=function(t,e){if(!uv(t))throw Error(F(299));var n=!1,r="",i=qC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=av(t,1,!1,null,null,n,!1,r,i),t[di]=e.current,Jl(t.nodeType===8?t.parentNode:t),new cv(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=hS(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return Zs(t)};On.hydrate=function(t,e,n){if(!lh(e))throw Error(F(200));return ch(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!uv(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=qC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=WC(e,null,t,1,n??null,i,!1,s,a),t[di]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ah(e)};On.render=function(t,e,n){if(!lh(e))throw Error(F(200));return ch(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!lh(t))throw Error(F(40));return t._reactRootContainer?(Zs(function(){ch(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};On.unstable_batchedUpdates=rv;On.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lh(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return ch(t,e,n,!1,r)};On.version="18.3.1-next-f1338f8080-20240426";function VC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VC)}catch(t){console.error(t)}}VC(),Vw.exports=On;var lr=Vw.exports;const _T=gg(lr);var HC,qy=lr;HC=qy.createRoot,qy.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}var Ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ji||(Ji={}));const Vy="popstate";function kT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return dp("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xd(i)}return TT(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RT(){return Math.random().toString(36).substr(2,8)}function Hy(t,e){return{usr:t.state,key:t.key,idx:e}}function dp(t,e,n,r){return n===void 0&&(n=null),ac({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Da(e):e,{state:n,key:e&&e.key||r||RT()})}function xd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function TT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Ji.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ac({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Ji.Pop;let w=d(),b=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:b})}function x(w,b){l=Ji.Push;let g=dp(v.location,w,b);u=d()+1;let m=Hy(g,u),p=v.createHref(g);try{a.pushState(m,"",p)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(p)}s&&c&&c({action:l,location:v.location,delta:1})}function S(w,b){l=Ji.Replace;let g=dp(v.location,w,b);u=d();let m=Hy(g,u),p=v.createHref(g);a.replaceState(m,"",p),s&&c&&c({action:l,location:v.location,delta:0})}function y(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:xd(w);return g=g.replace(/ $/,"%20"),pt(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let v={get action(){return l},get location(){return t(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Vy,f),c=w,()=>{i.removeEventListener(Vy,f),c=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let b=y(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:S,go(w){return a.go(w)}};return v}var Ky;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ky||(Ky={}));function PT(t,e,n){return n===void 0&&(n="/"),DT(t,e,n)}function DT(t,e,n,r){let i=typeof e=="string"?Da(e):e,s=hv(i.pathname||"/",n);if(s==null)return null;let a=KC(t);OT(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=HT(s);l=WT(a[c],u)}return l}function KC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=as([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(pt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KC(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:UT(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of GC(s.path))i(s,a,c)}),e}function GC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=GC(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function OT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LT=/^:[\w-]+$/,IT=3,MT=2,FT=1,BT=10,$T=-2,Gy=t=>t==="*";function UT(t,e){let n=t.split("/"),r=n.length;return n.some(Gy)&&(r+=$T),e&&(r+=MT),n.filter(i=>!Gy(i)).reduce((i,s)=>i+(LT.test(s)?IT:s===""?FT:BT),r)}function zT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WT(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=qT({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),x=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:as([s,f.pathname]),pathnameBase:XT(as([s,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(s=as([s,f.pathnameBase]))}return a}function qT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:x,isOptional:S}=d;if(x==="*"){let v=l[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[f];return S&&!y?u[x]=void 0:u[x]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function VT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const KT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GT=t=>KT.test(t);function QT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Da(t):t,s;if(n)if(GT(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),dv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Qy(n.substring(1),"/"):s=Qy(n,e)}else s=e;return{pathname:s,search:JT(r),hash:ZT(i)}}function Qy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fv(t,e){let n=YT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Da(t):(i=ac({},t),pt(!i.pathname||!i.pathname.includes("?"),Nf("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),Nf("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),Nf("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),f-=1;i.pathname=x.join("/")}l=f>=0?e[f]:"/"}let c=QT(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const as=t=>t.join("/").replace(/\/\/+/g,"/"),XT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const QC=["post","put","patch","delete"];new Set(QC);const tP=["get",...QC];new Set(tP);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}const pv=h.createContext(null),nP=h.createContext(null),bs=h.createContext(null),uh=h.createContext(null),zr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),YC=h.createContext(null);function rP(t,e){let{relative:n}=e===void 0?{}:e;Oa()||pt(!1);let{basename:r,navigator:i}=h.useContext(bs),{hash:s,pathname:a,search:l}=JC(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:as([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Oa(){return h.useContext(uh)!=null}function mo(){return Oa()||pt(!1),h.useContext(uh).location}function XC(t){h.useContext(bs).static||h.useLayoutEffect(t)}function Pt(){let{isDataRoute:t}=h.useContext(zr);return t?xP():iP()}function iP(){Oa()||pt(!1);let t=h.useContext(pv),{basename:e,future:n,navigator:r}=h.useContext(bs),{matches:i}=h.useContext(zr),{pathname:s}=mo(),a=JSON.stringify(fv(i,n.v7_relativeSplatPath)),l=h.useRef(!1);return XC(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=mv(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:as([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}const sP=h.createContext(null);function oP(t){let e=h.useContext(zr).outlet;return e&&h.createElement(sP.Provider,{value:t},e)}function po(){let{matches:t}=h.useContext(zr),e=t[t.length-1];return e?e.params:{}}function JC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(bs),{matches:i}=h.useContext(zr),{pathname:s}=mo(),a=JSON.stringify(fv(i,r.v7_relativeSplatPath));return h.useMemo(()=>mv(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function aP(t,e){return lP(t,e)}function lP(t,e,n,r){Oa()||pt(!1);let{navigator:i}=h.useContext(bs),{matches:s}=h.useContext(zr),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=mo(),d;if(e){var f;let w=typeof e=="string"?Da(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||pt(!1),d=w}else d=u;let x=d.pathname||"/",S=x;if(c!=="/"){let w=c.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=PT(t,{pathname:S}),v=fP(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:as([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:as([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&v?h.createElement(uh.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ji.Pop}},v):v}function cP(){let t=vP(),e=eP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,null)}const uP=h.createElement(cP,null);class dP extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(zr.Provider,{value:this.props.routeContext},h.createElement(YC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hP(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(pv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(zr.Provider,{value:e},r)}function fP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||pt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:x,errors:S}=n,y=f.route.loader&&x[f.route.id]===void 0&&(!S||S[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,x)=>{let S,y=!1,v=null,w=null;n&&(S=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||uP,c&&(u<0&&x===0?(yP("route-fallback"),y=!0,w=null):u===x&&(y=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,x+1)),g=()=>{let m;return S?m=v:y?m=w:f.route.Component?m=h.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,h.createElement(hP,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?h.createElement(dP,{location:n.location,revalidation:n.revalidation,component:v,error:S,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var ZC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZC||{}),eN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(eN||{});function mP(t){let e=h.useContext(pv);return e||pt(!1),e}function pP(t){let e=h.useContext(nP);return e||pt(!1),e}function gP(t){let e=h.useContext(zr);return e||pt(!1),e}function tN(t){let e=gP(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function vP(){var t;let e=h.useContext(YC),n=pP(),r=tN();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xP(){let{router:t}=mP(ZC.UseNavigateStable),e=tN(eN.UseNavigateStable),n=h.useRef(!1);return XC(()=>{n.current=!0}),h.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lc({fromRouteId:e},s)))},[t,e])}const Yy={};function yP(t,e,n){Yy[t]||(Yy[t]=!0)}function bP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function nN(t){let{to:e,replace:n,state:r,relative:i}=t;Oa()||pt(!1);let{future:s,static:a}=h.useContext(bs),{matches:l}=h.useContext(zr),{pathname:c}=mo(),u=Pt(),d=mv(e,fv(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function wP(t){return oP(t.context)}function Te(t){pt(!1)}function SP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ji.Pop,navigator:s,static:a=!1,future:l}=t;Oa()&&pt(!1);let c=e.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:s,static:a,future:lc({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=Da(r));let{pathname:d="/",search:f="",hash:x="",state:S=null,key:y="default"}=r,v=h.useMemo(()=>{let w=hv(d,c);return w==null?null:{location:{pathname:w,search:f,hash:x,state:S,key:y},navigationType:i}},[c,d,f,x,S,y,i]);return v==null?null:h.createElement(bs.Provider,{value:u},h.createElement(uh.Provider,{children:n,value:v}))}function CP(t){let{children:e,location:n}=t;return aP(hp(e),n)}new Promise(()=>{});function hp(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;let s=[...e,i];if(r.type===h.Fragment){n.push.apply(n,hp(r.props.children,s));return}r.type!==Te&&pt(!1),!r.props.index||!r.props.children||pt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=hp(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function NP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EP(t,e){return t.button===0&&(!e||e==="_self")&&!jP(t)}function mp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function AP(t,e){let n=mp(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const _P=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kP="6";try{window.__reactRouterVersion=kP}catch{}const RP="startTransition",Xy=Gd[RP];function TP(t){let{basename:e,children:n,future:r,window:i}=t,s=h.useRef();s.current==null&&(s.current=kT({window:i,v5Compat:!0}));let a=s.current,[l,c]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Xy?Xy(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>a.listen(d),[a,d]),h.useEffect(()=>bP(r),[r]),h.createElement(SP,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const PP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,x=NP(e,_P),{basename:S}=h.useContext(bs),y,v=!1;if(typeof u=="string"&&DP.test(u)&&(y=u,PP))try{let m=new URL(window.location.href),p=u.startsWith("//")?new URL(m.protocol+u):new URL(u),C=hv(p.pathname,S);p.origin===m.origin&&C!=null?u=C+p.search+p.hash:v=!0}catch{}let w=rP(u,{relative:i}),b=OP(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function g(m){r&&r(m),m.defaultPrevented||b(m)}return h.createElement("a",fp({},x,{href:y||w,onClick:v||s?r:g,ref:n,target:c}))});var Jy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jy||(Jy={}));var Zy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zy||(Zy={}));function OP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,c=Pt(),u=mo(),d=JC(t,{relative:a});return h.useCallback(f=>{if(EP(f,n)){f.preventDefault();let x=r!==void 0?r:xd(u)===xd(d);c(t,{replace:x,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,r,i,n,t,s,a,l])}function LP(t){let e=h.useRef(mp(t)),n=h.useRef(!1),r=mo(),i=h.useMemo(()=>AP(r.search,n.current?null:e.current),[r.search]),s=Pt(),a=h.useCallback((l,c)=>{const u=mp(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,c)},[s,i]);return[i,a]}var La=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},IP={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ui,pg,Cw,MP=(Cw=class{constructor(){re(this,Ui,IP);re(this,pg,!1)}setTimeoutProvider(t){K(this,Ui,t)}setTimeout(t,e){return R(this,Ui).setTimeout(t,e)}clearTimeout(t){R(this,Ui).clearTimeout(t)}setInterval(t,e){return R(this,Ui).setInterval(t,e)}clearInterval(t){R(this,Ui).clearInterval(t)}},Ui=new WeakMap,pg=new WeakMap,Cw),Ps=new MP;function FP(t){setTimeout(t,0)}var eo=typeof window>"u"||"Deno"in globalThis;function rn(){}function BP(t,e){return typeof t=="function"?t(e):t}function pp(t){return typeof t=="number"&&t>=0&&t!==1/0}function rN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ls(t,e){return typeof t=="function"?t(e):t}function Bn(t,e){return typeof t=="function"?t(e):t}function eb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==gv(a,e.options))return!1}else if(!cc(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function tb(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(to(e.options.mutationKey)!==to(s))return!1}else if(!cc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function gv(t,e){return((e==null?void 0:e.queryKeyHashFn)||to)(t)}function to(t){return JSON.stringify(t,(e,n)=>gp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>cc(t[n],e[n])):!1}var $P=Object.prototype.hasOwnProperty;function iN(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=nb(t)&&nb(e);if(!r&&!(gp(t)&&gp(e)))return e;const s=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),l=a.length,c=r?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=r?d:a[d],x=t[f],S=e[f];if(x===S){c[f]=x,(r?d<s:$P.call(t,f))&&u++;continue}if(x===null||S===null||typeof x!="object"||typeof S!="object"){c[f]=S;continue}const y=iN(x,S,n+1);c[f]=y,y===x&&u++}return s===l&&u===s?t:c}function yd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function nb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gp(t){if(!rb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!rb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rb(t){return Object.prototype.toString.call(t)==="[object Object]"}function UP(t){return new Promise(e=>{Ps.setTimeout(e,t)})}function vp(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?iN(t,e):e}function zP(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function WP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vv=Symbol();function sN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function xv(t,e){return typeof t=="function"?t(...e):!!t}function qP(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var Ls,zi,sa,Nw,VP=(Nw=class extends La{constructor(){super();re(this,Ls);re(this,zi);re(this,sa);K(this,sa,e=>{if(!eo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,zi)||this.setEventListener(R(this,sa))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,zi))==null||e.call(this),K(this,zi,void 0))}setEventListener(e){var n;K(this,sa,e),(n=R(this,zi))==null||n.call(this),K(this,zi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){R(this,Ls)!==e&&(K(this,Ls,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof R(this,Ls)=="boolean"?R(this,Ls):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ls=new WeakMap,zi=new WeakMap,sa=new WeakMap,Nw),yv=new VP;function xp(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var HP=FP;function KP(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=HP;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Nt=KP(),oa,Wi,aa,jw,GP=(jw=class extends La{constructor(){super();re(this,oa,!0);re(this,Wi);re(this,aa);K(this,aa,e=>{if(!eo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,Wi)||this.setEventListener(R(this,aa))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Wi))==null||e.call(this),K(this,Wi,void 0))}setEventListener(e){var n;K(this,aa,e),(n=R(this,Wi))==null||n.call(this),K(this,Wi,e(this.setOnline.bind(this)))}setOnline(e){R(this,oa)!==e&&(K(this,oa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return R(this,oa)}},oa=new WeakMap,Wi=new WeakMap,aa=new WeakMap,jw),bd=new GP;function QP(t){return Math.min(1e3*2**t,3e4)}function oN(t){return(t??"online")==="online"?bd.isOnline():!0}var yp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function aN(t){let e=!1,n=0,r;const i=xp(),s=()=>i.status!=="pending",a=v=>{var w;if(!s()){const b=new yp(v);x(b),(w=t.onCancel)==null||w.call(t,b)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>yv.isFocused()&&(t.networkMode==="always"||bd.isOnline())&&t.canRun(),d=()=>oN(t.networkMode)&&t.canRun(),f=v=>{s()||(r==null||r(),i.resolve(v))},x=v=>{s()||(r==null||r(),i.reject(v))},S=()=>new Promise(v=>{var w;r=b=>{(s()||u())&&v(b)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;r=void 0,s()||(v=t.onContinue)==null||v.call(t)}),y=()=>{if(s())return;let v;const w=n===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var j;if(s())return;const g=t.retry??(eo?0:3),m=t.retryDelay??QP,p=typeof m=="function"?m(n,b):m,C=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,b);if(e||!C){x(b);return}n++,(j=t.onFail)==null||j.call(t,n,b),UP(p).then(()=>u()?void 0:S()).then(()=>{e?x(b):y()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():S().then(y),i)}}var Is,Ew,lN=(Ew=class{constructor(){re(this,Is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pp(this.gcTime)&&K(this,Is,Ps.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(eo?1/0:5*60*1e3))}clearGcTimeout(){R(this,Is)&&(Ps.clearTimeout(R(this,Is)),K(this,Is,void 0))}},Is=new WeakMap,Ew),Ms,la,Fn,Fs,At,wc,Bs,ir,Qr,Aw,YP=(Aw=class extends lN{constructor(e){super();re(this,ir);re(this,Ms);re(this,la);re(this,Fn);re(this,Fs);re(this,At);re(this,wc);re(this,Bs);K(this,Bs,!1),K(this,wc,e.defaultOptions),this.setOptions(e.options),this.observers=[],K(this,Fs,e.client),K(this,Fn,R(this,Fs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,K(this,Ms,sb(this.options)),this.state=e.state??R(this,Ms),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,At))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,wc),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=sb(this.options);n.data!==void 0&&(this.setState(ib(n.data,n.dataUpdatedAt)),K(this,Ms,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Fn).remove(this)}setData(e,n){const r=vp(this.state.data,e,this.options);return xe(this,ir,Qr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){xe(this,ir,Qr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=R(this,At))==null?void 0:r.promise;return(i=R(this,At))==null||i.cancel(e),n?n.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Ms))}isActive(){return this.observers.some(e=>Bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ls(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rN(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,At))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,At))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Fn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(R(this,At)&&(R(this,Bs)?R(this,At).cancel({revert:!0}):R(this,At).cancelRetry()),this.scheduleGc()),R(this,Fn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xe(this,ir,Qr).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,d,f,x,S,y,v,w,b,g,m;if(this.state.fetchStatus!=="idle"&&((c=R(this,At))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,At))return R(this,At).continueRetry(),R(this,At).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(C=>C.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(K(this,Bs,!0),r.signal)})},s=()=>{const p=sN(this.options,n),j=(()=>{const N={client:R(this,Fs),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return K(this,Bs,!1),this.options.persister?this.options.persister(p,j,this):p(j)},l=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:R(this,Fs),state:this.state,fetchFn:s};return i(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),K(this,la,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&xe(this,ir,Qr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),K(this,At,aN({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:p=>{p instanceof yp&&p.revert&&this.setState({...R(this,la),fetchStatus:"idle"}),r.abort()},onFail:(p,C)=>{xe(this,ir,Qr).call(this,{type:"failed",failureCount:p,error:C})},onPause:()=>{xe(this,ir,Qr).call(this,{type:"pause"})},onContinue:()=>{xe(this,ir,Qr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const p=await R(this,At).start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),(S=(x=R(this,Fn).config).onSuccess)==null||S.call(x,p,this),(v=(y=R(this,Fn).config).onSettled)==null||v.call(y,p,this.state.error,this),p}catch(p){if(p instanceof yp){if(p.silent)return R(this,At).promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw xe(this,ir,Qr).call(this,{type:"error",error:p}),(b=(w=R(this,Fn).config).onError)==null||b.call(w,p,this),(m=(g=R(this,Fn).config).onSettled)==null||m.call(g,this.state.data,p,this),p}finally{this.scheduleGc()}}},Ms=new WeakMap,la=new WeakMap,Fn=new WeakMap,Fs=new WeakMap,At=new WeakMap,wc=new WeakMap,Bs=new WeakMap,ir=new WeakSet,Qr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...cN(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...ib(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,la,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Nt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,Fn).notify({query:this,type:"updated",action:e})})},Aw);function cN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ib(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gn,Ae,Sc,Jt,$s,ca,ei,qi,Cc,ua,da,Us,zs,Vi,ha,Be,Sl,bp,wp,Sp,Cp,Np,jp,Ep,uN,_w,XP=(_w=class extends La{constructor(e,n){super();re(this,Be);re(this,gn);re(this,Ae);re(this,Sc);re(this,Jt);re(this,$s);re(this,ca);re(this,ei);re(this,qi);re(this,Cc);re(this,ua);re(this,da);re(this,Us);re(this,zs);re(this,Vi);re(this,ha,new Set);this.options=n,K(this,gn,e),K(this,qi,null),K(this,ei,xp()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Ae).addObserver(this),ob(R(this,Ae),this.options)?xe(this,Be,Sl).call(this):this.updateResult(),xe(this,Be,Cp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ap(R(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ap(R(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xe(this,Be,Np).call(this),xe(this,Be,jp).call(this),R(this,Ae).removeObserver(this)}setOptions(e){const n=this.options,r=R(this,Ae);if(this.options=R(this,gn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bn(this.options.enabled,R(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xe(this,Be,Ep).call(this),R(this,Ae).setOptions(this.options),n._defaulted&&!yd(this.options,n)&&R(this,gn).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Ae),observer:this});const i=this.hasListeners();i&&ab(R(this,Ae),r,this.options,n)&&xe(this,Be,Sl).call(this),this.updateResult(),i&&(R(this,Ae)!==r||Bn(this.options.enabled,R(this,Ae))!==Bn(n.enabled,R(this,Ae))||ls(this.options.staleTime,R(this,Ae))!==ls(n.staleTime,R(this,Ae)))&&xe(this,Be,bp).call(this);const s=xe(this,Be,wp).call(this);i&&(R(this,Ae)!==r||Bn(this.options.enabled,R(this,Ae))!==Bn(n.enabled,R(this,Ae))||s!==R(this,Vi))&&xe(this,Be,Sp).call(this,s)}getOptimisticResult(e){const n=R(this,gn).getQueryCache().build(R(this,gn),e),r=this.createResult(n,e);return ZP(this,r)&&(K(this,Jt,r),K(this,ca,this.options),K(this,$s,R(this,Ae).state)),r}getCurrentResult(){return R(this,Jt)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,ei).status==="pending"&&R(this,ei).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){R(this,ha).add(e)}getCurrentQuery(){return R(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=R(this,gn).defaultQueryOptions(e),r=R(this,gn).getQueryCache().build(R(this,gn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return xe(this,Be,Sl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Jt)))}createResult(e,n){var _;const r=R(this,Ae),i=this.options,s=R(this,Jt),a=R(this,$s),l=R(this,ca),u=e!==r?e.state:R(this,Sc),{state:d}=e;let f={...d},x=!1,S;if(n._optimisticResults){const A=this.hasListeners(),k=!A&&ob(e,n),P=A&&ab(e,r,n,i);(k||P)&&(f={...f,...cN(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:w}=f;S=f.data;let b=!1;if(n.placeholderData!==void 0&&S===void 0&&w==="pending"){let A;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(A=s.data,b=!0):A=typeof n.placeholderData=="function"?n.placeholderData((_=R(this,da))==null?void 0:_.state.data,R(this,da)):n.placeholderData,A!==void 0&&(w="success",S=vp(s==null?void 0:s.data,A,n),x=!0)}if(n.select&&S!==void 0&&!b)if(s&&S===(a==null?void 0:a.data)&&n.select===R(this,Cc))S=R(this,ua);else try{K(this,Cc,n.select),S=n.select(S),S=vp(s==null?void 0:s.data,S,n),K(this,ua,S),K(this,qi,null)}catch(A){K(this,qi,A)}R(this,qi)&&(y=R(this,qi),S=R(this,ua),v=Date.now(),w="error");const g=f.fetchStatus==="fetching",m=w==="pending",p=w==="error",C=m&&g,j=S!==void 0,E={status:w,fetchStatus:f.fetchStatus,isPending:m,isSuccess:w==="success",isError:p,isInitialLoading:C,isLoading:C,data:S,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!m,isLoadingError:p&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:p&&j,isStale:bv(e,n),refetch:this.refetch,promise:R(this,ei),isEnabled:Bn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=E.data!==void 0,k=E.status==="error"&&!A,P=X=>{k?X.reject(E.error):A&&X.resolve(E.data)},M=()=>{const X=K(this,ei,E.promise=xp());P(X)},$=R(this,ei);switch($.status){case"pending":e.queryHash===r.queryHash&&P($);break;case"fulfilled":(k||E.data!==$.value)&&M();break;case"rejected":(!k||E.error!==$.reason)&&M();break}}return E}updateResult(){const e=R(this,Jt),n=this.createResult(R(this,Ae),this.options);if(K(this,$s,R(this,Ae).state),K(this,ca,this.options),R(this,$s).data!==void 0&&K(this,da,R(this,Ae)),yd(n,e))return;K(this,Jt,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,ha).size)return!0;const a=new Set(s??R(this,ha));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Jt)).some(l=>{const c=l;return R(this,Jt)[c]!==e[c]&&a.has(c)})};xe(this,Be,uN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xe(this,Be,Cp).call(this)}},gn=new WeakMap,Ae=new WeakMap,Sc=new WeakMap,Jt=new WeakMap,$s=new WeakMap,ca=new WeakMap,ei=new WeakMap,qi=new WeakMap,Cc=new WeakMap,ua=new WeakMap,da=new WeakMap,Us=new WeakMap,zs=new WeakMap,Vi=new WeakMap,ha=new WeakMap,Be=new WeakSet,Sl=function(e){xe(this,Be,Ep).call(this);let n=R(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(rn)),n},bp=function(){xe(this,Be,Np).call(this);const e=ls(this.options.staleTime,R(this,Ae));if(eo||R(this,Jt).isStale||!pp(e))return;const r=rN(R(this,Jt).dataUpdatedAt,e)+1;K(this,Us,Ps.setTimeout(()=>{R(this,Jt).isStale||this.updateResult()},r))},wp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Ae)):this.options.refetchInterval)??!1},Sp=function(e){xe(this,Be,jp).call(this),K(this,Vi,e),!(eo||Bn(this.options.enabled,R(this,Ae))===!1||!pp(R(this,Vi))||R(this,Vi)===0)&&K(this,zs,Ps.setInterval(()=>{(this.options.refetchIntervalInBackground||yv.isFocused())&&xe(this,Be,Sl).call(this)},R(this,Vi)))},Cp=function(){xe(this,Be,bp).call(this),xe(this,Be,Sp).call(this,xe(this,Be,wp).call(this))},Np=function(){R(this,Us)&&(Ps.clearTimeout(R(this,Us)),K(this,Us,void 0))},jp=function(){R(this,zs)&&(Ps.clearInterval(R(this,zs)),K(this,zs,void 0))},Ep=function(){const e=R(this,gn).getQueryCache().build(R(this,gn),this.options);if(e===R(this,Ae))return;const n=R(this,Ae);K(this,Ae,e),K(this,Sc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},uN=function(e){Nt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(R(this,Jt))}),R(this,gn).getQueryCache().notify({query:R(this,Ae),type:"observerResultsUpdated"})})},_w);function JP(t,e){return Bn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ob(t,e){return JP(t,e)||t.state.data!==void 0&&Ap(t,e,e.refetchOnMount)}function Ap(t,e,n){if(Bn(e.enabled,t)!==!1&&ls(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&bv(t,e)}return!1}function ab(t,e,n,r){return(t!==e||Bn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&bv(t,n)}function bv(t,e){return Bn(e.enabled,t)!==!1&&t.isStaleByTime(ls(e.staleTime,t))}function ZP(t,e){return!yd(t.getCurrentResult(),e)}function lb(t){return{onFetch:(e,n)=>{var d,f,x,S,y;const r=e.options,i=(x=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:x.direction,s=((S=e.state.data)==null?void 0:S.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=m=>{qP(m,()=>e.signal,()=>v=!0)},b=sN(e.options,e.fetchOptions),g=async(m,p,C)=>{if(v)return Promise.reject();if(p==null&&m.pages.length)return Promise.resolve(m);const N=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:p,direction:C?"backward":"forward",meta:e.options.meta};return w(k),k})(),E=await b(N),{maxPages:_}=e.options,A=C?WP:zP;return{pages:A(m.pages,E,_),pageParams:A(m.pageParams,p,_)}};if(i&&s.length){const m=i==="backward",p=m?eD:cb,C={pages:s,pageParams:a},j=p(r,C);l=await g(C,j,m)}else{const m=t??s.length;do{const p=c===0?a[0]??r.initialPageParam:cb(r,l);if(c>0&&p==null)break;l=await g(l,p),c++}while(c<m)}return l};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function cb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function eD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nc,_r,Zt,Ws,kr,ki,kw,tD=(kw=class extends lN{constructor(e){super();re(this,kr);re(this,Nc);re(this,_r);re(this,Zt);re(this,Ws);K(this,Nc,e.client),this.mutationId=e.mutationId,K(this,Zt,e.mutationCache),K(this,_r,[]),this.state=e.state||dN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,_r).includes(e)||(R(this,_r).push(e),this.clearGcTimeout(),R(this,Zt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){K(this,_r,R(this,_r).filter(n=>n!==e)),this.scheduleGc(),R(this,Zt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,_r).length||(this.state.status==="pending"?this.scheduleGc():R(this,Zt).remove(this))}continue(){var e;return((e=R(this,Ws))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,u,d,f,x,S,y,v,w,b,g,m,p,C,j,N,E,_;const n=()=>{xe(this,kr,ki).call(this,{type:"continue"})},r={client:R(this,Nc),meta:this.options.meta,mutationKey:this.options.mutationKey};K(this,Ws,aN({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{xe(this,kr,ki).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{xe(this,kr,ki).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Zt).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Ws).canStart();try{if(i)n();else{xe(this,kr,ki).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(a=R(this,Zt).config).onMutate)==null?void 0:l.call(a,e,this,r));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));k!==this.state.context&&xe(this,kr,ki).call(this,{type:"pending",context:k,variables:e,isPaused:s})}const A=await R(this,Ws).start();return await((f=(d=R(this,Zt).config).onSuccess)==null?void 0:f.call(d,A,e,this.state.context,this,r)),await((S=(x=this.options).onSuccess)==null?void 0:S.call(x,A,e,this.state.context,r)),await((v=(y=R(this,Zt).config).onSettled)==null?void 0:v.call(y,A,null,this.state.variables,this.state.context,this,r)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,A,null,e,this.state.context,r)),xe(this,kr,ki).call(this,{type:"success",data:A}),A}catch(A){try{await((m=(g=R(this,Zt).config).onError)==null?void 0:m.call(g,A,e,this.state.context,this,r))}catch(k){Promise.reject(k)}try{await((C=(p=this.options).onError)==null?void 0:C.call(p,A,e,this.state.context,r))}catch(k){Promise.reject(k)}try{await((N=(j=R(this,Zt).config).onSettled)==null?void 0:N.call(j,void 0,A,this.state.variables,this.state.context,this,r))}catch(k){Promise.reject(k)}try{await((_=(E=this.options).onSettled)==null?void 0:_.call(E,void 0,A,e,this.state.context,r))}catch(k){Promise.reject(k)}throw xe(this,kr,ki).call(this,{type:"error",error:A}),A}finally{R(this,Zt).runNext(this)}}},Nc=new WeakMap,_r=new WeakMap,Zt=new WeakMap,Ws=new WeakMap,kr=new WeakSet,ki=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Nt.batch(()=>{R(this,_r).forEach(r=>{r.onMutationUpdate(e)}),R(this,Zt).notify({mutation:this,type:"updated",action:e})})},kw);function dN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ti,sr,jc,Rw,nD=(Rw=class extends La{constructor(e={}){super();re(this,ti);re(this,sr);re(this,jc);this.config=e,K(this,ti,new Set),K(this,sr,new Map),K(this,jc,0)}build(e,n,r){const i=new tD({client:e,mutationCache:this,mutationId:++Wc(this,jc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){R(this,ti).add(e);const n=au(e);if(typeof n=="string"){const r=R(this,sr).get(n);r?r.push(e):R(this,sr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,ti).delete(e)){const n=au(e);if(typeof n=="string"){const r=R(this,sr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&R(this,sr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=au(e);if(typeof n=="string"){const r=R(this,sr).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=au(e);if(typeof n=="string"){const i=(r=R(this,sr).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{R(this,ti).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,ti).clear(),R(this,sr).clear()})}getAll(){return Array.from(R(this,ti))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tb(n,r))}findAll(e={}){return this.getAll().filter(n=>tb(e,n))}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Nt.batch(()=>Promise.all(e.map(n=>n.continue().catch(rn))))}},ti=new WeakMap,sr=new WeakMap,jc=new WeakMap,Rw);function au(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ni,Hi,vn,ri,ci,Lu,_p,Tw,rD=(Tw=class extends La{constructor(n,r){super();re(this,ci);re(this,ni);re(this,Hi);re(this,vn);re(this,ri);K(this,ni,n),this.setOptions(r),this.bindMethods(),xe(this,ci,Lu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=R(this,ni).defaultMutationOptions(n),yd(this.options,r)||R(this,ni).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,vn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&to(r.mutationKey)!==to(this.options.mutationKey)?this.reset():((i=R(this,vn))==null?void 0:i.state.status)==="pending"&&R(this,vn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=R(this,vn))==null||n.removeObserver(this)}onMutationUpdate(n){xe(this,ci,Lu).call(this),xe(this,ci,_p).call(this,n)}getCurrentResult(){return R(this,Hi)}reset(){var n;(n=R(this,vn))==null||n.removeObserver(this),K(this,vn,void 0),xe(this,ci,Lu).call(this),xe(this,ci,_p).call(this)}mutate(n,r){var i;return K(this,ri,r),(i=R(this,vn))==null||i.removeObserver(this),K(this,vn,R(this,ni).getMutationCache().build(R(this,ni),this.options)),R(this,vn).addObserver(this),R(this,vn).execute(n)}},ni=new WeakMap,Hi=new WeakMap,vn=new WeakMap,ri=new WeakMap,ci=new WeakSet,Lu=function(){var r;const n=((r=R(this,vn))==null?void 0:r.state)??dN();K(this,Hi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},_p=function(n){Nt.batch(()=>{var r,i,s,a,l,c,u,d;if(R(this,ri)&&this.hasListeners()){const f=R(this,Hi).variables,x=R(this,Hi).context,S={client:R(this,ni),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=R(this,ri)).onSuccess)==null||i.call(r,n.data,f,x,S)}catch(y){Promise.reject(y)}try{(a=(s=R(this,ri)).onSettled)==null||a.call(s,n.data,null,f,x,S)}catch(y){Promise.reject(y)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=R(this,ri)).onError)==null||c.call(l,n.error,f,x,S)}catch(y){Promise.reject(y)}try{(d=(u=R(this,ri)).onSettled)==null||d.call(u,void 0,n.error,f,x,S)}catch(y){Promise.reject(y)}}}this.listeners.forEach(f=>{f(R(this,Hi))})})},Tw),Rr,Pw,iD=(Pw=class extends La{constructor(e={}){super();re(this,Rr);this.config=e,K(this,Rr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??gv(i,n);let a=this.get(s);return a||(a=new YP({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,Rr).has(e.queryHash)||(R(this,Rr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=R(this,Rr).get(e.queryHash);n&&(e.destroy(),n===e&&R(this,Rr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Rr).get(e)}getAll(){return[...R(this,Rr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>eb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>eb(e,r)):n}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rr=new WeakMap,Pw),lt,Ki,Gi,fa,ma,Qi,pa,ga,Dw,sD=(Dw=class{constructor(t={}){re(this,lt);re(this,Ki);re(this,Gi);re(this,fa);re(this,ma);re(this,Qi);re(this,pa);re(this,ga);K(this,lt,t.queryCache||new iD),K(this,Ki,t.mutationCache||new nD),K(this,Gi,t.defaultOptions||{}),K(this,fa,new Map),K(this,ma,new Map),K(this,Qi,0)}mount(){Wc(this,Qi)._++,R(this,Qi)===1&&(K(this,pa,yv.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,lt).onFocus())})),K(this,ga,bd.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,lt).onOnline())})))}unmount(){var t,e;Wc(this,Qi)._--,R(this,Qi)===0&&((t=R(this,pa))==null||t.call(this),K(this,pa,void 0),(e=R(this,ga))==null||e.call(this),K(this,ga,void 0))}isFetching(t){return R(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Ki).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=R(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ls(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return R(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=R(this,lt).get(r.queryHash),s=i==null?void 0:i.state.data,a=BP(e,s);if(a!==void 0)return R(this,lt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Nt.batch(()=>R(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=R(this,lt);Nt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=R(this,lt);return Nt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Nt.batch(()=>R(this,lt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(rn).catch(rn)}invalidateQueries(t,e={}){return Nt.batch(()=>(R(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Nt.batch(()=>R(this,lt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(rn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=R(this,lt).build(this,e);return n.isStaleByTime(ls(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rn).catch(rn)}fetchInfiniteQuery(t){return t.behavior=lb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rn).catch(rn)}ensureInfiniteQueryData(t){return t.behavior=lb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bd.isOnline()?R(this,Ki).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,lt)}getMutationCache(){return R(this,Ki)}getDefaultOptions(){return R(this,Gi)}setDefaultOptions(t){K(this,Gi,t)}setQueryDefaults(t,e){R(this,fa).set(to(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,fa).values()],n={};return e.forEach(r=>{cc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){R(this,ma).set(to(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,ma).values()],n={};return e.forEach(r=>{cc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Gi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,lt).clear(),R(this,Ki).clear()}},lt=new WeakMap,Ki=new WeakMap,Gi=new WeakMap,fa=new WeakMap,ma=new WeakMap,Qi=new WeakMap,pa=new WeakMap,ga=new WeakMap,Dw),hN=h.createContext(void 0),fn=t=>{const e=h.useContext(hN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},oD=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(hN.Provider,{value:t,children:e})),fN=h.createContext(!1),aD=()=>h.useContext(fN);fN.Provider;function lD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var cD=h.createContext(lD()),uD=()=>h.useContext(cD),dD=(t,e,n)=>{const r=n!=null&&n.state.error&&typeof t.throwOnError=="function"?xv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},hD=t=>{h.useEffect(()=>{t.clearReset()},[t])},fD=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||xv(n,[t.error,r])),mD=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},pD=(t,e)=>t.isLoading&&t.isFetching&&!e,gD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ub=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function vD(t,e,n){var x,S,y,v;const r=aD(),i=uD(),s=fn(),a=s.defaultQueryOptions(t);(S=(x=s.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||S.call(x,a);const l=s.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",mD(a),dD(a,i,l),hD(i);const c=!s.getQueryCache().get(a.queryHash),[u]=h.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),f=!r&&t.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(w=>{const b=f?u.subscribe(Nt.batchCalls(w)):rn;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),h.useEffect(()=>{u.setOptions(a)},[a,u]),gD(a,d))throw ub(a,u,i);if(fD({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:l,suspense:a.suspense}))throw d.error;if((v=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||v.call(y,a,d),a.experimental_prefetchInRender&&!eo&&pD(d,r)){const w=c?ub(a,u,i):l==null?void 0:l.promise;w==null||w.catch(rn).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function dt(t,e){return vD(t,XP)}function qe(t,e){const n=fn(),[r]=h.useState(()=>new rD(n,t));h.useEffect(()=>{r.setOptions(t)},[r,t]);const i=h.useSyncExternalStore(h.useCallback(a=>r.subscribe(Nt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=h.useCallback((a,l)=>{r.mutate(a,l).catch(rn)},[r]);if(i.error&&xv(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const xD={},db=t=>{let e;const n=new Set,r=(d,f)=>{const x=typeof d=="function"?d(e):d;if(!Object.is(x,e)){const S=e;e=f??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(y=>y(e,S))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(xD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,c);return c},yD=t=>t?db(t):db;var mN={exports:{}},pN={},gN={exports:{}},vN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=h;function bD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wD=typeof Object.is=="function"?Object.is:bD,SD=Na.useState,CD=Na.useEffect,ND=Na.useLayoutEffect,jD=Na.useDebugValue;function ED(t,e){var n=e(),r=SD({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return ND(function(){i.value=n,i.getSnapshot=e,jf(i)&&s({inst:i})},[t,n,e]),CD(function(){return jf(i)&&s({inst:i}),t(function(){jf(i)&&s({inst:i})})},[t]),jD(n),n}function jf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wD(t,n)}catch{return!0}}function AD(t,e){return e()}var _D=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AD:ED;vN.useSyncExternalStore=Na.useSyncExternalStore!==void 0?Na.useSyncExternalStore:_D;gN.exports=vN;var kD=gN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=h,RD=kD;function TD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var PD=typeof Object.is=="function"?Object.is:TD,DD=RD.useSyncExternalStore,OD=dh.useRef,LD=dh.useEffect,ID=dh.useMemo,MD=dh.useDebugValue;pN.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=OD(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=ID(function(){function c(S){if(!u){if(u=!0,d=S,S=r(S),i!==void 0&&a.hasValue){var y=a.value;if(i(y,S))return f=y}return f=S}if(y=f,PD(d,S))return y;var v=r(S);return i!==void 0&&i(y,v)?(d=S,y):(d=S,f=v)}var u=!1,d,f,x=n===void 0?null:n;return[function(){return c(e())},x===null?void 0:function(){return c(x())}]},[e,n,r,i]);var l=DD(t,s[0],s[1]);return LD(function(){a.hasValue=!0,a.value=l},[l]),MD(l),l};mN.exports=pN;var FD=mN.exports;const BD=gg(FD),xN={},{useDebugValue:$D}=Ne,{useSyncExternalStoreWithSelector:UD}=BD;let hb=!1;const zD=t=>t;function WD(t,e=zD,n){(xN?"production":void 0)!=="production"&&n&&!hb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hb=!0);const r=UD(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return $D(r),r}const qD=t=>{(xN?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?yD(t):t,n=(r,i)=>WD(e,r,i);return Object.assign(n,e),n},VD=t=>qD,HD={};function yN(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=c=>c===null?null:JSON.parse(c,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(a):a(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const uc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return uc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return uc(r)(n)}}}},KD=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,b)=>({...b,...w}),...e},a=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const d=uc(s.serialize),f=()=>{const w=s.partialize({...r()});let b;const g=d({state:w,version:s.version}).then(m=>u.setItem(s.name,m)).catch(m=>{b=m});if(b)throw b;return g},x=i.setState;i.setState=(w,b)=>{x(w,b),f()};const S=t((...w)=>{n(...w),f()},r,i);let y;const v=()=>{var w;if(!u)return;a=!1,l.forEach(g=>g(r()));const b=((w=s.onRehydrateStorage)==null?void 0:w.call(s,r()))||void 0;return uc(u.getItem.bind(u))(s.name).then(g=>{if(g)return s.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return s.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var m;return y=s.merge(g,(m=r())!=null?m:S),n(y,!0),f()}).then(()=>{b==null||b(y,void 0),a=!0,c.forEach(g=>g(y))}).catch(g=>{b==null||b(void 0,g)})};return i.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},v(),y||S},GD=(t,e)=>(n,r,i)=>{let s={storage:yN(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...e},a=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,i);const d=()=>{const v=s.partialize({...r()});return u.setItem(s.name,{state:v,version:s.version})},f=i.setState;i.setState=(v,w)=>{f(v,w),d()};const x=t((...v)=>{n(...v),d()},r,i);i.getInitialState=()=>x;let S;const y=()=>{var v,w;if(!u)return;a=!1,l.forEach(g=>{var m;return g((m=r())!=null?m:x)});const b=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(v=r())!=null?v:x))||void 0;return uc(u.getItem.bind(u))(s.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return[!0,s.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var m;const[p,C]=g;if(S=s.merge(C,(m=r())!=null?m:x),n(S,!0),p)return d()}).then(()=>{b==null||b(S,void 0),S=r(),a=!0,c.forEach(g=>g(S))}).catch(g=>{b==null||b(void 0,g)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},s.skipHydration||y(),S||x},QD=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((HD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),KD(t,e)):GD(t,e),YD=QD,dc=VD()(YD(t=>({user:null,token:null,expiresAt:null,isAuthenticated:!1,login:(e,n,r=3600)=>{const i=Date.now()+r*1e3;sessionStorage.setItem("auth_token",n),sessionStorage.setItem("auth_expires_at",i.toString()),t({user:e,token:n,expiresAt:i,isAuthenticated:!0})},refreshSession:e=>{e&&t(n=>!n.token||n.expiresAt===e?n:(sessionStorage.setItem("auth_expires_at",e.toString()),{expiresAt:e}))},logout:()=>{sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_expires_at"),t({user:null,token:null,expiresAt:null,isAuthenticated:!1})}}),{name:"auth-storage",storage:yN(()=>sessionStorage),partialize:t=>({user:t.user,token:t.token,expiresAt:t.expiresAt,isAuthenticated:t.isAuthenticated})}));function bN(t,e){return function(){return t.apply(e,arguments)}}const{toString:XD}=Object.prototype,{getPrototypeOf:wv}=Object,{iterator:hh,toStringTag:wN}=Symbol,fh=(t=>e=>{const n=XD.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xr=t=>(t=t.toLowerCase(),e=>fh(e)===t),mh=t=>e=>typeof e===t,{isArray:Ia}=Array,ja=mh("undefined");function Tc(t){return t!==null&&!ja(t)&&t.constructor!==null&&!ja(t.constructor)&&Cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const SN=xr("ArrayBuffer");function JD(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&SN(t.buffer),e}const ZD=mh("string"),Cn=mh("function"),CN=mh("number"),Pc=t=>t!==null&&typeof t=="object",e2=t=>t===!0||t===!1,Iu=t=>{if(fh(t)!=="object")return!1;const e=wv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(wN in t)&&!(hh in t)},t2=t=>{if(!Pc(t)||Tc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},n2=xr("Date"),r2=xr("File"),i2=xr("Blob"),s2=xr("FileList"),o2=t=>Pc(t)&&Cn(t.pipe),a2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Cn(t.append)&&((e=fh(t))==="formdata"||e==="object"&&Cn(t.toString)&&t.toString()==="[object FormData]"))},l2=xr("URLSearchParams"),[c2,u2,d2,h2]=["ReadableStream","Request","Response","Headers"].map(xr),f2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ia(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Tc(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let l;for(r=0;r<a;r++)l=s[r],e.call(null,t[l],l,t)}}function NN(t,e){if(Tc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jN=t=>!ja(t)&&t!==Ds;function kp(){const{caseless:t,skipUndefined:e}=jN(this)&&this||{},n={},r=(i,s)=>{const a=t&&NN(n,s)||s;Iu(n[a])&&Iu(i)?n[a]=kp(n[a],i):Iu(i)?n[a]=kp({},i):Ia(i)?n[a]=i.slice():(!e||!ja(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Dc(arguments[i],r);return n}const m2=(t,e,n,{allOwnKeys:r}={})=>(Dc(e,(i,s)=>{n&&Cn(i)?t[s]=bN(i,n):t[s]=i},{allOwnKeys:r}),t),p2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),g2=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},v2=(t,e,n,r)=>{let i,s,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&wv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},x2=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},y2=t=>{if(!t)return null;if(Ia(t))return t;let e=t.length;if(!CN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},b2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&wv(Uint8Array)),w2=(t,e)=>{const r=(t&&t[hh]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},S2=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},C2=xr("HTMLFormElement"),N2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),fb=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),j2=xr("RegExp"),EN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Dc(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},E2=t=>{EN(t,(e,n)=>{if(Cn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Cn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},A2=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ia(t)?r(t):r(String(t).split(e)),n},_2=()=>{},k2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function R2(t){return!!(t&&Cn(t.append)&&t[wN]==="FormData"&&t[hh])}const T2=t=>{const e=new Array(10),n=(r,i)=>{if(Pc(r)){if(e.indexOf(r)>=0)return;if(Tc(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Ia(r)?[]:{};return Dc(r,(a,l)=>{const c=n(a,i+1);!ja(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},P2=xr("AsyncFunction"),D2=t=>t&&(Pc(t)||Cn(t))&&Cn(t.then)&&Cn(t.catch),AN=((t,e)=>t?setImmediate:e?((n,r)=>(Ds.addEventListener("message",({source:i,data:s})=>{i===Ds&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cn(Ds.postMessage)),O2=typeof queueMicrotask<"u"?queueMicrotask.bind(Ds):typeof process<"u"&&process.nextTick||AN,L2=t=>t!=null&&Cn(t[hh]),D={isArray:Ia,isArrayBuffer:SN,isBuffer:Tc,isFormData:a2,isArrayBufferView:JD,isString:ZD,isNumber:CN,isBoolean:e2,isObject:Pc,isPlainObject:Iu,isEmptyObject:t2,isReadableStream:c2,isRequest:u2,isResponse:d2,isHeaders:h2,isUndefined:ja,isDate:n2,isFile:r2,isBlob:i2,isRegExp:j2,isFunction:Cn,isStream:o2,isURLSearchParams:l2,isTypedArray:b2,isFileList:s2,forEach:Dc,merge:kp,extend:m2,trim:f2,stripBOM:p2,inherits:g2,toFlatObject:v2,kindOf:fh,kindOfTest:xr,endsWith:x2,toArray:y2,forEachEntry:w2,matchAll:S2,isHTMLForm:C2,hasOwnProperty:fb,hasOwnProp:fb,reduceDescriptors:EN,freezeMethods:E2,toObjectSet:A2,toCamelCase:N2,noop:_2,toFiniteNumber:k2,findKey:NN,global:Ds,isContextDefined:jN,isSpecCompliantForm:R2,toJSONObject:T2,isAsyncFn:P2,isThenable:D2,setImmediate:AN,asap:O2,isIterable:L2};function he(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}D.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const _N=he.prototype,kN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kN[t]={value:t}});Object.defineProperties(he,kN);Object.defineProperty(_N,"isAxiosError",{value:!0});he.from=(t,e,n,r,i,s)=>{const a=Object.create(_N);D.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return he.call(a,l,c,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const I2=null;function Rp(t){return D.isPlainObject(t)||D.isArray(t)}function RN(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function mb(t,e,n){return t?t.concat(e).map(function(i,s){return i=RN(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function M2(t){return D.isArray(t)&&!t.some(Rp)}const F2=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function ph(t,e,n){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!D.isUndefined(w[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(D.isDate(y))return y.toISOString();if(D.isBoolean(y))return y.toString();if(!c&&D.isBlob(y))throw new he("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(y)||D.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,w){let b=y;if(y&&!w&&typeof y=="object"){if(D.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(D.isArray(y)&&M2(y)||(D.isFileList(y)||D.endsWith(v,"[]"))&&(b=D.toArray(y)))return v=RN(v),b.forEach(function(m,p){!(D.isUndefined(m)||m===null)&&e.append(a===!0?mb([v],p,s):a===null?v:v+"[]",u(m))}),!1}return Rp(y)?!0:(e.append(mb(w,v,s),u(y)),!1)}const f=[],x=Object.assign(F2,{defaultVisitor:d,convertValue:u,isVisitable:Rp});function S(y,v){if(!D.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),D.forEach(y,function(b,g){(!(D.isUndefined(b)||b===null)&&i.call(e,b,D.isString(g)?g.trim():g,v,x))===!0&&S(b,v?v.concat(g):[g])}),f.pop()}}if(!D.isObject(t))throw new TypeError("data must be an object");return S(t),e}function pb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Sv(t,e){this._pairs=[],t&&ph(t,this,e)}const TN=Sv.prototype;TN.append=function(e,n){this._pairs.push([e,n])};TN.toString=function(e){const n=e?function(r){return e.call(this,r,pb)}:pb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function B2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function PN(t,e,n){if(!e)return t;const r=n&&n.encode||B2;D.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=D.isURLSearchParams(e)?e.toString():new Sv(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class gb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(r){r!==null&&e(r)})}}const DN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$2=typeof URLSearchParams<"u"?URLSearchParams:Sv,U2=typeof FormData<"u"?FormData:null,z2=typeof Blob<"u"?Blob:null,W2={isBrowser:!0,classes:{URLSearchParams:$2,FormData:U2,Blob:z2},protocols:["http","https","file","blob","url","data"]},Cv=typeof window<"u"&&typeof document<"u",Tp=typeof navigator=="object"&&navigator||void 0,q2=Cv&&(!Tp||["ReactNative","NativeScript","NS"].indexOf(Tp.product)<0),V2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",H2=Cv&&window.location.href||"http://localhost",K2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cv,hasStandardBrowserEnv:q2,hasStandardBrowserWebWorkerEnv:V2,navigator:Tp,origin:H2},Symbol.toStringTag,{value:"Module"})),Vt={...K2,...W2};function G2(t,e){return ph(t,new Vt.classes.URLSearchParams,{visitor:function(n,r,i,s){return Vt.isNode&&D.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Q2(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Y2(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function ON(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=s>=n.length;return a=!a&&D.isArray(i)?i.length:a,c?(D.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!D.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&D.isArray(i[a])&&(i[a]=Y2(i[a])),!l)}if(D.isFormData(t)&&D.isFunction(t.entries)){const n={};return D.forEachEntry(t,(r,i)=>{e(Q2(r),i,n,0)}),n}return null}function X2(t,e,n){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Oc={transitional:DN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=D.isObject(e);if(s&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return i?JSON.stringify(ON(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e)||D.isReadableStream(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return G2(e,this.formSerializer).toString();if((l=D.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ph(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),X2(e)):e}],transformResponse:[function(e){const n=this.transitional||Oc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(D.isResponse(e)||D.isReadableStream(e))return e;if(e&&D.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?he.from(l,he.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vt.classes.FormData,Blob:Vt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],t=>{Oc.headers[t]={}});const J2=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z2=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&J2[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},vb=Symbol("internals");function ol(t){return t&&String(t).trim().toLowerCase()}function Mu(t){return t===!1||t==null?t:D.isArray(t)?t.map(Mu):String(t)}function eO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const tO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ef(t,e,n,r,i){if(D.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!D.isString(e)){if(D.isString(r))return e.indexOf(r)!==-1;if(D.isRegExp(r))return r.test(e)}}function nO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function rO(t,e){const n=D.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Nn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,u){const d=ol(c);if(!d)throw new Error("header name must be a non-empty string");const f=D.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=Mu(l))}const a=(l,c)=>D.forEach(l,(u,d)=>s(u,d,c));if(D.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(D.isString(e)&&(e=e.trim())&&!tO(e))a(Z2(e),n);else if(D.isObject(e)&&D.isIterable(e)){let l={},c,u;for(const d of e){if(!D.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?D.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=ol(e),e){const r=D.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return eO(i);if(D.isFunction(n))return n.call(this,i,r);if(D.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ol(e),e){const r=D.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ef(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=ol(a),a){const l=D.findKey(r,a);l&&(!n||Ef(r,r[l],l,n))&&(delete r[l],i=!0)}}return D.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Ef(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return D.forEach(this,(i,s)=>{const a=D.findKey(r,s);if(a){n[a]=Mu(i),delete n[s];return}const l=e?nO(s):String(s).trim();l!==s&&delete n[s],n[l]=Mu(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return D.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&D.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[vb]=this[vb]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=ol(a);r[l]||(rO(i,a),r[l]=!0)}return D.isArray(e)?e.forEach(s):s(e),this}};Nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(Nn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});D.freezeMethods(Nn);function Af(t,e){const n=this||Oc,r=e||n,i=Nn.from(r.headers);let s=r.data;return D.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function LN(t){return!!(t&&t.__CANCEL__)}function Ma(t,e,n){he.call(this,t??"canceled",he.ERR_CANCELED,e,n),this.name="CanceledError"}D.inherits(Ma,he,{__CANCEL__:!0});function IN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sO(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[s];a||(a=u),n[i]=c,r[i]=u;let f=s,x=0;for(;f!==i;)x+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const S=d&&u-d;return S?Math.round(x*1e3/S):void 0}}function oO(t,e){let n=0,r=1e3/e,i,s;const a=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-f)))},()=>i&&a(i)]}const wd=(t,e,n=3)=>{let r=0;const i=sO(50,250);return oO(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,c=a-r,u=i(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},xb=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},yb=t=>(...e)=>D.asap(()=>t(...e)),aO=Vt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Vt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Vt.origin),Vt.navigator&&/(msie|trident)/i.test(Vt.navigator.userAgent)):()=>!0,lO=Vt.hasStandardBrowserEnv?{write(t,e,n,r,i,s,a){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];D.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),D.isString(r)&&l.push(`path=${r}`),D.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),D.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function MN(t,e,n){let r=!cO(e);return t&&(r||n==!1)?uO(t,e):e}const bb=t=>t instanceof Nn?{...t}:t;function no(t,e){e=e||{};const n={};function r(u,d,f,x){return D.isPlainObject(u)&&D.isPlainObject(d)?D.merge.call({caseless:x},u,d):D.isPlainObject(d)?D.merge({},d):D.isArray(d)?d.slice():d}function i(u,d,f,x){if(D.isUndefined(d)){if(!D.isUndefined(u))return r(void 0,u,f,x)}else return r(u,d,f,x)}function s(u,d){if(!D.isUndefined(d))return r(void 0,d)}function a(u,d){if(D.isUndefined(d)){if(!D.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>i(bb(u),bb(d),f,!0)};return D.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||i,x=f(t[d],e[d],d);D.isUndefined(x)&&f!==l||(n[d]=x)}),n}const FN=t=>{const e=no({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=e;if(e.headers=a=Nn.from(a),e.url=PN(MN(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),D.isFormData(n)){if(Vt.hasStandardBrowserEnv||Vt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(D.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Vt.hasStandardBrowserEnv&&(r&&D.isFunction(r)&&(r=r(e)),r||r!==!1&&aO(e.url))){const c=i&&s&&lO.read(s);c&&a.set(i,c)}return e},dO=typeof XMLHttpRequest<"u",hO=dO&&function(t){return new Promise(function(n,r){const i=FN(t);let s=i.data;const a=Nn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,f,x,S,y;function v(){S&&S(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function b(){if(!w)return;const m=Nn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:m,config:t,request:w};IN(function(N){n(N),v()},function(N){r(N),v()},C),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(r(new he("Request aborted",he.ECONNABORTED,t,w)),w=null)},w.onerror=function(p){const C=p&&p.message?p.message:"Network Error",j=new he(C,he.ERR_NETWORK,t,w);j.event=p||null,r(j),w=null},w.ontimeout=function(){let p=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||DN;i.timeoutErrorMessage&&(p=i.timeoutErrorMessage),r(new he(p,C.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,w)),w=null},s===void 0&&a.setContentType(null),"setRequestHeader"in w&&D.forEach(a.toJSON(),function(p,C){w.setRequestHeader(C,p)}),D.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),l&&l!=="json"&&(w.responseType=i.responseType),u&&([x,y]=wd(u,!0),w.addEventListener("progress",x)),c&&w.upload&&([f,S]=wd(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(d=m=>{w&&(r(!m||m.type?new Ma(null,t,w):m),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const g=iO(i.url);if(g&&Vt.protocols.indexOf(g)===-1){r(new he("Unsupported protocol "+g+":",he.ERR_BAD_REQUEST,t));return}w.send(s||null)})},fO=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof he?d:new Ma(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new he(`timeout ${e} of ms exceeded`,he.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>D.asap(l),c}},mO=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},pO=async function*(t,e){for await(const n of gO(t))yield*mO(n,e)},gO=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},wb=(t,e,n,r)=>{const i=pO(t,e);let s=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let x=s+=f;n(x)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Sb=64*1024,{isFunction:lu}=D,vO=(({Request:t,Response:e})=>({Request:t,Response:e}))(D.global),{ReadableStream:Cb,TextEncoder:Nb}=D.global,jb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},xO=t=>{t=D.merge.call({skipUndefined:!0},vO,t);const{fetch:e,Request:n,Response:r}=t,i=e?lu(e):typeof fetch=="function",s=lu(n),a=lu(r);if(!i)return!1;const l=i&&lu(Cb),c=i&&(typeof Nb=="function"?(y=>v=>y.encode(v))(new Nb):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=s&&l&&jb(()=>{let y=!1;const v=new n(Vt.origin,{body:new Cb,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!v}),d=a&&l&&jb(()=>D.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(v,w)=>{let b=v&&v[y];if(b)return b.call(v);throw new he(`Response type '${y}' is not supported`,he.ERR_NOT_SUPPORT,w)})});const x=async y=>{if(y==null)return 0;if(D.isBlob(y))return y.size;if(D.isSpecCompliantForm(y))return(await new n(Vt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(D.isArrayBufferView(y)||D.isArrayBuffer(y))return y.byteLength;if(D.isURLSearchParams(y)&&(y=y+""),D.isString(y))return(await c(y)).byteLength},S=async(y,v)=>{const w=D.toFiniteNumber(y.getContentLength());return w??x(v)};return async y=>{let{url:v,method:w,data:b,signal:g,cancelToken:m,timeout:p,onDownloadProgress:C,onUploadProgress:j,responseType:N,headers:E,withCredentials:_="same-origin",fetchOptions:A}=FN(y),k=e||fetch;N=N?(N+"").toLowerCase():"text";let P=fO([g,m&&m.toAbortSignal()],p),M=null;const $=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let X;try{if(j&&u&&w!=="get"&&w!=="head"&&(X=await S(E,b))!==0){let Z=new n(v,{method:"POST",body:b,duplex:"half"}),V;if(D.isFormData(b)&&(V=Z.headers.get("content-type"))&&E.setContentType(V),Z.body){const[ke,ie]=xb(X,wd(yb(j)));b=wb(Z.body,Sb,ke,ie)}}D.isString(_)||(_=_?"include":"omit");const z=s&&"credentials"in n.prototype,Q={...A,signal:P,method:w.toUpperCase(),headers:E.normalize().toJSON(),body:b,duplex:"half",credentials:z?_:void 0};M=s&&new n(v,Q);let O=await(s?k(M,A):k(v,Q));const L=d&&(N==="stream"||N==="response");if(d&&(C||L&&$)){const Z={};["status","statusText","headers"].forEach(He=>{Z[He]=O[He]});const V=D.toFiniteNumber(O.headers.get("content-length")),[ke,ie]=C&&xb(V,wd(yb(C),!0))||[];O=new r(wb(O.body,Sb,ke,()=>{ie&&ie(),$&&$()}),Z)}N=N||"text";let G=await f[D.findKey(f,N)||"text"](O,y);return!L&&$&&$(),await new Promise((Z,V)=>{IN(Z,V,{data:G,headers:Nn.from(O.headers),status:O.status,statusText:O.statusText,config:y,request:M})})}catch(z){throw $&&$(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,y,M),{cause:z.cause||z}):he.from(z,z&&z.code,y,M)}}},yO=new Map,BN=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,l=a,c,u,d=yO;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:xO(e)),d=u;return u};BN();const Nv={http:I2,xhr:hO,fetch:{get:BN}};D.forEach(Nv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Eb=t=>`- ${t}`,bO=t=>D.isFunction(t)||t===null||t===!1;function wO(t,e){t=D.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let l;if(i=r,!bO(r)&&(i=Nv[(l=String(r)).toLowerCase()],i===void 0))throw new he(`Unknown adapter '${l}'`);if(i&&(D.isFunction(i)||(i=i.get(e))))break;s[l||"#"+a]=i}if(!i){const a=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(Eb).join(`
`):" "+Eb(a[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const $N={getAdapter:wO,adapters:Nv};function _f(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ma(null,t)}function Ab(t){return _f(t),t.headers=Nn.from(t.headers),t.data=Af.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$N.getAdapter(t.adapter||Oc.adapter,t)(t).then(function(r){return _f(t),r.data=Af.call(t,t.transformResponse,r),r.headers=Nn.from(r.headers),r},function(r){return LN(r)||(_f(t),r&&r.response&&(r.response.data=Af.call(t,t.transformResponse,r.response),r.response.headers=Nn.from(r.response.headers))),Promise.reject(r)})}const UN="1.13.2",gh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const _b={};gh.transitional=function(e,n,r){function i(s,a){return"[Axios v"+UN+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(e===!1)throw new he(i(a," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!_b[a]&&(_b[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,l):!0}};gh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function SO(t,e,n){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const l=t[s],c=l===void 0||a(l,s,t);if(c!==!0)throw new he("option "+s+" must be "+c,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+s,he.ERR_BAD_OPTION)}}const Fu={assertOptions:SO,validators:gh},Er=Fu.validators;let Hs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new gb,response:new gb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=no(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Fu.assertOptions(r,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),i!=null&&(D.isFunction(i)?n.paramsSerializer={serialize:i}:Fu.assertOptions(i,{encode:Er.function,serialize:Er.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fu.assertOptions(n,{baseUrl:Er.spelling("baseURL"),withXsrfToken:Er.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&D.merge(s.common,s[n.method]);s&&D.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Nn.concat(a,s);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,x;if(!c){const y=[Ab.bind(this),void 0];for(y.unshift(...l),y.push(...u),x=y.length,d=Promise.resolve(n);f<x;)d=d.then(y[f++],y[f++]);return d}x=l.length;let S=n;for(;f<x;){const y=l[f++],v=l[f++];try{S=y(S)}catch(w){v.call(this,w);break}}try{d=Ab.call(this,S)}catch(y){return Promise.reject(y)}for(f=0,x=u.length;f<x;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=no(this.defaults,e);const n=MN(e.baseURL,e.url,e.allowAbsoluteUrls);return PN(n,e.params,e.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(e){Hs.prototype[e]=function(n,r){return this.request(no(r||{},{method:e,url:n,data:(r||{}).data}))}});D.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,l){return this.request(no(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Hs.prototype[e]=n(),Hs.prototype[e+"Form"]=n(!0)});let CO=class zN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,l){r.reason||(r.reason=new Ma(s,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new zN(function(i){e=i}),cancel:e}}};function NO(t){return function(n){return t.apply(null,n)}}function jO(t){return D.isObject(t)&&t.isAxiosError===!0}const Pp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Pp).forEach(([t,e])=>{Pp[e]=t});function WN(t){const e=new Hs(t),n=bN(Hs.prototype.request,e);return D.extend(n,Hs.prototype,e,{allOwnKeys:!0}),D.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return WN(no(t,i))},n}const gt=WN(Oc);gt.Axios=Hs;gt.CanceledError=Ma;gt.CancelToken=CO;gt.isCancel=LN;gt.VERSION=UN;gt.toFormData=ph;gt.AxiosError=he;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=NO;gt.isAxiosError=jO;gt.mergeConfig=no;gt.AxiosHeaders=Nn;gt.formToJSON=t=>ON(D.isHTMLForm(t)?new FormData(t):t);gt.getAdapter=$N.getAdapter;gt.HttpStatusCode=Pp;gt.default=gt;const{Axios:wW,AxiosError:SW,CanceledError:CW,isCancel:NW,CancelToken:jW,VERSION:EW,all:AW,Cancel:_W,isAxiosError:kW,spread:RW,toFormData:TW,AxiosHeaders:PW,HttpStatusCode:DW,formToJSON:OW,getAdapter:LW,mergeConfig:IW}=gt,EO="/api",q=gt.create({baseURL:EO,headers:{"Content-Type":"application/json"}});q.interceptors.request.use(t=>{const e=sessionStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});q.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(dc.getState().logout(),window.location.href="/login"),Promise.reject(t)});function kb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Fa(...t){return e=>{let n=!1;const r=t.map(i=>{const s=kb(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():kb(t[i],null)}}}}function $e(...t){return h.useCallback(Fa(...t),t)}var AO=Symbol.for("react.lazy"),Sd=Gd[" use ".trim().toString()];function _O(t){return typeof t=="object"&&t!==null&&"then"in t}function qN(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===AO&&"_payload"in t&&_O(t._payload)}function VN(t){const e=RO(t),n=h.forwardRef((r,i)=>{let{children:s,...a}=r;qN(s)&&typeof Sd=="function"&&(s=Sd(s._payload));const l=h.Children.toArray(s),c=l.find(PO);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var kO=VN("Slot");function RO(t){const e=h.forwardRef((n,r)=>{let{children:i,...s}=n;if(qN(i)&&typeof Sd=="function"&&(i=Sd(i._payload)),h.isValidElement(i)){const a=OO(i),l=DO(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TO=Symbol("radix.slottable");function PO(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TO}function DO(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function OO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function HN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=HN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function KN(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=HN(t))&&(r&&(r+=" "),r+=e);return r}const Rb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Tb=KN,vh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Tb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const x=Rb(d)||Rb(f);return i[u][x]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,x]=d;return x===void 0||(u[f]=x),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:x,...S}=d;return Object.entries(S).every(y=>{let[v,w]=y;return Array.isArray(w)?w.includes({...s,...l}[v]):{...s,...l}[v]===w})?[...u,f,x]:u},[]);return Tb(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},jv="-",LO=t=>{const e=MO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(jv);return l[0]===""&&l.length!==1&&l.shift(),GN(l,e)||IO(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},GN=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?GN(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(jv);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},Pb=/^\[(.+)\]$/,IO=t=>{if(Pb.test(t)){const e=Pb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},MO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return BO(Object.entries(t.classGroups),n).forEach(([s,a])=>{Dp(a,r,s,e)}),r},Dp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Db(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(FO(i)){Dp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Dp(a,Db(e,s),n,r)})})},Db=(t,e)=>{let n=t;return e.split(jv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FO=t=>t.isThemeGetter,BO=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,$O=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},QN="!",UO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let b=l[w];if(u===0){if(b===i&&(r||l.slice(w,w+s)===e)){c.push(l.slice(d,w)),d=w+s;continue}if(b==="/"){f=w;continue}}b==="["?u++:b==="]"&&u--}const x=c.length===0?l:l.substring(d),S=x.startsWith(QN),y=S?x.substring(1):x,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:S,baseClassName:y,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},zO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},WO=t=>({cache:$O(t.cacheSize),parseClassName:UO(t),...LO(t)}),qO=/\s+/,VO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(qO);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:S}=n(u);let y=!!S,v=r(y?x.substring(0,S):x);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=r(x),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=zO(d).join(":"),b=f?w+QN:w,g=b+v;if(s.includes(g))continue;s.push(g);const m=i(v,y);for(let p=0;p<m.length;++p){const C=m[p];s.push(b+C)}l=u+(l.length>0?" "+l:l)}return l};function HO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=YN(e))&&(r&&(r+=" "),r+=n);return r}const YN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=YN(t[r]))&&(n&&(n+=" "),n+=e);return n};function KO(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=WO(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=VO(c,n);return i(c,d),d}return function(){return s(HO.apply(null,arguments))}}const Qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},XN=/^\[(?:([a-z-]+):)?(.+)\]$/i,GO=/^\d+\/\d+$/,QO=new Set(["px","full","screen"]),YO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gr=t=>Xo(t)||QO.has(t)||GO.test(t),ji=t=>Ba(t,"length",lL),Xo=t=>!!t&&!Number.isNaN(Number(t)),kf=t=>Ba(t,"number",Xo),al=t=>!!t&&Number.isInteger(Number(t)),tL=t=>t.endsWith("%")&&Xo(t.slice(0,-1)),me=t=>XN.test(t),Ei=t=>YO.test(t),nL=new Set(["length","size","percentage"]),rL=t=>Ba(t,nL,JN),iL=t=>Ba(t,"position",JN),sL=new Set(["image","url"]),oL=t=>Ba(t,sL,uL),aL=t=>Ba(t,"",cL),ll=()=>!0,Ba=(t,e,n)=>{const r=XN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},lL=t=>XO.test(t)&&!JO.test(t),JN=()=>!1,cL=t=>ZO.test(t),uL=t=>eL.test(t),dL=()=>{const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),i=Qe("borderColor"),s=Qe("borderRadius"),a=Qe("borderSpacing"),l=Qe("borderWidth"),c=Qe("contrast"),u=Qe("grayscale"),d=Qe("hueRotate"),f=Qe("invert"),x=Qe("gap"),S=Qe("gradientColorStops"),y=Qe("gradientColorStopPositions"),v=Qe("inset"),w=Qe("margin"),b=Qe("opacity"),g=Qe("padding"),m=Qe("saturate"),p=Qe("scale"),C=Qe("sepia"),j=Qe("skew"),N=Qe("space"),E=Qe("translate"),_=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",me,e],P=()=>[me,e],M=()=>["",Gr,ji],$=()=>["auto",Xo,me],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",me],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Xo,me];return{cacheSize:500,separator:":",theme:{colors:[ll],spacing:[Gr,ji],blur:["none","",Ei,me],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Ei,me],borderSpacing:P(),borderWidth:M(),contrast:Z(),grayscale:L(),hueRotate:Z(),invert:L(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[tL,ji],inset:k(),margin:k(),opacity:Z(),padding:P(),saturate:Z(),scale:Z(),sepia:L(),skew:Z(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Ei]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),me]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",al,me]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",al,me]}],"grid-cols":[{"grid-cols":[ll]}],"col-start-end":[{col:["auto",{span:["full",al,me]},me]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ll]}],"row-start-end":[{row:["auto",{span:[al,me]},me]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[Ei]},Ei]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ei,ji]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kf]}],"font-family":[{font:[ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Xo,kf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gr,ji]}],"underline-offset":[{"underline-offset":["auto",Gr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),iL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Gr,me]}],"outline-w":[{outline:[Gr,ji]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Gr,ji]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ei,aL]}],"shadow-color":[{shadow:[ll]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ei,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[p]}],"scale-x":[{"scale-x":[p]}],"scale-y":[{"scale-y":[p]}],rotate:[{rotate:[al,me]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gr,ji,kf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hL=KO(dL);function ce(...t){return hL(KN(t))}const Ev=vh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?kO:"button";return o.jsx(a,{className:ce(Ev({variant:e,size:n,className:t})),ref:s,...i})});I.displayName="Button";const B=h.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));B.displayName="Input";const ae=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ae.displayName="Card";const Ve=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));Ve.displayName="CardHeader";const et=h.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));et.displayName="CardTitle";const Av=h.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));Av.displayName="CardDescription";const le=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));le.displayName="CardContent";const fL=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));fL.displayName="CardFooter";function mL(){const[t,e]=h.useState(""),[n,r]=h.useState(""),[i,s]=h.useState(""),[a,l]=h.useState(!1),c=Pt(),u=dc(f=>f.login),d=async f=>{var x,S;f.preventDefault(),s(""),l(!0);try{const y=await q.post("/auth/login",{email:t,password:n});if(y.data.success){const{token:v,user:w}=y.data.data,b=y.data.data.expires_in;u(w,v,b),c("/")}else s(y.data.error||"Login failed")}catch(y){s(((S=(x=y.response)==null?void 0:x.data)==null?void 0:S.error)||"An error occurred")}finally{l(!1)}};return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:o.jsxs(ae,{className:"w-full max-w-md",children:[o.jsxs(Ve,{className:"space-y-1",children:[o.jsx(et,{className:"text-3xl font-bold text-center",children:"Dalila Admin"}),o.jsx(Av,{className:"text-center",children:"Sign in to access the property management system"})]}),o.jsx(le,{children:o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i&&o.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:i}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),o.jsx(B,{id:"email",type:"email",placeholder:"admin@dalila.com",value:t,onChange:f=>e(f.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),o.jsx(B,{id:"password",type:"password",placeholder:"",value:n,onChange:f=>r(f.target.value),required:!0})]}),o.jsx(I,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"})]})})]})})}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(t,e)=>{const n=h.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>h.createElement("svg",{ref:d,...pL,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${gL(t)}`,l].join(" "),...u},[...e.map(([f,x])=>h.createElement(f,x)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=pe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=pe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=pe("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=pe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=pe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=pe("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=pe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=pe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=pe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=pe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function TL(){const t=dc(c=>c.user),e=dc(c=>c.logout),n=Pt(),[r,i]=h.useState(!0),s=()=>{e(),n("/login")},a=[{name:"Properties",href:"/properties",icon:rj},{name:"Link Generation",href:"/link-generation",icon:$a,nested:!0},{name:"Blogs",href:"/blogs",icon:ZN},{name:"Videos",href:"/videos",icon:kL},{name:"Testimonials",href:"/testimonials",icon:jL},{name:"Landing Page",href:"/landing-pages",icon:Cd},{name:"Cities",href:"/cities",icon:Cd,nested:!0}],l=[{name:"Redirects",href:"/redirects",icon:EL}];return o.jsxs("div",{className:"flex h-screen bg-gray-100",children:[o.jsxs("aside",{className:`${r?"w-64":"w-20"} bg-white border-r border-gray-200 transition-all duration-300 flex flex-col`,children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r&&o.jsx("h1",{className:"text-xl font-bold text-primary",children:"Dalila Admin"}),o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>i(!r),children:o.jsx(NL,{className:"h-5 w-5"})})]}),o.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[a.map(c=>o.jsxs("button",{type:"button",onClick:()=>n(c.href),className:`w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors ${c.nested?"pl-8 text-sm":""}`,children:[o.jsx(c.icon,{className:"h-5 w-5"}),r&&o.jsx("span",{children:c.name})]},c.name)),o.jsx("div",{className:"border-t border-gray-200 my-3"}),l.map(c=>o.jsxs(on,{to:c.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[o.jsx(c.icon,{className:"h-5 w-5"}),r&&o.jsx("span",{children:c.name})]},c.name))]}),o.jsxs("div",{className:"p-4 border-t border-gray-200",children:[o.jsx("div",{className:`${r?"flex items-center gap-3":"text-center"} mb-3`,children:r&&o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),o.jsx("p",{className:"text-xs text-gray-500",children:t==null?void 0:t.email})]})}),o.jsxs(I,{variant:"outline",className:"w-full",onClick:s,children:[o.jsx(CL,{className:"h-4 w-4"}),r&&o.jsx("span",{className:"ml-2",children:"Logout"})]})]})]}),o.jsx("main",{className:"flex-1 overflow-y-auto",children:o.jsx("div",{className:"p-8",children:o.jsx(wP,{})})})]})}var PL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DL=PL.reduce((t,e)=>{const n=VN(`Primitive.${e}`),r=h.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),OL="Label",uj=h.forwardRef((t,e)=>o.jsx(DL.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));uj.displayName=OL;var dj=uj;const LL=vh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),U=h.forwardRef(({className:t,...e},n)=>o.jsx(dj,{ref:n,className:ce(LL(),t),...e}));U.displayName=dj.displayName;function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function IL(t,e){const n=h.createContext(e),r=s=>{const{children:a,...l}=s,c=h.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=h.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function yr(t,e=[]){let n=[];function r(s,a){const l=h.createContext(a),c=n.length;n=[...n,a];const u=f=>{var b;const{scope:x,children:S,...y}=f,v=((b=x==null?void 0:x[t])==null?void 0:b[c])||l,w=h.useMemo(()=>y,Object.values(y));return o.jsx(v.Provider,{value:w,children:S})};u.displayName=s+"Provider";function d(f,x){var v;const S=((v=x==null?void 0:x[t])==null?void 0:v[c])||l,y=h.useContext(S);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,ML(i,...e)]}function ML(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Ft=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},FL=Gd[" useId ".trim().toString()]||(()=>{}),BL=0;function Mr(t){const[e,n]=h.useState(FL());return Ft(()=>{n(r=>r??String(BL++))},[t]),e?`radix-${e}`:""}var $L=Gd[" useInsertionEffect ".trim().toString()]||Ft;function Br({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=UL({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=h.useRef(t!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const x=zL(d)?d(t):d;x!==t&&((f=a.current)==null||f.call(a,x))}else s(d)},[l,t,s,a]);return[c,u]}function UL({defaultProp:t,onChange:e}){const[n,r]=h.useState(t),i=h.useRef(n),s=h.useRef(e);return $L(()=>{s.current=e},[e]),h.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function zL(t){return typeof t=="function"}function WL(t){const e=qL(t),n=h.forwardRef((r,i)=>{const{children:s,...a}=r,l=h.Children.toArray(s),c=l.find(HL);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function qL(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const a=GL(i),l=KL(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VL=Symbol("radix.slottable");function HL(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VL}function KL(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function GL(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var QL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=QL.reduce((t,e)=>{const n=WL(`Primitive.${e}`),r=h.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function YL(t,e){t&&lr.flushSync(()=>t.dispatchEvent(e))}function hs(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function XL(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var JL="DismissableLayer",Ip="dismissableLayer.update",ZL="dismissableLayer.pointerDownOutside",eI="dismissableLayer.focusOutside",Mb,hj=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rv=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=h.useContext(hj),[d,f]=h.useState(null),x=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=h.useState({}),y=$e(e,N=>f(N)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(w),g=d?v.indexOf(d):-1,m=u.layersWithOutsidePointerEventsDisabled.size>0,p=g>=b,C=rI(N=>{const E=N.target,_=[...u.branches].some(A=>A.contains(E));!p||_||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},x),j=iI(N=>{const E=N.target;[...u.branches].some(A=>A.contains(E))||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},x);return XL(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},x),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Mb=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Fb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Mb)}},[d,x,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Fb())},[d,u]),h.useEffect(()=>{const N=()=>S({});return document.addEventListener(Ip,N),()=>document.removeEventListener(Ip,N)},[]),o.jsx(fe.div,{...c,ref:y,style:{pointerEvents:m?p?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,j.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,C.onPointerDownCapture)})});Rv.displayName=JL;var tI="DismissableLayerBranch",nI=h.forwardRef((t,e)=>{const n=h.useContext(hj),r=h.useRef(null),i=$e(e,r);return h.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(fe.div,{...t,ref:i})});nI.displayName=tI;function rI(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){fj(ZL,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function iI(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=h.useRef(!1);return h.useEffect(()=>{const i=s=>{s.target&&!r.current&&fj(eI,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Fb(){const t=new CustomEvent(Ip);document.dispatchEvent(t)}function fj(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?YL(i,s):i.dispatchEvent(s)}var Rf="focusScope.autoFocusOnMount",Tf="focusScope.autoFocusOnUnmount",Bb={bubbles:!1,cancelable:!0},sI="FocusScope",Tv=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,c]=h.useState(null),u=hs(i),d=hs(s),f=h.useRef(null),x=$e(e,v=>c(v)),S=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let v=function(m){if(S.paused||!l)return;const p=m.target;l.contains(p)?f.current=p:Ri(f.current,{select:!0})},w=function(m){if(S.paused||!l)return;const p=m.relatedTarget;p!==null&&(l.contains(p)||Ri(f.current,{select:!0}))},b=function(m){if(document.activeElement===document.body)for(const C of m)C.removedNodes.length>0&&Ri(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const g=new MutationObserver(b);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),g.disconnect()}}},[r,l,S.paused]),h.useEffect(()=>{if(l){Ub.add(S);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(Rf,Bb);l.addEventListener(Rf,u),l.dispatchEvent(b),b.defaultPrevented||(oI(dI(mj(l)),{select:!0}),document.activeElement===v&&Ri(l))}return()=>{l.removeEventListener(Rf,u),setTimeout(()=>{const b=new CustomEvent(Tf,Bb);l.addEventListener(Tf,d),l.dispatchEvent(b),b.defaultPrevented||Ri(v??document.body,{select:!0}),l.removeEventListener(Tf,d),Ub.remove(S)},0)}}},[l,u,d,S]);const y=h.useCallback(v=>{if(!n&&!r||S.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(w&&b){const g=v.currentTarget,[m,p]=aI(g);m&&p?!v.shiftKey&&b===p?(v.preventDefault(),n&&Ri(m,{select:!0})):v.shiftKey&&b===m&&(v.preventDefault(),n&&Ri(p,{select:!0})):b===g&&v.preventDefault()}},[n,r,S.paused]);return o.jsx(fe.div,{tabIndex:-1,...a,ref:x,onKeyDown:y})});Tv.displayName=sI;function oI(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ri(r,{select:e}),document.activeElement!==n)return}function aI(t){const e=mj(t),n=$b(e,t),r=$b(e.reverse(),t);return[n,r]}function mj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $b(t,e){for(const n of t)if(!lI(n,{upTo:e}))return n}function lI(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cI(t){return t instanceof HTMLInputElement&&"select"in t}function Ri(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cI(t)&&e&&t.select()}}var Ub=uI();function uI(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=zb(t,e),t.unshift(e)},remove(e){var n;t=zb(t,e),(n=t[0])==null||n.resume()}}}function zb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function dI(t){return t.filter(e=>e.tagName!=="A")}var hI="Portal",Pv=h.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=h.useState(!1);Ft(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?_T.createPortal(o.jsx(fe.div,{...r,ref:e}),a):null});Pv.displayName=hI;function fI(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var vo=t=>{const{present:e,children:n}=t,r=mI(e),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),s=$e(r.ref,pI(i));return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:s}):null};vo.displayName="Presence";function mI(t){const[e,n]=h.useState(),r=h.useRef(null),i=h.useRef(t),s=h.useRef("none"),a=t?"mounted":"unmounted",[l,c]=fI(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=cu(r.current);s.current=l==="mounted"?u:"none"},[l]),Ft(()=>{const u=r.current,d=i.current;if(d!==t){const x=s.current,S=cu(u);t?c("MOUNT"):S==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&x!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Ft(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=S=>{const v=cu(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&v&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},x=S=>{S.target===e&&(s.current=cu(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function cu(t){return(t==null?void 0:t.animationName)||"none"}function pI(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Pf=0;function pj(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Wb()),document.body.insertAdjacentElement("beforeend",t[1]??Wb()),Pf++,()=>{Pf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Pf--}},[])}function Wb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pr=function(){return Pr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pr.apply(this,arguments)};function gj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gI(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Bu="right-scroll-bar-position",$u="width-before-scroll-bar",vI="with-scroll-bars-hidden",xI="--removed-body-scroll-bar-size";function Df(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yI(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bI=typeof window<"u"?h.useLayoutEffect:h.useEffect,qb=new WeakMap;function wI(t,e){var n=yI(null,function(r){return t.forEach(function(i){return Df(i,r)})});return bI(function(){var r=qb.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||Df(l,null)}),s.forEach(function(l){i.has(l)||Df(l,a)})}qb.set(n,t)},[t]),n}function SI(t){return t}function CI(t,e){e===void 0&&(e=SI);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function NI(t){t===void 0&&(t={});var e=CI(null);return e.options=Pr({async:!0,ssr:!1},t),e}var vj=function(t){var e=t.sideCar,n=gj(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Pr({},n))};vj.isSideCarExport=!0;function jI(t,e){return t.useMedium(e),vj}var xj=NI(),Of=function(){},xh=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:Of,onWheelCapture:Of,onTouchMoveCapture:Of}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,x=t.sideCar,S=t.noRelative,y=t.noIsolation,v=t.inert,w=t.allowPinchZoom,b=t.as,g=b===void 0?"div":b,m=t.gapMode,p=gj(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=x,j=wI([n,e]),N=Pr(Pr({},p),i);return h.createElement(h.Fragment,null,d&&h.createElement(C,{sideCar:xj,removeScrollBar:u,shards:f,noRelative:S,noIsolation:y,inert:v,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:m}),a?h.cloneElement(h.Children.only(l),Pr(Pr({},N),{ref:j})):h.createElement(g,Pr({},N,{className:c,ref:j}),l))});xh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xh.classNames={fullWidth:$u,zeroRight:Bu};var EI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AI(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=EI();return e&&t.setAttribute("nonce",e),t}function _I(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function kI(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RI=function(){var t=0,e=null;return{add:function(n){t==0&&(e=AI())&&(_I(e,n),kI(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TI=function(){var t=RI();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yj=function(){var t=TI(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},PI={left:0,top:0,right:0,gap:0},Lf=function(t){return parseInt(t||"",10)||0},DI=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Lf(n),Lf(r),Lf(i)]},OI=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return PI;var e=DI(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},LI=yj(),Jo="data-scroll-locked",II=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vI,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Jo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($u,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Bu," .").concat(Bu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($u," .").concat($u,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jo,`] {
    `).concat(xI,": ").concat(l,`px;
  }
`)},Vb=function(){var t=parseInt(document.body.getAttribute(Jo)||"0",10);return isFinite(t)?t:0},MI=function(){h.useEffect(function(){return document.body.setAttribute(Jo,(Vb()+1).toString()),function(){var t=Vb()-1;t<=0?document.body.removeAttribute(Jo):document.body.setAttribute(Jo,t.toString())}},[])},FI=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;MI();var s=h.useMemo(function(){return OI(i)},[i]);return h.createElement(LI,{styles:II(s,!e,i,n?"":"!important")})},Mp=!1;if(typeof window<"u")try{var uu=Object.defineProperty({},"passive",{get:function(){return Mp=!0,!0}});window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{Mp=!1}var _o=Mp?{passive:!1}:!1,BI=function(t){return t.tagName==="TEXTAREA"},bj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!BI(t)&&n[e]==="visible")},$I=function(t){return bj(t,"overflowY")},UI=function(t){return bj(t,"overflowX")},Hb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wj(t,r);if(i){var s=Sj(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zI=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},WI=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wj=function(t,e){return t==="v"?$I(e):UI(e)},Sj=function(t,e){return t==="v"?zI(e):WI(e)},qI=function(t,e){return t==="h"&&e==="rtl"?-1:1},VI=function(t,e,n,r,i){var s=qI(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,x=0;do{if(!l)break;var S=Sj(t,l),y=S[0],v=S[1],w=S[2],b=v-w-s*y;(y||b)&&wj(t,l)&&(f+=b,x+=y);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(x)<1)&&(u=!0),u},du=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Kb=function(t){return[t.deltaX,t.deltaY]},Gb=function(t){return t&&"current"in t?t.current:t},HI=function(t,e){return t[0]===e[0]&&t[1]===e[1]},KI=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},GI=0,ko=[];function QI(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(GI++)[0],s=h.useState(yj)[0],a=h.useRef(t);h.useEffect(function(){a.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=gI([t.lockRef.current],(t.shards||[]).map(Gb),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=h.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var b=du(v),g=n.current,m="deltaX"in v?v.deltaX:g[0]-b[0],p="deltaY"in v?v.deltaY:g[1]-b[1],C,j=v.target,N=Math.abs(m)>Math.abs(p)?"h":"v";if("touches"in v&&N==="h"&&j.type==="range")return!1;var E=window.getSelection(),_=E&&E.anchorNode,A=_?_===j||_.contains(j):!1;if(A)return!1;var k=Hb(N,j);if(!k)return!0;if(k?C=N:(C=N==="v"?"h":"v",k=Hb(N,j)),!k)return!1;if(!r.current&&"changedTouches"in v&&(m||p)&&(r.current=C),!C)return!0;var P=r.current||C;return VI(P,w,v,P==="h"?m:p)},[]),c=h.useCallback(function(v){var w=v;if(!(!ko.length||ko[ko.length-1]!==s)){var b="deltaY"in w?Kb(w):du(w),g=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&HI(C.delta,b)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var m=(a.current.shards||[]).map(Gb).filter(Boolean).filter(function(C){return C.contains(w.target)}),p=m.length>0?l(w,m[0]):!a.current.noIsolation;p&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(v,w,b,g){var m={name:v,delta:w,target:b,should:g,shadowParent:YI(b)};e.current.push(m),setTimeout(function(){e.current=e.current.filter(function(p){return p!==m})},1)},[]),d=h.useCallback(function(v){n.current=du(v),r.current=void 0},[]),f=h.useCallback(function(v){u(v.type,Kb(v),v.target,l(v,t.lockRef.current))},[]),x=h.useCallback(function(v){u(v.type,du(v),v.target,l(v,t.lockRef.current))},[]);h.useEffect(function(){return ko.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:x}),document.addEventListener("wheel",c,_o),document.addEventListener("touchmove",c,_o),document.addEventListener("touchstart",d,_o),function(){ko=ko.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,_o),document.removeEventListener("touchmove",c,_o),document.removeEventListener("touchstart",d,_o)}},[]);var S=t.removeScrollBar,y=t.inert;return h.createElement(h.Fragment,null,y?h.createElement(s,{styles:KI(i)}):null,S?h.createElement(FI,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function YI(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XI=jI(xj,QI);var Dv=h.forwardRef(function(t,e){return h.createElement(xh,Pr({},t,{ref:e,sideCar:XI}))});Dv.classNames=xh.classNames;var JI=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ro=new WeakMap,hu=new WeakMap,fu={},If=0,Cj=function(t){return t&&(t.host||Cj(t.parentNode))},ZI=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Cj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},eM=function(t,e,n,r){var i=ZI(e,Array.isArray(t)?t:[t]);fu[n]||(fu[n]=new WeakMap);var s=fu[n],a=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(x){if(l.has(x))d(x);else try{var S=x.getAttribute(r),y=S!==null&&S!=="false",v=(Ro.get(x)||0)+1,w=(s.get(x)||0)+1;Ro.set(x,v),s.set(x,w),a.push(x),v===1&&y&&hu.set(x,!0),w===1&&x.setAttribute(n,"true"),y||x.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",x,b)}})};return d(e),l.clear(),If++,function(){a.forEach(function(f){var x=Ro.get(f)-1,S=s.get(f)-1;Ro.set(f,x),s.set(f,S),x||(hu.has(f)||f.removeAttribute(r),hu.delete(f)),S||f.removeAttribute(n)}),If--,If||(Ro=new WeakMap,Ro=new WeakMap,hu=new WeakMap,fu={})}},Nj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=JI(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),eM(r,i,n,"aria-hidden")):function(){return null}};function tM(t){const e=nM(t),n=h.forwardRef((r,i)=>{const{children:s,...a}=r,l=h.Children.toArray(s),c=l.find(iM);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function nM(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const a=oM(i),l=sM(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rM=Symbol("radix.slottable");function iM(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rM}function sM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function oM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yh="Dialog",[jj,Ej]=yr(yh),[aM,br]=jj(yh),Aj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=h.useRef(null),c=h.useRef(null),[u,d]=Br({prop:r,defaultProp:i??!1,onChange:s,caller:yh});return o.jsx(aM,{scope:e,triggerRef:l,contentRef:c,contentId:Mr(),titleId:Mr(),descriptionId:Mr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};Aj.displayName=yh;var _j="DialogTrigger",kj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=br(_j,n),s=$e(e,i.triggerRef);return o.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Iv(i.open),...r,ref:s,onClick:ye(t.onClick,i.onOpenToggle)})});kj.displayName=_j;var Ov="DialogPortal",[lM,Rj]=jj(Ov,{forceMount:void 0}),Tj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=br(Ov,e);return o.jsx(lM,{scope:e,forceMount:n,children:h.Children.map(r,a=>o.jsx(vo,{present:n||s.open,children:o.jsx(Pv,{asChild:!0,container:i,children:a})}))})};Tj.displayName=Ov;var Nd="DialogOverlay",Pj=h.forwardRef((t,e)=>{const n=Rj(Nd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=br(Nd,t.__scopeDialog);return s.modal?o.jsx(vo,{present:r||s.open,children:o.jsx(uM,{...i,ref:e})}):null});Pj.displayName=Nd;var cM=tM("DialogOverlay.RemoveScroll"),uM=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=br(Nd,n);return o.jsx(Dv,{as:cM,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(fe.div,{"data-state":Iv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ro="DialogContent",Dj=h.forwardRef((t,e)=>{const n=Rj(ro,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=br(ro,t.__scopeDialog);return o.jsx(vo,{present:r||s.open,children:s.modal?o.jsx(dM,{...i,ref:e}):o.jsx(hM,{...i,ref:e})})});Dj.displayName=ro;var dM=h.forwardRef((t,e)=>{const n=br(ro,t.__scopeDialog),r=h.useRef(null),i=$e(e,n.contentRef,r);return h.useEffect(()=>{const s=r.current;if(s)return Nj(s)},[]),o.jsx(Oj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault())})}),hM=h.forwardRef((t,e)=>{const n=br(ro,t.__scopeDialog),r=h.useRef(!1),i=h.useRef(!1);return o.jsx(Oj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Oj=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=br(ro,n),c=h.useRef(null),u=$e(e,c);return pj(),o.jsxs(o.Fragment,{children:[o.jsx(Tv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Rv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Iv(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(mM,{titleId:l.titleId}),o.jsx(gM,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Lv="DialogTitle",Lj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=br(Lv,n);return o.jsx(fe.h2,{id:i.titleId,...r,ref:e})});Lj.displayName=Lv;var Ij="DialogDescription",Mj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=br(Ij,n);return o.jsx(fe.p,{id:i.descriptionId,...r,ref:e})});Mj.displayName=Ij;var Fj="DialogClose",Bj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=br(Fj,n);return o.jsx(fe.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});Bj.displayName=Fj;function Iv(t){return t?"open":"closed"}var $j="DialogTitleWarning",[fM,Uj]=IL($j,{contentName:ro,titleName:Lv,docsSlug:"dialog"}),mM=({titleId:t})=>{const e=Uj($j),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pM="DialogDescriptionWarning",gM=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Uj(pM).contentName}}.`;return h.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},zj=Aj,Wj=kj,qj=Tj,Mv=Pj,Fv=Dj,Bv=Lj,$v=Mj,Uv=Bj;const Vj=zj,Hj=Wj,vM=qj,Kj=h.forwardRef(({className:t,...e},n)=>o.jsx(Mv,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Kj.displayName=Mv.displayName;const zv=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(vM,{children:[o.jsx(Kj,{}),o.jsxs(Fv,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(Uv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(mr,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zv.displayName=Fv.displayName;const Wv=({className:t,...e})=>o.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Wv.displayName="DialogHeader";const Gj=({className:t,...e})=>o.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Gj.displayName="DialogFooter";const qv=h.forwardRef(({className:t,...e},n)=>o.jsx(Bv,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));qv.displayName=Bv.displayName;const Vv=h.forwardRef(({className:t,...e},n)=>o.jsx($v,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));Vv.displayName=$v.displayName;function xM(){const[t,e]=h.useState(!1),[n,r]=h.useState(""),i=fn(),{data:s,isLoading:a}=dt({queryKey:["exchange-rate-current"],queryFn:async()=>{const x=await fetch("/api/exchange-rate/current");if(!x.ok)throw new Error("Failed to fetch exchange rate");return x.json()},refetchInterval:6e4}),{data:l}=dt({queryKey:["exchange-rate-history"],queryFn:async()=>{const x=localStorage.getItem("token"),S=await fetch("/api/exchange-rate/history",{headers:{Authorization:`Bearer ${x}`}});if(!S.ok)throw new Error("Failed to fetch history");return S.json()},enabled:!1}),c=qe({mutationFn:async x=>(await q.post("/exchange-rate",{rate:x,date:new Date().toISOString().split("T")[0]})).data,onSuccess:()=>{i.invalidateQueries({queryKey:["exchange-rate-current"]}),i.invalidateQueries({queryKey:["exchange-rate-history"]}),alert("Exchange rate updated successfully!"),e(!1),r("")},onError:x=>{alert("Error: "+x.message)}}),u=()=>{const x=parseFloat(n);if(isNaN(x)||x<=0){alert("Please enter a valid positive number.");return}c.mutate(x)};if(a)return o.jsx(ae,{children:o.jsx(le,{className:"flex items-center justify-center py-8",children:o.jsx(Ib,{className:"h-6 w-6 animate-spin text-muted-foreground"})})});const d=s==null?void 0:s.data,f=parseFloat((d==null?void 0:d.rate)||"0");return o.jsxs(ae,{children:[o.jsxs(Ve,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_L,{className:"h-5 w-5 text-primary"}),o.jsx(et,{children:"Global Exchange Rate"})]}),o.jsxs(Vj,{children:[o.jsx(Hj,{asChild:!0,children:o.jsxs(I,{variant:"ghost",size:"sm",children:[o.jsx(SL,{className:"h-4 w-4 mr-2"}),"History"]})}),o.jsxs(zv,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(Wv,{children:[o.jsx(qv,{children:"Exchange Rate History"}),o.jsx(Vv,{children:"Last 30 days of exchange rate changes"})]}),o.jsx("div",{className:"space-y-2",children:l==null?void 0:l.data.history.map(x=>o.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[x.rate," ",x.currency_to]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(x.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),o.jsx("div",{className:"text-right",children:x.is_active&&o.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Active"})})]},x.id))})]})]})]}),o.jsxs(Av,{children:["USD to MXN conversion rate  Updated ",new Date((d==null?void 0:d.date)||"").toLocaleDateString()]})]}),o.jsx(le,{children:t?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(U,{htmlFor:"new-rate",children:"New Rate (MXN per USD)"}),o.jsx(B,{id:"new-rate",type:"number",step:"0.0001",value:n,onChange:x=>r(x.target.value),placeholder:"17.5000",className:"mt-2"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(I,{onClick:u,disabled:c.isPending,className:"flex-1",children:c.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Ib,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(kv,{className:"mr-2 h-4 w-4"}),"Save"]})}),o.jsx(I,{variant:"outline",onClick:()=>{e(!1),r("")},disabled:c.isPending,children:"Cancel"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("span",{className:"text-4xl font-bold",children:f.toFixed(2)}),o.jsx("span",{className:"text-muted-foreground",children:"MXN"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["1 USD = ",f.toFixed(4)," MXN"]}),o.jsx(I,{onClick:()=>{e(!0),r((d==null?void 0:d.rate)||"")},className:"w-full",children:"Update Rate"})]})})]})}function yM(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's an overview of your system."})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.jsx(xM,{})})]})}function bM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const bh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wa(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Hv(t){return"nodeType"in t}function jn(t){var e,n;return t?Wa(t)?t:Hv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Kv(t){const{Document:e}=jn(t);return t instanceof e}function Lc(t){return Wa(t)?!1:t instanceof jn(t).HTMLElement}function Qj(t){return t instanceof jn(t).SVGElement}function qa(t){return t?Wa(t)?t.document:Hv(t)?Kv(t)?t:Lc(t)||Qj(t)?t.ownerDocument:document:document:document}const $r=bh?h.useLayoutEffect:h.useEffect;function Gv(t){const e=h.useRef(t);return $r(()=>{e.current=t}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function wM(){const t=h.useRef(null),e=h.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=h.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function hc(t,e){e===void 0&&(e=[t]);const n=h.useRef(t);return $r(()=>{n.current!==t&&(n.current=t)},e),n}function Ic(t,e){const n=h.useRef();return h.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function jd(t){const e=Gv(t),n=h.useRef(null),r=h.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function Fp(t){const e=h.useRef();return h.useEffect(()=>{e.current=t},[t]),e.current}let Mf={};function Mc(t,e){return h.useMemo(()=>{if(e)return e;const n=Mf[t]==null?0:Mf[t]+1;return Mf[t]=n,t+"-"+n},[t,e])}function Yj(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[c,u]of l){const d=s[c];d!=null&&(s[c]=d+t*u)}return s},{...e})}}const Zo=Yj(1),fc=Yj(-1);function SM(t){return"clientX"in t&&"clientY"in t}function Qv(t){if(!t)return!1;const{KeyboardEvent:e}=jn(t.target);return e&&t instanceof e}function CM(t){if(!t)return!1;const{TouchEvent:e}=jn(t.target);return e&&t instanceof e}function Bp(t){if(CM(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return SM(t)?{x:t.clientX,y:t.clientY}:null}const Ea=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ea.Translate.toString(t),Ea.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Qb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function NM(t){return t.matches(Qb)?t:t.querySelector(Qb)}const jM={display:"none"};function EM(t){let{id:e,value:n}=t;return Ne.createElement("div",{id:e,style:jM},n)}function AM(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ne.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function _M(){const[t,e]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const Xj=h.createContext(null);function kM(t){const e=h.useContext(Xj);h.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function RM(){const[t]=h.useState(()=>new Set),e=h.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[h.useCallback(r=>{let{type:i,event:s}=r;t.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[t]),e]}const TM={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},PM={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function DM(t){let{announcements:e=PM,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=TM}=t;const{announce:s,announcement:a}=_M(),l=Mc("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),kM(h.useMemo(()=>({onDragStart(f){let{active:x}=f;s(e.onDragStart({active:x}))},onDragMove(f){let{active:x,over:S}=f;e.onDragMove&&s(e.onDragMove({active:x,over:S}))},onDragOver(f){let{active:x,over:S}=f;s(e.onDragOver({active:x,over:S}))},onDragEnd(f){let{active:x,over:S}=f;s(e.onDragEnd({active:x,over:S}))},onDragCancel(f){let{active:x,over:S}=f;s(e.onDragCancel({active:x,over:S}))}}),[s,e])),!c)return null;const d=Ne.createElement(Ne.Fragment,null,Ne.createElement(EM,{id:r,value:i.draggable}),Ne.createElement(AM,{id:l,announcement:a}));return n?lr.createPortal(d,n):d}var Ct;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ct||(Ct={}));function Ed(){}function Ad(t,e){return h.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Jj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const pr=Object.freeze({x:0,y:0});function Zj(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function e1(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function OM(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function Yb(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function t1(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Xb(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const n1=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Xb(e,e.left,e.top),s=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=Zj(Xb(c),i);s.push({id:l,data:{droppableContainer:a,value:u}})}}return s.sort(e1)},LM=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Yb(e),s=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=Yb(c),d=i.reduce((x,S,y)=>x+Zj(u[y],S),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:a,value:f}})}}return s.sort(e1)};function IM(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-r,l=s-n;if(r<i&&n<s){const c=e.width*e.height,u=t.width*t.height,d=a*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const MM=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=IM(l,e);c>0&&i.push({id:a,data:{droppableContainer:s,value:c}})}}return i.sort(OM)};function FM(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function r1(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:pr}function BM(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const $M=BM(1);function UM(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function zM(t,e,n){const r=UM(e);if(!r)return t;const{scaleX:i,scaleY:s,x:a,y:l}=r,c=t.left-a-(1-i)*parseFloat(n),u=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const WM={ignoreTransform:!1};function Va(t,e){e===void 0&&(e=WM);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=jn(t).getComputedStyle(t);u&&(n=zM(n,u,d))}const{top:r,left:i,width:s,height:a,bottom:l,right:c}=n;return{top:r,left:i,width:s,height:a,bottom:l,right:c}}function Jb(t){return Va(t,{ignoreTransform:!0})}function qM(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function VM(t,e){return e===void 0&&(e=jn(t).getComputedStyle(t)),e.position==="fixed"}function HM(t,e){e===void 0&&(e=jn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function wh(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(Kv(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Lc(i)||Qj(i)||n.includes(i))return n;const s=jn(t).getComputedStyle(i);return i!==t&&HM(i,s)&&n.push(i),VM(i,s)?n:r(i.parentNode)}return t?r(t):n}function i1(t){const[e]=wh(t,1);return e??null}function Ff(t){return!bh||!t?null:Wa(t)?t:Hv(t)?Kv(t)||t===qa(t).scrollingElement?window:Lc(t)?t:null:null}function s1(t){return Wa(t)?t.scrollX:t.scrollLeft}function o1(t){return Wa(t)?t.scrollY:t.scrollTop}function $p(t){return{x:s1(t),y:o1(t)}}var kt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(kt||(kt={}));function a1(t){return!bh||!t?!1:t===document.scrollingElement}function l1(t){const e={x:0,y:0},n=a1(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const KM={x:.2,y:.2};function GM(t,e,n,r,i){let{top:s,left:a,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=KM);const{isTop:u,isBottom:d,isLeft:f,isRight:x}=l1(t),S={x:0,y:0},y={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+v.height?(S.y=kt.Backward,y.y=r*Math.abs((e.top+v.height-s)/v.height)):!d&&c>=e.bottom-v.height&&(S.y=kt.Forward,y.y=r*Math.abs((e.bottom-v.height-c)/v.height)),!x&&l>=e.right-v.width?(S.x=kt.Forward,y.x=r*Math.abs((e.right-v.width-l)/v.width)):!f&&a<=e.left+v.width&&(S.x=kt.Backward,y.x=r*Math.abs((e.left+v.width-a)/v.width)),{direction:S,speed:y}}function QM(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function c1(t){return t.reduce((e,n)=>Zo(e,$p(n)),pr)}function YM(t){return t.reduce((e,n)=>e+s1(n),0)}function XM(t){return t.reduce((e,n)=>e+o1(n),0)}function JM(t,e){if(e===void 0&&(e=Va),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);i1(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const ZM=[["x",["left","right"],YM],["y",["top","bottom"],XM]];class Yv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wh(n),i=c1(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of ZM)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=i[s]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ol{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function eF(t){const{EventTarget:e}=jn(t);return t instanceof e?t:qa(t)}function Bf(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var $n;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})($n||($n={}));function Zb(t){t.preventDefault()}function tF(t){t.stopPropagation()}var _e;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(_e||(_e={}));const u1={start:[_e.Space,_e.Enter],cancel:[_e.Esc],end:[_e.Space,_e.Enter,_e.Tab]},nF=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case _e.Right:return{...n,x:n.x+25};case _e.Left:return{...n,x:n.x-25};case _e.Down:return{...n,y:n.y+25};case _e.Up:return{...n,y:n.y-25}}};class Sh{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ol(qa(n)),this.windowListeners=new Ol(jn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($n.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&JM(r),n(pr)}handleKeyDown(e){if(Qv(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=u1,coordinateGetter:a=nF,scrollBehavior:l="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:pr;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(e,{active:n,context:r.current,currentCoordinates:d});if(f){const x=fc(f,d),S={x:0,y:0},{scrollableAncestors:y}=r.current;for(const v of y){const w=e.code,{isTop:b,isRight:g,isLeft:m,isBottom:p,maxScroll:C,minScroll:j}=l1(v),N=QM(v),E={x:Math.min(w===_e.Right?N.right-N.width/2:N.right,Math.max(w===_e.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(w===_e.Down?N.bottom-N.height/2:N.bottom,Math.max(w===_e.Down?N.top:N.top+N.height/2,f.y))},_=w===_e.Right&&!g||w===_e.Left&&!m,A=w===_e.Down&&!p||w===_e.Up&&!b;if(_&&E.x!==f.x){const k=v.scrollLeft+x.x,P=w===_e.Right&&k<=C.x||w===_e.Left&&k>=j.x;if(P&&!x.y){v.scrollTo({left:k,behavior:l});return}P?S.x=v.scrollLeft-k:S.x=w===_e.Right?v.scrollLeft-C.x:v.scrollLeft-j.x,S.x&&v.scrollBy({left:-S.x,behavior:l});break}else if(A&&E.y!==f.y){const k=v.scrollTop+x.y,P=w===_e.Down&&k<=C.y||w===_e.Up&&k>=j.y;if(P&&!x.x){v.scrollTo({top:k,behavior:l});return}P?S.y=v.scrollTop-k:S.y=w===_e.Down?v.scrollTop-C.y:v.scrollTop-j.y,S.y&&v.scrollBy({top:-S.y,behavior:l});break}}this.handleMove(e,Zo(fc(f,this.referenceCoordinates),S))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sh.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=u1,onActivation:i}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function e0(t){return!!(t&&"distance"in t)}function t0(t){return!!(t&&"delay"in t)}class Xv{constructor(e,n,r){var i;r===void 0&&(r=eF(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=qa(a),this.documentListeners=new Ol(this.document),this.listeners=new Ol(r),this.windowListeners=new Ol(jn(a)),this.initialCoordinates=(i=Bp(s))!=null?i:pr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add($n.Resize,this.handleCancel),this.windowListeners.add($n.DragStart,Zb),this.windowListeners.add($n.VisibilityChange,this.handleCancel),this.windowListeners.add($n.ContextMenu,Zb),this.documentListeners.add($n.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(t0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(e0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add($n.Click,tF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($n.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const c=(n=Bp(e))!=null?n:pr,u=fc(i,c);if(!r&&l){if(e0(l)){if(l.tolerance!=null&&Bf(u,l.tolerance))return this.handleCancel();if(Bf(u,l.distance))return this.handleStart()}if(t0(l)&&Bf(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),a(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===_e.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const rF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ch extends Xv{constructor(e){const{event:n}=e,r=qa(n.target);super(e,rF,r)}}Ch.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const iF={move:{name:"mousemove"},end:{name:"mouseup"}};var Up;(function(t){t[t.RightClick=2]="RightClick"})(Up||(Up={}));class sF extends Xv{constructor(e){super(e,iF,qa(e.event.target))}}sF.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Up.RightClick?!1:(r==null||r({event:n}),!0)}}];const $f={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class oF extends Xv{constructor(e){super(e,$f)}static setup(){return window.addEventListener($f.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener($f.move.name,e)};function e(){}}}oF.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Ll;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ll||(Ll={}));var _d;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(_d||(_d={}));function aF(t){let{acceleration:e,activator:n=Ll.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:l=_d.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:x}=t;const S=cF({delta:f,disabled:!s}),[y,v]=wM(),w=h.useRef({x:0,y:0}),b=h.useRef({x:0,y:0}),g=h.useMemo(()=>{switch(n){case Ll.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ll.DraggableRect:return i}},[n,i,c]),m=h.useRef(null),p=h.useCallback(()=>{const j=m.current;if(!j)return;const N=w.current.x*b.current.x,E=w.current.y*b.current.y;j.scrollBy(N,E)},[]),C=h.useMemo(()=>l===_d.TreeOrder?[...u].reverse():u,[l,u]);h.useEffect(()=>{if(!s||!u.length||!g){v();return}for(const j of C){if((r==null?void 0:r(j))===!1)continue;const N=u.indexOf(j),E=d[N];if(!E)continue;const{direction:_,speed:A}=GM(j,E,g,e,x);for(const k of["x","y"])S[k][_[k]]||(A[k]=0,_[k]=0);if(A.x>0||A.y>0){v(),m.current=j,y(p,a),w.current=A,b.current=_;return}}w.current={x:0,y:0},b.current={x:0,y:0},v()},[e,p,r,v,s,a,JSON.stringify(g),JSON.stringify(S),y,u,C,d,JSON.stringify(x)])}const lF={x:{[kt.Backward]:!1,[kt.Forward]:!1},y:{[kt.Backward]:!1,[kt.Forward]:!1}};function cF(t){let{delta:e,disabled:n}=t;const r=Fp(e);return Ic(i=>{if(n||!r||!i)return lF;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[kt.Backward]:i.x[kt.Backward]||s.x===-1,[kt.Forward]:i.x[kt.Forward]||s.x===1},y:{[kt.Backward]:i.y[kt.Backward]||s.y===-1,[kt.Forward]:i.y[kt.Forward]||s.y===1}}},[n,e,r])}function uF(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Ic(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function dF(t,e){return h.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...s]},[]),[t,e])}var mc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(mc||(mc={}));var zp;(function(t){t.Optimized="optimized"})(zp||(zp={}));const n0=new Map;function hF(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,a]=h.useState(null),{frequency:l,measure:c,strategy:u}=i,d=h.useRef(t),f=w(),x=hc(f),S=h.useCallback(function(b){b===void 0&&(b=[]),!x.current&&a(g=>g===null?b:g.concat(b.filter(m=>!g.includes(m))))},[x]),y=h.useRef(null),v=Ic(b=>{if(f&&!n)return n0;if(!b||b===n0||d.current!==t||s!=null){const g=new Map;for(let m of t){if(!m)continue;if(s&&s.length>0&&!s.includes(m.id)&&m.rect.current){g.set(m.id,m.rect.current);continue}const p=m.node.current,C=p?new Yv(c(p),p):null;m.rect.current=C,C&&g.set(m.id,C)}return g}return b},[t,s,n,f,c]);return h.useEffect(()=>{d.current=t},[t]),h.useEffect(()=>{f||S()},[n,f]),h.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),h.useEffect(()=>{f||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{S(),y.current=null},l))},[l,f,S,...r]),{droppableRects:v,measureDroppableContainers:S,measuringScheduled:s!=null};function w(){switch(u){case mc.Always:return!1;case mc.BeforeDragging:return n;default:return!n}}}function d1(t,e){return Ic(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function fF(t,e){return d1(t,e)}function mF(t){let{callback:e,disabled:n}=t;const r=Gv(e),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Nh(t){let{callback:e,disabled:n}=t;const r=Gv(e),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function pF(t){return new Yv(Va(t),t)}function r0(t,e,n){e===void 0&&(e=pF);const[r,i]=h.useState(null);function s(){i(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const a=mF({callback(c){if(t)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),l=Nh({callback:s});return $r(()=>{s(),t?(l==null||l.observe(t),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[t]),r}function gF(t){const e=d1(t);return r1(t,e)}const i0=[];function vF(t){const e=h.useRef(t),n=Ic(r=>t?r&&r!==i0&&t&&e.current&&t.parentNode===e.current.parentNode?r:wh(t):i0,[t]);return h.useEffect(()=>{e.current=t},[t]),n}function xF(t){const[e,n]=h.useState(null),r=h.useRef(t),i=h.useCallback(s=>{const a=Ff(s.target);a&&n(l=>l?(l.set(a,$p(a)),new Map(l)):null)},[]);return h.useEffect(()=>{const s=r.current;if(t!==s){a(s);const l=t.map(c=>{const u=Ff(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,$p(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(c=>{const u=Ff(c);u==null||u.removeEventListener("scroll",i)})}},[i,t]),h.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Zo(s,a),pr):c1(t):pr,[t,e])}function s0(t,e){e===void 0&&(e=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},e),h.useEffect(()=>{const r=t!==pr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?fc(t,n.current):pr}function yF(t){h.useEffect(()=>{if(!bh)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function bF(t,e){return h.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,e)},n},{}),[t,e])}function h1(t){return h.useMemo(()=>t?qM(t):null,[t])}const o0=[];function wF(t,e){e===void 0&&(e=Va);const[n]=t,r=h1(n?jn(n):null),[i,s]=h.useState(o0);function a(){s(()=>t.length?t.map(c=>a1(c)?r:new Yv(e(c),c)):o0)}const l=Nh({callback:a});return $r(()=>{l==null||l.disconnect(),a(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),i}function SF(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Lc(e)?e:t}function CF(t){let{measure:e}=t;const[n,r]=h.useState(null),i=h.useCallback(u=>{for(const{target:d}of u)if(Lc(d)){r(f=>{const x=e(d);return f?{...f,width:x.width,height:x.height}:x});break}},[e]),s=Nh({callback:i}),a=h.useCallback(u=>{const d=SF(u);s==null||s.disconnect(),d&&(s==null||s.observe(d)),r(d?e(d):null)},[e,s]),[l,c]=jd(a);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const NF=[{sensor:Ch,options:{}},{sensor:Sh,options:{}}],jF={current:{}},Uu={draggable:{measure:Jb},droppable:{measure:Jb,strategy:mc.WhileDragging,frequency:zp.Optimized},dragOverlay:{measure:Va}};class Il extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const EF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Il,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ed},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uu,measureDroppableContainers:Ed,windowRect:null,measuringScheduled:!1},AF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ed,draggableNodes:new Map,over:null,measureDroppableContainers:Ed},jh=h.createContext(AF),f1=h.createContext(EF);function _F(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Il}}}function kF(t,e){switch(e.type){case Ct.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ct.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ct.DragEnd:case Ct.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ct.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Il(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Ct.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new Il(t.droppable.containers);return a.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Ct.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Il(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function RF(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=h.useContext(jh),s=Fp(r),a=Fp(n==null?void 0:n.id);return h.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!Qv(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=NM(d);if(f){f.focus();break}}})}},[r,e,i,a,s]),null}function TF(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function PF(t){return h.useMemo(()=>({draggable:{...Uu.draggable,...t==null?void 0:t.draggable},droppable:{...Uu.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Uu.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function DF(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=h.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;$r(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=r1(d,r);if(a||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const x=i1(u);x&&x.scrollBy({top:f.y,left:f.x})}},[e,a,l,r,n])}const m1=h.createContext({...pr,scaleX:1,scaleY:1});var Ii;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ii||(Ii={}));const p1=h.memo(function(e){var n,r,i,s;let{id:a,accessibility:l,autoScroll:c=!0,children:u,sensors:d=NF,collisionDetection:f=MM,measuring:x,modifiers:S,...y}=e;const v=h.useReducer(kF,void 0,_F),[w,b]=v,[g,m]=RM(),[p,C]=h.useState(Ii.Uninitialized),j=p===Ii.Initialized,{draggable:{active:N,nodes:E,translate:_},droppable:{containers:A}}=w,k=N!=null?E.get(N):null,P=h.useRef({initial:null,translated:null}),M=h.useMemo(()=>{var at;return N!=null?{id:N,data:(at=k==null?void 0:k.data)!=null?at:jF,rect:P}:null},[N,k]),$=h.useRef(null),[X,z]=h.useState(null),[Q,O]=h.useState(null),L=hc(y,Object.values(y)),G=Mc("DndDescribedBy",a),Z=h.useMemo(()=>A.getEnabled(),[A]),V=PF(x),{droppableRects:ke,measureDroppableContainers:ie,measuringScheduled:He}=hF(Z,{dragging:j,dependencies:[_.x,_.y],config:V.droppable}),ne=uF(E,N),Y=h.useMemo(()=>Q?Bp(Q):null,[Q]),ge=Gh(),Le=fF(ne,V.draggable.measure);DF({activeNode:N!=null?E.get(N):null,config:ge.layoutShiftCompensation,initialRect:Le,measure:V.draggable.measure});const ee=r0(ne,V.draggable.measure,Le),be=r0(ne?ne.parentElement:null),ue=h.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:ke,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Me=A.getNodeFor((n=ue.current.over)==null?void 0:n.id),W=CF({measure:V.dragOverlay.measure}),oe=(r=W.nodeRef.current)!=null?r:ne,De=j?(i=W.rect)!=null?i:ee:null,Je=!!(W.nodeRef.current&&W.rect),ot=gF(Je?null:ee),Fe=h1(oe?jn(oe):null),je=vF(j?Me??ne:null),Ke=wF(je),Dt=TF(S,{transform:{x:_.x-ot.x,y:_.y-ot.y,scaleX:1,scaleY:1},activatorEvent:Q,active:M,activeNodeRect:ee,containerNodeRect:be,draggingNodeRect:De,over:ue.current.over,overlayNodeRect:W.rect,scrollableAncestors:je,scrollableAncestorRects:Ke,windowRect:Fe}),In=Y?Zo(Y,_):null,Cr=xF(je),yi=s0(Cr),bi=s0(Cr,[ee]),qr=Zo(Dt,yi),Vr=De?$M(De,Dt):null,wi=M&&Vr?f({active:M,collisionRect:Vr,droppableRects:ke,droppableContainers:Z,pointerCoordinates:In}):null,wo=t1(wi,"id"),[Qn,Cs]=h.useState(null),So=Je?Dt:Zo(Dt,bi),Yn=FM(So,(s=Qn==null?void 0:Qn.rect)!=null?s:null,ee),Nr=h.useRef(null),Co=h.useCallback((at,Gt)=>{let{sensor:Oe,options:Qt}=Gt;if($.current==null)return;const mn=E.get($.current);if(!mn)return;const Bt=at.nativeEvent,pn=new Oe({active:$.current,activeNode:mn,event:Bt,options:Qt,context:ue,onAbort(vt){if(!E.get(vt))return;const{onDragAbort:Et}=L.current,Mn={id:vt};Et==null||Et(Mn),g({type:"onDragAbort",event:Mn})},onPending(vt,bt,Et,Mn){if(!E.get(vt))return;const{onDragPending:Kr}=L.current,Xn={id:vt,constraint:bt,initialCoordinates:Et,offset:Mn};Kr==null||Kr(Xn),g({type:"onDragPending",event:Xn})},onStart(vt){const bt=$.current;if(bt==null)return;const Et=E.get(bt);if(!Et)return;const{onDragStart:Mn}=L.current,Si={activatorEvent:Bt,active:{id:bt,data:Et.data,rect:P}};lr.unstable_batchedUpdates(()=>{Mn==null||Mn(Si),C(Ii.Initializing),b({type:Ct.DragStart,initialCoordinates:vt,active:bt}),g({type:"onDragStart",event:Si}),z(Nr.current),O(Bt)})},onMove(vt){b({type:Ct.DragMove,coordinates:vt})},onEnd:Hr(Ct.DragEnd),onCancel:Hr(Ct.DragCancel)});Nr.current=pn;function Hr(vt){return async function(){const{active:Et,collisions:Mn,over:Si,scrollAdjustedTranslate:Kr}=ue.current;let Xn=null;if(Et&&Kr){const{cancelDrop:Yt}=L.current;Xn={activatorEvent:Bt,active:Et,collisions:Mn,delta:Kr,over:Si},vt===Ct.DragEnd&&typeof Yt=="function"&&await Promise.resolve(Yt(Xn))&&(vt=Ct.DragCancel)}$.current=null,lr.unstable_batchedUpdates(()=>{b({type:vt}),C(Ii.Uninitialized),Cs(null),z(null),O(null),Nr.current=null;const Yt=vt===Ct.DragEnd?"onDragEnd":"onDragCancel";if(Xn){const Eo=L.current[Yt];Eo==null||Eo(Xn),g({type:Yt,event:Xn})}})}}},[E]),Xa=h.useCallback((at,Gt)=>(Oe,Qt)=>{const mn=Oe.nativeEvent,Bt=E.get(Qt);if($.current!==null||!Bt||mn.dndKit||mn.defaultPrevented)return;const pn={active:Bt};at(Oe,Gt.options,pn)===!0&&(mn.dndKit={capturedBy:Gt.sensor},$.current=Qt,Co(Oe,Gt))},[E,Co]),zc=dF(d,Xa);yF(d),$r(()=>{ee&&p===Ii.Initializing&&C(Ii.Initialized)},[ee,p]),h.useEffect(()=>{const{onDragMove:at}=L.current,{active:Gt,activatorEvent:Oe,collisions:Qt,over:mn}=ue.current;if(!Gt||!Oe)return;const Bt={active:Gt,activatorEvent:Oe,collisions:Qt,delta:{x:qr.x,y:qr.y},over:mn};lr.unstable_batchedUpdates(()=>{at==null||at(Bt),g({type:"onDragMove",event:Bt})})},[qr.x,qr.y]),h.useEffect(()=>{const{active:at,activatorEvent:Gt,collisions:Oe,droppableContainers:Qt,scrollAdjustedTranslate:mn}=ue.current;if(!at||$.current==null||!Gt||!mn)return;const{onDragOver:Bt}=L.current,pn=Qt.get(wo),Hr=pn&&pn.rect.current?{id:pn.id,rect:pn.rect.current,data:pn.data,disabled:pn.disabled}:null,vt={active:at,activatorEvent:Gt,collisions:Oe,delta:{x:mn.x,y:mn.y},over:Hr};lr.unstable_batchedUpdates(()=>{Cs(Hr),Bt==null||Bt(vt),g({type:"onDragOver",event:vt})})},[wo]),$r(()=>{ue.current={activatorEvent:Q,active:M,activeNode:ne,collisionRect:Vr,collisions:wi,droppableRects:ke,draggableNodes:E,draggingNode:oe,draggingNodeRect:De,droppableContainers:A,over:Qn,scrollableAncestors:je,scrollAdjustedTranslate:qr},P.current={initial:De,translated:Vr}},[M,ne,wi,Vr,E,oe,De,ke,A,Qn,je,qr]),aF({...ge,delta:_,draggingRect:Vr,pointerCoordinates:In,scrollableAncestors:je,scrollableAncestorRects:Ke});const No=h.useMemo(()=>({active:M,activeNode:ne,activeNodeRect:ee,activatorEvent:Q,collisions:wi,containerNodeRect:be,dragOverlay:W,draggableNodes:E,droppableContainers:A,droppableRects:ke,over:Qn,measureDroppableContainers:ie,scrollableAncestors:je,scrollableAncestorRects:Ke,measuringConfiguration:V,measuringScheduled:He,windowRect:Fe}),[M,ne,ee,Q,wi,be,W,E,A,ke,Qn,ie,je,Ke,V,He,Fe]),jo=h.useMemo(()=>({activatorEvent:Q,activators:zc,active:M,activeNodeRect:ee,ariaDescribedById:{draggable:G},dispatch:b,draggableNodes:E,over:Qn,measureDroppableContainers:ie}),[Q,zc,M,ee,b,G,E,Qn,ie]);return Ne.createElement(Xj.Provider,{value:m},Ne.createElement(jh.Provider,{value:jo},Ne.createElement(f1.Provider,{value:No},Ne.createElement(m1.Provider,{value:Yn},u)),Ne.createElement(RF,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Ne.createElement(DM,{...l,hiddenTextDescribedById:G}));function Gh(){const at=(X==null?void 0:X.autoScrollEnabled)===!1,Gt=typeof c=="object"?c.enabled===!1:c===!1,Oe=j&&!at&&!Gt;return typeof c=="object"?{...c,enabled:Oe}:{enabled:Oe}}}),OF=h.createContext(null),a0="button",LF="Draggable";function IF(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Mc(LF),{activators:a,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:x}=h.useContext(jh),{role:S=a0,roleDescription:y="draggable",tabIndex:v=0}=i??{},w=(c==null?void 0:c.id)===e,b=h.useContext(w?m1:OF),[g,m]=jd(),[p,C]=jd(),j=bF(a,e),N=hc(n);$r(()=>(f.set(e,{id:e,key:s,node:g,activatorNode:p,data:N}),()=>{const _=f.get(e);_&&_.key===s&&f.delete(e)}),[f,e]);const E=h.useMemo(()=>({role:S,tabIndex:v,"aria-disabled":r,"aria-pressed":w&&S===a0?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,S,v,w,y,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:E,isDragging:w,listeners:r?void 0:j,node:g,over:x,setNodeRef:m,setActivatorNodeRef:C,transform:b}}function MF(){return h.useContext(f1)}const FF="Droppable",BF={timeout:25};function $F(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Mc(FF),{active:a,dispatch:l,over:c,measureDroppableContainers:u}=h.useContext(jh),d=h.useRef({disabled:n}),f=h.useRef(!1),x=h.useRef(null),S=h.useRef(null),{disabled:y,updateMeasurementsFor:v,timeout:w}={...BF,...i},b=hc(v??r),g=h.useCallback(()=>{if(!f.current){f.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),S.current=null},w)},[w]),m=Nh({callback:g,disabled:y||!a}),p=h.useCallback((E,_)=>{m&&(_&&(m.unobserve(_),f.current=!1),E&&m.observe(E))},[m]),[C,j]=jd(p),N=hc(e);return h.useEffect(()=>{!m||!C.current||(m.disconnect(),f.current=!1,m.observe(C.current))},[C,m]),h.useEffect(()=>(l({type:Ct.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:x,data:N}}),()=>l({type:Ct.UnregisterDroppable,key:s,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(l({type:Ct.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,l]),{active:a,rect:x,isOver:(c==null?void 0:c.id)===r,node:C,over:c,setNodeRef:j}}function Eh(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function UF(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function mu(t){return t!==null&&t>=0}function zF(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function WF(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const g1=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=Eh(e,r,n),a=e[i],l=s[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},pu={scaleX:1,scaleY:1},v1=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:a}=t;const l=(e=s[n])!=null?e:r;if(!l)return null;if(i===n){const u=s[a];return u?{x:0,y:n<a?u.top+u.height-(l.top+l.height):u.top-l.top,...pu}:null}const c=qF(s,i,n);return i>n&&i<=a?{x:0,y:-l.height-c,...pu}:i<n&&i>=a?{x:0,y:l.height+c,...pu}:{x:0,y:0,...pu}};function qF(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const x1="Sortable",y1=Ne.createContext({activeIndex:-1,containerId:x1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:g1,disabled:{draggable:!1,droppable:!1}});function b1(t){let{children:e,id:n,items:r,strategy:i=g1,disabled:s=!1}=t;const{active:a,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=MF(),f=Mc(x1,n),x=l.rect!==null,S=h.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),y=a!=null,v=a?S.indexOf(a.id):-1,w=u?S.indexOf(u.id):-1,b=h.useRef(S),g=!zF(S,b.current),m=w!==-1&&v===-1||g,p=WF(s);$r(()=>{g&&y&&d(S)},[g,S,y,d]),h.useEffect(()=>{b.current=S},[S]);const C=h.useMemo(()=>({activeIndex:v,containerId:f,disabled:p,disableTransforms:m,items:S,overIndex:w,useDragOverlay:x,sortedRects:UF(S,c),strategy:i}),[v,f,p.draggable,p.droppable,m,S,w,c,x,i]);return Ne.createElement(y1.Provider,{value:C},e)}const VF=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return Eh(n,r,i).indexOf(e)},HF=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:a,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!r||l!==s&&i===a?!1:n?!0:a!==i&&e===c},KF={duration:200,easing:"ease"},w1="transform",GF=Ea.Transition.toString({property:w1,duration:0,easing:"linear"}),QF={roleDescription:"sortable"};function YF(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,a]=h.useState(null),l=h.useRef(n);return $r(()=>{if(!e&&n!==l.current&&r.current){const c=i.current;if(c){const u=Va(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&a(d)}}n!==l.current&&(l.current=n)},[e,n,r,i]),h.useEffect(()=>{s&&a(null)},[s]),s}function S1(t){let{animateLayoutChanges:e=HF,attributes:n,disabled:r,data:i,getNewIndex:s=VF,id:a,strategy:l,resizeObserverConfig:c,transition:u=KF}=t;const{items:d,containerId:f,activeIndex:x,disabled:S,disableTransforms:y,sortedRects:v,overIndex:w,useDragOverlay:b,strategy:g}=h.useContext(y1),m=XF(r,S),p=d.indexOf(a),C=h.useMemo(()=>({sortable:{containerId:f,index:p,items:d},...i}),[f,i,p,d]),j=h.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:N,node:E,isOver:_,setNodeRef:A}=$F({id:a,data:C,disabled:m.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...c}}),{active:k,activatorEvent:P,activeNodeRect:M,attributes:$,setNodeRef:X,listeners:z,isDragging:Q,over:O,setActivatorNodeRef:L,transform:G}=IF({id:a,data:C,attributes:{...QF,...n},disabled:m.draggable}),Z=bM(A,X),V=!!k,ke=V&&!y&&mu(x)&&mu(w),ie=!b&&Q,He=ie&&ke?G:null,Y=ke?He??(l??g)({rects:v,activeNodeRect:M,activeIndex:x,overIndex:w,index:p}):null,ge=mu(x)&&mu(w)?s({id:a,items:d,activeIndex:x,overIndex:w}):p,Le=k==null?void 0:k.id,ee=h.useRef({activeId:Le,items:d,newIndex:ge,containerId:f}),be=d!==ee.current.items,ue=e({active:k,containerId:f,isDragging:Q,isSorting:V,id:a,index:p,items:d,newIndex:ee.current.newIndex,previousItems:ee.current.items,previousContainerId:ee.current.containerId,transition:u,wasDragging:ee.current.activeId!=null}),Me=YF({disabled:!ue,index:p,node:E,rect:N});return h.useEffect(()=>{V&&ee.current.newIndex!==ge&&(ee.current.newIndex=ge),f!==ee.current.containerId&&(ee.current.containerId=f),d!==ee.current.items&&(ee.current.items=d)},[V,ge,f,d]),h.useEffect(()=>{if(Le===ee.current.activeId)return;if(Le!=null&&ee.current.activeId==null){ee.current.activeId=Le;return}const oe=setTimeout(()=>{ee.current.activeId=Le},50);return()=>clearTimeout(oe)},[Le]),{active:k,activeIndex:x,attributes:$,data:C,rect:N,index:p,newIndex:ge,items:d,isOver:_,isSorting:V,isDragging:Q,listeners:z,node:E,overIndex:w,over:O,setNodeRef:Z,setActivatorNodeRef:L,setDroppableNodeRef:A,setDraggableNodeRef:X,transform:Me??Y,transition:W()};function W(){if(Me||be&&ee.current.newIndex===p)return GF;if(!(ie&&!Qv(P)||!u)&&(V||ue))return Ea.Transition.toString({...u,property:w1})}}function XF(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function kd(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const JF=[_e.Down,_e.Right,_e.Up,_e.Left],C1=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:a,scrollableAncestors:l}}=e;if(JF.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const x=i.get(f.id);if(x)switch(t.code){case _e.Down:r.top<x.top&&c.push(f);break;case _e.Up:r.top>x.top&&c.push(f);break;case _e.Left:r.left>x.left&&c.push(f);break;case _e.Right:r.left<x.left&&c.push(f);break}});const u=LM({collisionRect:r,droppableRects:i,droppableContainers:c});let d=t1(u,"id");if(d===(a==null?void 0:a.id)&&u.length>1&&(d=u[1].id),d!=null){const f=s.get(n.id),x=s.get(d),S=x?i.get(x.id):null,y=x==null?void 0:x.node.current;if(y&&S&&f&&x){const w=wh(y).some((j,N)=>l[N]!==j),b=N1(f,x),g=ZF(f,x),m=w||!b?{x:0,y:0}:{x:g?r.width-S.width:0,y:g?r.height-S.height:0},p={x:S.left,y:S.top};return m.x&&m.y?p:fc(p,m)}}}};function N1(t,e){return!kd(t)||!kd(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function ZF(t,e){return!kd(t)||!kd(e)||!N1(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const e4=vh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wp({className:t,variant:e,...n}){return o.jsx("div",{className:ce(e4({variant:e}),t),...n})}function Jv(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Zv(t){const[e,n]=h.useState(void 0);return Ft(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ah="Switch",[t4]=yr(Ah),[n4,r4]=t4(Ah),j1=h.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[x,S]=h.useState(null),y=$e(e,m=>S(m)),v=h.useRef(!1),w=x?d||!!x.closest("form"):!0,[b,g]=Br({prop:i,defaultProp:s??!1,onChange:u,caller:Ah});return o.jsxs(n4,{scope:n,checked:b,disabled:l,children:[o.jsx(fe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":k1(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:ye(t.onClick,m=>{g(p=>!p),w&&(v.current=m.isPropagationStopped(),v.current||m.stopPropagation())})}),w&&o.jsx(_1,{control:x,bubbles:!v.current,name:r,value:c,checked:b,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});j1.displayName=Ah;var E1="SwitchThumb",A1=h.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=r4(E1,n);return o.jsx(fe.span,{"data-state":k1(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});A1.displayName=E1;var i4="SwitchBubbleInput",_1=h.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=h.useRef(null),l=$e(a,s),c=Jv(n),u=Zv(e);return h.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&S){const y=new Event("click",{bubbles:r});S.call(d,n),d.dispatchEvent(y)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_1.displayName=i4;function k1(t){return t?"checked":"unchecked"}var R1=j1,s4=A1;const Rt=h.forwardRef(({className:t,...e},n)=>o.jsx(R1,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(s4,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rt.displayName=R1.displayName;function l0(t,[e,n]){return Math.min(n,Math.max(e,t))}function c0(t){const e=o4(t),n=h.forwardRef((r,i)=>{const{children:s,...a}=r,l=h.Children.toArray(s),c=l.find(l4);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function o4(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const a=u4(i),l=c4(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var a4=Symbol("radix.slottable");function l4(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===a4}function c4(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function u4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ex(t){const e=t+"CollectionProvider",[n,r]=yr(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:w,children:b}=v,g=Ne.useRef(null),m=Ne.useRef(new Map).current;return o.jsx(i,{scope:w,itemMap:m,collectionRef:g,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=c0(l),u=Ne.forwardRef((v,w)=>{const{scope:b,children:g}=v,m=s(l,b),p=$e(w,m.collectionRef);return o.jsx(c,{ref:p,children:g})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",x=c0(d),S=Ne.forwardRef((v,w)=>{const{scope:b,children:g,...m}=v,p=Ne.useRef(null),C=$e(w,p),j=s(d,b);return Ne.useEffect(()=>(j.itemMap.set(p,{ref:p,...m}),()=>void j.itemMap.delete(p))),o.jsx(x,{[f]:"",ref:C,children:g})});S.displayName=d;function y(v){const w=s(t+"CollectionConsumer",v);return Ne.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const m=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((j,N)=>m.indexOf(j.ref.current)-m.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:S},y,r]}var d4=h.createContext(void 0);function _h(t){const e=h.useContext(d4);return t||e||"ltr"}const h4=["top","right","bottom","left"],fs=Math.min,An=Math.max,Rd=Math.round,gu=Math.floor,Fr=t=>({x:t,y:t}),f4={left:"right",right:"left",bottom:"top",top:"bottom"},m4={start:"end",end:"start"};function qp(t,e,n){return An(t,fs(e,n))}function mi(t,e){return typeof t=="function"?t(e):t}function pi(t){return t.split("-")[0]}function Ha(t){return t.split("-")[1]}function tx(t){return t==="x"?"y":"x"}function nx(t){return t==="y"?"height":"width"}const p4=new Set(["top","bottom"]);function Dr(t){return p4.has(pi(t))?"y":"x"}function rx(t){return tx(Dr(t))}function g4(t,e,n){n===void 0&&(n=!1);const r=Ha(t),i=rx(t),s=nx(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Td(a)),[a,Td(a)]}function v4(t){const e=Td(t);return[Vp(t),e,Vp(e)]}function Vp(t){return t.replace(/start|end/g,e=>m4[e])}const u0=["left","right"],d0=["right","left"],x4=["top","bottom"],y4=["bottom","top"];function b4(t,e,n){switch(t){case"top":case"bottom":return n?e?d0:u0:e?u0:d0;case"left":case"right":return e?x4:y4;default:return[]}}function w4(t,e,n,r){const i=Ha(t);let s=b4(pi(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Vp)))),s}function Td(t){return t.replace(/left|right|bottom|top/g,e=>f4[e])}function S4(t){return{top:0,right:0,bottom:0,left:0,...t}}function T1(t){return typeof t!="number"?S4(t):{top:t,right:t,bottom:t,left:t}}function Pd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function h0(t,e,n){let{reference:r,floating:i}=t;const s=Dr(e),a=rx(e),l=nx(a),c=pi(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,x=r[l]/2-i[l]/2;let S;switch(c){case"top":S={x:d,y:r.y-i.height};break;case"bottom":S={x:d,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:f};break;case"left":S={x:r.x-i.width,y:f};break;default:S={x:r.x,y:r.y}}switch(Ha(e)){case"start":S[a]-=x*(n&&u?-1:1);break;case"end":S[a]+=x*(n&&u?-1:1);break}return S}const C4=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=h0(u,r,c),x=r,S={},y=0;for(let v=0;v<l.length;v++){const{name:w,fn:b}=l[v],{x:g,y:m,data:p,reset:C}=await b({x:d,y:f,initialPlacement:r,placement:x,strategy:i,middlewareData:S,rects:u,platform:a,elements:{reference:t,floating:e}});d=g??d,f=m??f,S={...S,[w]:{...S[w],...p}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(x=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:d,y:f}=h0(u,x,c)),v=-1)}return{x:d,y:f,placement:x,strategy:i,middlewareData:S}};async function pc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:x=!1,padding:S=0}=mi(e,t),y=T1(S),w=l[x?f==="floating"?"reference":"floating":f],b=Pd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,m=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),p=await(s.isElement==null?void 0:s.isElement(m))?await(s.getScale==null?void 0:s.getScale(m))||{x:1,y:1}:{x:1,y:1},C=Pd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:m,strategy:c}):g);return{top:(b.top-C.top+y.top)/p.y,bottom:(C.bottom-b.bottom+y.bottom)/p.y,left:(b.left-C.left+y.left)/p.x,right:(C.right-b.right+y.right)/p.x}}const N4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=mi(t,e)||{};if(u==null)return{};const f=T1(d),x={x:n,y:r},S=rx(i),y=nx(S),v=await a.getDimensions(u),w=S==="y",b=w?"top":"left",g=w?"bottom":"right",m=w?"clientHeight":"clientWidth",p=s.reference[y]+s.reference[S]-x[S]-s.floating[y],C=x[S]-s.reference[S],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=j?j[m]:0;(!N||!await(a.isElement==null?void 0:a.isElement(j)))&&(N=l.floating[m]||s.floating[y]);const E=p/2-C/2,_=N/2-v[y]/2-1,A=fs(f[b],_),k=fs(f[g],_),P=A,M=N-v[y]-k,$=N/2-v[y]/2+E,X=qp(P,$,M),z=!c.arrow&&Ha(i)!=null&&$!==X&&s.reference[y]/2-($<P?A:k)-v[y]/2<0,Q=z?$<P?$-P:$-M:0;return{[S]:x[S]+Q,data:{[S]:X,centerOffset:$-X-Q,...z&&{alignmentOffset:Q}},reset:z}}}),j4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=mi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=pi(i),g=Dr(l),m=pi(l)===l,p=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=x||(m||!v?[Td(l)]:v4(l)),j=y!=="none";!x&&j&&C.push(...w4(l,v,y,p));const N=[l,...C],E=await pc(e,w),_=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&_.push(E[b]),f){const $=g4(i,a,p);_.push(E[$[0]],E[$[1]])}if(A=[...A,{placement:i,overflows:_}],!_.every($=>$<=0)){var k,P;const $=(((k=s.flip)==null?void 0:k.index)||0)+1,X=N[$];if(X&&(!(f==="alignment"?g!==Dr(X):!1)||A.every(O=>Dr(O.placement)===g?O.overflows[0]>0:!0)))return{data:{index:$,overflows:A},reset:{placement:X}};let z=(P=A.filter(Q=>Q.overflows[0]<=0).sort((Q,O)=>Q.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!z)switch(S){case"bestFit":{var M;const Q=(M=A.filter(O=>{if(j){const L=Dr(O.placement);return L===g||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,G)=>L+G,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:M[0];Q&&(z=Q);break}case"initialPlacement":z=l;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function f0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function m0(t){return h4.some(e=>t[e]>=0)}const E4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=mi(t,e);switch(r){case"referenceHidden":{const s=await pc(e,{...i,elementContext:"reference"}),a=f0(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:m0(a)}}}case"escaped":{const s=await pc(e,{...i,altBoundary:!0}),a=f0(s,n.floating);return{data:{escapedOffsets:a,escaped:m0(a)}}}default:return{}}}}},P1=new Set(["left","top"]);async function A4(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=pi(n),l=Ha(n),c=Dr(n)==="y",u=P1.has(a)?-1:1,d=s&&c?-1:1,f=mi(e,t);let{mainAxis:x,crossAxis:S,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(S=l==="end"?y*-1:y),c?{x:S*d,y:x*u}:{x:x*u,y:S*d}}const _4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,c=await A4(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},k4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:b,y:g}=w;return{x:b,y:g}}},...c}=mi(t,e),u={x:n,y:r},d=await pc(e,c),f=Dr(pi(i)),x=tx(f);let S=u[x],y=u[f];if(s){const w=x==="y"?"top":"left",b=x==="y"?"bottom":"right",g=S+d[w],m=S-d[b];S=qp(g,S,m)}if(a){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",g=y+d[w],m=y-d[b];y=qp(g,y,m)}const v=l.fn({...e,[x]:S,[f]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[x]:s,[f]:a}}}}}},R4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=mi(t,e),d={x:n,y:r},f=Dr(i),x=tx(f);let S=d[x],y=d[f];const v=mi(l,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const m=x==="y"?"height":"width",p=s.reference[x]-s.floating[m]+w.mainAxis,C=s.reference[x]+s.reference[m]-w.mainAxis;S<p?S=p:S>C&&(S=C)}if(u){var b,g;const m=x==="y"?"width":"height",p=P1.has(pi(i)),C=s.reference[f]-s.floating[m]+(p&&((b=a.offset)==null?void 0:b[f])||0)+(p?0:w.crossAxis),j=s.reference[f]+s.reference[m]+(p?0:((g=a.offset)==null?void 0:g[f])||0)-(p?w.crossAxis:0);y<C?y=C:y>j&&(y=j)}return{[x]:S,[f]:y}}}},T4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:c=()=>{},...u}=mi(t,e),d=await pc(e,u),f=pi(i),x=Ha(i),S=Dr(i)==="y",{width:y,height:v}=s.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=x===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,w=x==="end"?"top":"bottom");const g=v-d.top-d.bottom,m=y-d.left-d.right,p=fs(v-d[w],g),C=fs(y-d[b],m),j=!e.middlewareData.shift;let N=p,E=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=m),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=g),j&&!x){const A=An(d.left,0),k=An(d.right,0),P=An(d.top,0),M=An(d.bottom,0);S?E=y-2*(A!==0||k!==0?A+k:An(d.left,d.right)):N=v-2*(P!==0||M!==0?P+M:An(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:N});const _=await a.getDimensions(l.floating);return y!==_.width||v!==_.height?{reset:{rects:!0}}:{}}}};function kh(){return typeof window<"u"}function Ka(t){return D1(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wr(t){var e;return(e=(D1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function D1(t){return kh()?t instanceof Node||t instanceof Tn(t).Node:!1}function gr(t){return kh()?t instanceof Element||t instanceof Tn(t).Element:!1}function Ur(t){return kh()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function p0(t){return!kh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}const P4=new Set(["inline","contents"]);function Fc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!P4.has(i)}const D4=new Set(["table","td","th"]);function O4(t){return D4.has(Ka(t))}const L4=[":popover-open",":modal"];function Rh(t){return L4.some(e=>{try{return t.matches(e)}catch{return!1}})}const I4=["transform","translate","scale","rotate","perspective"],M4=["transform","translate","scale","rotate","perspective","filter"],F4=["paint","layout","strict","content"];function ix(t){const e=sx(),n=gr(t)?vr(t):t;return I4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||M4.some(r=>(n.willChange||"").includes(r))||F4.some(r=>(n.contain||"").includes(r))}function B4(t){let e=ms(t);for(;Ur(e)&&!Aa(e);){if(ix(e))return e;if(Rh(e))return null;e=ms(e)}return null}function sx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $4=new Set(["html","body","#document"]);function Aa(t){return $4.has(Ka(t))}function vr(t){return Tn(t).getComputedStyle(t)}function Th(t){return gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ms(t){if(Ka(t)==="html")return t;const e=t.assignedSlot||t.parentNode||p0(t)&&t.host||Wr(t);return p0(e)?e.host:e}function O1(t){const e=ms(t);return Aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ur(e)&&Fc(e)?e:O1(e)}function gc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=O1(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Tn(i);if(s){const l=Hp(a);return e.concat(a,a.visualViewport||[],Fc(i)?i:[],l&&n?gc(l):[])}return e.concat(i,gc(i,[],n))}function Hp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function L1(t){const e=vr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ur(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=Rd(n)!==s||Rd(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function ox(t){return gr(t)?t:t.contextElement}function ea(t){const e=ox(t);if(!Ur(e))return Fr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=L1(e);let a=(s?Rd(n.width):n.width)/r,l=(s?Rd(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const U4=Fr(0);function I1(t){const e=Tn(t);return!sx()||!e.visualViewport?U4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function z4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ox(t);let a=Fr(1);e&&(r?gr(r)&&(a=ea(r)):a=ea(t));const l=z4(s,n,r)?I1(s):Fr(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const x=Tn(s),S=r&&gr(r)?Tn(r):r;let y=x,v=Hp(y);for(;v&&r&&S!==y;){const w=ea(v),b=v.getBoundingClientRect(),g=vr(v),m=b.left+(v.clientLeft+parseFloat(g.paddingLeft))*w.x,p=b.top+(v.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=m,u+=p,y=Tn(v),v=Hp(y)}}return Pd({width:d,height:f,x:c,y:u})}function Ph(t,e){const n=Th(t).scrollLeft;return e?e.left+n:io(Wr(t)).left+n}function M1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ph(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function W4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Wr(r),l=e?Rh(e.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Fr(1);const d=Fr(0),f=Ur(r);if((f||!f&&!s)&&((Ka(r)!=="body"||Fc(a))&&(c=Th(r)),Ur(r))){const S=io(r);u=ea(r),d.x=S.x+r.clientLeft,d.y=S.y+r.clientTop}const x=a&&!f&&!s?M1(a,c):Fr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+x.x,y:n.y*u.y-c.scrollTop*u.y+d.y+x.y}}function q4(t){return Array.from(t.getClientRects())}function V4(t){const e=Wr(t),n=Th(t),r=t.ownerDocument.body,i=An(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=An(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ph(t);const l=-n.scrollTop;return vr(r).direction==="rtl"&&(a+=An(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const g0=25;function H4(t,e){const n=Tn(t),r=Wr(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=sx();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=Ph(r);if(u<=0){const d=r.ownerDocument,f=d.body,x=getComputedStyle(f),S=d.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-S);y<=g0&&(s-=y)}else u<=g0&&(s+=u);return{width:s,height:a,x:l,y:c}}const K4=new Set(["absolute","fixed"]);function G4(t,e){const n=io(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ur(t)?ea(t):Fr(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function v0(t,e,n){let r;if(e==="viewport")r=H4(t,n);else if(e==="document")r=V4(Wr(t));else if(gr(e))r=G4(e,n);else{const i=I1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Pd(r)}function F1(t,e){const n=ms(t);return n===e||!gr(n)||Aa(n)?!1:vr(n).position==="fixed"||F1(n,e)}function Q4(t,e){const n=e.get(t);if(n)return n;let r=gc(t,[],!1).filter(l=>gr(l)&&Ka(l)!=="body"),i=null;const s=vr(t).position==="fixed";let a=s?ms(t):t;for(;gr(a)&&!Aa(a);){const l=vr(a),c=ix(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&K4.has(i.position)||Fc(a)&&!c&&F1(t,a))?r=r.filter(d=>d!==a):i=l,a=ms(a)}return e.set(t,r),r}function Y4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Rh(e)?[]:Q4(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=v0(e,d,i);return u.top=An(f.top,u.top),u.right=fs(f.right,u.right),u.bottom=fs(f.bottom,u.bottom),u.left=An(f.left,u.left),u},v0(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function X4(t){const{width:e,height:n}=L1(t);return{width:e,height:n}}function J4(t,e,n){const r=Ur(e),i=Wr(e),s=n==="fixed",a=io(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Fr(0);function u(){c.x=Ph(i)}if(r||!r&&!s)if((Ka(e)!=="body"||Fc(i))&&(l=Th(e)),r){const S=io(e,!0,s,e);c.x=S.x+e.clientLeft,c.y=S.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?M1(i,l):Fr(0),f=a.left+l.scrollLeft-c.x-d.x,x=a.top+l.scrollTop-c.y-d.y;return{x:f,y:x,width:a.width,height:a.height}}function Uf(t){return vr(t).position==="static"}function x0(t,e){if(!Ur(t)||vr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wr(t)===n&&(n=n.ownerDocument.body),n}function B1(t,e){const n=Tn(t);if(Rh(t))return n;if(!Ur(t)){let i=ms(t);for(;i&&!Aa(i);){if(gr(i)&&!Uf(i))return i;i=ms(i)}return n}let r=x0(t,e);for(;r&&O4(r)&&Uf(r);)r=x0(r,e);return r&&Aa(r)&&Uf(r)&&!ix(r)?n:r||B4(t)||n}const Z4=async function(t){const e=this.getOffsetParent||B1,n=this.getDimensions,r=await n(t.floating);return{reference:J4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eB(t){return vr(t).direction==="rtl"}const tB={convertOffsetParentRelativeRectToViewportRelativeRect:W4,getDocumentElement:Wr,getClippingRect:Y4,getOffsetParent:B1,getElementRects:Z4,getClientRects:q4,getDimensions:X4,getScale:ea,isElement:gr,isRTL:eB};function $1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function nB(t,e){let n=null,r;const i=Wr(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:x,height:S}=u;if(l||e(),!x||!S)return;const y=gu(f),v=gu(i.clientWidth-(d+x)),w=gu(i.clientHeight-(f+S)),b=gu(d),m={rootMargin:-y+"px "+-v+"px "+-w+"px "+-b+"px",threshold:An(0,fs(1,c))||1};let p=!0;function C(j){const N=j[0].intersectionRatio;if(N!==c){if(!p)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!$1(u,t.getBoundingClientRect())&&a(),p=!1}try{n=new IntersectionObserver(C,{...m,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,m)}n.observe(t)}return a(!0),s}function rB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=ox(t),d=i||s?[...u?gc(u):[],...gc(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=u&&l?nB(u,n):null;let x=-1,S=null;a&&(S=new ResizeObserver(b=>{let[g]=b;g&&g.target===u&&S&&(S.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var m;(m=S)==null||m.observe(e)})),n()}),u&&!c&&S.observe(u),S.observe(e));let y,v=c?io(t):null;c&&w();function w(){const b=io(t);v&&!$1(v,b)&&n(),v=b,y=requestAnimationFrame(w)}return n(),()=>{var b;d.forEach(g=>{i&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),f==null||f(),(b=S)==null||b.disconnect(),S=null,c&&cancelAnimationFrame(y)}}const iB=_4,sB=k4,oB=j4,aB=T4,lB=E4,y0=N4,cB=R4,uB=(t,e,n)=>{const r=new Map,i={platform:tB,...n},s={...i.platform,_c:r};return C4(t,e,{...i,platform:s})};var dB=typeof document<"u",hB=function(){},zu=dB?h.useLayoutEffect:hB;function Dd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Dd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function U1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function b0(t,e){const n=U1(t);return Math.round(e*n)/n}function zf(t){const e=h.useRef(t);return zu(()=>{e.current=t}),e}function fB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,S]=h.useState(r);Dd(x,r)||S(r);const[y,v]=h.useState(null),[w,b]=h.useState(null),g=h.useCallback(O=>{O!==j.current&&(j.current=O,v(O))},[]),m=h.useCallback(O=>{O!==N.current&&(N.current=O,b(O))},[]),p=s||y,C=a||w,j=h.useRef(null),N=h.useRef(null),E=h.useRef(d),_=c!=null,A=zf(c),k=zf(i),P=zf(u),M=h.useCallback(()=>{if(!j.current||!N.current)return;const O={placement:e,strategy:n,middleware:x};k.current&&(O.platform=k.current),uB(j.current,N.current,O).then(L=>{const G={...L,isPositioned:P.current!==!1};$.current&&!Dd(E.current,G)&&(E.current=G,lr.flushSync(()=>{f(G)}))})},[x,e,n,k,P]);zu(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const $=h.useRef(!1);zu(()=>($.current=!0,()=>{$.current=!1}),[]),zu(()=>{if(p&&(j.current=p),C&&(N.current=C),p&&C){if(A.current)return A.current(p,C,M);M()}},[p,C,M,A,_]);const X=h.useMemo(()=>({reference:j,floating:N,setReference:g,setFloating:m}),[g,m]),z=h.useMemo(()=>({reference:p,floating:C}),[p,C]),Q=h.useMemo(()=>{const O={position:n,left:0,top:0};if(!z.floating)return O;const L=b0(z.floating,d.x),G=b0(z.floating,d.y);return l?{...O,transform:"translate("+L+"px, "+G+"px)",...U1(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:G}},[n,l,z.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:M,refs:X,elements:z,floatingStyles:Q}),[d,M,X,z,Q])}const mB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?y0({element:r.current,padding:i}).fn(n):{}:r?y0({element:r,padding:i}).fn(n):{}}}},pB=(t,e)=>({...iB(t),options:[t,e]}),gB=(t,e)=>({...sB(t),options:[t,e]}),vB=(t,e)=>({...cB(t),options:[t,e]}),xB=(t,e)=>({...oB(t),options:[t,e]}),yB=(t,e)=>({...aB(t),options:[t,e]}),bB=(t,e)=>({...lB(t),options:[t,e]}),wB=(t,e)=>({...mB(t),options:[t,e]});var SB="Arrow",z1=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return o.jsx(fe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});z1.displayName=SB;var CB=z1,ax="Popper",[W1,q1]=yr(ax),[NB,V1]=W1(ax),H1=t=>{const{__scopePopper:e,children:n}=t,[r,i]=h.useState(null);return o.jsx(NB,{scope:e,anchor:r,onAnchorChange:i,children:n})};H1.displayName=ax;var K1="PopperAnchor",G1=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=V1(K1,n),a=h.useRef(null),l=$e(e,a),c=h.useRef(null);return h.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:o.jsx(fe.div,{...i,ref:l})});G1.displayName=K1;var lx="PopperContent",[jB,EB]=W1(lx),Q1=h.forwardRef((t,e)=>{var Y,ge,Le,ee,be,ue;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:y,...v}=t,w=V1(lx,n),[b,g]=h.useState(null),m=$e(e,Me=>g(Me)),[p,C]=h.useState(null),j=Zv(p),N=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,_=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],P=k.length>0,M={padding:A,boundary:k.filter(_B),altBoundary:P},{refs:$,floatingStyles:X,placement:z,isPositioned:Q,middlewareData:O}=fB({strategy:"fixed",placement:_,whileElementsMounted:(...Me)=>rB(...Me,{animationFrame:S==="always"}),elements:{reference:w.anchor},middleware:[pB({mainAxis:i+E,alignmentAxis:a}),c&&gB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?vB():void 0,...M}),c&&xB({...M}),yB({...M,apply:({elements:Me,rects:W,availableWidth:oe,availableHeight:De})=>{const{width:Je,height:ot}=W.reference,Fe=Me.floating.style;Fe.setProperty("--radix-popper-available-width",`${oe}px`),Fe.setProperty("--radix-popper-available-height",`${De}px`),Fe.setProperty("--radix-popper-anchor-width",`${Je}px`),Fe.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),p&&wB({element:p,padding:l}),kB({arrowWidth:N,arrowHeight:E}),x&&bB({strategy:"referenceHidden",...M})]}),[L,G]=J1(z),Z=hs(y);Ft(()=>{Q&&(Z==null||Z())},[Q,Z]);const V=(Y=O.arrow)==null?void 0:Y.x,ke=(ge=O.arrow)==null?void 0:ge.y,ie=((Le=O.arrow)==null?void 0:Le.centerOffset)!==0,[He,ne]=h.useState();return Ft(()=>{b&&ne(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:Q?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,"--radix-popper-transform-origin":[(ee=O.transformOrigin)==null?void 0:ee.x,(be=O.transformOrigin)==null?void 0:be.y].join(" "),...((ue=O.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(jB,{scope:n,placedSide:L,onArrowChange:C,arrowX:V,arrowY:ke,shouldHideArrow:ie,children:o.jsx(fe.div,{"data-side":L,"data-align":G,...v,ref:m,style:{...v.style,animation:Q?void 0:"none"}})})})});Q1.displayName=lx;var Y1="PopperArrow",AB={top:"bottom",right:"left",bottom:"top",left:"right"},X1=h.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=EB(Y1,r),a=AB[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(CB,{...i,ref:n,style:{...i.style,display:"block"}})})});X1.displayName=Y1;function _B(t){return t!==null}var kB=t=>({name:"transformOrigin",options:t,fn(e){var w,b,g;const{placement:n,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=J1(n),f={start:"0%",center:"50%",end:"100%"}[d],x=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,S=(((g=i.arrow)==null?void 0:g.y)??0)+c/2;let y="",v="";return u==="bottom"?(y=a?f:`${x}px`,v=`${-c}px`):u==="top"?(y=a?f:`${x}px`,v=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,v=a?f:`${S}px`):u==="left"&&(y=`${r.floating.width+c}px`,v=a?f:`${S}px`),{data:{x:y,y:v}}}});function J1(t){const[e,n="center"]=t.split("-");return[e,n]}var RB=H1,TB=G1,PB=Q1,DB=X1;function OB(t){const e=LB(t),n=h.forwardRef((r,i)=>{const{children:s,...a}=r,l=h.Children.toArray(s),c=l.find(MB);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function LB(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const a=BB(i),l=FB(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Fa(r,a):a),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IB=Symbol("radix.slottable");function MB(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IB}function FB(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function BB(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Z1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$B="VisuallyHidden",UB=h.forwardRef((t,e)=>o.jsx(fe.span,{...t,ref:e,style:{...Z1,...t.style}}));UB.displayName=$B;var zB=[" ","Enter","ArrowUp","ArrowDown"],WB=[" ","Enter"],so="Select",[Dh,Oh,qB]=ex(so),[Ga]=yr(so,[qB,q1]),Lh=q1(),[VB,ws]=Ga(so),[HB,KB]=Ga(so),eE=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:x,required:S,form:y}=t,v=Lh(e),[w,b]=h.useState(null),[g,m]=h.useState(null),[p,C]=h.useState(!1),j=_h(u),[N,E]=Br({prop:r,defaultProp:i??!1,onChange:s,caller:so}),[_,A]=Br({prop:a,defaultProp:l,onChange:c,caller:so}),k=h.useRef(null),P=w?y||!!w.closest("form"):!0,[M,$]=h.useState(new Set),X=Array.from(M).map(z=>z.props.value).join(";");return o.jsx(RB,{...v,children:o.jsxs(VB,{required:S,scope:e,trigger:w,onTriggerChange:b,valueNode:g,onValueNodeChange:m,valueNodeHasChildren:p,onValueNodeHasChildrenChange:C,contentId:Mr(),value:_,onValueChange:A,open:N,onOpenChange:E,dir:j,triggerPointerDownPosRef:k,disabled:x,children:[o.jsx(Dh.Provider,{scope:e,children:o.jsx(HB,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(z=>{$(Q=>new Set(Q).add(z))},[]),onNativeOptionRemove:h.useCallback(z=>{$(Q=>{const O=new Set(Q);return O.delete(z),O})},[]),children:n})}),P?o.jsxs(NE,{"aria-hidden":!0,required:S,tabIndex:-1,name:d,autoComplete:f,value:_,onChange:z=>A(z.target.value),disabled:x,form:y,children:[_===void 0?o.jsx("option",{value:""}):null,Array.from(M)]},X):null]})})};eE.displayName=so;var tE="SelectTrigger",nE=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Lh(n),a=ws(tE,n),l=a.disabled||r,c=$e(e,a.onTriggerChange),u=Oh(n),d=h.useRef("touch"),[f,x,S]=EE(v=>{const w=u().filter(m=>!m.disabled),b=w.find(m=>m.value===a.value),g=AE(w,v,b);g!==void 0&&a.onValueChange(g.value)}),y=v=>{l||(a.onOpenChange(!0),S()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(TB,{asChild:!0,...s,children:o.jsx(fe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":jE(a.value)?"":void 0,...i,ref:c,onClick:ye(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&y(v)}),onPointerDown:ye(i.onPointerDown,v=>{d.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:ye(i.onKeyDown,v=>{const w=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&x(v.key),!(w&&v.key===" ")&&zB.includes(v.key)&&(y(),v.preventDefault())})})})});nE.displayName=tE;var rE="SelectValue",iE=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=t,c=ws(rE,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=$e(e,c.onValueNodeChange);return Ft(()=>{u(d)},[u,d]),o.jsx(fe.span,{...l,ref:f,style:{pointerEvents:"none"},children:jE(c.value)?o.jsx(o.Fragment,{children:a}):s})});iE.displayName=rE;var GB="SelectIcon",sE=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return o.jsx(fe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});sE.displayName=GB;var QB="SelectPortal",oE=t=>o.jsx(Pv,{asChild:!0,...t});oE.displayName=QB;var oo="SelectContent",aE=h.forwardRef((t,e)=>{const n=ws(oo,t.__scopeSelect),[r,i]=h.useState();if(Ft(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?lr.createPortal(o.jsx(lE,{scope:t.__scopeSelect,children:o.jsx(Dh.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),s):null}return o.jsx(cE,{...t,ref:e})});aE.displayName=oo;var tr=10,[lE,Ss]=Ga(oo),YB="SelectContentImpl",XB=OB("SelectContent.RemoveScroll"),cE=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:x,collisionPadding:S,sticky:y,hideWhenDetached:v,avoidCollisions:w,...b}=t,g=ws(oo,n),[m,p]=h.useState(null),[C,j]=h.useState(null),N=$e(e,Y=>p(Y)),[E,_]=h.useState(null),[A,k]=h.useState(null),P=Oh(n),[M,$]=h.useState(!1),X=h.useRef(!1);h.useEffect(()=>{if(m)return Nj(m)},[m]),pj();const z=h.useCallback(Y=>{const[ge,...Le]=P().map(ue=>ue.ref.current),[ee]=Le.slice(-1),be=document.activeElement;for(const ue of Y)if(ue===be||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===ge&&C&&(C.scrollTop=0),ue===ee&&C&&(C.scrollTop=C.scrollHeight),ue==null||ue.focus(),document.activeElement!==be))return},[P,C]),Q=h.useCallback(()=>z([E,m]),[z,E,m]);h.useEffect(()=>{M&&Q()},[M,Q]);const{onOpenChange:O,triggerPointerDownPosRef:L}=g;h.useEffect(()=>{if(m){let Y={x:0,y:0};const ge=ee=>{var be,ue;Y={x:Math.abs(Math.round(ee.pageX)-(((be=L.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((ue=L.current)==null?void 0:ue.y)??0))}},Le=ee=>{Y.x<=10&&Y.y<=10?ee.preventDefault():m.contains(ee.target)||O(!1),document.removeEventListener("pointermove",ge),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Le,{capture:!0})}}},[m,O,L]),h.useEffect(()=>{const Y=()=>O(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[O]);const[G,Z]=EE(Y=>{const ge=P().filter(be=>!be.disabled),Le=ge.find(be=>be.ref.current===document.activeElement),ee=AE(ge,Y,Le);ee&&setTimeout(()=>ee.ref.current.focus())}),V=h.useCallback((Y,ge,Le)=>{const ee=!X.current&&!Le;(g.value!==void 0&&g.value===ge||ee)&&(_(Y),ee&&(X.current=!0))},[g.value]),ke=h.useCallback(()=>m==null?void 0:m.focus(),[m]),ie=h.useCallback((Y,ge,Le)=>{const ee=!X.current&&!Le;(g.value!==void 0&&g.value===ge||ee)&&k(Y)},[g.value]),He=r==="popper"?Kp:uE,ne=He===Kp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:x,collisionPadding:S,sticky:y,hideWhenDetached:v,avoidCollisions:w}:{};return o.jsx(lE,{scope:n,content:m,viewport:C,onViewportChange:j,itemRefCallback:V,selectedItem:E,onItemLeave:ke,itemTextRefCallback:ie,focusSelectedItem:Q,selectedItemText:A,position:r,isPositioned:M,searchRef:G,children:o.jsx(Dv,{as:XB,allowPinchZoom:!0,children:o.jsx(Tv,{asChild:!0,trapped:g.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:ye(i,Y=>{var ge;(ge=g.trigger)==null||ge.focus({preventScroll:!0}),Y.preventDefault()}),children:o.jsx(Rv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:o.jsx(He,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Y=>Y.preventDefault(),...b,...ne,onPlaced:()=>$(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ye(b.onKeyDown,Y=>{const ge=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ge&&Y.key.length===1&&Z(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ee=P().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const be=Y.target,ue=ee.indexOf(be);ee=ee.slice(ue+1)}setTimeout(()=>z(ee)),Y.preventDefault()}})})})})})})});cE.displayName=YB;var JB="SelectItemAlignedPosition",uE=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ws(oo,n),a=Ss(oo,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=$e(e,N=>d(N)),x=Oh(n),S=h.useRef(!1),y=h.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:b,focusSelectedItem:g}=a,m=h.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&v&&w&&b){const N=s.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),_=s.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(s.dir!=="rtl"){const be=A.left-E.left,ue=_.left-be,Me=N.left-ue,W=N.width+Me,oe=Math.max(W,E.width),De=window.innerWidth-tr,Je=l0(ue,[tr,Math.max(tr,De-oe)]);l.style.minWidth=W+"px",l.style.left=Je+"px"}else{const be=E.right-A.right,ue=window.innerWidth-_.right-be,Me=window.innerWidth-N.right-ue,W=N.width+Me,oe=Math.max(W,E.width),De=window.innerWidth-tr,Je=l0(ue,[tr,Math.max(tr,De-oe)]);l.style.minWidth=W+"px",l.style.right=Je+"px"}const k=x(),P=window.innerHeight-tr*2,M=v.scrollHeight,$=window.getComputedStyle(u),X=parseInt($.borderTopWidth,10),z=parseInt($.paddingTop,10),Q=parseInt($.borderBottomWidth,10),O=parseInt($.paddingBottom,10),L=X+z+M+O+Q,G=Math.min(w.offsetHeight*5,L),Z=window.getComputedStyle(v),V=parseInt(Z.paddingTop,10),ke=parseInt(Z.paddingBottom,10),ie=N.top+N.height/2-tr,He=P-ie,ne=w.offsetHeight/2,Y=w.offsetTop+ne,ge=X+z+Y,Le=L-ge;if(ge<=ie){const be=k.length>0&&w===k[k.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-v.offsetTop-v.offsetHeight,Me=Math.max(He,ne+(be?ke:0)+ue+Q),W=ge+Me;l.style.height=W+"px"}else{const be=k.length>0&&w===k[0].ref.current;l.style.top="0px";const Me=Math.max(ie,X+v.offsetTop+(be?V:0)+ne)+Le;l.style.height=Me+"px",v.scrollTop=ge-ie+v.offsetTop}l.style.margin=`${tr}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[x,s.trigger,s.valueNode,l,u,v,w,b,s.dir,r]);Ft(()=>m(),[m]);const[p,C]=h.useState();Ft(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const j=h.useCallback(N=>{N&&y.current===!0&&(m(),g==null||g(),y.current=!1)},[m,g]);return o.jsx(e$,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:S,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:p},children:o.jsx(fe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});uE.displayName=JB;var ZB="SelectPopperPosition",Kp=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=tr,...s}=t,a=Lh(n);return o.jsx(PB,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kp.displayName=ZB;var[e$,cx]=Ga(oo,{}),Gp="SelectViewport",dE=h.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ss(Gp,n),a=cx(Gp,n),l=$e(e,s.onViewportChange),c=h.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Dh.Slot,{scope:n,children:o.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:x}=a;if(x!=null&&x.current&&f){const S=Math.abs(c.current-d.scrollTop);if(S>0){const y=window.innerHeight-tr*2,v=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(v,w);if(b<y){const g=b+S,m=Math.min(y,g),p=g-m;f.style.height=m+"px",f.style.bottom==="0px"&&(d.scrollTop=p>0?p:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});dE.displayName=Gp;var hE="SelectGroup",[t$,n$]=Ga(hE),r$=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Mr();return o.jsx(t$,{scope:n,id:i,children:o.jsx(fe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});r$.displayName=hE;var fE="SelectLabel",mE=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=n$(fE,n);return o.jsx(fe.div,{id:i.id,...r,ref:e})});mE.displayName=fE;var Od="SelectItem",[i$,pE]=Ga(Od),gE=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,l=ws(Od,n),c=Ss(Od,n),u=l.value===r,[d,f]=h.useState(s??""),[x,S]=h.useState(!1),y=$e(e,g=>{var m;return(m=c.itemRefCallback)==null?void 0:m.call(c,g,r,i)}),v=Mr(),w=h.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(i$,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:h.useCallback(g=>{f(m=>m||((g==null?void 0:g.textContent)??"").trim())},[]),children:o.jsx(Dh.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:o.jsx(fe.div,{role:"option","aria-labelledby":v,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:y,onFocus:ye(a.onFocus,()=>S(!0)),onBlur:ye(a.onBlur,()=>S(!1)),onClick:ye(a.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:ye(a.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:ye(a.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:ye(a.onPointerMove,g=>{var m;w.current=g.pointerType,i?(m=c.onItemLeave)==null||m.call(c):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(a.onPointerLeave,g=>{var m;g.currentTarget===document.activeElement&&((m=c.onItemLeave)==null||m.call(c))}),onKeyDown:ye(a.onKeyDown,g=>{var p;((p=c.searchRef)==null?void 0:p.current)!==""&&g.key===" "||(WB.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});gE.displayName=Od;var Cl="SelectItemText",vE=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=ws(Cl,n),l=Ss(Cl,n),c=pE(Cl,n),u=KB(Cl,n),[d,f]=h.useState(null),x=$e(e,b=>f(b),c.onItemTextChange,b=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,b,c.value,c.disabled)}),S=d==null?void 0:d.textContent,y=h.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:S},c.value),[c.disabled,c.value,S]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return Ft(()=>(v(y),()=>w(y)),[v,w,y]),o.jsxs(o.Fragment,{children:[o.jsx(fe.span,{id:c.textId,...s,ref:x}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?lr.createPortal(s.children,a.valueNode):null]})});vE.displayName=Cl;var xE="SelectItemIndicator",yE=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return pE(xE,n).isSelected?o.jsx(fe.span,{"aria-hidden":!0,...r,ref:e}):null});yE.displayName=xE;var Qp="SelectScrollUpButton",bE=h.forwardRef((t,e)=>{const n=Ss(Qp,t.__scopeSelect),r=cx(Qp,t.__scopeSelect),[i,s]=h.useState(!1),a=$e(e,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(SE,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});bE.displayName=Qp;var Yp="SelectScrollDownButton",wE=h.forwardRef((t,e)=>{const n=Ss(Yp,t.__scopeSelect),r=cx(Yp,t.__scopeSelect),[i,s]=h.useState(!1),a=$e(e,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(SE,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});wE.displayName=Yp;var SE=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ss("SelectScrollButton",n),a=h.useRef(null),l=Oh(n),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Ft(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(fe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ye(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{c()})})}),s$="SelectSeparator",CE=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(fe.div,{"aria-hidden":!0,...r,ref:e})});CE.displayName=s$;var Xp="SelectArrow",o$=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Lh(n),s=ws(Xp,n),a=Ss(Xp,n);return s.open&&a.position==="popper"?o.jsx(DB,{...i,...r,ref:e}):null});o$.displayName=Xp;var a$="SelectBubbleInput",NE=h.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=h.useRef(null),s=$e(r,i),a=Jv(e);return h.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(fe.select,{...n,style:{...Z1,...n.style},ref:s,defaultValue:e})});NE.displayName=a$;function jE(t){return t===""||t===void 0}function EE(t){const e=hs(t),n=h.useRef(""),r=h.useRef(0),i=h.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function AE(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=l$(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function l$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var c$=eE,_E=nE,u$=iE,d$=sE,h$=oE,kE=aE,f$=dE,RE=mE,TE=gE,m$=vE,p$=yE,PE=bE,DE=wE,OE=CE;const en=c$,tn=u$,zt=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(_E,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(d$,{asChild:!0,children:o.jsx(_v,{className:"h-4 w-4 opacity-50"})})]}));zt.displayName=_E.displayName;const LE=h.forwardRef(({className:t,...e},n)=>o.jsx(PE,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(xL,{className:"h-4 w-4"})}));LE.displayName=PE.displayName;const IE=h.forwardRef(({className:t,...e},n)=>o.jsx(DE,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(_v,{className:"h-4 w-4"})}));IE.displayName=DE.displayName;const Wt=h.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>o.jsx(h$,{children:o.jsxs(kE,{ref:i,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(LE,{}),o.jsx(f$,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(IE,{})]})}));Wt.displayName=kE.displayName;const g$=h.forwardRef(({className:t,...e},n)=>o.jsx(RE,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));g$.displayName=RE.displayName;const se=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(TE,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(p$,{children:o.jsx(tj,{className:"h-4 w-4"})})}),o.jsx(m$,{children:e})]}));se.displayName=TE.displayName;const v$=h.forwardRef(({className:t,...e},n)=>o.jsx(OE,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));v$.displayName=OE.displayName;const ut=h.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ut.displayName="Textarea";const x$=vh("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ld=h.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:ce(x$({variant:e}),t),...n}));Ld.displayName="Alert";const y$=h.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:ce("mb-1 font-medium leading-none tracking-tight",t),...e}));y$.displayName="AlertTitle";const Id=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ce("text-sm [&_p]:leading-relaxed",t),...e}));Id.displayName="AlertDescription";const b$=["active","development"],w$=["for_sale","sold","reserved"],S$=["USD","MXN","EUR"],w0=["apartment","house","villa","condo","penthouse","land","commercial"],C$=["furnished","semi-furnished","unfurnished"],S0=["studio","1","2","3","4","5+"],C0=["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"],N$={title:255,subtitle:255,neighborhood:255,city:100,state:100,country:100,seo_title:160,seo_description:320,og_title:160,og_description:320},j$=new Set(["title","subtitle","property_type","status","property_categories","description","content","bedrooms","bedrooms_min","bedrooms_max","bathrooms","bathrooms_min","bathrooms_max","sqm","sqft","sqm_min","sqm_max","sqft_min","sqft_max","lot_size_sqm","year_built","furnishing_status","tags","address","neighborhood","city","state","country","google_maps_url","price_base_currency","price_usd","price_mxn","price_on_demand","price_negotiable","price_from_usd","price_to_usd","price_from_mxn","price_to_mxn","seo_title","seo_description","og_title","og_description","featured","slug","property_id_reference","property_category","latitude","longitude","seo_keywords","is_active","show_in_home","order","views_count","internal_notes","exchange_rate"]),E$=["title","property_type","status","city","country"],ME=new Set(["price_usd","price_mxn","price_from_usd","price_to_usd","price_from_mxn","price_to_mxn","sqm","sqft","sqm_min","sqm_max","sqft_min","sqft_max","lot_size_sqm","year_built","exchange_rate","latitude","longitude","order","views_count"]),FE=new Set(["price_on_demand","price_negotiable","is_active","featured","show_in_home"]),BE=new Set(["Central Air Conditioning","Elevator","Laundry Area","Fireplace","Storage","Basement","Lobby","Terrace","Balcony","Rooftop","Solarium","Garden","Zen Area","Hammock Area","Jungle Bar","Parking","Garage","Underground Parking","Bike Parking","Motor Lobby","Electric Bicycles","Free Beach Shuttle","24/7 Security","Controlled Access","CCTV","Perimeter Fence","Concierge 24/7","Pool","Rooftop Pool","Beach-like Pool","Private Beach Club","Waterfront Access","Beach Access","Spa","Sauna","Steam Room","Lockers","Temazcal","Yoga Studio","Meditation Room","Gym","Jogging Track","Paddle Court","Pickleball Court","Tennis Court","Mini-golf","Pet Park","Club House","Lounge","Cinema","Bar","Pub","Kids Playroom","Playground","Restaurant","Coffee Shop","Organic Market","Food Pavilion","Co-working Space","Business Lounge","Solar Panels","Rainwater Collection","Water Treatment","Eco-Friendly","Golf View","Ocean View","City View","Mountain View","Lake View","Jungle View","Pet Friendly","Furnished","Smart Home","Newly Renovated","Investment Opportunity","Beachfront","Gated Community","Walk to Beach"]),$E=new Map(Array.from(BE).map(t=>[t.toLowerCase(),t])),A$={apartment:"apartment",apartments:"apartment",apt:"apartment",flat:"apartment",house:"house",home:"house",villa:"villa",condo:"condo",condominium:"condo",condominiums:"condo",penthouse:"penthouse",penthouses:"penthouse",land:"land",plot:"land",lot:"land",commercial:"commercial"},_$={furnished:"furnished","semi furnished":"semi-furnished",semifurnished:"semi-furnished","semi-furnished":"semi-furnished",unfurnished:"unfurnished","un-furnished":"unfurnished"},k$={title:"",subtitle:"",property_type:"development",status:"for_sale",property_categories:[],description:"",content:"",bedrooms:null,bedrooms_min:null,bedrooms_max:null,bathrooms:null,bathrooms_min:null,bathrooms_max:null,sqm:null,sqft:null,sqm_min:null,sqm_max:null,sqft_min:null,sqft_max:null,lot_size_sqm:null,year_built:null,furnishing_status:"unfurnished",tags:[],address:"",neighborhood:"",city:"",state:"",country:"Mexico",google_maps_url:"",price_base_currency:"USD",price_usd:null,price_mxn:null,price_on_demand:!1,price_negotiable:!1,price_from_usd:null,price_to_usd:null,price_from_mxn:null,price_to_mxn:null,seo_title:"",seo_description:"",og_title:"",og_description:"",featured:!1};function N0(t){return typeof t!="string"?t:A$[t.trim().toLowerCase()]??t.trim().toLowerCase()}function R$(t){if(typeof t!="string")return t;let e=t.trim().toLowerCase().replace(/[\s-]+/g,"_");return e==="forsale"&&(e="for_sale"),e}function T$(t){if(typeof t!="string")return t;const e=t.trim().toLowerCase().replace(/[\s-]+/g,"_");return["active_property","active_properties","activeproperty"].includes(e)?"active":["new_development","new_developments"].includes(e)?"development":e}function Wu(t){if(t==null)return t;if(typeof t=="string"){const e=t.trim().toLowerCase();return e==="studio"||e==="0"?"studio":e.endsWith("+")?"5+":isNaN(Number(e))?t:Wu(Number(e))}if(typeof t=="number"){if(t<=0)return"studio";if(t>=5)return"5+";if([1,2,3,4].includes(t))return String(t)}return t}function qu(t){if(t==null)return t;if(typeof t=="string"){const e=t.trim();return e.endsWith("+")?"5+":isNaN(Number(e))?t:qu(Number(e))}if(typeof t=="number"){if(t>=5)return"5+";if([1,1.5,2,2.5,3,3.5,4,4.5,5].includes(t))return String(t)}return t}function P$(t){if(typeof t=="boolean")return t;if(typeof t=="number")return t!==0;if(typeof t=="string"){const e=t.trim().toLowerCase();if(["true","1","yes"].includes(e))return!0;if(["false","0","no"].includes(e))return!1}return t}function D$(t){if(typeof t=="number"||t===null)return t;if(typeof t=="string"){const e=t.trim().replace(/[$,\s]/g,"");if(e!==""&&!isNaN(Number(e)))return Number(e)}return t}function j0(t){if(!t||typeof t!="object"||Array.isArray(t))return t;const e={...t};if(e.property_type=T$(e.property_type),e.status=R$(e.status),typeof e.price_base_currency=="string"){const r=e.price_base_currency.trim().toUpperCase();e.price_base_currency=r==="US$"?"USD":r==="MX$"?"MXN":r}if(e.property_category&&(!e.property_categories||Array.isArray(e.property_categories)&&e.property_categories.length===0)&&(e.property_categories=[N0(e.property_category)]),delete e.property_category,typeof e.property_categories=="string"&&(e.property_categories=e.property_categories.split(/[,;]+/).map(r=>r.trim()).filter(Boolean)),Array.isArray(e.property_categories)&&(e.property_categories=e.property_categories.map(N0).filter(r=>r!==""&&r!==null)),typeof e.furnishing_status=="string"){const r=e.furnishing_status.trim().toLowerCase();e.furnishing_status=_$[r]??r}return typeof e.state=="string"&&(e.state=e.state.trim().toLowerCase()),Array.isArray(e.tags)&&(e.tags=e.tags.map(r=>{const i=String(r).trim();return $E.get(i.toLowerCase())??i})),FE.forEach(r=>{r in e&&(e[r]=P$(e[r]))}),ME.forEach(r=>{r in e&&(e[r]=D$(e[r]))}),e.bedrooms=Wu(e.bedrooms),e.bedrooms_min=Wu(e.bedrooms_min),e.bedrooms_max=Wu(e.bedrooms_max),e.bathrooms=qu(e.bathrooms),e.bathrooms_min=qu(e.bathrooms_min),e.bathrooms_max=qu(e.bathrooms_max),["slug","property_id_reference","seo_keywords","latitude","longitude","is_active","show_in_home","order","views_count","internal_notes","exchange_rate"].forEach(r=>delete e[r]),e}function O$(t,e){const n=/position (\d+)/i.exec(t.message);if(!n)return null;const r=Number(n[1]);if(Number.isNaN(r))return null;const s=e.slice(0,r).split(`
`);return{line:s.length,column:s[s.length-1].length+1}}function L$(t){const e=[];if(!t||typeof t!="object"||Array.isArray(t))return[{field:"root",message:"JSON must be an object",severity:"error"}];const n=Object.keys(t).filter(a=>!j$.has(a));if(n.length&&e.push({field:"root",message:`Unknown fields will be ignored: ${n.join(", ")}`,severity:"warning"}),E$.forEach(a=>{const l=t[a];(l==null||String(l).trim()==="")&&e.push({field:a,message:`Required field "${a}" is missing or empty`,severity:"error"})}),[["property_type",b$,t.property_type],["status",w$,t.status],["furnishing_status",C$,t.furnishing_status],["price_base_currency",S$,t.price_base_currency]].forEach(([a,l,c])=>{c&&!l.includes(c)&&e.push({field:a,message:`Invalid ${a}: "${c}"`,severity:"error",expected:l.join(" | "),received:String(c)})}),Array.isArray(t.property_categories)?(t.property_categories.length===0&&e.push({field:"property_categories",message:"property_categories must have at least one value",severity:"error"}),t.property_type==="active"&&t.property_categories.length>1&&e.push({field:"property_categories",message:`Active properties must have exactly 1 category, got ${t.property_categories.length}`,severity:"error",expected:'["apartment"]',received:JSON.stringify(t.property_categories)}),t.property_categories.forEach((a,l)=>{w0.includes(a)||e.push({field:`property_categories[${l}]`,message:`Invalid category: "${a}"`,severity:"error",expected:w0.join(" | "),received:a})})):e.push({field:"property_categories",message:"property_categories must be an array",severity:"error"}),["bedrooms","bedrooms_min","bedrooms_max"].forEach(a=>{const l=t[a];l!=null&&!S0.includes(String(l))&&e.push({field:a,message:`Invalid ${a}: "${l}"`,severity:"error",expected:S0.join(" | "),received:String(l)})}),["bathrooms","bathrooms_min","bathrooms_max"].forEach(a=>{const l=t[a];l!=null&&!C0.includes(String(l))&&e.push({field:a,message:`Invalid ${a}: "${l}"`,severity:"error",expected:C0.join(" | "),received:String(l)})}),t.property_type==="active"&&["bedrooms_min","bedrooms_max","bathrooms_min","bathrooms_max","sqm_min","sqm_max","sqft_min","sqft_max","price_from_usd","price_to_usd","price_from_mxn","price_to_mxn"].forEach(l=>{t[l]!==null&&t[l]!==void 0&&e.push({field:l,message:`"${l}" must be null for active properties`,severity:"error"})}),t.property_type==="development"&&["bedrooms","bathrooms","sqm","sqft","price_usd","price_mxn"].forEach(l=>{t[l]!==null&&t[l]!==void 0&&e.push({field:l,message:`"${l}" must be null for developments`,severity:"error"})}),ME.forEach(a=>{const l=t[a];l!=null&&typeof l!="number"&&e.push({field:a,message:`"${a}" must be a number or null, got ${typeof l}: "${l}"`,severity:"error"})}),FE.forEach(a=>{a in t&&typeof t[a]!="boolean"&&e.push({field:a,message:`"${a}" must be true or false, got ${typeof t[a]}: "${t[a]}"`,severity:"error"})}),Object.entries(N$).forEach(([a,l])=>{const c=t[a];typeof c=="string"&&c.length>l&&e.push({field:a,message:`"${a}" exceeds max length: ${c.length}/${l} chars`,severity:"error",expected:`max ${l} chars`,received:`${c.length} chars`})}),Array.isArray(t.tags)&&t.tags.forEach((a,l)=>{if(!BE.has(a)){const c=a.toLowerCase(),u=$E.get(c);e.push({field:`tags[${l}]`,message:`Invalid tag: "${a}"${u?`  did you mean "${u}"?`:""}`,severity:"error",expected:"See standard tags list",received:a})}}),t.content){const a=t.content.replace(/<[^>]+>/g,"").split(/\s+/).filter(Boolean).length;a<250&&e.push({field:"content",message:` Content has only ${a} words but MUST have at least 250 words for proper SEO. Add more detail about: location highlights, amenities, lifestyle, investment potential.`,severity:"error"})}else e.push({field:"content",message:" Content is required and must be at least 250 words in HTML format.",severity:"error"});return(!t.description||String(t.description).trim()==="")&&e.push({field:"description",message:"Description is empty. A short summary is recommended for property cards.",severity:"warning"}),t.state&&typeof t.state=="string"&&t.state!==t.state.toLowerCase()&&e.push({field:"state",message:`State must be lowercase: "${t.state}"  "${t.state.toLowerCase()}"`,severity:"error"}),t.google_maps_url&&typeof t.google_maps_url=="string"&&t.google_maps_url.trim()!==""&&!t.google_maps_url.includes("google.com/maps")&&!t.google_maps_url.includes("goo.gl/maps")&&e.push({field:"google_maps_url",message:"google_maps_url should be a Google Maps URL",severity:"warning"}),e}function I$(t){const e=["=== VALIDATION ERRORS ===",""],n=t.filter(i=>i.severity==="error"),r=t.filter(i=>i.severity==="warning");return n.length&&(e.push(` ${n.length} ERROR${n.length>1?"S":""} (must fix):`),n.forEach((i,s)=>{e.push(`${s+1}. [${i.field}] ${i.message}`),i.expected&&e.push(`   Expected: ${i.expected}`),i.received&&e.push(`   Got: ${i.received}`)})),r.length&&(e.push("",` ${r.length} WARNING${r.length>1?"S":""} (recommended):`),r.forEach((i,s)=>{e.push(`${s+1}. [${i.field}] ${i.message}`)})),e.push("","Fix these errors in the JSON and try again."),e.join(`
`)}function E0({onImported:t}){var p,C,j,N;const e=Pt(),[n,r]=h.useState(!1),[i,s]=h.useState(""),[a,l]=h.useState([]),[c,u]=h.useState(null),[d,f]=h.useState(!1),x=a.filter(E=>E.severity==="error").length,S=a.filter(E=>E.severity==="warning").length,y=qe({mutationFn:async E=>q.post("/properties/import-json?validate_only=true",E),onSuccess:E=>u(E.data.data),onError:E=>{var A,k;const _=((k=(A=E.response)==null?void 0:A.data)==null?void 0:k.error)||"Server validation failed";l(P=>[...P,{field:"server",message:_,severity:"error"}]),u(null)}}),v=qe({mutationFn:async E=>q.post("/properties/import-json",E),onSuccess:E=>{var A;const _=(A=E.data.data)==null?void 0:A.id;r(!1),s(""),l([]),u(null),t&&t(_),_&&e(`/properties/${_}`)},onError:E=>{var A,k;const _=((k=(A=E.response)==null?void 0:A.data)==null?void 0:k.error)||"Import failed";l([{field:"server",message:`Server error: ${_}`,severity:"error"}])}}),w=h.useCallback(()=>{l([]),u(null),f(!1);let E;try{E=JSON.parse(i)}catch(P){const M=O$(P,i),$=M?` (line ${M.line}, col ${M.column})`:"";l([{field:"JSON syntax",message:`Invalid JSON${$}: ${P.message}`,severity:"error"}]);return}const _=j0(E),A=L$(_);l(A),A.filter(P=>P.severity==="error").length===0&&y.mutate(_)},[i,y]),b=h.useCallback(()=>{if(c!=null&&c.valid)try{const E=JSON.parse(i),_=j0(E);v.mutate(_)}catch(E){l([{field:"JSON",message:E.message,severity:"error"}])}},[i,c,v]),g=h.useCallback(()=>{const E=I$(a);navigator.clipboard.writeText(E).then(()=>{f(!0),setTimeout(()=>f(!1),2e3)})},[a]),m=()=>{s(JSON.stringify(k$,null,2)),l([]),u(null)};return o.jsxs(Vj,{open:n,onOpenChange:E=>{r(E),E||(l([]),u(null))},children:[o.jsx(Hj,{asChild:!0,children:o.jsxs(I,{variant:"outline",children:[o.jsx(nj,{className:"mr-2 h-4 w-4"}),"Import JSON"]})}),o.jsxs(zv,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Wv,{children:[o.jsx(qv,{className:"text-lg",children:"Import Property from JSON"}),o.jsx(Vv,{children:"Paste the JSON generated by ChatGPT. Fields are validated against the exact SQL schema before import."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ut,{value:i,onChange:E=>{s(E.target.value),l([]),u(null)},placeholder:`Paste your JSON here...

Tip: Use the ChatGPT prompt from _docs/PROPERTIES_POSTMAN_TEMPLATE.md`,rows:16,className:"font-mono text-xs leading-relaxed",spellCheck:!1}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(I,{onClick:w,disabled:!i.trim()||y.isPending,variant:"outline",size:"sm",children:y.isPending?"Validating...":" Validate"}),o.jsxs(I,{onClick:b,disabled:!(c!=null&&c.valid)||v.isPending,size:"sm",children:[o.jsx(fr,{className:"mr-2 h-3 w-3"}),v.isPending?"Importing...":"Import"]}),o.jsx("div",{className:"flex-1"}),o.jsx(I,{variant:"ghost",size:"sm",onClick:m,className:"text-xs",children:" Use Template"})]})]}),(c==null?void 0:c.valid)&&o.jsxs(Ld,{className:"border-green-500 bg-green-50",children:[o.jsx(ej,{className:"h-4 w-4 text-green-600"}),o.jsxs(Id,{children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{children:[o.jsx("strong",{className:"text-green-900",children:" Ready to import"}),o.jsxs("div",{className:"mt-1 text-sm text-green-800 grid grid-cols-2 gap-x-6 gap-y-0.5",children:[o.jsxs("span",{children:["Title: ",o.jsx("strong",{children:(p=c.preview)==null?void 0:p.title})]}),o.jsxs("span",{children:["Type: ",o.jsx("strong",{children:(C=c.preview)==null?void 0:C.property_type})]}),o.jsxs("span",{children:["City: ",o.jsx("strong",{children:(j=c.preview)==null?void 0:j.city})]}),o.jsxs("span",{children:["Price: ",o.jsx("strong",{children:(N=c.preview)!=null&&N.price_usd?`$${Number(c.preview.price_usd).toLocaleString()}`:"On demand"})]})]})]})}),S>0&&o.jsxs("p",{className:"text-xs text-amber-700 mt-2",children:[" ",S," warning",S>1?"s":""," below (non-blocking)"]})]})]}),a.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x>0&&o.jsxs("span",{className:"flex items-center gap-1 text-red-600 font-medium",children:[o.jsx(Lp,{className:"h-4 w-4"})," ",x," error",x>1?"s":""]}),S>0&&o.jsxs("span",{className:"flex items-center gap-1 text-amber-600 font-medium",children:[o.jsx(Ob,{className:"h-4 w-4"})," ",S," warning",S>1?"s":""]})]}),x>0&&o.jsxs(I,{variant:"outline",size:"sm",onClick:g,className:"text-xs gap-1.5",children:[o.jsx(yL,{className:"h-3 w-3"}),d?"Copied!":"Copy errors  ChatGPT"]})]}),o.jsx("div",{className:"border rounded-lg divide-y max-h-[300px] overflow-y-auto text-sm",children:a.map((E,_)=>o.jsx("div",{className:`px-3 py-2 ${E.severity==="error"?"bg-red-50":"bg-amber-50"}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[E.severity==="error"?o.jsx(Lp,{className:"h-3.5 w-3.5 text-red-500 mt-0.5 shrink-0"}):o.jsx(Ob,{className:"h-3.5 w-3.5 text-amber-500 mt-0.5 shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:E.field}),o.jsx("p",{className:E.severity==="error"?"text-red-800":"text-amber-800",children:E.message}),E.expected&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Expected: ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:E.expected})]}),E.received&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Got: ",o.jsx("code",{className:"bg-red-100 px-1 rounded",children:E.received})]})]})]})},_))}),x>0&&o.jsx("p",{className:"text-xs text-muted-foreground italic",children:' Tip: Click "Copy errors  ChatGPT" and paste them to ChatGPT to fix the JSON automatically.'})]}),o.jsx(Gj,{children:o.jsx(I,{variant:"ghost",onClick:()=>r(!1),children:"Close"})})]})]})}const M$={for_sale:"bg-green-500",sold:"bg-gray-500",reserved:"bg-orange-500"},F$={for_sale:"For Sale",sold:"Sold",reserved:"Reserved"},B$={active:"Active Property",development:"Development"};function $$({property:t,index:e,toAbsoluteUrl:n,SITE_URL:r,onToggleActive:i,onToggleHome:s,onDelete:a}){const{attributes:l,listeners:c,setNodeRef:u,transform:d,transition:f,isDragging:x}=S1({id:t.id}),S={transform:Ea.Transform.toString(d),transition:f,opacity:x?.5:1,width:"auto",height:"auto"};return o.jsx(ae,{ref:u,style:S,className:"overflow-hidden border border-dashed bg-white",children:o.jsxs("div",{className:"flex gap-3 items-center p-4",children:[o.jsxs("div",{...l,...c,className:"flex-shrink-0 text-muted-foreground cursor-grab active:cursor-grabbing",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["#",e+1]})]}),o.jsx("img",{src:n(t.cover_image_url),alt:t.title,className:"w-32 h-24 object-cover rounded-lg flex-shrink-0",onError:y=>{y.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="128" height="96"%3E%3Crect fill="%23ddd" width="128" height="96"/%3E%3C/svg%3E'}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Wp,{variant:"outline",className:"text-xs",children:B$[t.property_type]}),o.jsx(Wp,{className:`${M$[t.status]} text-xs`,children:F$[t.status]})]}),o.jsx("h3",{className:"font-semibold text-base line-clamp-1",children:t.title}),t.subtitle&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:t.subtitle}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[o.jsx($a,{className:"h-3 w-3 flex-shrink-0"}),o.jsxs("span",{className:"truncate",children:["/properties/",t.slug]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-2",children:[o.jsx("span",{className:"font-mono",children:t.property_id_reference}),o.jsx("span",{children:""}),o.jsxs("span",{className:"truncate",children:[t.city,", ",t.country]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Published"}),o.jsx(Rt,{checked:!!t.is_active,onCheckedChange:y=>i(t,y),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle property active"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-xs ${t.is_active?"text-muted-foreground":"text-gray-400"}`,children:"Show in Home"}),o.jsx(Rt,{checked:!!t.show_in_home,onCheckedChange:y=>s(t,y),disabled:!t.is_active,className:"data-[state=checked]:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Toggle show in home"})]}),o.jsx(I,{variant:"ghost",size:"sm",asChild:!0,title:"View on site",children:o.jsx("a",{href:`${r}/new/properties/${t.slug}`,target:"_blank",rel:"noopener noreferrer",children:o.jsx(bL,{className:"h-4 w-4"})})}),o.jsx(I,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(on,{to:`/properties/${t.id}`,children:[o.jsx(Ua,{className:"mr-1 h-4 w-4"}),"Edit"]})}),o.jsx(I,{variant:"destructive",size:"sm",onClick:()=>a(t.id),children:o.jsx(za,{className:"h-4 w-4"})})]})]})})]})})}function U$(){var Me;const t=fn(),e={search:"",status:"all",type:"all",category:"all",furnishing:"all"},[n,r]=h.useState(e.search),[i,s]=h.useState(e.status),[a,l]=h.useState(e.type),[c,u]=h.useState(e.category),[d,f]=h.useState(e.furnishing),[x,S]=h.useState(e.search),[y,v]=h.useState(e.status),[w,b]=h.useState(e.type),[g,m]=h.useState(e.category),[p,C]=h.useState(e.furnishing),[j,N]=h.useState([]),[E,_]=h.useState(null),[A,k]=h.useState(!1),P=Jj(Ad(Ch),Ad(Sh,{coordinateGetter:C1})),M=()=>{r(x),s(y),l(w),u(g),f(p)},$=()=>{S(e.search),v(e.status),b(e.type),m(e.category),C(e.furnishing),r(e.search),s(e.status),l(e.type),u(e.category),f(e.furnishing)},X=W=>{W.key==="Enter"&&M()},z="/api",Q="https://buywithdali.com",O=h.useMemo(()=>z.replace(/\/api$/,""),[z]),L=W=>{if(!W)return"";const oe=O||window.location.origin;return W.startsWith("http")?W:W.startsWith("/")?`${oe}${W}`:`${oe}/${W}`},G=h.useMemo(()=>{const W=new URLSearchParams;return n&&W.append("q",n),i!=="all"&&W.append("status",i),a!=="all"&&W.append("property_type",a),c!=="all"&&W.append("property_category",c),d!=="all"&&W.append("furnishing_status",d),W.append("is_active","all"),W.append("per_page","100"),W.toString()},[n,i,a,c,d]),Z=h.useMemo(()=>{let W=0;return n.trim()&&(W+=1),i!==e.status&&(W+=1),a!==e.type&&(W+=1),c!==e.category&&(W+=1),d!==e.furnishing&&(W+=1),W},[n,i,a,c,d,e]),{data:V,isLoading:ke,refetch:ie}=dt({queryKey:["properties",G],queryFn:async()=>{var ot;const W=await q.get(`/properties?${G}`),oe=((ot=W.data)==null?void 0:ot.data)??W.data??[],De=Array.isArray(oe==null?void 0:oe.properties)?oe.properties:Array.isArray(oe)?oe:[],Je=(oe==null?void 0:oe.pagination)??null;return{properties:De,pagination:Je}},refetchOnWindowFocus:!1});h.useEffect(()=>{const W=(V==null?void 0:V.properties)||[];if(W.length){const oe=[...W].sort((De,Je)=>(De.order||0)-(Je.order||0));N(oe)}else N([])},[V]),h.useEffect(()=>{if(ke){k(!1);return}const W=setTimeout(()=>k(!0),600);return()=>clearTimeout(W)},[ke,n]);const He=async W=>{const{active:oe,over:De}=W;if(!De||oe.id===De.id)return;const Je=j.findIndex(Ke=>Ke.id===oe.id),ot=j.findIndex(Ke=>Ke.id===De.id),je=Eh(j,Je,ot).map((Ke,Dt)=>({...Ke,order:Dt+1}));N(je);try{const Ke={order:je.map((In,Cr)=>({id:In.id,display_order:Cr+1}))};console.log("Reorder payload:",Ke);const Dt=await q.post("/properties/reorder",Ke);console.log("Reorder response:",Dt.data),t.invalidateQueries({queryKey:["properties"]})}catch(Ke){console.error("Failed to reorder properties:",Ke),ie()}},[ne,Y]=h.useState(null),ge=async(W,oe)=>{var Je,ot,Fe;const De={is_active:oe};!oe&&W.show_in_home&&(De.show_in_home=0),N(je=>je.map(Ke=>Ke.id===W.id?{...Ke,is_active:oe,...De.show_in_home!==void 0?{show_in_home:!1}:{}}:Ke));try{const je=await q.put(`/properties/${W.id}`,De);if(((Je=je.data)==null?void 0:Je.success)===!1)throw new Error(je.data.error||"Failed to update");t.invalidateQueries({queryKey:["properties"]})}catch(je){console.error("Failed to update is_active",je);const Ke=((Fe=(ot=je==null?void 0:je.response)==null?void 0:ot.data)==null?void 0:Fe.error)||(je==null?void 0:je.message)||"Failed to update property";Y(Ke),setTimeout(()=>Y(null),5e3),N(Dt=>Dt.map(In=>In.id===W.id?{...In,is_active:!oe,...De.show_in_home!==void 0?{show_in_home:!0}:{}}:In))}},Le=async(W,oe)=>{var De,Je,ot;if(oe&&!W.is_active){Y("Cannot show in home: property must be published first"),setTimeout(()=>Y(null),3e3);return}N(Fe=>Fe.map(je=>je.id===W.id?{...je,show_in_home:oe}:je));try{const Fe=await q.put(`/properties/${W.id}`,{show_in_home:oe?1:0});if(((De=Fe.data)==null?void 0:De.success)===!1)throw new Error(Fe.data.error||"Failed to update");t.invalidateQueries({queryKey:["properties"]})}catch(Fe){console.error("Failed to update show_in_home",Fe);const je=((ot=(Je=Fe==null?void 0:Fe.response)==null?void 0:Je.data)==null?void 0:ot.error)||(Fe==null?void 0:Fe.message)||"Failed to update property";Y(je),setTimeout(()=>Y(null),5e3),N(Ke=>Ke.map(Dt=>Dt.id===W.id?{...Dt,show_in_home:!oe}:Dt))}},ee=qe({mutationFn:async W=>q.delete(`/properties/${W}`),onSuccess:()=>{_(null),t.invalidateQueries({queryKey:["properties"]}),ie()}}),be=()=>{E&&ee.mutate(E)};return ke||!A?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Properties"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(E0,{onImported:()=>ie()}),o.jsx(I,{asChild:!0,children:o.jsxs(on,{to:"/properties/new",children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"}),"New Property"]})})]})]}),o.jsx("div",{className:"grid gap-4",children:[1,2,3].map(W=>o.jsxs(ae,{className:"animate-pulse",children:[o.jsx(Ve,{children:o.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"})]})})]},W))})]}):o.jsxs("div",{className:"space-y-6",children:[ne&&o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[o.jsx("strong",{className:"font-bold",children:"Error: "}),o.jsx("span",{children:ne}),o.jsx("button",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>Y(null),children:""})]}),o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Properties"}),o.jsxs("p",{className:"text-muted-foreground",children:[((Me=V==null?void 0:V.pagination)==null?void 0:Me.total)??j.length??0," total properties"]}),Z>0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Z," filter",Z>1?"s":""," applied"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(E0,{onImported:()=>ie()}),o.jsx(I,{asChild:!0,children:o.jsxs(on,{to:"/properties/new",children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"}),"New Property"]})})]})]}),o.jsx(ae,{className:"mt-4",children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx(B,{placeholder:"Search by title, city, country, tags...",value:x,onChange:W=>S(W.target.value),onKeyDown:X,className:"flex-1 min-w-[280px]"}),o.jsxs(en,{value:y,onValueChange:v,children:[o.jsx(zt,{className:"w-[140px]",children:o.jsx(tn,{placeholder:"Status"})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"all",children:"All Status"}),o.jsx(se,{value:"for_sale",children:"For Sale"}),o.jsx(se,{value:"sold",children:"Sold"}),o.jsx(se,{value:"reserved",children:"Reserved"})]})]}),o.jsxs(en,{value:w,onValueChange:b,children:[o.jsx(zt,{className:"w-[140px]",children:o.jsx(tn,{placeholder:"Type"})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"all",children:"All Types"}),o.jsx(se,{value:"active",children:"Active"}),o.jsx(se,{value:"development",children:"Development"})]})]}),o.jsxs(en,{value:g,onValueChange:m,children:[o.jsx(zt,{className:"w-[140px]",children:o.jsx(tn,{placeholder:"Category"})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"all",children:"All Categories"}),o.jsx(se,{value:"apartment",children:"Apartment"}),o.jsx(se,{value:"villa",children:"Villa"}),o.jsx(se,{value:"penthouse",children:"Penthouse"}),o.jsx(se,{value:"townhouse",children:"Townhouse"}),o.jsx(se,{value:"land",children:"Land"}),o.jsx(se,{value:"commercial",children:"Commercial"})]})]}),o.jsxs(en,{value:p,onValueChange:C,children:[o.jsx(zt,{className:"w-[140px]",children:o.jsx(tn,{placeholder:"Furnishing"})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"all",children:"All Furnishing"}),o.jsx(se,{value:"furnished",children:"Furnished"}),o.jsx(se,{value:"semi-furnished",children:"Semi-Furnished"}),o.jsx(se,{value:"unfurnished",children:"Unfurnished"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsxs(I,{onClick:M,size:"sm",children:[o.jsx(aj,{className:"mr-2 h-4 w-4"}),"Search"]}),o.jsxs(I,{onClick:$,variant:"outline",size:"sm",children:[o.jsx(oj,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})})}),j.length===0?o.jsx(ae,{children:o.jsx(le,{className:"flex flex-col items-center justify-center py-16",children:o.jsx("p",{className:"text-muted-foreground",children:"No properties found"})})}):o.jsx(p1,{sensors:P,collisionDetection:n1,onDragEnd:He,children:o.jsx(b1,{items:j.map(W=>W.id),strategy:v1,children:o.jsx("div",{className:"grid gap-4",children:j.map((W,oe)=>o.jsx($$,{property:W,index:oe,toAbsoluteUrl:L,SITE_URL:Q,onToggleActive:ge,onToggleHome:Le,onDelete:_},W.id))})})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Delete property?"}),o.jsx("p",{className:"text-muted-foreground",children:"Are you sure? This action cannot be undone. All photos and data will be permanently deleted."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(I,{variant:"outline",onClick:()=>_(null),children:"Cancel"}),o.jsx(I,{variant:"destructive",onClick:be,disabled:ee.isPending,children:ee.isPending?"Deleting...":"Delete"})]})]})})]})}var Wf="rovingFocusGroup.onEntryFocus",z$={bubbles:!1,cancelable:!0},Bc="RovingFocusGroup",[Jp,UE,W$]=ex(Bc),[q$,zE]=yr(Bc,[W$]),[V$,H$]=q$(Bc),WE=h.forwardRef((t,e)=>o.jsx(Jp.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Jp.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(K$,{...t,ref:e})})}));WE.displayName=Bc;var K$=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,x=h.useRef(null),S=$e(e,x),y=_h(s),[v,w]=Br({prop:a,defaultProp:l??null,onChange:c,caller:Bc}),[b,g]=h.useState(!1),m=hs(u),p=UE(n),C=h.useRef(!1),[j,N]=h.useState(0);return h.useEffect(()=>{const E=x.current;if(E)return E.addEventListener(Wf,m),()=>E.removeEventListener(Wf,m)},[m]),o.jsx(V$,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:v,onItemFocus:h.useCallback(E=>w(E),[w]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>N(E=>E-1),[]),children:o.jsx(fe.div,{tabIndex:b||j===0?-1:0,"data-orientation":r,...f,ref:S,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{C.current=!0}),onFocus:ye(t.onFocus,E=>{const _=!C.current;if(E.target===E.currentTarget&&_&&!b){const A=new CustomEvent(Wf,z$);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const k=p().filter(z=>z.focusable),P=k.find(z=>z.active),M=k.find(z=>z.id===v),X=[P,M,...k].filter(Boolean).map(z=>z.ref.current);HE(X,d)}}C.current=!1}),onBlur:ye(t.onBlur,()=>g(!1))})})}),qE="RovingFocusGroupItem",VE=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,c=Mr(),u=s||c,d=H$(qE,n),f=d.currentTabStopId===u,x=UE(n),{onFocusableItemAdd:S,onFocusableItemRemove:y,currentTabStopId:v}=d;return h.useEffect(()=>{if(r)return S(),()=>y()},[r,S,y]),o.jsx(Jp.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:o.jsx(fe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:ye(t.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:ye(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ye(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=Y$(w,d.orientation,d.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let m=x().filter(p=>p.focusable).map(p=>p.ref.current);if(b==="last")m.reverse();else if(b==="prev"||b==="next"){b==="prev"&&m.reverse();const p=m.indexOf(w.currentTarget);m=d.loop?X$(m,p+1):m.slice(p+1)}setTimeout(()=>HE(m))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});VE.displayName=qE;var G$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Y$(t,e,n){const r=Q$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return G$[r]}function HE(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function X$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var J$=WE,Z$=VE,Ih="Tabs",[e3]=yr(Ih,[zE]),KE=zE(),[t3,ux]=e3(Ih),GE=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=_h(l),[f,x]=Br({prop:r,onChange:i,defaultProp:s??"",caller:Ih});return o.jsx(t3,{scope:n,baseId:Mr(),value:f,onValueChange:x,orientation:a,dir:d,activationMode:c,children:o.jsx(fe.div,{dir:d,"data-orientation":a,...u,ref:e})})});GE.displayName=Ih;var QE="TabsList",YE=h.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=ux(QE,n),a=KE(n);return o.jsx(J$,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(fe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});YE.displayName=QE;var XE="TabsTrigger",JE=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=ux(XE,n),l=KE(n),c=tA(a.baseId,r),u=nA(a.baseId,r),d=r===a.value;return o.jsx(Z$,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:ye(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ye(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ye(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});JE.displayName=XE;var ZE="TabsContent",eA=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,l=ux(ZE,n),c=tA(l.baseId,r),u=nA(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const x=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(x)},[]),o.jsx(vo,{present:i||d,children:({present:x})=>o.jsx(fe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:x&&s})})});eA.displayName=ZE;function tA(t,e){return`${t}-trigger-${e}`}function nA(t,e){return`${t}-content-${e}`}var n3=GE,rA=YE,iA=JE,sA=eA;const r3=n3,oA=h.forwardRef(({className:t,...e},n)=>o.jsx(rA,{ref:n,className:ce("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));oA.displayName=rA.displayName;const Ti=h.forwardRef(({className:t,...e},n)=>o.jsx(iA,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Ti.displayName=iA.displayName;const Pi=h.forwardRef(({className:t,...e},n)=>o.jsx(sA,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Pi.displayName=sA.displayName;var i3="2.1.16";const Ks="[data-trix-attachment]",dx={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},an={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(t){return A0(t.parentNode)===an[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(t){return A0(t.parentNode)===an[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},A0=t=>{var e;return t==null||(e=t.tagName)===null||e===void 0?void 0:e.toLowerCase()},_0=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),qf=_0&&parseInt(_0[1]);var $c={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:qf&&qf>12,samsungAndroid:qf&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(t=>t in InputEvent.prototype)},aA={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},de={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const s3=[de.bytes,de.KB,de.MB,de.GB,de.TB,de.PB];var lA={prefix:"IEC",precision:2,formatter(t){switch(t){case 0:return"0 ".concat(de.bytes);case 1:return"1 ".concat(de.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);const n=Math.floor(Math.log(t)/Math.log(e)),r=(t/Math.pow(e,n)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(r," ").concat(s3[n])}}};const Mh="\uFEFF",$i="",cA=function(t){for(const e in t){const n=t[e];this[e]=n}return this},hx=document.documentElement,o3=hx.matches,rt=function(t){let{onElement:e,matchingSelector:n,withCallback:r,inPhase:i,preventDefault:s,times:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=e||hx,c=n,u=i==="capturing",d=function(f){a!=null&&--a==0&&d.destroy();const x=ps(f.target,{matchingSelector:c});x!=null&&(r==null||r.call(x,f,x),s&&f.preventDefault())};return d.destroy=()=>l.removeEventListener(t,d,u),l.addEventListener(t,d,u),d},uA=function(t){let{bubbles:e,cancelable:n,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e=e!==!1,n=n!==!1;const i=document.createEvent("Events");return i.initEvent(t,e,n),r!=null&&cA.call(i,r),i},Ml=function(t){let{onElement:e,bubbles:n,cancelable:r,attributes:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=e??hx,a=uA(t,{bubbles:n,cancelable:r,attributes:i});return s.dispatchEvent(a)},dA=function(t,e){if((t==null?void 0:t.nodeType)===1)return o3.call(t,e)},ps=function(t){let{matchingSelector:e,untilNode:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(t!=null){if(e==null)return t;if(t.closest&&n==null)return t.closest(e);for(;t&&t!==n;){if(dA(t,e))return t;t=t.parentNode}}},fx=t=>document.activeElement!==t&&Os(t,document.activeElement),Os=function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},Vf=function(t){var e;if((e=t)===null||e===void 0||!e.parentNode)return;let n=0;for(t=t.previousSibling;t;)n++,t=t.previousSibling;return n},gs=t=>{var e;return t==null||(e=t.parentNode)===null||e===void 0?void 0:e.removeChild(t)},Md=function(t){let{onlyNodesOfType:e,usingFilter:n,expandEntityReferences:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(t,i,n??null,r===!0)},sn=t=>{var e;return t==null||(e=t.tagName)===null||e===void 0?void 0:e.toLowerCase()},we=function(t){let e,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof t=="object"?(r=t,t=r.tagName):r={attributes:r};const i=document.createElement(t);if(r.editable!=null&&(r.attributes==null&&(r.attributes={}),r.attributes.contenteditable=r.editable),r.attributes)for(e in r.attributes)n=r.attributes[e],i.setAttribute(e,n);if(r.style)for(e in r.style)n=r.style[e],i.style[e]=n;if(r.data)for(e in r.data)n=r.data[e],i.dataset[e]=n;return r.className&&r.className.split(" ").forEach(s=>{i.classList.add(s)}),r.textContent&&(i.textContent=r.textContent),r.childNodes&&[].concat(r.childNodes).forEach(s=>{i.appendChild(s)}),i};let cl;const Fl=function(){if(cl!=null)return cl;cl=[];for(const t in an){const e=an[t];e.tagName&&cl.push(e.tagName)}return cl},Hf=t=>ta(t==null?void 0:t.firstChild),k0=function(t){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?ta(t):ta(t)||!ta(t.firstChild)&&function(n){return Fl().includes(sn(n))&&!Fl().includes(sn(n.firstChild))}(t)},ta=t=>a3(t)&&(t==null?void 0:t.data)==="block",a3=t=>(t==null?void 0:t.nodeType)===Node.COMMENT_NODE,na=function(t){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t)return Bl(t)?t.data===Mh?!e||t.parentNode.dataset.trixCursorTarget===e:void 0:na(t.firstChild)},Gs=t=>dA(t,Ks),hA=t=>Bl(t)&&(t==null?void 0:t.data)==="",Bl=t=>(t==null?void 0:t.nodeType)===Node.TEXT_NODE,mx={level2Enabled:!0,getLevel(){return this.level2Enabled&&$c.supportsInputEvents?2:0},pickFiles(t){const e=we("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{t(e.files),gs(e)}),gs(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var Vu={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},ao={bold:{tagName:"strong",inheritable:!0,parser(t){const e=window.getComputedStyle(t);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:t=>window.getComputedStyle(t).fontStyle==="italic"},href:{groupTagName:"a",parser(t){const e="a:not(".concat(Ks,")"),n=t.closest(e);if(n)return n.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},fA={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(de.bold,'" tabindex="-1">').concat(de.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(de.italic,'" tabindex="-1">').concat(de.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(de.strike,'" tabindex="-1">').concat(de.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(de.link,'" tabindex="-1">').concat(de.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(de.heading1,'" tabindex="-1">').concat(de.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(de.quote,'" tabindex="-1">').concat(de.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(de.code,'" tabindex="-1">').concat(de.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(de.bullets,'" tabindex="-1">').concat(de.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(de.numbers,'" tabindex="-1">').concat(de.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(de.outdent,'" tabindex="-1">').concat(de.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(de.indent,'" tabindex="-1">').concat(de.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(de.attachFiles,'" tabindex="-1">').concat(de.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(de.undo,'" tabindex="-1">').concat(de.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(de.redo,'" tabindex="-1">').concat(de.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(de.urlPlaceholder,'" aria-label="').concat(de.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(de.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(de.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const Zp={interval:5e3};var Uc=Object.freeze({__proto__:null,attachments:dx,blockAttributes:an,browser:$c,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:aA,fileSize:lA,input:mx,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:de,parser:Vu,textAttributes:ao,toolbar:fA,undo:Zp});class yt{static proxyMethod(e){const{name:n,toMethod:r,toProperty:i,optional:s}=l3(e);this.prototype[n]=function(){let a,l;var c,u;return r?l=s?(c=this[r])===null||c===void 0?void 0:c.call(this):this[r]():i&&(l=this[i]),s?(a=(u=l)===null||u===void 0?void 0:u[n],a?R0.call(a,l,arguments):void 0):(a=l[n],R0.call(a,l,arguments))}}}const l3=function(t){const e=t.match(c3);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(t));const n={name:e[4]};return e[2]!=null?n.toMethod=e[1]:n.toProperty=e[1],e[3]!=null&&(n.optional=!0),n},{apply:R0}=Function.prototype,c3=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Kf,Gf,Qf;class vc extends yt{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e==null?void 0:e.toString())}static fromUCS2String(e){return new this(e,eg(e))}static fromCodepoints(e){return new this(tg(e),e)}constructor(e,n){super(...arguments),this.ucs2String=e,this.codepoints=n,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return tg(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return eg(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const u3=((Kf=Array.from)===null||Kf===void 0?void 0:Kf.call(Array,"").length)===1,d3=((Gf=" ".codePointAt)===null||Gf===void 0?void 0:Gf.call(" ",0))!=null,h3=((Qf=String.fromCodePoint)===null||Qf===void 0?void 0:Qf.call(String,32,128124))===" ";let eg,tg;eg=u3&&d3?t=>Array.from(t).map(e=>e.codePointAt(0)):function(t){const e=[];let n=0;const{length:r}=t;for(;n<r;){let i=t.charCodeAt(n++);if(55296<=i&&i<=56319&&n<r){const s=t.charCodeAt(n++);(64512&s)==56320?i=((1023&i)<<10)+(1023&s)+65536:n--}e.push(i)}return e},tg=h3?t=>String.fromCodePoint(...Array.from(t||[])):function(t){return(()=>{const e=[];return Array.from(t).forEach(n=>{let r="";n>65535&&(n-=65536,r+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),e.push(r+String.fromCharCode(n))}),e})().join("")};let f3=0;class xo extends yt{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++f3}hasSameConstructorAs(e){return this.constructor===(e==null?void 0:e.constructor)}isEqualTo(e){return this===e}inspect(){const e=[],n=this.contentsForInspection()||{};for(const r in n){const i=n[r];e.push("".concat(r,"=").concat(i))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return vc.box(this)}getCacheKey(){return this.id.toString()}}const lo=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},px=function(t){const e=t.slice(0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.splice(...r),e},m3=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,p3=function(){const t=we("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=we("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),n=we("form");n.appendChild(t),n.appendChild(e);const r=function(){try{return new FormData(n).has(e.dirName)}catch{return!1}}(),i=function(){try{return t.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return r?function(s){return e.value=s,new FormData(n).get(e.dirName)}:i?function(s){return t.value=s,t.matches(":dir(rtl)")?"rtl":"ltr"}:function(s){const a=s.trim().charAt(0);return m3.test(a)?"rtl":"ltr"}}();let Yf=null,Xf=null,Jf=null,vu=null;const ng=()=>(Yf||(Yf=v3().concat(g3())),Yf),ft=t=>an[t],g3=()=>(Xf||(Xf=Object.keys(an)),Xf),rg=t=>ao[t],v3=()=>(Jf||(Jf=Object.keys(ao)),Jf),mA=function(t,e){x3(t).textContent=e.replace(/%t/g,t)},x3=function(t){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase());const n=y3();return n&&e.setAttribute("nonce",n),document.head.insertBefore(e,document.head.firstChild),e},y3=function(){const t=T0("trix-csp-nonce")||T0("csp-nonce");if(t){const{nonce:e,content:n}=t;return e==""?n:e}},T0=t=>document.head.querySelector("meta[name=".concat(t,"]")),P0={"application/x-trix-feature-detection":"test"},pA=function(t){const e=t.getData("text/plain"),n=t.getData("text/html");if(!e||!n)return e==null?void 0:e.length;{const{body:r}=new DOMParser().parseFromString(n,"text/html");if(r.textContent===e)return!r.querySelector("*")}},gA=/Mac|^iP/.test(navigator.platform)?t=>t.metaKey:t=>t.ctrlKey,gx=t=>setTimeout(t,1),vA=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={};for(const n in t){const r=t[n];e[n]=r}return e},Qa=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0},Ue=function(t){if(t!=null)return Array.isArray(t)||(t=[t,t]),[D0(t[0]),D0(t[1]!=null?t[1]:t[0])]},ai=function(t){if(t==null)return;const[e,n]=Ue(t);return ig(e,n)},Fd=function(t,e){if(t==null||e==null)return;const[n,r]=Ue(t),[i,s]=Ue(e);return ig(n,i)&&ig(r,s)},D0=function(t){return typeof t=="number"?t:vA(t)},ig=function(t,e){return typeof t=="number"?t===e:Qa(t,e)};class xA extends yt{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(n=>n!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const co=new xA,yA=function(){const t=window.getSelection();if(t.rangeCount>0)return t},$l=function(){var t;const e=(t=yA())===null||t===void 0?void 0:t.getRangeAt(0);if(e&&!b3(e))return e},bA=function(t){const e=window.getSelection();return e.removeAllRanges(),e.addRange(t),co.update()},b3=t=>O0(t.startContainer)||O0(t.endContainer),O0=t=>!Object.getPrototypeOf(t),Nl=t=>t.replace(new RegExp("".concat(Mh),"g"),"").replace(new RegExp("".concat($i),"g")," "),vx=new RegExp("[^\\S".concat($i,"]")),xx=t=>t.replace(new RegExp("".concat(vx.source),"g")," ").replace(/\ {2,}/g," "),L0=function(t,e){if(t.isEqualTo(e))return["",""];const n=Zf(t,e),{length:r}=n.utf16String;let i;if(r){const{offset:s}=n,a=t.codepoints.slice(0,s).concat(t.codepoints.slice(s+r));i=Zf(e,vc.fromCodepoints(a))}else i=Zf(e,t);return[n.utf16String.toString(),i.utf16String.toString()]},Zf=function(t,e){let n=0,r=t.length,i=e.length;for(;n<r&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;r>n+1&&t.charAt(r-1).isEqualTo(e.charAt(i-1));)r--,i--;return{utf16String:t.slice(n,r),offset:n}};class Pn extends xo{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let n=ul(e[0]),r=n.getKeys();return e.slice(1).forEach(i=>{r=n.getKeysCommonToHash(ul(i)),n=n.slice(r)}),n}static box(e){return ul(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=Hu(e)}add(e,n){return this.merge(w3(e,n))}remove(e){return new Pn(Hu(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new Pn(S3(this.values,C3(e)))}slice(e){const n={};return Array.from(e).forEach(r=>{this.has(r)&&(n[r]=this.values[r])}),new Pn(n)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=ul(e),this.getKeys().filter(n=>this.values[n]===e.values[n])}isEqualTo(e){return lo(this.toArray(),ul(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const e=[];for(const n in this.values){const r=this.values[n];e.push(e.push(n,r))}this.array=e.slice(0)}return this.array}toObject(){return Hu(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const w3=function(t,e){const n={};return n[t]=e,n},S3=function(t,e){const n=Hu(t);for(const r in e){const i=e[r];n[r]=i}return n},Hu=function(t,e){const n={};return Object.keys(t).sort().forEach(r=>{r!==e&&(n[r]=t[r])}),n},ul=function(t){return t instanceof Pn?t:new Pn(t)},C3=function(t){return t instanceof Pn?t.values:t};class yx{static groupObjects(){let e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:r,asTree:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i&&r==null&&(r=0);const s=[];return Array.from(n).forEach(a=>{var l;if(e){var c,u,d;if((c=a.canBeGrouped)!==null&&c!==void 0&&c.call(a,r)&&(u=(d=e[e.length-1]).canBeGroupedWith)!==null&&u!==void 0&&u.call(d,a,r))return void e.push(a);s.push(new this(e,{depth:r,asTree:i})),e=null}(l=a.canBeGrouped)!==null&&l!==void 0&&l.call(a,r)?e=[a]:s.push(a)}),e&&s.push(new this(e,{depth:r,asTree:i})),s}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:n,asTree:r}=arguments.length>1?arguments[1]:void 0;this.objects=e,r&&(this.depth=n,this.objects=this.constructor.groupObjects(this.objects,{asTree:r,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const e=["objectGroup"];return Array.from(this.getObjects()).forEach(n=>{e.push(n.getCacheKey())}),e.join("/")}}class N3 extends yt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(n=>{const r=JSON.stringify(n);this.objects[r]==null&&(this.objects[r]=n)})}find(e){const n=JSON.stringify(e);return this.objects[n]}}class j3{constructor(e){this.reset(e)}add(e){const n=I0(e);this.elements[n]=e}remove(e){const n=I0(e),r=this.elements[n];if(r)return delete this.elements[n],r}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(n=>{this.add(n)}),e}}const I0=t=>t.dataset.trixStoreKey;class Bd extends yt{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,n)=>(this.performing=!0,this.perform((r,i)=>{this.succeeded=r,this.performing=!1,this.performed=!0,this.succeeded?e(i):n(i)})))),this.promise}perform(e){return e(!1)}release(){var e,n;(e=this.promise)===null||e===void 0||(n=e.cancel)===null||n===void 0||n.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}Bd.proxyMethod("getPromise().then"),Bd.proxyMethod("getPromise().catch");class yo extends yt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=n,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var n;return(n=this.findViewForObject(e))===null||n===void 0?void 0:n.invalidate()}findOrCreateCachedChildView(e,n,r){let i=this.getCachedViewForObject(n);return i?this.recordChildView(i):(i=this.createChildView(...arguments),this.cacheViewForObject(i,n)),i}createChildView(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n instanceof yx&&(r.viewClass=e,e=E3);const i=new e(n,r);return this.recordChildView(i)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(n=>{e.push(n),e=e.concat(n.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){const n=e==null?void 0:e.id;if(n)return this.rootView.element.querySelector("[data-trix-id='".concat(n,"']"))}findViewForObject(e){for(const n of this.getAllChildViews())if(n.object===e)return n}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var n;return(n=this.getViewCache())===null||n===void 0?void 0:n[e.getCacheKey()]}cacheViewForObject(e,n){const r=this.getViewCache();r&&(r[n.getCacheKey()]=e)}garbageCollectCachedViews(){const e=this.getViewCache();if(e){const n=this.getAllChildViews().concat(this).map(r=>r.object.getCacheKey());for(const r in e)n.includes(r)||delete e[r]}}}class E3 extends yo{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){const e=this.createContainerElement();return this.getChildViews().forEach(n=>{Array.from(n.getNodes()).forEach(r=>{e.appendChild(r)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:wA,setPrototypeOf:M0,isFrozen:A3,getPrototypeOf:_3,getOwnPropertyDescriptor:k3}=Object;let{freeze:cn,seal:Gn,create:SA}=Object,{apply:sg,construct:og}=typeof Reflect<"u"&&Reflect;cn||(cn=function(t){return t}),Gn||(Gn=function(t){return t}),sg||(sg=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t.apply(e,r)}),og||(og=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new t(...n)});const xu=un(Array.prototype.forEach),R3=un(Array.prototype.lastIndexOf),F0=un(Array.prototype.pop),dl=un(Array.prototype.push),T3=un(Array.prototype.splice),Ku=un(String.prototype.toLowerCase),em=un(String.prototype.toString),tm=un(String.prototype.match),hl=un(String.prototype.replace),P3=un(String.prototype.indexOf),D3=un(String.prototype.trim),nr=un(Object.prototype.hasOwnProperty),Xt=un(RegExp.prototype.test),fl=(B0=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return og(B0,e)});var B0;function un(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return sg(t,e,r)}}function Se(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ku;M0&&M0(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(A3(e)||(e[r]=s),i=s)}t[i]=!0}return t}function O3(t){for(let e=0;e<t.length;e++)nr(t,e)||(t[e]=null);return t}function Yr(t){const e=SA(null);for(const[n,r]of wA(t))nr(t,n)&&(Array.isArray(r)?e[n]=O3(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Yr(r):e[n]=r);return e}function ml(t,e){for(;t!==null;){const n=k3(t,e);if(n){if(n.get)return un(n.get);if(typeof n.value=="function")return un(n.value)}t=_3(t)}return function(){return null}}const $0=cn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),nm=cn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rm=cn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L3=cn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),im=cn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),I3=cn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U0=cn(["#text"]),z0=cn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sm=cn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),W0=cn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yu=cn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),M3=Gn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),F3=Gn(/<%[\w\W]*|[\w\W]*%>/gm),B3=Gn(/\$\{[\w\W]*/gm),$3=Gn(/^data-[\-\w.\u00B7-\uFFFF]+$/),U3=Gn(/^aria-[\-\w]+$/),CA=Gn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),z3=Gn(/^(?:\w+script|data):/i),W3=Gn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),NA=Gn(/^html$/i),q3=Gn(/^[a-z][.\w]*(-[.\w]+)+$/i);var q0=Object.freeze({__proto__:null,ARIA_ATTR:U3,ATTR_WHITESPACE:W3,CUSTOM_ELEMENT:q3,DATA_ATTR:$3,DOCTYPE_NAME:NA,ERB_EXPR:F3,IS_ALLOWED_URI:CA,IS_SCRIPT_OR_DATA:z3,MUSTACHE_EXPR:M3,TMPLIT_EXPR:B3});const V3=1,H3=3,K3=7,G3=8,Q3=9,Y3=function(){return typeof window>"u"?null:window};var xc=function t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Y3();const n=T=>t(T);if(n.version="3.2.7",n.removed=[],!e||!e.document||e.document.nodeType!==Q3||!e.Element)return n.isSupported=!1,n;let{document:r}=e;const i=r,s=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:d,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:x,DOMParser:S,trustedTypes:y}=e,v=u.prototype,w=ml(v,"cloneNode"),b=ml(v,"remove"),g=ml(v,"nextSibling"),m=ml(v,"childNodes"),p=ml(v,"parentNode");if(typeof l=="function"){const T=r.createElement("template");T.content&&T.content.ownerDocument&&(r=T.content.ownerDocument)}let C,j="";const{implementation:N,createNodeIterator:E,createDocumentFragment:_,getElementsByTagName:A}=r,{importNode:k}=i;let P={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported=typeof wA=="function"&&typeof p=="function"&&N&&N.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:$,TMPLIT_EXPR:X,DATA_ATTR:z,ARIA_ATTR:Q,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:G}=q0;let{IS_ALLOWED_URI:Z}=q0,V=null;const ke=Se({},[...$0,...nm,...rm,...im,...U0]);let ie=null;const He=Se({},[...z0,...sm,...W0,...yu]);let ne=Object.seal(SA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y=null,ge=null,Le=!0,ee=!0,be=!1,ue=!0,Me=!1,W=!0,oe=!1,De=!1,Je=!1,ot=!1,Fe=!1,je=!1,Ke=!0,Dt=!1,In=!0,Cr=!1,yi={},bi=null;const qr=Se({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vr=null;const wi=Se({},["audio","video","img","source","image","track"]);let wo=null;const Qn=Se({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Cs="http://www.w3.org/1998/Math/MathML",So="http://www.w3.org/2000/svg",Yn="http://www.w3.org/1999/xhtml";let Nr=Yn,Co=!1,Xa=null;const zc=Se({},[Cs,So,Yn],em);let No=Se({},["mi","mo","mn","ms","mtext"]),jo=Se({},["annotation-xml"]);const Gh=Se({},["title","style","font","a","script"]);let at=null;const Gt=["application/xhtml+xml","text/html"];let Oe=null,Qt=null;const mn=r.createElement("form"),Bt=function(T){return T instanceof RegExp||T instanceof Function},pn=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Qt||Qt!==T){if(T&&typeof T=="object"||(T={}),T=Yr(T),at=Gt.indexOf(T.PARSER_MEDIA_TYPE)===-1?"text/html":T.PARSER_MEDIA_TYPE,Oe=at==="application/xhtml+xml"?em:Ku,V=nr(T,"ALLOWED_TAGS")?Se({},T.ALLOWED_TAGS,Oe):ke,ie=nr(T,"ALLOWED_ATTR")?Se({},T.ALLOWED_ATTR,Oe):He,Xa=nr(T,"ALLOWED_NAMESPACES")?Se({},T.ALLOWED_NAMESPACES,em):zc,wo=nr(T,"ADD_URI_SAFE_ATTR")?Se(Yr(Qn),T.ADD_URI_SAFE_ATTR,Oe):Qn,Vr=nr(T,"ADD_DATA_URI_TAGS")?Se(Yr(wi),T.ADD_DATA_URI_TAGS,Oe):wi,bi=nr(T,"FORBID_CONTENTS")?Se({},T.FORBID_CONTENTS,Oe):qr,Y=nr(T,"FORBID_TAGS")?Se({},T.FORBID_TAGS,Oe):Yr({}),ge=nr(T,"FORBID_ATTR")?Se({},T.FORBID_ATTR,Oe):Yr({}),yi=!!nr(T,"USE_PROFILES")&&T.USE_PROFILES,Le=T.ALLOW_ARIA_ATTR!==!1,ee=T.ALLOW_DATA_ATTR!==!1,be=T.ALLOW_UNKNOWN_PROTOCOLS||!1,ue=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Me=T.SAFE_FOR_TEMPLATES||!1,W=T.SAFE_FOR_XML!==!1,oe=T.WHOLE_DOCUMENT||!1,ot=T.RETURN_DOM||!1,Fe=T.RETURN_DOM_FRAGMENT||!1,je=T.RETURN_TRUSTED_TYPE||!1,Je=T.FORCE_BODY||!1,Ke=T.SANITIZE_DOM!==!1,Dt=T.SANITIZE_NAMED_PROPS||!1,In=T.KEEP_CONTENT!==!1,Cr=T.IN_PLACE||!1,Z=T.ALLOWED_URI_REGEXP||CA,Nr=T.NAMESPACE||Yn,No=T.MATHML_TEXT_INTEGRATION_POINTS||No,jo=T.HTML_INTEGRATION_POINTS||jo,ne=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&Bt(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ne.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&Bt(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ne.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ne.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(ee=!1),Fe&&(ot=!0),yi&&(V=Se({},U0),ie=[],yi.html===!0&&(Se(V,$0),Se(ie,z0)),yi.svg===!0&&(Se(V,nm),Se(ie,sm),Se(ie,yu)),yi.svgFilters===!0&&(Se(V,rm),Se(ie,sm),Se(ie,yu)),yi.mathMl===!0&&(Se(V,im),Se(ie,W0),Se(ie,yu))),T.ADD_TAGS&&(V===ke&&(V=Yr(V)),Se(V,T.ADD_TAGS,Oe)),T.ADD_ATTR&&(ie===He&&(ie=Yr(ie)),Se(ie,T.ADD_ATTR,Oe)),T.ADD_URI_SAFE_ATTR&&Se(wo,T.ADD_URI_SAFE_ATTR,Oe),T.FORBID_CONTENTS&&(bi===qr&&(bi=Yr(bi)),Se(bi,T.FORBID_CONTENTS,Oe)),In&&(V["#text"]=!0),oe&&Se(V,["html","head","body"]),V.table&&(Se(V,["tbody"]),delete Y.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw fl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw fl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=T.TRUSTED_TYPES_POLICY,j=C.createHTML("")}else C===void 0&&(C=function(te,H){if(typeof te!="object"||typeof te.createPolicy!="function")return null;let Ee=null;const Ie="data-tt-policy-suffix";H&&H.hasAttribute(Ie)&&(Ee=H.getAttribute(Ie));const ve="dompurify"+(Ee?"#"+Ee:"");try{return te.createPolicy(ve,{createHTML:wt=>wt,createScriptURL:wt=>wt})}catch{return console.warn("TrustedTypes policy "+ve+" could not be created."),null}}(y,s)),C!==null&&typeof j=="string"&&(j=C.createHTML(""));cn&&cn(T),Qt=T}},Hr=Se({},[...nm,...rm,...L3]),vt=Se({},[...im,...I3]),bt=function(T){dl(n.removed,{element:T});try{p(T).removeChild(T)}catch{b(T)}},Et=function(T,te){try{dl(n.removed,{attribute:te.getAttributeNode(T),from:te})}catch{dl(n.removed,{attribute:null,from:te})}if(te.removeAttribute(T),T==="is")if(ot||Fe)try{bt(te)}catch{}else try{te.setAttribute(T,"")}catch{}},Mn=function(T){let te=null,H=null;if(Je)T="<remove></remove>"+T;else{const ve=tm(T,/^[\r\n\t ]+/);H=ve&&ve[0]}at==="application/xhtml+xml"&&Nr===Yn&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");const Ee=C?C.createHTML(T):T;if(Nr===Yn)try{te=new S().parseFromString(Ee,at)}catch{}if(!te||!te.documentElement){te=N.createDocument(Nr,"template",null);try{te.documentElement.innerHTML=Co?j:Ee}catch{}}const Ie=te.body||te.documentElement;return T&&H&&Ie.insertBefore(r.createTextNode(H),Ie.childNodes[0]||null),Nr===Yn?A.call(te,oe?"html":"body")[0]:oe?te.documentElement:Ie},Si=function(T){return E.call(T.ownerDocument||T,T,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Kr=function(T){return T instanceof x&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof f)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},Xn=function(T){return typeof c=="function"&&T instanceof c};function Yt(T,te,H){xu(T,Ee=>{Ee.call(n,te,H,Qt)})}const Eo=function(T){let te=null;if(Yt(P.beforeSanitizeElements,T,null),Kr(T))return bt(T),!0;const H=Oe(T.nodeName);if(Yt(P.uponSanitizeElement,T,{tagName:H,allowedTags:V}),W&&T.hasChildNodes()&&!Xn(T.firstElementChild)&&Xt(/<[/\w!]/g,T.innerHTML)&&Xt(/<[/\w!]/g,T.textContent)||T.nodeType===K3||W&&T.nodeType===G3&&Xt(/<[/\w]/g,T.data))return bt(T),!0;if(!V[H]||Y[H]){if(!Y[H]&&Tx(H)&&(ne.tagNameCheck instanceof RegExp&&Xt(ne.tagNameCheck,H)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(H)))return!1;if(In&&!bi[H]){const Ee=p(T)||T.parentNode,Ie=m(T)||T.childNodes;if(Ie&&Ee)for(let ve=Ie.length-1;ve>=0;--ve){const wt=w(Ie[ve],!0);wt.__removalCount=(T.__removalCount||0)+1,Ee.insertBefore(wt,g(T))}}return bt(T),!0}return T instanceof u&&!function(Ee){let Ie=p(Ee);Ie&&Ie.tagName||(Ie={namespaceURI:Nr,tagName:"template"});const ve=Ku(Ee.tagName),wt=Ku(Ie.tagName);return!!Xa[Ee.namespaceURI]&&(Ee.namespaceURI===So?Ie.namespaceURI===Yn?ve==="svg":Ie.namespaceURI===Cs?ve==="svg"&&(wt==="annotation-xml"||No[wt]):!!Hr[ve]:Ee.namespaceURI===Cs?Ie.namespaceURI===Yn?ve==="math":Ie.namespaceURI===So?ve==="math"&&jo[wt]:!!vt[ve]:Ee.namespaceURI===Yn?!(Ie.namespaceURI===So&&!jo[wt])&&!(Ie.namespaceURI===Cs&&!No[wt])&&!vt[ve]&&(Gh[ve]||!Hr[ve]):!(at!=="application/xhtml+xml"||!Xa[Ee.namespaceURI]))}(T)?(bt(T),!0):H!=="noscript"&&H!=="noembed"&&H!=="noframes"||!Xt(/<\/no(script|embed|frames)/i,T.innerHTML)?(Me&&T.nodeType===H3&&(te=T.textContent,xu([M,$,X],Ee=>{te=hl(te,Ee," ")}),T.textContent!==te&&(dl(n.removed,{element:T.cloneNode()}),T.textContent=te)),Yt(P.afterSanitizeElements,T,null),!1):(bt(T),!0)},Rx=function(T,te,H){if(Ke&&(te==="id"||te==="name")&&(H in r||H in mn))return!1;if(!(ee&&!ge[te]&&Xt(z,te))){if(!(Le&&Xt(Q,te))){if(!ie[te]||ge[te]){if(!(Tx(T)&&(ne.tagNameCheck instanceof RegExp&&Xt(ne.tagNameCheck,T)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(T))&&(ne.attributeNameCheck instanceof RegExp&&Xt(ne.attributeNameCheck,te)||ne.attributeNameCheck instanceof Function&&ne.attributeNameCheck(te,T))||te==="is"&&ne.allowCustomizedBuiltInElements&&(ne.tagNameCheck instanceof RegExp&&Xt(ne.tagNameCheck,H)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(H))))return!1}else if(!wo[te]){if(!Xt(Z,hl(H,L,""))){if((te!=="src"&&te!=="xlink:href"&&te!=="href"||T==="script"||P3(H,"data:")!==0||!Vr[T])&&!(be&&!Xt(O,hl(H,L,"")))){if(H)return!1}}}}}return!0},Tx=function(T){return T!=="annotation-xml"&&tm(T,G)},Px=function(T){Yt(P.beforeSanitizeAttributes,T,null);const{attributes:te}=T;if(!te||Kr(T))return;const H={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie,forceKeepAttr:void 0};let Ee=te.length;for(;Ee--;){const Ie=te[Ee],{name:ve,namespaceURI:wt,value:Ci}=Ie,Jn=Oe(ve),Qh=Ci;let Ot=ve==="value"?Qh:D3(Qh);if(H.attrName=Jn,H.attrValue=Ot,H.keepAttr=!0,H.forceKeepAttr=void 0,Yt(P.uponSanitizeAttribute,T,H),Ot=H.attrValue,!Dt||Jn!=="id"&&Jn!=="name"||(Et(ve,T),Ot="user-content-"+Ot),W&&Xt(/((--!?|])>)|<\/(style|title|textarea)/i,Ot)){Et(ve,T);continue}if(Jn==="attributename"&&tm(Ot,"href")){Et(ve,T);continue}if(H.forceKeepAttr)continue;if(!H.keepAttr){Et(ve,T);continue}if(!ue&&Xt(/\/>/i,Ot)){Et(ve,T);continue}Me&&xu([M,$,X],Ox=>{Ot=hl(Ot,Ox," ")});const Dx=Oe(T.nodeName);if(Rx(Dx,Jn,Ot)){if(C&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!wt)switch(y.getAttributeType(Dx,Jn)){case"TrustedHTML":Ot=C.createHTML(Ot);break;case"TrustedScriptURL":Ot=C.createScriptURL(Ot)}if(Ot!==Qh)try{wt?T.setAttributeNS(wt,ve,Ot):T.setAttribute(ve,Ot),Kr(T)?bt(T):F0(n.removed)}catch{Et(ve,T)}}else Et(ve,T)}Yt(P.afterSanitizeAttributes,T,null)},tk=function T(te){let H=null;const Ee=Si(te);for(Yt(P.beforeSanitizeShadowDOM,te,null);H=Ee.nextNode();)Yt(P.uponSanitizeShadowNode,H,null),Eo(H),Px(H),H.content instanceof a&&T(H.content);Yt(P.afterSanitizeShadowDOM,te,null)};return n.sanitize=function(T){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=null,Ee=null,Ie=null,ve=null;if(Co=!T,Co&&(T="<!-->"),typeof T!="string"&&!Xn(T)){if(typeof T.toString!="function")throw fl("toString is not a function");if(typeof(T=T.toString())!="string")throw fl("dirty is not a string, aborting")}if(!n.isSupported)return T;if(De||pn(te),n.removed=[],typeof T=="string"&&(Cr=!1),Cr){if(T.nodeName){const Jn=Oe(T.nodeName);if(!V[Jn]||Y[Jn])throw fl("root node is forbidden and cannot be sanitized in-place")}}else if(T instanceof c)H=Mn("<!---->"),Ee=H.ownerDocument.importNode(T,!0),Ee.nodeType===V3&&Ee.nodeName==="BODY"||Ee.nodeName==="HTML"?H=Ee:H.appendChild(Ee);else{if(!ot&&!Me&&!oe&&T.indexOf("<")===-1)return C&&je?C.createHTML(T):T;if(H=Mn(T),!H)return ot?null:je?j:""}H&&Je&&bt(H.firstChild);const wt=Si(Cr?T:H);for(;Ie=wt.nextNode();)Eo(Ie),Px(Ie),Ie.content instanceof a&&tk(Ie.content);if(Cr)return T;if(ot){if(Fe)for(ve=_.call(H.ownerDocument);H.firstChild;)ve.appendChild(H.firstChild);else ve=H;return(ie.shadowroot||ie.shadowrootmode)&&(ve=k.call(i,ve,!0)),ve}let Ci=oe?H.outerHTML:H.innerHTML;return oe&&V["!doctype"]&&H.ownerDocument&&H.ownerDocument.doctype&&H.ownerDocument.doctype.name&&Xt(NA,H.ownerDocument.doctype.name)&&(Ci="<!DOCTYPE "+H.ownerDocument.doctype.name+`>
`+Ci),Me&&xu([M,$,X],Jn=>{Ci=hl(Ci,Jn," ")}),C&&je?C.createHTML(Ci):Ci},n.setConfig=function(){pn(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),De=!0},n.clearConfig=function(){Qt=null,De=!1},n.isValidAttribute=function(T,te,H){Qt||pn({});const Ee=Oe(T),Ie=Oe(te);return Rx(Ee,Ie,H)},n.addHook=function(T,te){typeof te=="function"&&dl(P[T],te)},n.removeHook=function(T,te){if(te!==void 0){const H=R3(P[T],te);return H===-1?void 0:T3(P[T],H,1)[0]}return F0(P[T])},n.removeHooks=function(T){P[T]=[]},n.removeAllHooks=function(){P={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();xc.addHook("uponSanitizeAttribute",function(t,e){/^data-trix-/.test(e.attrName)&&(e.forceKeepAttr=!0)});const X3="style href src width height language class".split(" "),J3="javascript:".split(" "),Z3="script iframe form noscript".split(" ");class Fh extends yt{static setHTML(e,n,r){const i=new this(n,r).sanitize(),s=i.getHTML?i.getHTML():i.outerHTML;e.innerHTML=s}static sanitize(e,n){const r=new this(e,n);return r.sanitize(),r}constructor(e){let{allowedAttributes:n,forbiddenProtocols:r,forbiddenElements:i,purifyOptions:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=n||X3,this.forbiddenProtocols=r||J3,this.forbiddenElements=i||Z3,this.purifyOptions=s||{},this.body=eU(e)}sanitize(){this.sanitizeElements(),this.normalizeListElementNesting();const e=Object.assign({},aA,this.purifyOptions);return xc.setConfig(e),this.body=xc.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const e=Md(this.body),n=[];for(;e.nextNode();){const r=e.currentNode;switch(r.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(r)?n.push(r):this.sanitizeElement(r);break;case Node.COMMENT_NODE:n.push(r)}}return n.forEach(r=>gs(r)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(n=>{let{name:r}=n;this.allowedAttributes.includes(r)||r.indexOf("data-trix")===0||e.removeAttribute(r)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{const n=e.previousElementSibling;n&&sn(n)==="li"&&n.appendChild(e)}),this.body}elementIsRemovable(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(sn(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!Gs(e)}}const eU=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>");const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,Array.from(e.head.querySelectorAll("style")).forEach(n=>{e.body.appendChild(n)}),e.body},{css:Ai}=Uc;class bx extends yo{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e;const n=e=we({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),r=this.getHref();return r&&(e=we({tagName:"a",editable:!1,attributes:{href:r,tabindex:-1}}),n.appendChild(e)),this.attachment.hasContent()?Fh.setHTML(e,this.attachment.getContent()):this.createContentNodes().forEach(i=>{e.appendChild(i)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=we({tagName:"progress",attributes:{class:Ai.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),n.appendChild(this.progressElement)),[V0("left"),n,V0("right")]}createCaptionElement(){const e=we({tagName:"figcaption",className:Ai.attachmentCaption}),n=this.attachmentPiece.getCaption();if(n)e.classList.add("".concat(Ai.attachmentCaption,"--edited")),e.textContent=n;else{let r,i;const s=this.getCaptionConfig();if(s.name&&(r=this.attachment.getFilename()),s.size&&(i=this.attachment.getFormattedFilesize()),r){const a=we({tagName:"span",className:Ai.attachmentName,textContent:r});e.appendChild(a)}if(i){r&&e.appendChild(document.createTextNode(" "));const a=we({tagName:"span",className:Ai.attachmentSize,textContent:i});e.appendChild(a)}}return e}getClassName(){const e=[Ai.attachment,"".concat(Ai.attachment,"--").concat(this.attachment.getType())],n=this.attachment.getExtension();return n&&e.push("".concat(Ai.attachment,"--").concat(n)),e.join(" ")}getData(){const e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:n}=this.attachmentPiece;return n.isEmpty()||(e.trixAttributes=JSON.stringify(n)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!tU(this.attachment.getContent(),"a")){const e=this.attachment.getHref();if(e&&xc.isValidAttribute("a","href",e))return e}}getCaptionConfig(){var e;const n=this.attachment.getType(),r=vA((e=dx[n])===null||e===void 0?void 0:e.caption);return n==="file"&&(r.name=!0),r}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){const e=this.attachment.getUploadProgress(),n=this.findProgressElement();n&&(n.value=e)}}const V0=t=>we({tagName:"span",textContent:Mh,data:{trixCursorTarget:t,trixSerialize:!1}}),tU=function(t,e){const n=we("div");return Fh.setHTML(n,t||""),n.querySelector(e)};class jA extends bx{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=we({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",de.captionPlaceholder),e}refresh(e){var n;if(e||(e=(n=this.findElement())===null||n===void 0?void 0:n.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){const n=this.attachment.getURL(),r=this.attachment.getPreviewURL();if(e.src=r||n,r===n)e.removeAttribute("data-trix-serialized-attributes");else{const c=JSON.stringify({src:n});e.setAttribute("data-trix-serialized-attributes",c)}const i=this.attachment.getWidth(),s=this.attachment.getHeight(),a=this.attachment.getAttribute("alt");i!=null&&(e.width=i),s!=null&&(e.height=s),a!=null&&(e.alt=a);const l=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=l}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class EA extends yo{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes();const n=this.createElement();if(n){const r=function(i){for(;(s=i)!==null&&s!==void 0&&s.firstElementChild;){var s;i=i.firstElementChild}return i}(n);Array.from(e).forEach(i=>{r.appendChild(i)}),e=[n]}return e}createAttachmentNodes(){const e=this.attachment.isPreviewable()?jA:bx;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{const n=[],r=this.string.split(`
`);for(let i=0;i<r.length;i++){const s=r[i];if(i>0){const a=we("br");n.push(a)}if(s.length){const a=document.createTextNode(this.preserveSpaces(s));n.push(a)}}return n}}createElement(){let e,n,r;const i={};for(n in this.attributes){r=this.attributes[n];const a=rg(n);if(a){if(a.tagName){var s;const l=we(a.tagName);s?(s.appendChild(l),s=l):e=s=l}if(a.styleProperty&&(i[a.styleProperty]=r),a.style)for(n in a.style)r=a.style[n],i[n]=r}}if(Object.keys(i).length)for(n in e||(e=we("span")),i)r=i[n],e.style[n]=r;return e}createContainerElement(){for(const e in this.attributes){const n=this.attributes[e],r=rg(e);if(r&&r.groupTagName){const i={};return i[e]=n,we(r.groupTagName,i)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,$i)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat($i," $2")).replace(/\ {2}/g,"".concat($i," ")).replace(/\ {2}/g," ".concat($i)),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,$i)),e}}class AA extends yo{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const e=[],n=yx.groupObjects(this.getPieces()),r=n.length-1;for(let s=0;s<n.length;s++){const a=n[s],l={};s===0&&(l.isFirst=!0),s===r&&(l.isLast=!0),nU(i)&&(l.followsWhitespace=!0);const c=this.findOrCreateCachedChildView(EA,a,{textConfig:this.textConfig,context:l});e.push(...Array.from(c.getNodes()||[]));var i=a}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}}const nU=t=>/\s$/.test(t==null?void 0:t.toString()),{css:H0}=Uc;class _A extends yo{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const e=[document.createComment("block")];if(this.block.isEmpty())e.push(we("br"));else{var n;const r=(n=ft(this.block.getLastAttribute()))===null||n===void 0?void 0:n.text,i=this.findOrCreateCachedChildView(AA,this.block.text,{textConfig:r});e.push(...Array.from(i.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(we("br"))}if(this.attributes.length)return e;{let r;const{tagName:i}=an.default;this.block.isRTL()&&(r={dir:"rtl"});const s=we({tagName:i,attributes:r});return e.forEach(a=>s.appendChild(a)),[s]}}createContainerElement(e){const n={};let r;const i=this.attributes[e],{tagName:s,htmlAttributes:a=[]}=ft(i);if(e===0&&this.block.isRTL()&&Object.assign(n,{dir:"rtl"}),i==="attachmentGallery"){const l=this.block.getBlockBreakPosition();r="".concat(H0.attachmentGallery," ").concat(H0.attachmentGallery,"--").concat(l)}return Object.entries(this.block.htmlAttributes).forEach(l=>{let[c,u]=l;a.includes(c)&&(n[c]=u)}),we({tagName:s,className:r,attributes:n})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class Bh extends yo{static render(e){const n=we("div"),r=new this(e,{element:n});return r.render(),r.sync(),n}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new j3,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=we("div"),!this.document.isEmpty()){const e=yx.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(n=>{const r=this.findOrCreateCachedChildView(_A,n);Array.from(r.getNodes()).map(i=>this.shadowElement.appendChild(i))})}}isSynced(){return rU(this.shadowElement,this.element)}sync(){const e=uA("trix-before-render",{cancelable:!1,attributes:{render:(r,i)=>{for(;r.lastChild;)r.removeChild(r.lastChild);r.appendChild(i)}}});this.element.dispatchEvent(e);const n=this.createDocumentFragmentForSync();return e.render(this.element,n),this.didSync()}didSync(){return this.elementStore.reset(K0(this.element)),gx(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(n=>{e.appendChild(n.cloneNode(!0))}),Array.from(K0(e)).forEach(n=>{const r=this.elementStore.remove(n);r&&n.parentNode.replaceChild(r,n)}),e}}const K0=t=>t.querySelectorAll("[data-trix-store-key]"),rU=(t,e)=>G0(t.innerHTML)===G0(e.innerHTML),G0=t=>t.replace(/&nbsp;/g," ");function iU(t){var e=function(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return typeof e=="symbol"?e:String(e)}function Ht(t,e,n){return(e=iU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Re(t,e){return sU(t,kA(t,e,"get"))}function Ul(t,e,n){return oU(t,kA(t,e,"set"),n),n}function kA(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function sU(t,e){return e.get?e.get.call(t):e.value}function oU(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function bu(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function RA(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ra(t,e,n){RA(t,e),e.set(t,n)}class bo extends xo{static registerType(e,n){n.type=e,this.types[e]=n}static fromJSON(e){const n=this.types[e.type];if(n)return n.fromJSON(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Pn.box(n)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}}Ht(bo,"types",{});class TA extends Bd{constructor(e){super(...arguments),this.url=e}perform(e){const n=new Image;n.onload=()=>(n.width=this.width=n.naturalWidth,n.height=this.height=n.naturalHeight,e(!0,n)),n.onerror=()=>e(!1),n.src=this.url}}class Ya extends xo{static attachmentForFile(e){const n=new this(this.attributesForFile(e));return n.setFile(e),n}static attributesForFile(e){return new Pn({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=Pn.box(e),this.didChangeAttributes()}setAttribute(e,n){this.setAttributes({[e]:n})}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.attributes.merge(e);var r,i,s,a;if(!this.attributes.isEqualTo(n))return this.attributes=n,this.didChangeAttributes(),(r=this.previewDelegate)===null||r===void 0||(i=r.attachmentDidChangeAttributes)===null||i===void 0||i.call(r,this),(s=this.delegate)===null||s===void 0||(a=s.attachmentDidChangeAttributes)===null||a===void 0?void 0:a.call(s,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Ya.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const e=this.attributes.get("filesize");return typeof e=="number"?lA.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var n,r;if(this.uploadProgress!==e)return this.uploadProgress=e,(n=this.uploadProgressDelegate)===null||n===void 0||(r=n.attachmentDidChangeUploadProgress)===null||r===void 0?void 0:r.call(n,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var n,r,i,s;if(e!==this.getPreviewURL())return this.previewURL=e,(n=this.previewDelegate)===null||n===void 0||(r=n.attachmentDidChangeAttributes)===null||r===void 0||r.call(n,this),(i=this.delegate)===null||i===void 0||(s=i.attachmentDidChangePreviewURL)===null||s===void 0?void 0:s.call(i,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,n){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new TA(e).then(r=>{let{width:i,height:s}=r;return this.getWidth()&&this.getHeight()||this.setAttributes({width:i,height:s}),this.preloadingURL=null,this.setPreviewURL(e),n==null?void 0:n()}).catch(()=>(this.preloadingURL=null,n==null?void 0:n()))}}Ht(Ya,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class _a extends bo{static fromJSON(e){return new this(Ya.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){const e=this.attributes.slice(_a.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var n;return super.isEqualTo(e)&&this.attachment.id===(e==null||(n=e.attachment)===null||n===void 0?void 0:n.id)}toString(){return""}toJSON(){const e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}Ht(_a,"permittedAttributes",["caption","presentation"]),bo.registerType("attachment",_a);class wx extends bo{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(n=>n.replace(/\r\n?/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let n,r;return e===0?(n=null,r=this):e===this.length?(n=this,r=null):(n=new this.constructor(this.string.slice(0,e),this.attributes),r=new this.constructor(this.string.slice(e),this.attributes)),[n,r]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+""),JSON.stringify(e.toString())}}bo.registerType("string",wx);class $d extends xo{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new this.constructor(px(this.objects,...n))}eachObject(e){return this.objects.map((n,r)=>e(n,r))}insertObjectAtIndex(e,n){return this.splice(n,0,e)}insertSplittableListAtIndex(e,n){return this.splice(n,0,...e.objects)}insertSplittableListAtPosition(e,n){const[r,i]=this.splitObjectAtPosition(n);return new this.constructor(r).insertSplittableListAtIndex(e,i)}editObjectAtIndex(e,n){return this.replaceObjectAtIndex(n(this.objects[e]),e)}replaceObjectAtIndex(e,n){return this.splice(n,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){const[n,r,i]=this.splitObjectsAtRange(e);return new this.constructor(n.slice(r,i+1))}selectSplittableList(e){const n=this.objects.filter(r=>e(r));return new this.constructor(n)}removeObjectsInRange(e){const[n,r,i]=this.splitObjectsAtRange(e);return new this.constructor(n).splice(r,i-r+1)}transformObjectsInRange(e,n){const[r,i,s]=this.splitObjectsAtRange(e),a=r.map((l,c)=>i<=c&&c<=s?n(l):l);return new this.constructor(a)}splitObjectsAtRange(e){let n,[r,i,s]=this.splitObjectAtPosition(lU(e));return[r,n]=new this.constructor(r).splitObjectAtPosition(cU(e)+s),[r,i,n-1]}getObjectAtPosition(e){const{index:n}=this.findIndexAndOffsetAtPosition(e);return this.objects[n]}splitObjectAtPosition(e){let n,r;const{index:i,offset:s}=this.findIndexAndOffsetAtPosition(e),a=this.objects.slice(0);if(i!=null)if(s===0)n=i,r=0;else{const l=this.getObjectAtIndex(i),[c,u]=l.splitAtOffset(s);a.splice(i,1,c,u),n=i+1,r=c.getLength()-s}else n=a.length,r=0;return[a,n,r]}consolidate(){const e=[];let n=this.objects[0];return this.objects.slice(1).forEach(r=>{var i,s;(i=(s=n).canBeConsolidatedWith)!==null&&i!==void 0&&i.call(s,r)?n=n.consolidateWith(r):(e.push(n),n=r)}),n&&e.push(n),new this.constructor(e)}consolidateFromIndexToIndex(e,n){const r=this.objects.slice(0).slice(e,n+1),i=new this.constructor(r).consolidate().toArray();return this.splice(e,r.length,...i)}findIndexAndOffsetAtPosition(e){let n,r=0;for(n=0;n<this.objects.length;n++){const i=r+this.objects[n].getLength();if(r<=e&&e<i)return{index:n,offset:e-r};r=i}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,n){let r=0;for(let i=0;i<this.objects.length;i++){const s=this.objects[i];if(i<e)r+=s.getLength();else if(i===e){r+=n;break}}return r}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||aU(this.objects,e==null?void 0:e.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}}const aU=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(t.length!==e.length)return!1;let n=!0;for(let r=0;r<t.length;r++){const i=t[r];n&&!i.isEqualTo(e[r])&&(n=!1)}return n},lU=t=>t[0],cU=t=>t[1];class cr extends xo{static textForAttachmentWithAttributes(e,n){return new this([new _a(e,n)])}static textForStringWithAttributes(e,n){return new this([new wx(e,n)])}static fromJSON(e){return new this(Array.from(e).map(n=>bo.fromJSON(n)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const n=e.filter(r=>!r.isEmpty());this.pieceList=new $d(n)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){const n=this.getPieces().map(r=>e.find(r)||r);return new this.constructor(n)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,n){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,n))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,n){return this.removeTextAtRange(n).insertTextAtPosition(e,n[0])}moveTextFromRangeToPosition(e,n){if(e[0]<=n&&n<=e[1])return;const r=this.getTextAtRange(e),i=r.getLength();return e[0]<n&&(n-=i),this.removeTextAtRange(e).insertTextAtPosition(r,n)}addAttributeAtRange(e,n,r){const i={};return i[e]=n,this.addAttributesAtRange(i,r)}addAttributesAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithoutAttribute(e)))}setAttributesAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAttributes(e)))}getAttributesAtPosition(e){var n;return((n=this.pieceList.getObjectAtPosition(e))===null||n===void 0?void 0:n.getAttributes())||{}}getCommonAttributes(){const e=Array.from(this.pieceList.toArray()).map(n=>n.getAttributes());return Pn.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,n){let r,i=r=n;const s=this.getLength();for(;i>0&&this.getCommonAttributesAtRange([i-1,r])[e];)i--;for(;r<s&&this.getCommonAttributesAtRange([n,r+1])[e];)r++;return[i,r]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){const n=this.getLength();return this.getStringAtRange([n-e.length,n])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let n=0;for(const i of this.pieceList.toArray()){var r;if(((r=i.attachment)===null||r===void 0?void 0:r.id)===e)return{attachment:i.attachment,position:n};n+=i.length}return{attachment:null,position:null}}getAttachmentById(e){const{attachment:n}=this.getAttachmentAndPositionById(e);return n}getRangeOfAttachment(e){const n=this.getAttachmentAndPositionById(e.id),r=n.position;if(e=n.attachment)return[r,r+1]}updateAttributesForAttachment(e,n){const r=this.getRangeOfAttachment(n);return r?this.addAttributesAtRange(e,r):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var n;return super.isEqualTo(e)||(e==null||(n=e.pieceList)===null||n===void 0?void 0:n.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const e=this.pieceList.selectSplittableList(n=>n.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return p3(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Or extends xo{static fromJSON(e){return new this(cr.fromJSON(e.text),e.attributes,e.htmlAttributes)}constructor(e,n,r){super(...arguments),this.text=uU(e||new cr),this.attributes=n||[],this.htmlAttributes=r||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e==null?void 0:e.text)&&lo(this.attributes,e==null?void 0:e.attributes)&&Qa(this.htmlAttributes,e==null?void 0:e.htmlAttributes)}copyWithText(e){return new Or(e,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new Or(this.text,e,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){const n=e.find(this.text);return n?this.copyWithText(n):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){const n=this.attributes.concat(Q0(e));return this.copyWithAttributes(n)}addHTMLAttribute(e,n){const r=Object.assign({},this.htmlAttributes,{[e]:n});return new Or(this.text,this.attributes,r)}removeAttribute(e){const{listAttribute:n}=ft(e),r=X0(X0(this.attributes,e),n);return this.copyWithAttributes(r)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return Y0(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return Y0(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>ft(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){const e=this.getLastNestableAttribute();if(e){const n=this.attributes.lastIndexOf(e),r=px(this.attributes,n+1,0,...Q0(e));return this.copyWithAttributes(r)}return this}getListItemAttributes(){return this.attributes.filter(e=>ft(e).listAttribute)}isListItem(){var e;return(e=ft(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=ft(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=ft(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,n){const r=this.toString();let i;switch(e){case"forward":i=r.indexOf(`
`,n);break;case"backward":i=r.slice(0,n).lastIndexOf(`
`)}if(i!==-1)return i}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){const n=cr.textForStringWithAttributes(`
`),r=this.getTextWithoutBlockBreak().appendText(n);return this.copyWithText(r.appendText(e.text))}splitAtOffset(e){let n,r;return e===0?(n=null,r=this):e===this.getLength()?(n=this,r=null):(n=this.copyWithText(this.text.getTextAtRange([0,e])),r=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[n,r]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return PA(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,n){const r=e.getAttributes(),i=r[n],s=this.attributes[n];return s===i&&!(ft(s).group===!1&&!(()=>{if(!vu){vu=[];for(const a in an){const{listAttribute:l}=an[a];l!=null&&vu.push(l)}}return vu})().includes(r[n+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}}const uU=function(t){return t=dU(t),t=fU(t)},dU=function(t){let e=!1;const n=t.getPieces();let r=n.slice(0,n.length-1);const i=n[n.length-1];return i?(r=r.map(s=>s.isBlockBreak()?(e=!0,mU(s)):s),e?new cr([...r,i]):t):t},hU=cr.textForStringWithAttributes(`
`,{blockBreak:!0}),fU=function(t){return PA(t)?t:t.appendText(hU)},PA=function(t){const e=t.getLength();return e===0?!1:t.getTextAtRange([e-1,e]).isBlockBreak()},mU=t=>t.copyWithoutAttribute("blockBreak"),Q0=function(t){const{listAttribute:e}=ft(t);return e?[e,t]:[t]},Y0=t=>t.slice(-1)[0],X0=function(t,e){const n=t.lastIndexOf(e);return n===-1?t:px(t,n,1)};class Wn extends xo{static fromJSON(e){return new this(Array.from(e).map(n=>Or.fromJSON(n)))}static fromString(e,n){const r=cr.textForStringWithAttributes(e,n);return new this([new Or(r)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new Or]),this.blockList=$d.box(e)}isEmpty(){const e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){const n=new N3(e.getObjects());return this.copyUsingObjectMap(n)}copyUsingObjectMap(e){const n=this.getBlocks().map(r=>e.find(r)||r.copyUsingObjectMap(e));return new this.constructor(n)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.getBlocks().map(r=>{const i=e.concat(r.getAttributes());return r.copyWithAttributes(i)});return new this.constructor(n)}replaceBlock(e,n){const r=this.blockList.indexOf(e);return r===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(n,r))}insertDocumentAtRange(e,n){const{blockList:r}=e;n=Ue(n);let[i]=n;const{index:s,offset:a}=this.locationFromPosition(i);let l=this;const c=this.getBlockAtPosition(i);return ai(n)&&c.isEmpty()&&!c.hasAttributes()?l=new this.constructor(l.blockList.removeObjectAtIndex(s)):c.getBlockBreakPosition()===a&&i++,l=l.removeTextAtRange(n),new this.constructor(l.blockList.insertSplittableListAtPosition(r,i))}mergeDocumentAtRange(e,n){let r,i;n=Ue(n);const[s]=n,a=this.locationFromPosition(s),l=this.getBlockAtIndex(a.index).getAttributes(),c=e.getBaseBlockAttributes(),u=l.slice(-c.length);if(lo(c,u)){const x=l.slice(0,-c.length);r=e.copyWithBaseBlockAttributes(x)}else r=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(l);const d=r.getBlockCount(),f=r.getBlockAtIndex(0);if(lo(l,f.getAttributes())){const x=f.getTextWithoutBlockBreak();if(i=this.insertTextAtRange(x,n),d>1){r=new this.constructor(r.getBlocks().slice(1));const S=s+x.getLength();i=i.insertDocumentAtRange(r,S)}}else i=this.insertDocumentAtRange(r,n);return i}insertTextAtRange(e,n){n=Ue(n);const[r]=n,{index:i,offset:s}=this.locationFromPosition(r),a=this.removeTextAtRange(n);return new this.constructor(a.blockList.editObjectAtIndex(i,l=>l.copyWithText(l.text.insertTextAtPosition(e,s))))}removeTextAtRange(e){let n;e=Ue(e);const[r,i]=e;if(ai(e))return this;const[s,a]=Array.from(this.locationRangeFromRange(e)),l=s.index,c=s.offset,u=this.getBlockAtIndex(l),d=a.index,f=a.offset,x=this.getBlockAtIndex(d);if(i-r==1&&u.getBlockBreakPosition()===c&&x.getBlockBreakPosition()!==f&&x.text.getStringAtPosition(f)===`
`)n=this.blockList.editObjectAtIndex(d,S=>S.copyWithText(S.text.removeTextAtRange([f,f+1])));else{let S;const y=u.text.getTextAtRange([0,c]),v=x.text.getTextAtRange([f,x.getLength()]),w=y.appendText(v);S=l!==d&&c===0&&u.getAttributeLevel()>=x.getAttributeLevel()?x.copyWithText(w):u.copyWithText(w);const b=d+1-l;n=this.blockList.splice(l,b,S)}return new this.constructor(n)}moveTextFromRangeToPosition(e,n){let r;e=Ue(e);const[i,s]=e;if(i<=n&&n<=s)return this;let a=this.getDocumentAtRange(e),l=this.removeTextAtRange(e);const c=i<n;c&&(n-=a.getLength());const[u,...d]=a.getBlocks();return d.length===0?(r=u.getTextWithoutBlockBreak(),c&&(n+=1)):r=u.text,l=l.insertTextAtRange(r,n),d.length===0?l:(a=new this.constructor(d),n+=r.getLength(),l.insertDocumentAtRange(a,n))}addAttributeAtRange(e,n,r){let{blockList:i}=this;return this.eachBlockAtRange(r,(s,a,l)=>i=i.editObjectAtIndex(l,function(){return ft(e)?s.addAttribute(e,n):a[0]===a[1]?s:s.copyWithText(s.text.addAttributeAtRange(e,n,a))})),new this.constructor(i)}addAttribute(e,n){let{blockList:r}=this;return this.eachBlock((i,s)=>r=r.editObjectAtIndex(s,()=>i.addAttribute(e,n))),new this.constructor(r)}removeAttributeAtRange(e,n){let{blockList:r}=this;return this.eachBlockAtRange(n,function(i,s,a){ft(e)?r=r.editObjectAtIndex(a,()=>i.removeAttribute(e)):s[0]!==s[1]&&(r=r.editObjectAtIndex(a,()=>i.copyWithText(i.text.removeAttributeAtRange(e,s))))}),new this.constructor(r)}updateAttributesForAttachment(e,n){const r=this.getRangeOfAttachment(n),[i]=Array.from(r),{index:s}=this.locationFromPosition(i),a=this.getTextAtIndex(s);return new this.constructor(this.blockList.editObjectAtIndex(s,l=>l.copyWithText(a.updateAttributesForAttachment(e,n))))}removeAttributeForAttachment(e,n){const r=this.getRangeOfAttachment(n);return this.removeAttributeAtRange(e,r)}setHTMLAttributeAtPosition(e,n,r){const i=this.getBlockAtPosition(e),s=i.addHTMLAttribute(n,r);return this.replaceBlock(i,s)}insertBlockBreakAtRange(e){let n;e=Ue(e);const[r]=e,{offset:i}=this.locationFromPosition(r),s=this.removeTextAtRange(e);return i===0&&(n=[new Or]),new this.constructor(s.blockList.insertSplittableListAtPosition(new $d(n),r))}applyBlockAttributeAtRange(e,n,r){const i=this.expandRangeToLineBreaksAndSplitBlocks(r);let s=i.document;r=i.range;const a=ft(e);if(a.listAttribute){s=s.removeLastListAttributeAtRange(r,{exceptAttributeName:e});const l=s.convertLineBreaksToBlockBreaksInRange(r);s=l.document,r=l.range}else s=a.exclusive?s.removeBlockAttributesAtRange(r):a.terminal?s.removeLastTerminalAttributeAtRange(r):s.consolidateBlocksAtRange(r);return s.addAttributeAtRange(e,n,r)}removeLastListAttributeAtRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:r}=this;return this.eachBlockAtRange(e,function(i,s,a){const l=i.getLastAttribute();l&&ft(l).listAttribute&&l!==n.exceptAttributeName&&(r=r.editObjectAtIndex(a,()=>i.removeAttribute(l)))}),new this.constructor(r)}removeLastTerminalAttributeAtRange(e){let{blockList:n}=this;return this.eachBlockAtRange(e,function(r,i,s){const a=r.getLastAttribute();a&&ft(a).terminal&&(n=n.editObjectAtIndex(s,()=>r.removeAttribute(a)))}),new this.constructor(n)}removeBlockAttributesAtRange(e){let{blockList:n}=this;return this.eachBlockAtRange(e,function(r,i,s){r.hasAttributes()&&(n=n.editObjectAtIndex(s,()=>r.copyWithoutAttributes()))}),new this.constructor(n)}expandRangeToLineBreaksAndSplitBlocks(e){let n;e=Ue(e);let[r,i]=e;const s=this.locationFromPosition(r),a=this.locationFromPosition(i);let l=this;const c=l.getBlockAtIndex(s.index);if(s.offset=c.findLineBreakInDirectionFromPosition("backward",s.offset),s.offset!=null&&(n=l.positionFromLocation(s),l=l.insertBlockBreakAtRange([n,n+1]),a.index+=1,a.offset-=l.getBlockAtIndex(s.index).getLength(),s.index+=1),s.offset=0,a.offset===0&&a.index>s.index)a.index-=1,a.offset=l.getBlockAtIndex(a.index).getBlockBreakPosition();else{const u=l.getBlockAtIndex(a.index);u.text.getStringAtRange([a.offset-1,a.offset])===`
`?a.offset-=1:a.offset=u.findLineBreakInDirectionFromPosition("forward",a.offset),a.offset!==u.getBlockBreakPosition()&&(n=l.positionFromLocation(a),l=l.insertBlockBreakAtRange([n,n+1]))}return r=l.positionFromLocation(s),i=l.positionFromLocation(a),{document:l,range:e=Ue([r,i])}}convertLineBreaksToBlockBreaksInRange(e){e=Ue(e);let[n]=e;const r=this.getStringAtRange(e).slice(0,-1);let i=this;return r.replace(/.*?\n/g,function(s){n+=s.length,i=i.insertBlockBreakAtRange([n-1,n])}),{document:i,range:e}}consolidateBlocksAtRange(e){e=Ue(e);const[n,r]=e,i=this.locationFromPosition(n).index,s=this.locationFromPosition(r).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(i,s))}getDocumentAtRange(e){e=Ue(e);const n=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(n)}getStringAtRange(e){let n;const r=e=Ue(e);return r[r.length-1]!==this.getLength()&&(n=-1),this.getDocumentAtRange(e).toString().slice(0,n)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){const{index:n}=this.locationFromPosition(e);return this.getBlockAtIndex(n)}getTextAtIndex(e){var n;return(n=this.getBlockAtIndex(e))===null||n===void 0?void 0:n.text}getTextAtPosition(e){const{index:n}=this.locationFromPosition(e);return this.getTextAtIndex(n)}getPieceAtPosition(e){const{index:n,offset:r}=this.locationFromPosition(e);return this.getTextAtIndex(n).getPieceAtPosition(r)}getCharacterAtPosition(e){const{index:n,offset:r}=this.locationFromPosition(e);return this.getTextAtIndex(n).getStringAtRange([r,r+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,n){let r,i;e=Ue(e);const[s,a]=e,l=this.locationFromPosition(s),c=this.locationFromPosition(a);if(l.index===c.index)return r=this.getBlockAtIndex(l.index),i=[l.offset,c.offset],n(r,i,l.index);for(let u=l.index;u<=c.index;u++)if(r=this.getBlockAtIndex(u),r){switch(u){case l.index:i=[l.offset,r.text.getLength()];break;case c.index:i=[0,c.offset];break;default:i=[0,r.text.getLength()]}n(r,i,u)}}getCommonAttributesAtRange(e){e=Ue(e);const[n]=e;if(ai(e))return this.getCommonAttributesAtPosition(n);{const r=[],i=[];return this.eachBlockAtRange(e,function(s,a){if(a[0]!==a[1])return r.push(s.text.getCommonAttributesAtRange(a)),i.push(J0(s))}),Pn.fromCommonAttributesOfObjects(r).merge(Pn.fromCommonAttributesOfObjects(i)).toObject()}}getCommonAttributesAtPosition(e){let n,r;const{index:i,offset:s}=this.locationFromPosition(e),a=this.getBlockAtIndex(i);if(!a)return{};const l=J0(a),c=a.text.getAttributesAtPosition(s),u=a.text.getAttributesAtPosition(s-1),d=Object.keys(ao).filter(f=>ao[f].inheritable);for(n in u)r=u[n],(r===c[n]||d.includes(n))&&(l[n]=r);return l}getRangeOfCommonAttributeAtPosition(e,n){const{index:r,offset:i}=this.locationFromPosition(n),s=this.getTextAtIndex(r),[a,l]=Array.from(s.getExpandedRangeForAttributeAtOffset(e,i)),c=this.positionFromLocation({index:r,offset:a}),u=this.positionFromLocation({index:r,offset:l});return Ue([c,u])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let n=1;n<this.getBlockCount();n++){const r=this.getBlockAtIndex(n).getAttributes(),i=Math.min(e.length,r.length);e=(()=>{const s=[];for(let a=0;a<i&&r[a]===e[a];a++)s.push(r[a]);return s})()}return e}getAttachmentById(e){for(const n of this.getAttachments())if(n.id===e)return n}getAttachmentPieces(){let e=[];return this.blockList.eachObject(n=>{let{text:r}=n;return e=e.concat(r.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let n=0;const r=this.blockList.toArray();for(let i=0;i<r.length;i++){const{text:s}=r[i],a=s.getRangeOfAttachment(e);if(a)return Ue([n+a[0],n+a[1]]);n+=s.getLength()}}getLocationRangeOfAttachment(e){const n=this.getRangeOfAttachment(e);return this.locationRangeFromRange(n)}getAttachmentPieceForAttachment(e){for(const n of this.getAttachmentPieces())if(n.attachment===e)return n}findRangesForBlockAttribute(e){let n=0;const r=[];return this.getBlocks().forEach(i=>{const s=i.getLength();i.hasAttribute(e)&&r.push([n,n+s]),n+=s}),r}findRangesForTextAttribute(e){let{withValue:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=0,i=[];const s=[];return this.getPieces().forEach(a=>{const l=a.getLength();(function(c){return n?c.getAttribute(e)===n:c.hasAttribute(e)})(a)&&(i[1]===r?i[1]=r+l:s.push(i=[r,r+l])),r+=l}),s}locationFromPosition(e){const n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(n.index!=null)return n;{const r=this.getBlocks();return{index:r.length-1,offset:r[r.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return Ue(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=Ue(e)))return;const[n,r]=Array.from(e),i=this.locationFromPosition(n),s=this.locationFromPosition(r);return Ue([i,s])}rangeFromLocationRange(e){let n;e=Ue(e);const r=this.positionFromLocation(e[0]);return ai(e)||(n=this.positionFromLocation(e[1])),Ue([r,n])}isEqualTo(e){return this.blockList.isEqualTo(e==null?void 0:e.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){const e=[];return Array.from(this.getTexts()).forEach(n=>{e.push(...Array.from(n.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const e=[];return this.blockList.eachObject(n=>e.push(n.copyWithText(n.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(e=>JSON.parse(e.text.toConsole())))}}const J0=function(t){const e={},n=t.getLastAttribute();return n&&(e[n]=!0),e},om=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:t=Nl(t),attributes:e,type:"string"}},Z0=(t,e)=>{try{return JSON.parse(t.getAttribute("data-trix-".concat(e)))}catch{return{}}};class yc extends yt{static parse(e,n){const r=new this(e,n);return r.parse(),r}constructor(e){let{referenceElement:n,purifyOptions:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=n,this.purifyOptions=r,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Wn.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),Fh.setHTML(this.containerElement,this.html,{purifyOptions:this.purifyOptions});const e=Md(this.containerElement,{usingFilter:gU});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=we({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return gs(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){const n=e.parentNode;if(n===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(n===this.containerElement||this.isBlockElement(n)){var r;const i=this.getBlockAttributes(n),s=this.getBlockHTMLAttributes(n);lo(i,(r=this.currentBlock)===null||r===void 0?void 0:r.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(i,n,s),this.currentBlockElement=n)}}appendBlockForElement(e){const n=this.isBlockElement(e),r=Os(this.currentBlockElement,e);if(n&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){const i=this.getBlockAttributes(e),s=this.getBlockHTMLAttributes(e);if(e.firstChild){if(r&&lo(i,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(i,e,s),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!r&&!n){const i=this.findParentBlockElement(e);if(i)return this.appendBlockForElement(i);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:n}=e;for(;n&&n!==this.containerElement;){if(this.isBlockElement(n)&&this.blockElements.includes(n))return n;n=n.parentElement}return null}processTextNode(e){let n=e.data;var r;return ew(e.parentNode)||(n=xx(n),DA((r=e.previousSibling)===null||r===void 0?void 0:r.textContent)&&(n=vU(n))),this.appendStringWithAttributes(n,this.getTextAttributes(e.parentNode))}processElement(e){let n;if(Gs(e)){if(n=Z0(e,"attachment"),Object.keys(n).length){const r=this.getTextAttributes(e);this.appendAttachmentWithAttributes(n,r),e.innerHTML=""}return this.processedElements.push(e)}switch(sn(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":n={url:e.getAttribute("src"),contentType:"image"};const r=(i=>{const s=i.getAttribute("width"),a=i.getAttribute("height"),l={};return s&&(l.width=parseInt(s,10)),a&&(l.height=parseInt(a,10)),l})(e);for(const i in r){const s=r[i];n[i]=s}return this.appendAttachmentWithAttributes(n,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(Vu.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(Vu.tableCellSeparator)}}appendBlockForAttributesWithElement(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(n);const i=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(e,r);return this.blocks.push(i),i}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,n){return this.appendPiece(om(e,n))}appendAttachmentWithAttributes(e,n){return this.appendPiece(function(r){return{attachment:r,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,n))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,n){const{text:r}=this.blocks[n],i=r[r.length-1];if((i==null?void 0:i.type)!=="string")return r.push(om(e));i.string+=e}prependStringToTextAtIndex(e,n){const{text:r}=this.blocks[n],i=r[0];if((i==null?void 0:i.type)!=="string")return r.unshift(om(e));i.string=e+i.string}getTextAttributes(e){let n;const r={};for(const i in ao){const s=ao[i];if(s.tagName&&ps(e,{matchingSelector:s.tagName,untilNode:this.containerElement}))r[i]=!0;else if(s.parser){if(n=s.parser(e),n){let a=!1;for(const l of this.findBlockElementAncestors(e))if(s.parser(l)===n){a=!0;break}a||(r[i]=n)}}else s.styleProperty&&(n=e.style[s.styleProperty],n&&(r[i]=n))}if(Gs(e)){const i=Z0(e,"attributes");for(const s in i)n=i[s],r[s]=n}return r}getBlockAttributes(e){const n=[];for(;e&&e!==this.containerElement;){for(const i in an){const s=an[i];var r;s.parse!==!1&&sn(e)===s.tagName&&((r=s.test)!==null&&r!==void 0&&r.call(s,e)||!s.test)&&(n.push(i),s.listAttribute&&n.push(s.listAttribute))}e=e.parentNode}return n.reverse()}getBlockHTMLAttributes(e){const n={},r=Object.values(an).find(i=>i.tagName===sn(e));return((r==null?void 0:r.htmlAttributes)||[]).forEach(i=>{e.hasAttribute(i)&&(n[i]=e.getAttribute(i))}),n}findBlockElementAncestors(e){const n=[];for(;e&&e!==this.containerElement;){const r=sn(e);Fl().includes(r)&&n.push(e),e=e.parentNode}return n}isBlockElement(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE&&!Gs(e)&&!ps(e,{matchingSelector:"td",untilNode:this.containerElement}))return Fl().includes(sn(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if((e==null?void 0:e.nodeType)!==Node.TEXT_NODE||!xU(e.data))return;const{parentNode:n,previousSibling:r,nextSibling:i}=e;return pU(n.previousSibling)&&!this.isBlockElement(n.previousSibling)||ew(n)?void 0:!r||this.isBlockElement(r)||!i||this.isBlockElement(i)}isExtraBR(e){return sn(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(Vu.removeBlankTableCells){var n;const r=(n=e.previousSibling)===null||n===void 0?void 0:n.textContent;return r&&/\S/.test(r)}return e.previousSibling}translateBlockElementMarginsToNewlines(){const e=this.getMarginOfDefaultBlockElement();for(let n=0;n<this.blocks.length;n++){const r=this.getMarginOfBlockElementAtIndex(n);r&&(r.top>2*e.top&&this.prependStringToTextAtIndex(`
`,n),r.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,n))}}getMarginOfBlockElementAtIndex(e){const n=this.blockElements[e];if(n&&n.textContent&&!Fl().includes(sn(n))&&!this.processedElements.includes(n))return tw(n)}getMarginOfDefaultBlockElement(){const e=we(an.default.tagName);return this.containerElement.appendChild(e),tw(e)}}const ew=function(t){const{whiteSpace:e}=window.getComputedStyle(t);return["pre","pre-wrap","pre-line"].includes(e)},pU=t=>t&&!DA(t.textContent),tw=function(t){const e=window.getComputedStyle(t);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},gU=function(t){return sn(t)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},vU=t=>t.replace(new RegExp("^".concat(vx.source,"+")),""),xU=t=>new RegExp("^".concat(vx.source,"*$")).test(t),DA=t=>/\s$/.test(t),yU=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],ag="data-trix-serialized-attributes",bU="[".concat(ag,"]"),wU=new RegExp("<!--block-->","g"),SU={"application/json":function(t){let e;if(t instanceof Wn)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=yc.parse(t.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(t){let e;if(t instanceof Wn)e=Bh.render(t);else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=t.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(n=>{gs(n)}),yU.forEach(n=>{Array.from(e.querySelectorAll("[".concat(n,"]"))).forEach(r=>{r.removeAttribute(n)})}),Array.from(e.querySelectorAll(bU)).forEach(n=>{try{const r=JSON.parse(n.getAttribute(ag));n.removeAttribute(ag);for(const i in r){const s=r[i];n.setAttribute(i,s)}}catch{}}),e.innerHTML.replace(wU,"")}};var CU=Object.freeze({__proto__:null});class tt extends yt{constructor(e,n){super(...arguments),this.attachmentManager=e,this.attachment=n,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}tt.proxyMethod("attachment.getAttribute"),tt.proxyMethod("attachment.hasAttribute"),tt.proxyMethod("attachment.setAttribute"),tt.proxyMethod("attachment.getAttributes"),tt.proxyMethod("attachment.setAttributes"),tt.proxyMethod("attachment.isPending"),tt.proxyMethod("attachment.isPreviewable"),tt.proxyMethod("attachment.getURL"),tt.proxyMethod("attachment.getPreviewURL"),tt.proxyMethod("attachment.setPreviewURL"),tt.proxyMethod("attachment.getHref"),tt.proxyMethod("attachment.getFilename"),tt.proxyMethod("attachment.getFilesize"),tt.proxyMethod("attachment.getFormattedFilesize"),tt.proxyMethod("attachment.getExtension"),tt.proxyMethod("attachment.getContentType"),tt.proxyMethod("attachment.getFile"),tt.proxyMethod("attachment.setFile"),tt.proxyMethod("attachment.releaseFile"),tt.proxyMethod("attachment.getUploadProgress"),tt.proxyMethod("attachment.setUploadProgress");class OA extends yt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(n=>{this.manageAttachment(n)})}getAttachments(){const e=[];for(const n in this.managedAttachments){const r=this.managedAttachments[n];e.push(r)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new tt(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var n,r;if(this.attachmentIsManaged(e))return(n=this.delegate)===null||n===void 0||(r=n.attachmentManagerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,e)}unmanageAttachment(e){const n=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],n}}class LA{constructor(e){this.composition=e,this.document=this.composition.document;const n=this.composition.getSelectedRange();this.startPosition=n[0],this.endPosition=n[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Mi extends yt{constructor(){super(...arguments),this.document=new Wn,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var n,r;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeDocument)===null||r===void 0?void 0:r.call(n,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var n,r,i,s;let{document:a,selectedRange:l}=e;return(n=this.delegate)===null||n===void 0||(r=n.compositionWillLoadSnapshot)===null||r===void 0||r.call(n),this.setDocument(a??new Wn),this.setSelection(l??[0,0]),(i=this.delegate)===null||i===void 0||(s=i.compositionDidLoadSnapshot)===null||s===void 0?void 0:s.call(i)}insertText(e){let{updatePosition:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const r=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,r));const i=r[0],s=i+e.getLength();return n&&this.setSelection(s),this.notifyDelegateOfInsertionAtRange([i,s])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Or;const n=new Wn([e]);return this.insertDocument(n)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Wn;const n=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,n));const r=n[0],i=r+e.getLength();return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([r,i])}insertString(e,n){const r=this.getCurrentTextAttributes(),i=cr.textForStringWithAttributes(e,r);return this.insertText(i,n)}insertBlockBreak(){const e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));const n=e[0],r=n+1;return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}insertLineBreak(){const e=new LA(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){const n=new Wn([e.block.copyWithoutText()]);return this.insertDocument(n)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){const n=yc.parse(e,{purifyOptions:{SAFE_FOR_XML:!0}}).getDocument(),r=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(n,r));const i=r[0],s=i+n.getLength()-1;return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([i,s])}replaceHTML(e){const n=yc.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),r=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(r);return this.setDocument(n),this.setSelection(i)}insertFile(e){return this.insertFiles([e])}insertFiles(e){const n=[];return Array.from(e).forEach(r=>{var i;if((i=this.delegate)!==null&&i!==void 0&&i.compositionShouldAcceptFile(r)){const s=Ya.attachmentForFile(r);n.push(s)}}),this.insertAttachments(n)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let n=new cr;return Array.from(e).forEach(r=>{var i;const s=r.getType(),a=(i=dx[s])===null||i===void 0?void 0:i.presentation,l=this.getCurrentTextAttributes();a&&(l.presentation=a);const c=cr.textForAttachmentWithAttributes(r,l);n=n.appendText(c)}),this.insertText(n)}shouldManageDeletingInDirection(e){const n=this.getLocationRange();if(ai(n)){if(e==="backward"&&n[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(n[0].index!==n[1].index)return!0;return!1}deleteInDirection(e){let n,r,i,{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getLocationRange();let l=this.getSelectedRange();const c=ai(l);if(c?r=e==="backward"&&a[0].offset===0:i=a[0].index!==a[1].index,r&&this.canDecreaseBlockAttributeLevel()){const u=this.getBlock();if(u.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(l[0]),u.isEmpty())return!1}return c&&(l=this.getExpandedRangeInDirection(e,{length:s}),e==="backward"&&(n=this.getAttachmentAtRange(l))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(l)),this.setSelection(l[0]),!r&&!i&&void 0)}moveTextFromRange(e){const[n]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,n)),this.setSelection(n)}removeAttachment(e){const n=this.document.getRangeOfAttachment(e);if(n)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(n)),this.setSelection(n[0])}removeLastBlockAttribute(){const[e,n]=Array.from(this.getSelectedRange()),r=this.document.getBlockAtPosition(n);return this.removeCurrentAttribute(r.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){const n=this.currentAttributes[e];return n!=null&&n!==!1}toggleCurrentAttribute(e){const n=!this.currentAttributes[e];return n?this.setCurrentAttribute(e,n):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return ft(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){const n=this.getSelectedDocument();if(n){for(const r of Array.from(n.getAttachments()))if(!r.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){const n=this.getBlock();if(n)return!n.isTerminalBlock()}setCurrentAttribute(e,n){return ft(e)?this.setBlockAttribute(e,n):(this.setTextAttribute(e,n),this.currentAttributes[e]=n,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(e,n,r){var i;const s=this.document.getBlockAtPosition(e),a=(i=ft(s.getLastAttribute()))===null||i===void 0?void 0:i.htmlAttributes;if(s&&a!=null&&a.includes(n)){const l=this.document.setHTMLAttributeAtPosition(e,n,r);this.setDocument(l)}}setTextAttribute(e,n){const r=this.getSelectedRange();if(!r)return;const[i,s]=Array.from(r);if(i!==s)return this.setDocument(this.document.addAttributeAtRange(e,n,r));if(e==="href"){const a=cr.textForStringWithAttributes(n,{href:n});return this.insertText(a)}}setBlockAttribute(e,n){const r=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,n,r)),this.setSelection(r)}removeCurrentAttribute(e){return ft(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(e,n))}removeBlockAttribute(e){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(e,n))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;const n=this.getBlock();if(n){if((e=ft(n.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return n.getNestingLevel()>0;{const r=this.getPreviousBlock();if(r)return function(){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return lo((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,i.length),i)}(r.getListItemAttributes(),n.getListItemAttributes())}}}decreaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;const n=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(n)return this.removeCurrentAttribute(n)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange());const{index:n}=this.document.locationFromPosition(e);let r=n;const i=this.getBlock().getAttributeLevel();let s=this.document.getBlockAtIndex(r+1);for(;s&&s.isListItem()&&!(s.getAttributeLevel()<=i);)r++,s=this.document.getBlockAtIndex(r+1);e=this.document.positionFromLocation({index:n,offset:0});const a=this.document.positionFromLocation({index:r,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,a]))}updateCurrentAttributes(){const e=this.getSelectedRange({ignoreLock:!0});if(e){const n=this.document.getCommonAttributesAtRange(e);if(Array.from(ng()).forEach(r=>{n[r]||this.canSetCurrentAttribute(r)||(n[r]=!1)}),!Qa(n,this.currentAttributes))return this.currentAttributes=n,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return cA.call({},this.currentAttributes)}getCurrentTextAttributes(){const e={};for(const n in this.currentAttributes){const r=this.currentAttributes[n];r!==!1&&rg(n)&&(e[n]=r)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var n;const r=this.document.locationRangeFromRange(e);return(n=this.delegate)===null||n===void 0?void 0:n.compositionDidRequestChangingSelectionToLocationRange(r)}getSelectedRange(){const e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){const n=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(n)}getPosition(){const e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||Ue({index:0,offset:0})}withTargetLocationRange(e,n){let r;this.targetLocationRange=e;try{r=n()}finally{this.targetLocationRange=null}return r}withTargetRange(e,n){const r=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(r,n)}withTargetDOMRange(e,n){const r=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(r,n)}getExpandedRangeInDirection(e){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[r,i]=Array.from(this.getSelectedRange());return e==="backward"?n?r-=n:r=this.translateUTF16PositionFromOffset(r,-1):n?i+=n:i=this.translateUTF16PositionFromOffset(i,1),Ue([r,i])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;const n=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(n)!=null}moveCursorInDirection(e){let n,r;if(this.editingAttachment)r=this.document.getRangeOfAttachment(this.editingAttachment);else{const i=this.getSelectedRange();r=this.getExpandedRangeInDirection(e),n=!Fd(i,r)}if(e==="backward"?this.setSelectedRange(r[0]):this.setSelectedRange(r[1]),n){const i=this.getAttachmentAtRange(r);if(i)return this.editAttachment(i)}}expandSelectionInDirection(e){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getExpandedRangeInDirection(e,{length:n});return this.setSelectedRange(r)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){const n=this.getPosition(),r=this.document.getRangeOfCommonAttributeAtPosition(e,n);return this.setSelectedRange(r)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){const n=this.document.locationFromPosition(e);if(n)return this.locationIsCursorTarget(n)}positionIsBlockBreak(e){var n;return(n=this.document.getPieceAtPosition(e))===null||n===void 0?void 0:n.isBlockBreak()}getSelectedDocument(){const e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const e=this.document.getAttachments(),{added:n,removed:r}=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const a=[],l=[],c=new Set;i.forEach(d=>{c.add(d)});const u=new Set;return s.forEach(d=>{u.add(d),c.has(d)||a.push(d)}),i.forEach(d=>{u.has(d)||l.push(d)}),{added:a,removed:l}}(this.attachments,e);return this.attachments=e,Array.from(r).forEach(i=>{var s,a;i.delegate=null,(s=this.delegate)===null||s===void 0||(a=s.compositionDidRemoveAttachment)===null||a===void 0||a.call(s,i)}),(()=>{const i=[];return Array.from(n).forEach(s=>{var a,l;s.delegate=this,i.push((a=this.delegate)===null||a===void 0||(l=a.compositionDidAddAttachment)===null||l===void 0?void 0:l.call(a,s))}),i})()}attachmentDidChangeAttributes(e){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidEditAttachment)===null||r===void 0?void 0:r.call(n,e)}attachmentDidChangePreviewURL(e){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeAttachmentPreviewURL)===null||r===void 0?void 0:r.call(n,e)}editAttachment(e,n){var r,i;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(r=this.delegate)===null||r===void 0||(i=r.compositionDidStartEditingAttachment)===null||i===void 0?void 0:i.call(r,this.editingAttachment,n)}stopEditingAttachment(){var e,n;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(n=e.compositionDidStopEditingAttachment)===null||n===void 0||n.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,n){return this.setDocument(this.document.updateAttributesForAttachment(e,n))}removeAttributeForAttachment(e,n){return this.setDocument(this.document.removeAttributeForAttachment(e,n))}breakFormattedBlock(e){let{document:n}=e;const{block:r}=e;let i=e.startPosition,s=[i-1,i];r.getBlockBreakPosition()===e.startLocation.offset?(r.breaksOnReturn()&&e.nextCharacter===`
`?i+=1:n=n.removeTextAtRange(s),s=[i,i]):e.nextCharacter===`
`?e.previousCharacter===`
`?s=[i-1,i+1]:(s=[i,i+1],i+=1):e.startLocation.offset-1!=0&&(i+=1);const a=new Wn([r.removeLastAttribute().copyWithoutText()]);return this.setDocument(n.insertDocumentAtRange(a,s)),this.setSelection(i)}getPreviousBlock(){const e=this.getLocationRange();if(e){const{index:n}=e[0];if(n>0)return this.document.getBlockAtIndex(n-1)}}getBlock(){const e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){const n=this.document.getDocumentAtRange(e);if(n.toString()==="".concat("",`
`))return n.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.compositionDidChangeCurrentAttributes)===null||n===void 0?void 0:n.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionDidPerformInsertionAtRange)===null||r===void 0?void 0:r.call(n,e)}translateUTF16PositionFromOffset(e,n){const r=this.document.toUTF16String(),i=r.offsetFromUCS2Offset(e);return r.offsetToUCS2Offset(i+n)}}Mi.proxyMethod("getSelectionManager().getPointRange"),Mi.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Mi.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Mi.proxyMethod("getSelectionManager().locationIsCursorTarget"),Mi.proxyMethod("getSelectionManager().selectionIsExpanded"),Mi.proxyMethod("delegate?.getSelectionManager");class lg extends yt{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.undoEntries.slice(-1)[0];if(!r||!NU(i,e,n)){const s=this.createEntry({description:e,context:n});this.undoEntries.push(s),this.redoEntries=[]}}undo(){const e=this.undoEntries.pop();if(e){const n=this.createEntry(e);return this.redoEntries.push(n),this.composition.loadSnapshot(e.snapshot)}}redo(){const e=this.redoEntries.pop();if(e){const n=this.createEntry(e);return this.undoEntries.push(n),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e==null?void 0:e.toString(),context:JSON.stringify(n),snapshot:this.composition.getSnapshot()}}}const NU=(t,e,n)=>(t==null?void 0:t.description)===(e==null?void 0:e.toString())&&(t==null?void 0:t.context)===JSON.stringify(n),am="attachmentGallery";class IA{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange(am,e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(n=>{n[1]-n[0]>1&&(n[0]+=e,n[1]+=e,this.document.getCharacterAtPosition(n[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[1]),n[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),n[1]++,e++),n[0]!==0&&this.document.getCharacterAtPosition(n[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[0]),n[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),n[0]++,e++),this.document=this.document.applyBlockAttributeAtRange(am,!0,n))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(am)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const MA=function(t){const e=new IA(t);return e.perform(),e.getSnapshot()},jU=[MA];class FA{constructor(e,n,r){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=n,this.element=r,this.undoManager=new lg(this.composition),this.filters=jU.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=yc.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(n)}loadJSON(e){let{document:n,selectedRange:r}=e;return n=Wn.fromJSON(n),this.loadSnapshot({document:n,selectedRange:r})}loadSnapshot(e){return this.undoManager=new lg(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){const n=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(n)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,n)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}setHTMLAtributeAtPosition(e,n,r){this.composition.setHTMLAtributeAtPosition(e,n,r)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:n,consolidatable:r})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class BA{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,n){let{strict:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},i=0,s=!1;const a={index:0,offset:0},l=this.findAttachmentElementParentForNode(e);l&&(e=l.parentNode,n=Vf(l));const c=Md(this.element,{usingFilter:$A});for(;c.nextNode();){const u=c.currentNode;if(u===e&&Bl(e)){na(u)||(a.offset+=n);break}if(u.parentNode===e){if(i++===n)break}else if(!Os(e,u)&&i>0)break;k0(u,{strict:r})?(s&&a.index++,a.offset=0,s=!0):a.offset+=lm(u)}return a}findContainerAndOffsetFromLocation(e){let n,r;if(e.index===0&&e.offset===0){for(n=this.element,r=0;n.firstChild;)if(n=n.firstChild,Hf(n)){r=1;break}return[n,r]}let[i,s]=this.findNodeAndOffsetFromLocation(e);if(i){if(Bl(i))lm(i)===0?(n=i.parentNode.parentNode,r=Vf(i.parentNode),na(i,{name:"right"})&&r++):(n=i,r=e.offset-s);else{if(n=i.parentNode,!k0(i.previousSibling)&&!Hf(n))for(;i===n.lastChild&&(i=n,n=n.parentNode,!Hf(n)););r=Vf(i),e.offset!==0&&r++}return[n,r]}}findNodeAndOffsetFromLocation(e){let n,r,i=0;for(const s of this.getSignificantNodesForIndex(e.index)){const a=lm(s);if(e.offset<=i+a)if(Bl(s)){if(n=s,r=i,e.offset===r&&na(n))break}else n||(n=s,r=i);if(i+=a,i>e.offset)break}return[n,r]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(Gs(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){const n=[],r=Md(this.element,{usingFilter:EU});let i=!1;for(;r.nextNode();){const a=r.currentNode;var s;if(ta(a)){if(s!=null?s++:s=0,s===e)i=!0;else if(i)break}else i&&n.push(a)}return n}}const lm=function(t){return t.nodeType===Node.TEXT_NODE?na(t)?0:t.textContent.length:sn(t)==="br"||Gs(t)?1:0},EU=function(t){return AU(t)===NodeFilter.FILTER_ACCEPT?$A(t):NodeFilter.FILTER_REJECT},AU=function(t){return hA(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},$A=function(t){return Gs(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class UA{createDOMRangeFromPoint(e){let n,{x:r,y:i}=e;if(document.caretPositionFromPoint){const{offsetNode:s,offset:a}=document.caretPositionFromPoint(r,i);return n=document.createRange(),n.setStart(s,a),n}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(r,i);if(document.body.createTextRange){const s=$l();try{const a=document.body.createTextRange();a.moveToPoint(r,i),a.select()}catch{}return n=$l(),bA(s),n}}getClientRectsForDOMRange(e){const n=Array.from(e.getClientRects());return[n[0],n[n.length-1]]}}class _s extends yt{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new BA(this.element),this.pointMapper=new UA,this.lockCount=0,rt("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange($l()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=Ue(e);const n=this.createDOMRangeFromLocationRange(e);n&&(bA(n),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=Ue(e);const n=this.getLocationAtPoint(e[0]),r=this.getLocationAtPoint(e[1]);this.setLocationRange([n,r])}getClientRectAtLocationRange(e){const n=this.createDOMRangeFromLocationRange(e);if(n)return this.getClientRectsForDOMRange(n)[1]}locationIsCursorTarget(e){const n=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return na(n)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=yA())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=$l())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,n){if(e==null||!this.domRangeWithinElement(e))return;const r=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,n);if(!r)return;const i=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,n);return Ue([r,i])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;const n=()=>{if(this.paused=!1,clearTimeout(r),Array.from(e).forEach(i=>{i.destroy()}),Os(document,this.element))return this.selectionDidChange()},r=setTimeout(n,200);e=["mousemove","keydown"].map(i=>rt(i,{onElement:document,withCallback:n}))}selectionDidChange(){if(!this.paused&&!fx(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var n,r;if((e??(e=this.createLocationRangeFromDOMRange($l())))&&!Fd(e,this.currentLocationRange))return this.currentLocationRange=e,(n=this.delegate)===null||n===void 0||(r=n.locationRangeDidChange)===null||r===void 0?void 0:r.call(n,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){const n=this.findContainerAndOffsetFromLocation(e[0]),r=ai(e)?n:this.findContainerAndOffsetFromLocation(e[1])||n;if(n!=null&&r!=null){const i=document.createRange();return i.setStart(...Array.from(n||[])),i.setEnd(...Array.from(r||[])),i}}getLocationAtPoint(e){const n=this.createDOMRangeFromPoint(e);var r;if(n)return(r=this.createLocationRangeFromDOMRange(n))===null||r===void 0?void 0:r[0]}domRangeWithinElement(e){return e.collapsed?Os(this.element,e.startContainer):Os(this.element,e.startContainer)&&Os(this.element,e.endContainer)}}_s.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),_s.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),_s.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),_s.proxyMethod("pointMapper.createDOMRangeFromPoint"),_s.proxyMethod("pointMapper.getClientRectsForDOMRange");var zA=Object.freeze({__proto__:null,Attachment:Ya,AttachmentManager:OA,AttachmentPiece:_a,Block:Or,Composition:Mi,Document:Wn,Editor:FA,HTMLParser:yc,HTMLSanitizer:Fh,LineBreakInsertion:LA,LocationMapper:BA,ManagedAttachment:tt,Piece:bo,PointMapper:UA,SelectionManager:_s,SplittableList:$d,StringPiece:wx,Text:cr,UndoManager:lg}),_U=Object.freeze({__proto__:null,ObjectView:yo,AttachmentView:bx,BlockView:_A,DocumentView:Bh,PieceView:EA,PreviewableAttachmentView:jA,TextView:AA});const{lang:cm,css:Ns,keyNames:kU}=Uc,um=function(t){return function(){const e=t.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}};class WA extends yt{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Ht(this,"makeElementMutable",um(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Ht(this,"addToolbar",um(()=>{const s=we({tagName:"div",className:Ns.attachmentToolbar,data:{trixMutable:!0},childNodes:we({tagName:"div",className:"trix-button-row",childNodes:we({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:we({tagName:"button",className:"trix-button trix-button--remove",textContent:cm.remove,attributes:{title:cm.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&s.appendChild(we({tagName:"div",className:Ns.attachmentMetadataContainer,childNodes:we({tagName:"span",className:Ns.attachmentMetadata,childNodes:[we({tagName:"span",className:Ns.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),we({tagName:"span",className:Ns.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),rt("click",{onElement:s,withCallback:this.didClickToolbar}),rt("click",{onElement:s,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),Ml("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:s,attachment:this.attachment}}),{do:()=>this.element.appendChild(s),undo:()=>gs(s)}})),Ht(this,"installCaptionEditor",um(()=>{const s=we({tagName:"textarea",className:Ns.attachmentCaptionEditor,attributes:{placeholder:cm.captionPlaceholder},data:{trixMutable:!0}});s.value=this.attachmentPiece.getCaption();const a=s.cloneNode();a.classList.add("trix-autoresize-clone"),a.tabIndex=-1;const l=function(){a.value=s.value,s.style.height=a.scrollHeight+"px"};rt("input",{onElement:s,withCallback:l}),rt("input",{onElement:s,withCallback:this.didInputCaption}),rt("keydown",{onElement:s,withCallback:this.didKeyDownCaption}),rt("change",{onElement:s,withCallback:this.didChangeCaption}),rt("blur",{onElement:s,withCallback:this.didBlurCaption});const c=this.element.querySelector("figcaption"),u=c.cloneNode();return{do:()=>{if(c.style.display="none",u.appendChild(s),u.appendChild(a),u.classList.add("".concat(Ns.attachmentCaption,"--editing")),c.parentElement.insertBefore(u,c),l(),this.options.editCaption)return gx(()=>s.focus())},undo(){gs(u),c.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=n,this.container=r,this.options=i,this.attachment=this.attachmentPiece.attachment,sn(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let n=this.undos.pop();for(this.savePendingCaption();n;)n(),n=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const s=this.pendingCaption;var e,n,r,i;this.pendingCaption=null,s?(e=this.delegate)===null||e===void 0||(n=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||n===void 0||n.call(e,{caption:s},this.attachment):(r=this.delegate)===null||r===void 0||(i=r.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||i===void 0||i.call(r,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var n;if(e.target.getAttribute("data-trix-action")==="remove")return(n=this.delegate)===null||n===void 0?void 0:n.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var n,r;if(kU[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(n=this.delegate)===null||n===void 0||(r=n.attachmentEditorDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}}class qA extends yt{constructor(e,n){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=n,this.documentView=new Bh(this.composition.document,{element:this.element}),rt("focus",{onElement:this.element,withCallback:this.didFocus}),rt("blur",{onElement:this.element,withCallback:this.didBlur}),rt("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),rt("mousedown",{onElement:this.element,matchingSelector:Ks,withCallback:this.didClickAttachment}),rt("click",{onElement:this.element,matchingSelector:"a".concat(Ks),preventDefault:!0})}didFocus(e){var n;const r=()=>{var i,s;if(!this.focused)return this.focused=!0,(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidFocus)===null||s===void 0?void 0:s.call(i)};return((n=this.blurPromise)===null||n===void 0?void 0:n.then(r))||r()}didBlur(e){this.blurPromise=new Promise(n=>gx(()=>{var r,i;return fx(this.element)||(this.focused=null,(r=this.delegate)===null||r===void 0||(i=r.compositionControllerDidBlur)===null||i===void 0||i.call(r)),this.blurPromise=null,n()}))}didClickAttachment(e,n){var r,i;const s=this.findAttachmentForElement(n),a=!!ps(e.target,{matchingSelector:"figcaption"});return(r=this.delegate)===null||r===void 0||(i=r.compositionControllerDidSelectAttachment)===null||i===void 0?void 0:i.call(r,s,{editCaption:a})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,n,r,i,s,a;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((r=this.delegate)===null||r===void 0||(i=r.compositionControllerWillSyncDocumentView)===null||i===void 0||i.call(r),this.documentView.sync(),(s=this.delegate)===null||s===void 0||(a=s.compositionControllerDidSyncDocumentView)===null||a===void 0||a.call(s)),(e=this.delegate)===null||e===void 0||(n=e.compositionControllerDidRender)===null||n===void 0?void 0:n.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,n){var r;if(((r=this.attachmentEditor)===null||r===void 0?void 0:r.attachment)===e)return;const i=this.documentView.findElementForObject(e);if(!i)return;this.uninstallAttachmentEditor();const s=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new WA(s,i,this.element,n),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,n){var r,i;return(r=this.delegate)===null||r===void 0||(i=r.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(r,n),this.composition.updateAttributesForAttachment(e,n)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,n){var r,i;return(r=this.delegate)===null||r===void 0||(i=r.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(r,n),this.composition.removeAttributeForAttachment(e,n)}attachmentEditorDidRequestRemovalOfAttachment(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,e)}attachmentEditorDidRequestDeselectingAttachment(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}}class VA extends yt{}const HA="data-trix-mutable",RU="[".concat(HA,"]"),TU={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class KA extends yt{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,TU)}stop(){return this.observer.disconnect()}didMutate(e){var n,r;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(n=this.delegate)===null||n===void 0||(r=n.elementDidMutate)===null||r===void 0||r.call(n,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(n=>this.mutationIsSignificant(n))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(const n of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(n))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!hA(e)}nodeIsMutable(e){return ps(e,{matchingSelector:RU})}nodesModifiedByMutation(e){const n=[];switch(e.type){case"attributes":e.attributeName!==HA&&n.push(e.target);break;case"characterData":n.push(e.target.parentNode),n.push(e.target);break;case"childList":n.push(...Array.from(e.addedNodes||[])),n.push(...Array.from(e.removedNodes||[]))}return n}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:e,deletions:n}=this.getTextChangesFromCharacterData(),r=this.getTextChangesFromChildList();Array.from(r.additions).forEach(l=>{Array.from(e).includes(l)||e.push(l)}),n.push(...Array.from(r.deletions||[]));const i={},s=e.join("");s&&(i.textAdded=s);const a=n.join("");return a&&(i.textDeleted=a),i}getMutationsByType(e){return Array.from(this.mutations).filter(n=>n.type===e)}getTextChangesFromChildList(){let e,n;const r=[],i=[];Array.from(this.getMutationsByType("childList")).forEach(l=>{r.push(...Array.from(l.addedNodes||[])),i.push(...Array.from(l.removedNodes||[]))}),r.length===0&&i.length===1&&ta(i[0])?(e=[],n=[`
`]):(e=cg(r),n=cg(i));const s=e.filter((l,c)=>l!==n[c]).map(Nl),a=n.filter((l,c)=>l!==e[c]).map(Nl);return{additions:s,deletions:a}}getTextChangesFromCharacterData(){let e,n;const r=this.getMutationsByType("characterData");if(r.length){const i=r[0],s=r[r.length-1],a=function(l,c){let u,d;return l=vc.box(l),(c=vc.box(c)).length<l.length?[d,u]=L0(l,c):[u,d]=L0(c,l),{added:u,removed:d}}(Nl(i.oldValue),Nl(s.target.data));e=a.added,n=a.removed}return{additions:e?[e]:[],deletions:n?[n]:[]}}}const cg=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];for(const n of Array.from(t))switch(n.nodeType){case Node.TEXT_NODE:e.push(n.data);break;case Node.ELEMENT_NODE:sn(n)==="br"?e.push(`
`):e.push(...Array.from(cg(n.childNodes)||[]))}return e};class GA extends Bd{constructor(e){super(...arguments),this.file=e}perform(e){const n=new FileReader;return n.onerror=()=>e(!1),n.onload=()=>{n.onerror=null;try{n.abort()}catch{}return e(!0,this.file)},n.readAsArrayBuffer(this.file)}}class PU{constructor(e){this.element=e}shouldIgnore(e){return!!$c.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&DU(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,n;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((n=this.previousEvent)===null||n===void 0?void 0:n.key)==="Unidentified"}}const DU=(t,e)=>nw(t)===nw(e),OU=new RegExp("(".concat("","|").concat(Mh,"|").concat($i,"|\\s)+"),"g"),nw=t=>t.replace(OU," ").trim();class $h extends yt{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new KA(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new PU(this.element);for(const n in this.constructor.events)rt(n,{onElement:this.element,withCallback:this.handlerFor(n)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidRequestRender)===null||n===void 0?void 0:n.call(e)}requestReparse(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidRequestReparse)===null||n===void 0||n.call(e),this.requestRender()}attachFiles(e){const n=Array.from(e).map(r=>new GA(r));return Promise.all(n).then(r=>{this.handleInput(function(){var i,s;return(i=this.delegate)===null||i===void 0||i.inputControllerWillAttachFiles(),(s=this.responder)===null||s===void 0||s.insertFiles(r),this.requestRender()})})}handlerFor(e){return n=>{n.defaultPrevented||this.handleInput(()=>{if(!fx(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(n))return;this.eventName=e,this.constructor.events[e].call(this,n)}})}}handleInput(e){try{var n;(n=this.delegate)===null||n===void 0||n.inputControllerWillHandleInput(),e.call(this)}finally{var r;(r=this.delegate)===null||r===void 0||r.inputControllerDidHandleInput()}}createLinkHTML(e,n){const r=document.createElement("a");return r.href=e,r.textContent=n||e,r.outerHTML}}var dm;Ht($h,"events",{});const{browser:LU,keyNames:QA}=Uc;let IU=0;class Jr extends $h{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const n in e){const r=e[n];this.inputSummary[n]=r}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),co.reset()}elementDidMutate(e){var n,r;return this.isComposing()?(n=this.delegate)===null||n===void 0||(r=n.inputControllerDidAllowUnhandledInput)===null||r===void 0?void 0:r.call(n):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:n,textDeleted:r}=e;if(this.inputSummary.preferDocument)return!0;const i=n!=null?n===this.inputSummary.textAdded:!this.inputSummary.textAdded,s=r!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,a=[`
`,` 
`].includes(n)&&!i,l=r===`
`&&!s;if(a&&!l||l&&!a){const u=this.getSelectedRange();if(u){var c;const d=a?n.replace(/\n$/,"").length||-1:(n==null?void 0:n.length)||1;if((c=this.responder)!==null&&c!==void 0&&c.positionIsBlockBreak(u[1]+d))return!0}}return i&&s}mutationIsSignificant(e){var n;const r=Object.keys(e).length>0,i=((n=this.compositionInput)===null||n===void 0?void 0:n.getEndData())==="";return r||!i}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new Di(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,n){var r;return((r=this.responder)===null||r===void 0?void 0:r.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):n?(n.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var n;if(!function(i){if(i==null||!i.setData)return!1;for(const s in P0){const a=P0[s];try{if(i.setData(s,a),!i.getData(s)===a)return!1}catch{return!1}}return!0}(e))return;const r=(n=this.responder)===null||n===void 0?void 0:n.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(r)),e.setData("text/html",Bh.render(r).innerHTML),e.setData("text/plain",r.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){const n={};return Array.from((e==null?void 0:e.types)||[]).forEach(r=>{n[r]=!0}),n.Files||n["application/x-trix-document"]||n["text/html"]||n["text/plain"]}getPastedHTMLUsingHiddenElement(e){const n=this.getSelectedRange(),r={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},i=we({style:r,tagName:"div",editable:!0});return document.body.appendChild(i),i.focus(),requestAnimationFrame(()=>{const s=i.innerHTML;return gs(i),this.setSelectedRange(n),e(s)})}}Ht(Jr,"events",{keydown(t){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=QA[t.keyCode];if(e){var n;let i=this.keys;["ctrl","alt","shift","meta"].forEach(s=>{var a;t["".concat(s,"Key")]&&(s==="ctrl"&&(s="control"),i=(a=i)===null||a===void 0?void 0:a[s])}),((n=i)===null||n===void 0?void 0:n[e])!=null&&(this.setInputSummary({keyName:e}),co.reset(),i[e].call(this,t))}if(gA(t)){const i=String.fromCharCode(t.keyCode).toLowerCase();if(i){var r;const s=["alt","shift"].map(a=>{if(t["".concat(a,"Key")])return a}).filter(a=>a);s.push(i),(r=this.delegate)!==null&&r!==void 0&&r.inputControllerDidReceiveKeyboardCommand(s)&&t.preventDefault()}}},keypress(t){if(this.inputSummary.eventName!=null||t.metaKey||t.ctrlKey&&!t.altKey)return;const e=BU(t);var n,r;return e?((n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(t){const{data:e}=t,{textAdded:n}=this.inputSummary;if(n&&n!==e&&n.toUpperCase()===e){var r;const i=this.getSelectedRange();return this.setSelectedRange([i[0],i[1]+n.length]),(r=this.responder)===null||r===void 0||r.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(i)}},dragenter(t){t.preventDefault()},dragstart(t){var e,n;return this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidStartDrag)===null||n===void 0?void 0:n.call(e)},dragover(t){if(this.draggedRange||this.canAcceptDataTransfer(t.dataTransfer)){t.preventDefault();const r={x:t.clientX,y:t.clientY};var e,n;if(!Qa(r,this.draggingPoint))return this.draggingPoint=r,(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidReceiveDragOverPoint)===null||n===void 0?void 0:n.call(e,this.draggingPoint)}},dragend(t){var e,n;(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidCancelDrag)===null||n===void 0||n.call(e),this.draggedRange=null,this.draggingPoint=null},drop(t){var e,n;t.preventDefault();const r=(e=t.dataTransfer)===null||e===void 0?void 0:e.files,i=t.dataTransfer.getData("application/x-trix-document"),s={x:t.clientX,y:t.clientY};if((n=this.responder)===null||n===void 0||n.setLocationRangeFromPointRange(s),r!=null&&r.length)this.attachFiles(r);else if(this.draggedRange){var a,l;(a=this.delegate)===null||a===void 0||a.inputControllerWillMoveText(),(l=this.responder)===null||l===void 0||l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(i){var c;const u=Wn.fromJSONString(i);(c=this.responder)===null||c===void 0||c.insertDocument(u),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(t){var e,n;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),(n=this.delegate)===null||n===void 0||n.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented))return this.requestRender()},copy(t){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault()},paste(t){const e=t.clipboardData||t.testClipboardData,n={clipboard:e};if(!e||$U(t))return void this.getPastedHTMLUsingHiddenElement(p=>{var C,j,N;return n.type="text/html",n.html=p,(C=this.delegate)===null||C===void 0||C.inputControllerWillPaste(n),(j=this.responder)===null||j===void 0||j.insertHTML(n.html),this.requestRender(),(N=this.delegate)===null||N===void 0?void 0:N.inputControllerDidPaste(n)});const r=e.getData("URL"),i=e.getData("text/html"),s=e.getData("public.url-name");if(r){var a,l,c;let p;n.type="text/html",p=s?xx(s).trim():r,n.html=this.createLinkHTML(r,p),(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(n),this.setInputSummary({textAdded:p,didDelete:this.selectionIsExpanded()}),(l=this.responder)===null||l===void 0||l.insertHTML(n.html),this.requestRender(),(c=this.delegate)===null||c===void 0||c.inputControllerDidPaste(n)}else if(pA(e)){var u,d,f;n.type="text/plain",n.string=e.getData("text/plain"),(u=this.delegate)===null||u===void 0||u.inputControllerWillPaste(n),this.setInputSummary({textAdded:n.string,didDelete:this.selectionIsExpanded()}),(d=this.responder)===null||d===void 0||d.insertString(n.string),this.requestRender(),(f=this.delegate)===null||f===void 0||f.inputControllerDidPaste(n)}else if(i){var x,S,y;n.type="text/html",n.html=i,(x=this.delegate)===null||x===void 0||x.inputControllerWillPaste(n),(S=this.responder)===null||S===void 0||S.insertHTML(n.html),this.requestRender(),(y=this.delegate)===null||y===void 0||y.inputControllerDidPaste(n)}else if(Array.from(e.types).includes("Files")){var v,w;const p=(v=e.items)===null||v===void 0||(v=v[0])===null||v===void 0||(w=v.getAsFile)===null||w===void 0?void 0:w.call(v);if(p){var b,g,m;const C=MU(p);!p.name&&C&&(p.name="pasted-file-".concat(++IU,".").concat(C)),n.type="File",n.file=p,(b=this.delegate)===null||b===void 0||b.inputControllerWillAttachFiles(),(g=this.responder)===null||g===void 0||g.insertFile(n.file),this.requestRender(),(m=this.delegate)===null||m===void 0||m.inputControllerDidPaste(n)}}t.preventDefault()},compositionstart(t){return this.getCompositionInput().start(t.data)},compositionupdate(t){return this.getCompositionInput().update(t.data)},compositionend(t){return this.getCompositionInput().end(t.data)},beforeinput(t){this.inputSummary.didInput=!0},input(t){return this.inputSummary.didInput=!0,t.stopPropagation()}}),Ht(Jr,"keys",{backspace(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},delete(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},return(t){var e,n;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0?void 0:n.insertLineBreak()},tab(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.increaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o(t){var e,n;return t.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(t){var e,n;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`),this.requestRender(),t.preventDefault()},tab(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.decreaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("backward")},right(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),Jr.proxyMethod("responder?.getSelectedRange"),Jr.proxyMethod("responder?.setSelectedRange"),Jr.proxyMethod("responder?.expandSelectionInDirection"),Jr.proxyMethod("responder?.selectionIsInCursorTarget"),Jr.proxyMethod("responder?.selectionIsExpanded");const MU=t=>{var e;return(e=t.type)===null||e===void 0||(e=e.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},FU=!((dm=" ".codePointAt)===null||dm===void 0||!dm.call(" ",0)),BU=function(t){if(t.key&&FU&&t.key.codePointAt(0)===t.keyCode)return t.key;{let e;if(t.which===null?e=t.keyCode:t.which!==0&&t.charCode!==0&&(e=t.charCode),e!=null&&QA[e]!=="escape")return vc.fromCodepoints([e]).toString()}},$U=function(t){const e=t.clipboardData;if(e){if(e.types.includes("text/html")){for(const n of e.types){const r=/^CorePasteboardFlavorType/.test(n),i=/^dyn\./.test(n)&&e.getData(n);if(r||i)return!0}return!1}{const n=e.types.includes("com.apple.webarchive"),r=e.types.includes("com.apple.flat-rtfd");return n||r}}};class Di extends yt{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var n,r;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((r=this.responder)===null||r===void 0||r.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){const n=this.selectPlaceholder();n&&(this.forgetPlaceholder(),this.range=n)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.setSelectedRange(this.range),(i=this.responder)===null||i===void 0||i.insertString(this.data.end),(s=this.responder)===null||s===void 0?void 0:s.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var n,r,i,s}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!LU.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,n;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((n=this.data.end)===null||n===void 0?void 0:n.length)>0&&this.range}}Di.proxyMethod("inputController.setInputSummary"),Di.proxyMethod("inputController.requestRender"),Di.proxyMethod("inputController.requestReparse"),Di.proxyMethod("responder?.selectionIsExpanded"),Di.proxyMethod("responder?.insertPlaceholder"),Di.proxyMethod("responder?.selectPlaceholder"),Di.proxyMethod("responder?.forgetPlaceholder");class zl extends $h{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidAllowUnhandledInput)===null||n===void 0?void 0:n.call(e):void 0:this.reparse();var e,n}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,n;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(n=this.delegate)===null||n===void 0||n.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.insertString(n,r)})}toggleAttributeIfSupported(e){var n;if(ng().includes(e))return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,n){var r;if(ng().includes(e))return(r=this.delegate)===null||r===void 0||r.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.setCurrentAttribute(e,n)})}deleteInDirection(e){let{recordUndoEntry:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var r;n&&((r=this.delegate)===null||r===void 0||r.inputControllerWillPerformTyping());const i=()=>{var a;return(a=this.responder)===null||a===void 0?void 0:a.deleteInDirection(e)},s=this.getTargetDOMRange({minLength:this.composing?1:2});return s?this.withTargetDOMRange(s,i):i()}withTargetDOMRange(e,n){var r;return typeof e=="function"&&(n=e,e=this.getTargetDOMRange()),e?(r=this.responder)===null||r===void 0?void 0:r.withTargetDOMRange(e,n.bind(this)):(co.reset(),n.call(this))}getTargetDOMRange(){var e,n;let{minLength:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const i=(e=(n=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(n);if(i&&i.length){const s=UU(i[0]);if(r===0||s.toString().length>=r)return s}}withEvent(e,n){let r;this.event=e;try{r=n.call(this)}finally{this.event=null}return r}}Ht(zl,"events",{keydown(t){if(gA(t)){var e;const n=qU(t);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(n)&&t.preventDefault()}else{let n=t.key;t.altKey&&(n+="+Alt"),t.shiftKey&&(n+="+Shift");const r=this.constructor.keys[n];if(r)return this.withEvent(t,r)}},paste(t){var e;let n;const r=(e=t.clipboardData)===null||e===void 0?void 0:e.getData("URL");return YA(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):WU(t)?(t.preventDefault(),n={type:"text/plain",string:t.clipboardData.getData("text/plain")},(i=this.delegate)===null||i===void 0||i.inputControllerWillPaste(n),(s=this.responder)===null||s===void 0||s.insertString(n.string),this.render(),(a=this.delegate)===null||a===void 0?void 0:a.inputControllerDidPaste(n)):r?(t.preventDefault(),n={type:"text/html",html:this.createLinkHTML(r)},(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(n),(c=this.responder)===null||c===void 0||c.insertHTML(n.html),this.render(),(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(n)):void 0;var i,s,a,l,c,u},beforeinput(t){const e=this.constructor.inputTypes[t.inputType],n=(r=t,!(!/iPhone|iPad/.test(navigator.userAgent)||r.inputType&&r.inputType!=="insertParagraph"));var r;e&&(this.withEvent(t,e),n||this.scheduleRender()),n&&this.render()},input(t){co.reset()},dragstart(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(t.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange(),point:fm(t)})},dragenter(t){hm(t)&&t.preventDefault()},dragover(t){if(this.dragging){t.preventDefault();const n=fm(t);var e;if(!Qa(n,this.dragging.point))return this.dragging.point=n,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(n)}else hm(t)&&t.preventDefault()},drop(t){var e,n;if(this.dragging)return t.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(n=this.responder)===null||n===void 0||n.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(hm(t)){var r;t.preventDefault();const i=fm(t);return(r=this.responder)===null||r===void 0||r.setLocationRangeFromPointRange(i),this.attachFiles(t.dataTransfer.files)}},dragend(){var t;this.dragging&&((t=this.responder)===null||t===void 0||t.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(t){this.composing&&(this.composing=!1,$c.recentAndroid||this.scheduleRender())}}),Ht(zl,"keys",{ArrowLeft(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var t,e,n;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.deleteInDirection("backward"),this.render()},Tab(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),Ht(zl,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var t;this.deleteByDragRange=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var t;if((t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var t;if((t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const n in(t=this.responder)===null||t===void 0?void 0:t.getCurrentAttributes()){var t,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(n)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformRedo()},historyUndo(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const t=this.deleteByDragRange;var e;if(t)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var n;return(n=this.responder)===null||n===void 0?void 0:n.moveTextFromRange(t)})},insertFromPaste(){const{dataTransfer:t}=this.event,e={dataTransfer:t},n=t.getData("URL"),r=t.getData("text/html");if(n){var i;let c;this.event.preventDefault(),e.type="text/html";const u=t.getData("public.url-name");c=u?xx(u).trim():n,e.html=this.createLinkHTML(n,c),(i=this.delegate)===null||i===void 0||i.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var d;return(d=this.responder)===null||d===void 0?void 0:d.insertHTML(e.html)}),this.afterRender=()=>{var d;return(d=this.delegate)===null||d===void 0?void 0:d.inputControllerDidPaste(e)}}else if(pA(t)){var s;e.type="text/plain",e.string=t.getData("text/plain"),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertString(e.string)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(zU(this.event)){var a;e.type="File",e.file=t.files[0],(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertFile(e.file)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(r){var l;this.event.preventDefault(),e.type="text/html",e.html=r,(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertHTML(e.html)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){const t=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(t,{updatePosition:!1})})},insertText(){var t;return this.insertString(this.event.data||((t=this.event.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const UU=function(t){const e=document.createRange();return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},hm=t=>{var e;return Array.from(((e=t.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},zU=t=>{var e;return((e=t.dataTransfer.files)===null||e===void 0?void 0:e[0])&&!YA(t)&&!(n=>{let{dataTransfer:r}=n;return r.types.includes("Files")&&r.types.includes("text/html")&&r.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(t)},YA=function(t){const e=t.clipboardData;if(e)return Array.from(e.types).filter(n=>n.match(/file/i)).length===e.types.length&&e.files.length>=1},WU=function(t){const e=t.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},qU=function(t){const e=[];return t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.push(t.key),e},fm=t=>({x:t.clientX,y:t.clientY}),ug="[data-trix-attribute]",dg="[data-trix-action]",VU="".concat(ug,", ").concat(dg),Uh="[data-trix-dialog]",HU="".concat(Uh,"[data-trix-active]"),KU="".concat(Uh," [data-trix-method]"),rw="".concat(Uh," [data-trix-input]"),iw=(t,e)=>(e||(e=Po(t)),t.querySelector("[data-trix-input][name='".concat(e,"']"))),sw=t=>t.getAttribute("data-trix-action"),Po=t=>t.getAttribute("data-trix-attribute")||t.getAttribute("data-trix-dialog-attribute");class XA extends yt{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),rt("mousedown",{onElement:this.element,matchingSelector:dg,withCallback:this.didClickActionButton}),rt("mousedown",{onElement:this.element,matchingSelector:ug,withCallback:this.didClickAttributeButton}),rt("click",{onElement:this.element,matchingSelector:VU,preventDefault:!0}),rt("click",{onElement:this.element,matchingSelector:KU,withCallback:this.didClickDialogButton}),rt("keydown",{onElement:this.element,matchingSelector:rw,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),e.preventDefault();const i=sw(n);return this.getDialog(i)?this.toggleDialog(i):(s=this.delegate)===null||s===void 0?void 0:s.toolbarDidInvokeAction(i,n);var s}didClickAttributeButton(e,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),e.preventDefault();const i=Po(n);var s;return this.getDialog(i)?this.toggleDialog(i):(s=this.delegate)===null||s===void 0||s.toolbarDidToggleAttribute(i),this.refreshAttributeButtons()}didClickDialogButton(e,n){const r=ps(n,{matchingSelector:Uh});return this[n.getAttribute("data-trix-method")].call(this,r)}didKeyDownDialogInput(e,n){if(e.keyCode===13){e.preventDefault();const r=n.getAttribute("name"),i=this.getDialog(r);this.setAttribute(i)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,n)=>{e.disabled=this.actions[n]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll(dg)).map(n=>e(n,sw(n)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,n)=>(e.disabled=this.attributes[n]===!1,this.attributes[n]||this.dialogIsVisible(n)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll(ug)).map(n=>e(n,Po(n)))}applyKeyboardCommand(e){const n=JSON.stringify(e.sort());for(const r of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const i=r.getAttribute("data-trix-key").split("+");if(JSON.stringify(i.sort())===n)return Ml("mousedown",{onElement:r}),!0}return!1}dialogIsVisible(e){const n=this.getDialog(e);if(n)return n.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var n,r;this.hideDialog(),(n=this.delegate)===null||n===void 0||n.toolbarWillShowDialog();const i=this.getDialog(e);i.setAttribute("data-trix-active",""),i.classList.add("trix-active"),Array.from(i.querySelectorAll("input[disabled]")).forEach(a=>{a.removeAttribute("disabled")});const s=Po(i);if(s){const a=iw(i,e);a&&(a.value=this.attributes[s]||"",a.select())}return(r=this.delegate)===null||r===void 0?void 0:r.toolbarDidShowDialog(e)}setAttribute(e){var n;const r=Po(e),i=iw(e,r);return!i.willValidate||(i.setCustomValidity(""),i.checkValidity()&&this.isSafeAttribute(i))?((n=this.delegate)===null||n===void 0||n.toolbarDidUpdateAttribute(r,i.value),this.hideDialog()):(i.setCustomValidity("Invalid value"),i.setAttribute("data-trix-validate",""),i.classList.add("trix-validate"),i.focus())}isSafeAttribute(e){return!e.hasAttribute("data-trix-validate-href")||xc.isValidAttribute("a","href",e.value)}removeAttribute(e){var n;const r=Po(e);return(n=this.delegate)===null||n===void 0||n.toolbarDidRemoveAttribute(r),this.hideDialog()}hideDialog(){const e=this.element.querySelector(HU);var n;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(n=this.delegate)===null||n===void 0?void 0:n.toolbarDidHideDialog((r=>r.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(rw)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}}class Wl extends VA{constructor(e){let{editorElement:n,document:r,html:i}=e;super(...arguments),this.editorElement=n,this.selectionManager=new _s(this.editorElement),this.selectionManager.delegate=this,this.composition=new Mi,this.composition.delegate=this,this.attachmentManager=new OA(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=mx.getLevel()===2?new zl(this.editorElement):new Jr(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new qA(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new XA(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new FA(this.composition,this.selectionManager,this.editorElement),r?this.editor.loadDocument(r):this.editor.loadHTML(i)}registerSelectionManager(){return co.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return co.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){const n=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:n})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);const n=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:n}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){const n=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:n})}compositionDidStartEditingAttachment(e,n){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,n),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,n){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,n)}compositionControllerDidRequestDeselectingAttachment(e){const n=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(n[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Fd(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e,n){return this.invokeAction(e,n)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,n){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,n),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((n=this.actions[e])===null||n===void 0||(n=n.test)===null||n===void 0||!n.call(this));var n}invokeAction(e,n){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e,invokingElement:n}):(r=this.actions[e])===null||r===void 0||(r=r.perform)===null||r===void 0?void 0:r.call(this);var r}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){const e={};for(const n in this.actions)e[n]=this.canInvokeAction(n);return e}updateCurrentActions(){const e=this.getCurrentActions();if(!Qa(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(i=>{const{document:s,selectedRange:a}=e;e=i.call(this.editor,e)||{},e.document||(e.document=s),e.selectedRange||(e.selectedRange=a)}),n=e,r=this.composition.getSnapshot(),!Fd(n.selectedRange,r.selectedRange)||!n.document.isEqualTo(r.document))return this.composition.loadSnapshot(e);var n,r}updateInputElement(){const e=function(n,r){const i=SU[r];if(i)return i(n);throw new Error("unknown content type: ".concat(r))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(e)}notifyEditorElement(e,n){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,n)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){const n=ft(e),r=this.selectionManager.getLocationRange();if(n||!ai(r))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return[this.getLocationContext(),this.getTimeContext(),...Array.from(n)]}getLocationContext(){const e=this.selectionManager.getLocationRange();return ai(e)?e[0].index:e}getTimeContext(){return Zp.interval>0?Math.floor(new Date().getTime()/Zp.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Ht(Wl,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return mx.pickFiles(this.editor.insertFiles)}}}),Wl.proxyMethod("getSelectionManager().setLocationRange"),Wl.proxyMethod("getSelectionManager().getLocationRange");var GU=Object.freeze({__proto__:null,AttachmentEditorController:WA,CompositionController:qA,Controller:VA,EditorController:Wl,InputController:$h,Level0InputController:Jr,Level2InputController:zl,ToolbarController:XA}),QU=Object.freeze({__proto__:null,MutationObserver:KA,SelectionChangeObserver:xA}),YU=Object.freeze({__proto__:null,FileVerificationOperation:GA,ImagePreloadOperation:TA});mA("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class JA extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=fA.getDefaultHTML())}get editorElements(){if(this.id){var e;const n=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll('trix-editor[toolbar="'.concat(this.id,'"]'));return Array.from(n)}return[]}get editorElement(){const[e]=this.editorElements;return e}}let XU=0;const JU=function(t){if(!t.hasAttribute("contenteditable"))return t.toggleAttribute("contenteditable",!t.disabled),function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.times=1,rt(e,n)}("focus",{onElement:t,withCallback:()=>ZU(t)})},ZU=function(t){return ez(t),tz()},ez=function(t){var e,n;if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),rt("mscontrolselect",{onElement:t,preventDefault:!0})},tz=function(t){var e,n;if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"DefaultParagraphSeparator")){const{tagName:r}=an.default;if(["div","p"].includes(r))return document.execCommand("DefaultParagraphSeparator",!1,r)}},ow=$c.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};mA("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Ks,` figcaption textarea {
    resize: none;
}

%t `).concat(Ks,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Ks,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(ow.display,` !important;
    width: `).concat(ow.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var er=new WeakMap,wu=new WeakMap,pl=new WeakSet;class nz{constructor(e){var n,r;RA(n=this,r=pl),r.add(n),Ht(this,"value",""),ra(this,er,{writable:!0,value:void 0}),ra(this,wu,{writable:!0,value:void 0}),this.element=e,Ul(this,er,e.attachInternals()),Ul(this,wu,!1)}connectedCallback(){bu(this,pl,Su).call(this)}disconnectedCallback(){}get form(){return Re(this,er).form}get name(){return this.element.getAttribute("name")}set name(e){this.element.setAttribute("name",e)}get labels(){return Re(this,er).labels}get disabled(){return Re(this,wu)||this.element.hasAttribute("disabled")}set disabled(e){this.element.toggleAttribute("disabled",e)}get required(){return this.element.hasAttribute("required")}set required(e){this.element.toggleAttribute("required",e),bu(this,pl,Su).call(this)}get validity(){return Re(this,er).validity}get validationMessage(){return Re(this,er).validationMessage}get willValidate(){return Re(this,er).willValidate}formDisabledCallback(e){Ul(this,wu,e)}setFormValue(e){this.value=e,bu(this,pl,Su).call(this),Re(this,er).setFormValue(this.element.disabled?void 0:this.value)}checkValidity(){return Re(this,er).checkValidity()}reportValidity(){return Re(this,er).reportValidity()}setCustomValidity(e){bu(this,pl,Su).call(this,e)}}function Su(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:e,value:n}=this.element,r=e&&!n,i=!!t,s=we("input",{required:e}),a=t||s.validationMessage;Re(this,er).setValidity({valueMissing:r,customError:i},a)}var mm=new WeakMap,pm=new WeakMap,gm=new WeakMap;class rz{constructor(e){ra(this,mm,{writable:!0,value:void 0}),ra(this,pm,{writable:!0,value:n=>{n.defaultPrevented||n.target===this.element.form&&this.element.reset()}}),ra(this,gm,{writable:!0,value:n=>{if(n.defaultPrevented||this.element.contains(n.target))return;const r=ps(n.target,{matchingSelector:"label"});r&&Array.from(this.labels).includes(r)&&this.element.focus()}}),this.element=e}connectedCallback(){Ul(this,mm,function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;const n=function(){const r=Array.from(e.labels).map(s=>{if(!s.contains(e))return s.textContent}).filter(s=>s),i=r.join(" ");return i?e.setAttribute("aria-label",i):e.removeAttribute("aria-label")};return n(),rt("focus",{onElement:e,withCallback:n})}(this.element)),window.addEventListener("reset",Re(this,pm),!1),window.addEventListener("click",Re(this,gm),!1)}disconnectedCallback(){var e;(e=Re(this,mm))===null||e===void 0||e.destroy(),window.removeEventListener("reset",Re(this,pm),!1),window.removeEventListener("click",Re(this,gm),!1)}get labels(){const e=[];this.element.id&&this.element.ownerDocument&&e.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const n=ps(this.element,{matchingSelector:"label"});return n&&[this.element,null].includes(n.control)&&e.push(n),e}get form(){return console.warn("This browser does not support the .form property for trix-editor elements."),null}get name(){return console.warn("This browser does not support the .name property for trix-editor elements."),null}set name(e){console.warn("This browser does not support the .name property for trix-editor elements.")}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(e){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(e){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}formDisabledCallback(e){}setFormValue(e){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(e){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var ht=new WeakMap;class Ud extends HTMLElement{constructor(){super(),ra(this,ht,{writable:!0,value:void 0}),this.willCreateInput=!0,Ul(this,ht,this.constructor.formAssociated?new nz(this):new rz(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++XU),this.trixId)}get labels(){return Re(this,ht).labels}get disabled(){const{inputElement:e}=this;return e?e.disabled:Re(this,ht).disabled}set disabled(e){const{inputElement:n}=this;n&&(n.disabled=e),Re(this,ht).disabled=e}get required(){return Re(this,ht).required}set required(e){Re(this,ht).required=e}get validity(){return Re(this,ht).validity}get validationMessage(){return Re(this,ht).validationMessage}get willValidate(){return Re(this,ht).willValidate}get type(){return this.localName}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const n="trix-toolbar-".concat(this.trixId);return this.setAttribute("toolbar",n),this.internalToolbar=we("trix-toolbar",{id:n}),this.parentNode.insertBefore(this.internalToolbar,this),this.internalToolbar}}get form(){const{inputElement:e}=this;return e?e.form:Re(this,ht).form}get inputElement(){var e;return this.hasAttribute("input")?(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input")):void 0}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){const{inputElement:e}=this;return e?e.name:Re(this,ht).name}set name(e){const{inputElement:n}=this;n?n.name=e:Re(this,ht).name=e}get value(){const{inputElement:e}=this;return e?e.value:Re(this,ht).value}set value(e){var n;this.defaultValue=e,(n=this.editor)===null||n===void 0||n.loadHTML(this.defaultValue)}attributeChangedCallback(e,n,r){e==="connected"&&this.isConnected&&n!=null&&n!==r&&requestAnimationFrame(()=>this.reconnect())}notify(e,n){if(this.editorController)return Ml("trix-".concat(e),{onElement:this,attributes:n})}setFormValue(e){const{inputElement:n}=this;n&&(n.value=e),Re(this,ht).setFormValue(e)}connectedCallback(){if(!this.hasAttribute("data-trix-internal")){if(JU(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),!this.editorController){if(Ml("trix-before-initialize",{onElement:this}),this.defaultValue=this.inputElement?this.inputElement.value:this.innerHTML,!this.hasAttribute("input")&&this.parentNode&&this.willCreateInput){const e="trix-input-".concat(this.trixId);this.setAttribute("input",e);const n=we("input",{type:"hidden",id:e});this.parentNode.insertBefore(n,this.nextElementSibling)}this.editorController=new Wl({editorElement:this,html:this.defaultValue}),requestAnimationFrame(()=>Ml("trix-initialize",{onElement:this}))}this.editorController.registerSelectionManager(),Re(this,ht).connectedCallback(),this.toggleAttribute("connected",!0),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this)}}disconnectedCallback(){var e;(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),Re(this,ht).disconnectedCallback(),this.toggleAttribute("connected",!1)}reconnect(){this.removeInternalToolbar(),this.disconnectedCallback(),this.connectedCallback()}removeInternalToolbar(){var e;(e=this.internalToolbar)===null||e===void 0||e.remove(),this.internalToolbar=null}checkValidity(){return Re(this,ht).checkValidity()}reportValidity(){return Re(this,ht).reportValidity()}setCustomValidity(e){Re(this,ht).setCustomValidity(e)}formDisabledCallback(e){const{inputElement:n}=this;n&&(n.disabled=e),this.toggleAttribute("contenteditable",!e),Re(this,ht).formDisabledCallback(e)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}Ht(Ud,"formAssociated","ElementInternals"in window),Ht(Ud,"observedAttributes",["connected"]);const aw={VERSION:i3,config:Uc,core:CU,models:zA,views:_U,controllers:GU,observers:QU,operations:YU,elements:Object.freeze({__proto__:null,TrixEditorElement:Ud,TrixToolbarElement:JA}),filters:Object.freeze({__proto__:null,Filter:IA,attachmentGalleryFilter:MA})};Object.assign(aw,zA),window.Trix=aw,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",JA),customElements.get("trix-editor")||customElements.define("trix-editor",Ud)},0);const zh=({value:t,onChange:e,placeholder:n})=>{const r=h.useRef(null),i=h.useRef(null),s=h.useRef(!0);return h.useEffect(()=>{var c;const a=(c=r.current)==null?void 0:c.querySelector("trix-editor");if(!a)return;const l=u=>{e(u.target.value)};return a.addEventListener("trix-change",l),s.current&&t&&(a.value=t,s.current=!1),()=>{a.removeEventListener("trix-change",l)}},[e,t]),o.jsxs("div",{ref:r,className:"trix-editor-container",children:[o.jsx("input",{ref:i,id:"trix-editor-input",type:"hidden",value:t}),o.jsx("trix-editor",{input:"trix-editor-input",placeholder:n||"Start writing..."})]})};var iz=Symbol("radix.slottable");function sz(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=iz,e}var ZA="AlertDialog",[oz]=yr(ZA,[Ej]),xi=Ej(),e_=t=>{const{__scopeAlertDialog:e,...n}=t,r=xi(e);return o.jsx(zj,{...r,...n,modal:!0})};e_.displayName=ZA;var az="AlertDialogTrigger",lz=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return o.jsx(Wj,{...i,...r,ref:e})});lz.displayName=az;var cz="AlertDialogPortal",t_=t=>{const{__scopeAlertDialog:e,...n}=t,r=xi(e);return o.jsx(qj,{...r,...n})};t_.displayName=cz;var uz="AlertDialogOverlay",n_=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return o.jsx(Mv,{...i,...r,ref:e})});n_.displayName=uz;var ia="AlertDialogContent",[dz,hz]=oz(ia),fz=sz("AlertDialogContent"),r_=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=xi(n),a=h.useRef(null),l=$e(e,a),c=h.useRef(null);return o.jsx(fM,{contentName:ia,titleName:i_,docsSlug:"alert-dialog",children:o.jsx(dz,{scope:n,cancelRef:c,children:o.jsxs(Fv,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:ye(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(fz,{children:r}),o.jsx(pz,{contentRef:a})]})})})});r_.displayName=ia;var i_="AlertDialogTitle",s_=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return o.jsx(Bv,{...i,...r,ref:e})});s_.displayName=i_;var o_="AlertDialogDescription",a_=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return o.jsx($v,{...i,...r,ref:e})});a_.displayName=o_;var mz="AlertDialogAction",l_=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return o.jsx(Uv,{...i,...r,ref:e})});l_.displayName=mz;var c_="AlertDialogCancel",u_=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=hz(c_,n),s=xi(n),a=$e(e,i);return o.jsx(Uv,{...s,...r,ref:a})});u_.displayName=c_;var pz=({contentRef:t})=>{const e=`\`${ia}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ia}\` by passing a \`${o_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ia}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},gz=e_,vz=t_,d_=n_,h_=r_,f_=l_,m_=u_,p_=s_,g_=a_;const xz=gz,yz=vz,v_=h.forwardRef(({className:t,...e},n)=>o.jsx(d_,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));v_.displayName=d_.displayName;const x_=h.forwardRef(({className:t,...e},n)=>o.jsxs(yz,{children:[o.jsx(v_,{}),o.jsx(h_,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));x_.displayName=h_.displayName;const y_=({className:t,...e})=>o.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",t),...e});y_.displayName="AlertDialogHeader";const b_=({className:t,...e})=>o.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});b_.displayName="AlertDialogFooter";const w_=h.forwardRef(({className:t,...e},n)=>o.jsx(p_,{ref:n,className:ce("text-lg font-semibold",t),...e}));w_.displayName=p_.displayName;const S_=h.forwardRef(({className:t,...e},n)=>o.jsx(g_,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));S_.displayName=g_.displayName;const C_=h.forwardRef(({className:t,...e},n)=>o.jsx(f_,{ref:n,className:ce(Ev(),t),...e}));C_.displayName=f_.displayName;const N_=h.forwardRef(({className:t,...e},n)=>o.jsx(m_,{ref:n,className:ce(Ev({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));N_.displayName=m_.displayName;function ka({src:t,alt:e="",className:n="",fallback:r="gradient",style:i={},...s}){const[a,l]=h.useState(!1),[c,u]=h.useState(!1),d=()=>{l(!0)},f=()=>{u(!0)};return!t||a?o.jsx("div",{className:`relative flex items-center justify-center ${n}`,style:{width:"100%",height:"100%",background:r==="gradient"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#e5e7eb",...i},children:r==="gradient"&&o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"opacity-50",children:o.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z",fill:"white"})})}):o.jsxs("div",{className:"relative",style:{width:"100%",height:"100%"},children:[!c&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-purple-600"})}),o.jsx("img",{src:t,alt:e,className:n,style:{...i,opacity:c?1:0,transition:"opacity 0.3s ease-in-out"},onError:d,onLoad:f,...s})]})}const bz="/api",lw=bz.replace(/\/api$/,""),wz=t=>t?t.startsWith("http")?t:t.startsWith("/")?`${lw}${t}`:`${lw}/${t}`:"";function Sz({photo:t,index:e,onDelete:n,onUpdateAlt:r}){const[i,s]=h.useState(!1),[a,l]=h.useState(t.alt_text),{attributes:c,listeners:u,setNodeRef:d,transform:f,transition:x,isDragging:S}=S1({id:t.id}),y={transform:Ea.Transform.toString(f),transition:x,opacity:S?.5:1},v=()=>{r(t.id,a),s(!1)};return o.jsxs("div",{ref:d,style:y,className:"flex items-center gap-3 p-3 bg-white border rounded-lg hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"text-xs text-muted-foreground font-mono w-6 text-center",children:["#",e+1]}),o.jsx("div",{...c,...u,className:"cursor-grab active:cursor-grabbing",children:o.jsx(go,{className:"w-5 h-5 text-muted-foreground"})}),o.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 rounded overflow-hidden bg-muted",children:[o.jsx(ka,{src:wz(t.url),alt:t.alt_text||"Property photo",className:"w-full h-full object-cover"}),e===0&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-green-600 text-white text-xs text-center py-0.5",children:"Cover"})]}),o.jsx("div",{className:"flex-1 min-w-0",children:i?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(B,{value:a,onChange:w=>l(w.target.value),placeholder:"Alt text...",className:"flex-1"}),o.jsx(I,{size:"sm",onClick:v,children:"Save"}),o.jsx(I,{size:"sm",variant:"outline",onClick:()=>s(!1),children:"Cancel"})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground truncate flex-1",children:t.alt_text||o.jsx("span",{className:"italic",children:"No alt text"})}),o.jsx(I,{size:"sm",variant:"ghost",onClick:()=>s(!0),className:"text-xs",children:"Edit"})]})}),o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:o.jsx(I,{size:"sm",variant:"destructive",onClick:()=>n(t.id),title:"Delete photo",children:o.jsx(za,{className:"w-4 h-4"})})})]})}function Cz({propertyId:t}){const e=fn(),[n,r]=h.useState(!1),[i,s]=h.useState(null),a=Jj(Ad(Ch),Ad(Sh,{coordinateGetter:C1})),{data:l=[],isLoading:c}=dt({queryKey:["property-photos",t],queryFn:async()=>(await q.get(`/property-photos/property/${t}`)).data.data}),u=qe({mutationFn:async v=>{const w=new FormData;w.append("image",v);const g=(await q.post("/upload/property-image",w,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;return(await q.post("/property-photos",{property_id:t,url:g,alt_text:"",is_cover:l.length===0})).data},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})}}),d=qe({mutationFn:async v=>{await q.delete(`/property-photos/${v}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]}),s(null)}}),f=qe({mutationFn:async({id:v,alt_text:w})=>{await q.put(`/property-photos/${v}`,{alt_text:w})},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})}}),x=qe({mutationFn:async v=>(await q.post("/property-photos/reorder",{items:v})).data,onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})},onError:v=>{console.error("Reorder failed:",v),e.invalidateQueries({queryKey:["property-photos",t]})}}),S=async v=>{const w=v.target.files;if(!(!w||w.length===0)){r(!0);try{for(let b=0;b<w.length;b++){const g=w[b];if(!g.type.startsWith("image/")){alert(`${g.name} is not an image`);continue}if(g.size>5*1024*1024){alert(`${g.name} is too large (max 5MB)`);continue}await u.mutateAsync(g)}}catch(b){console.error("Upload error:",b),alert("Failed to upload one or more images")}finally{r(!1),v.target.value=""}}},y=v=>{const{active:w,over:b}=v;if(!b||w.id===b.id)return;const g=l.findIndex(j=>j.id===w.id),m=l.findIndex(j=>j.id===b.id),p=Eh(l,g,m);e.setQueryData(["property-photos",t],p.map((j,N)=>({...j,order:N+1})));const C=p.map((j,N)=>({id:j.id,order:N+1}));x.mutate(C)};return c?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(U,{htmlFor:"photo-upload",className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md cursor-pointer hover:bg-primary/90 transition-colors",children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary-foreground border-t-transparent"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(fr,{className:"w-4 h-4"}),"Upload Photos"]})}),o.jsx(B,{id:"photo-upload",type:"file",accept:"image/*",multiple:!0,onChange:S,disabled:n,className:"hidden"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Max 5MB per image. JPEG, PNG, WebP supported. Multiple selection allowed."})]})})}),l.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(ij,{className:"w-12 h-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No photos uploaded yet"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload your first photo to get started"})]})}):o.jsx(ae,{children:o.jsxs(le,{className:"pt-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-sm font-medium",children:[l.length," ",l.length===1?"Photo":"Photos"]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Drag to reorder. The first photo is used as cover."})]}),o.jsx(p1,{sensors:a,collisionDetection:n1,onDragEnd:y,children:o.jsx(b1,{items:l.map(v=>v.id),strategy:v1,children:o.jsx("div",{className:"space-y-2",children:l.map((v,w)=>o.jsx(Sz,{photo:v,index:w,onDelete:b=>s(b),onUpdateAlt:(b,g)=>f.mutate({id:b,alt_text:g})},v.id))})})})]})}),o.jsx(xz,{open:i!==null,onOpenChange:v=>!v&&s(null),children:o.jsxs(x_,{children:[o.jsxs(y_,{children:[o.jsx(w_,{children:"Delete Photo?"}),o.jsx(S_,{children:"This action cannot be undone. This will permanently delete the photo from the property gallery."})]}),o.jsxs(b_,{children:[o.jsx(N_,{children:"Cancel"}),o.jsx(C_,{onClick:()=>i&&d.mutate(i),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}var Wh="Checkbox",[Nz]=yr(Wh),[jz,Sx]=Nz(Wh);function Ez(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[x,S]=Br({prop:n,defaultProp:i??!1,onChange:c,caller:Wh}),[y,v]=h.useState(null),[w,b]=h.useState(null),g=h.useRef(!1),m=y?!!a||!!y.closest("form"):!0,p={checked:x,disabled:s,setChecked:S,control:y,setControl:v,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:cs(i)?!1:i,isFormControl:m,bubbleInput:w,setBubbleInput:b};return o.jsx(jz,{scope:e,...p,children:Az(f)?f(p):r})}var j_="CheckboxTrigger",E_=h.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:S,bubbleInput:y}=Sx(j_,t),v=$e(i,d),w=h.useRef(c);return h.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const g=()=>f(w.current);return b.addEventListener("reset",g),()=>b.removeEventListener("reset",g)}},[s,f]),o.jsx(fe.button,{type:"button",role:"checkbox","aria-checked":cs(c)?"mixed":c,"aria-required":u,"data-state":T_(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:v,onKeyDown:ye(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ye(n,b=>{f(g=>cs(g)?!0:!g),y&&S&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})})});E_.displayName=j_;var Cx=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(Ez,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:x})=>o.jsxs(o.Fragment,{children:[o.jsx(E_,{...f,ref:e,__scopeCheckbox:n}),x&&o.jsx(R_,{__scopeCheckbox:n})]})})});Cx.displayName=Wh;var A_="CheckboxIndicator",__=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=Sx(A_,n);return o.jsx(vo,{present:r||cs(s.checked)||s.checked===!0,children:o.jsx(fe.span,{"data-state":T_(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});__.displayName=A_;var k_="CheckboxBubbleInput",R_=h.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:x,setBubbleInput:S}=Sx(k_,t),y=$e(n,S),v=Jv(s),w=Zv(r);h.useEffect(()=>{const g=x;if(!g)return;const m=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(m,"checked").set,j=!i.current;if(v!==s&&C){const N=new Event("click",{bubbles:j});g.indeterminate=cs(s),C.call(g,cs(s)?!1:s),g.dispatchEvent(N)}},[x,v,s,i]);const b=h.useRef(cs(s)?!1:s);return o.jsx(fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});R_.displayName=k_;function Az(t){return typeof t=="function"}function cs(t){return t==="indeterminate"}function T_(t){return cs(t)?"indeterminate":t?"checked":"unchecked"}const hg=h.forwardRef(({className:t,...e},n)=>o.jsx(Cx,{ref:n,className:ce("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(__,{className:ce("grid place-content-center text-current"),children:o.jsx(tj,{className:"h-4 w-4"})})}));hg.displayName=Cx.displayName;var qh="Collapsible",[_z,P_]=yr(qh),[kz,Nx]=_z(qh),D_=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...l}=t,[c,u]=Br({prop:r,defaultProp:i??!1,onChange:a,caller:qh});return o.jsx(kz,{scope:n,disabled:s,contentId:Mr(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:o.jsx(fe.div,{"data-state":Ex(c),"data-disabled":s?"":void 0,...l,ref:e})})});D_.displayName=qh;var O_="CollapsibleTrigger",L_=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=Nx(O_,n);return o.jsx(fe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Ex(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:ye(t.onClick,i.onOpenToggle)})});L_.displayName=O_;var jx="CollapsibleContent",I_=h.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Nx(jx,t.__scopeCollapsible);return o.jsx(vo,{present:n||i.open,children:({present:s})=>o.jsx(Rz,{...r,ref:e,present:s})})});I_.displayName=jx;var Rz=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,a=Nx(jx,n),[l,c]=h.useState(r),u=h.useRef(null),d=$e(e,u),f=h.useRef(0),x=f.current,S=h.useRef(0),y=S.current,v=a.open||l,w=h.useRef(v),b=h.useRef(void 0);return h.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),Ft(()=>{const g=u.current;if(g){b.current=b.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const m=g.getBoundingClientRect();f.current=m.height,S.current=m.width,w.current||(g.style.transitionDuration=b.current.transitionDuration,g.style.animationName=b.current.animationName),c(r)}},[a.open,r]),o.jsx(fe.div,{"data-state":Ex(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!v,...s,ref:d,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:v&&i})});function Ex(t){return t?"open":"closed"}var Tz=D_,Pz=L_,Dz=I_,wr="Accordion",Oz=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ax,Lz,Iz]=ex(wr),[Vh]=yr(wr,[Iz,P_]),_x=P_(),M_=Ne.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return o.jsx(Ax.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx($z,{...s,ref:e}):o.jsx(Bz,{...i,ref:e})})});M_.displayName=wr;var[F_,Mz]=Vh(wr),[B_,Fz]=Vh(wr,{collapsible:!1}),Bz=Ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...a}=t,[l,c]=Br({prop:n,defaultProp:r??"",onChange:i,caller:wr});return o.jsx(F_,{scope:t.__scopeAccordion,value:Ne.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Ne.useCallback(()=>s&&c(""),[s,c]),children:o.jsx(B_,{scope:t.__scopeAccordion,collapsible:s,children:o.jsx($_,{...a,ref:e})})})}),$z=Ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[a,l]=Br({prop:n,defaultProp:r??[],onChange:i,caller:wr}),c=Ne.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=Ne.useCallback(d=>l((f=[])=>f.filter(x=>x!==d)),[l]);return o.jsx(F_,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:o.jsx(B_,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx($_,{...s,ref:e})})})}),[Uz,Hh]=Vh(wr),$_=Ne.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...a}=t,l=Ne.useRef(null),c=$e(l,e),u=Lz(n),f=_h(i)==="ltr",x=ye(t.onKeyDown,S=>{var E;if(!Oz.includes(S.key))return;const y=S.target,v=u().filter(_=>{var A;return!((A=_.ref.current)!=null&&A.disabled)}),w=v.findIndex(_=>_.ref.current===y),b=v.length;if(w===-1)return;S.preventDefault();let g=w;const m=0,p=b-1,C=()=>{g=w+1,g>p&&(g=m)},j=()=>{g=w-1,g<m&&(g=p)};switch(S.key){case"Home":g=m;break;case"End":g=p;break;case"ArrowRight":s==="horizontal"&&(f?C():j());break;case"ArrowDown":s==="vertical"&&C();break;case"ArrowLeft":s==="horizontal"&&(f?j():C());break;case"ArrowUp":s==="vertical"&&j();break}const N=g%b;(E=v[N].ref.current)==null||E.focus()});return o.jsx(Uz,{scope:n,disabled:r,direction:i,orientation:s,children:o.jsx(Ax.Slot,{scope:n,children:o.jsx(fe.div,{...a,"data-orientation":s,ref:c,onKeyDown:r?void 0:x})})})}),zd="AccordionItem",[zz,kx]=Vh(zd),U_=Ne.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=Hh(zd,n),a=Mz(zd,n),l=_x(n),c=Mr(),u=r&&a.value.includes(r)||!1,d=s.disabled||t.disabled;return o.jsx(zz,{scope:n,open:u,disabled:d,triggerId:c,children:o.jsx(Tz,{"data-orientation":s.orientation,"data-state":K_(u),...l,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?a.onItemOpen(r):a.onItemClose(r)}})})});U_.displayName=zd;var z_="AccordionHeader",W_=Ne.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Hh(wr,n),s=kx(z_,n);return o.jsx(fe.h3,{"data-orientation":i.orientation,"data-state":K_(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});W_.displayName=z_;var fg="AccordionTrigger",q_=Ne.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Hh(wr,n),s=kx(fg,n),a=Fz(fg,n),l=_x(n);return o.jsx(Ax.ItemSlot,{scope:n,children:o.jsx(Pz,{"aria-disabled":s.open&&!a.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...r,ref:e})})});q_.displayName=fg;var V_="AccordionContent",H_=Ne.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Hh(wr,n),s=kx(V_,n),a=_x(n);return o.jsx(Dz,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});H_.displayName=V_;function K_(t){return t?"open":"closed"}var Wz=M_,qz=U_,Vz=W_,G_=q_,Q_=H_;const Y_=Wz,Wd=h.forwardRef(({className:t,...e},n)=>o.jsx(qz,{ref:n,className:ce("border-b",t),...e}));Wd.displayName="AccordionItem";const qd=h.forwardRef(({className:t,children:e,...n},r)=>o.jsx(Vz,{className:"flex",children:o.jsxs(G_,{ref:r,className:ce("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(_v,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));qd.displayName=G_.displayName;const Vd=h.forwardRef(({className:t,children:e,...n},r)=>o.jsx(Q_,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:ce("pb-4 pt-0",t),children:e})}));Vd.displayName=Q_.displayName;function Hz({propertyId:t}){const e=fn(),[n,r]=h.useState([]),[i,s]=h.useState(!1),{data:a=[]}=dt({queryKey:["cities"],queryFn:async()=>{var v,w,b;const y=await q.get("/cities");return((w=(v=y.data)==null?void 0:v.data)==null?void 0:w.cities)||((b=y.data)==null?void 0:b.data)||[]}}),{data:l=[]}=dt({queryKey:["areas"],queryFn:async()=>{var v,w,b;const y=await q.get("/areas");return((w=(v=y.data)==null?void 0:v.data)==null?void 0:w.areas)||((b=y.data)==null?void 0:b.data)||[]}}),c=Array.isArray(a)?a:[],u=Array.isArray(l)?l:[],{data:d=[],isLoading:f}=dt({queryKey:["property-landing-pages",t],queryFn:async()=>(await q.get(`/properties/${t}/landing-pages`)).data.data||[]});h.useEffect(()=>{d.length>=0&&r(d)},[d]);const x=async y=>{s(!0);try{await q.put(`/properties/${t}/landing-pages`,{landing_pages:y}),e.invalidateQueries({queryKey:["property-landing-pages",t]})}catch(v){console.error("Failed to save landing pages:",v)}finally{s(!1)}},S=(y,v)=>{const w=v?[...n,y]:n.filter(b=>b!==y);r(w),x(w)};return f?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-medium mb-2",children:"Landing Pages Association"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Select which landing pages (Cities & Areas) will display this property."}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",n.length," landing page",n.length!==1?"s":"",i&&o.jsx("span",{className:"ml-2 text-blue-500",children:"Saving..."})]})]})})})}),o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsxs(Y_,{type:"multiple",defaultValue:["cities","areas"],className:"w-full",children:[o.jsxs(Wd,{value:"cities",children:[o.jsx(qd,{className:"text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cd,{className:"w-4 h-4"}),"Cities (",c.length,")"]})}),o.jsx(Vd,{children:c.length===0?o.jsx("p",{className:"text-sm text-muted-foreground italic py-4",children:"No cities available"}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-2",children:c.map(y=>{const v=n.includes(y.slug);return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hg,{id:`city-${y.id}`,checked:v,onCheckedChange:w=>S(y.slug,!!w)}),o.jsx(U,{htmlFor:`city-${y.id}`,className:"text-sm font-normal cursor-pointer",children:y.title})]},y.id)})})})]}),o.jsxs(Wd,{value:"areas",children:[o.jsx(qd,{className:"text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sj,{className:"w-4 h-4"}),"Areas (",u.length,")"]})}),o.jsx(Vd,{children:u.length===0?o.jsx("p",{className:"text-sm text-muted-foreground italic py-4",children:"No areas available"}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-2",children:u.map(y=>{const v=n.includes(y.slug);return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hg,{id:`area-${y.id}`,checked:v,onCheckedChange:w=>S(y.slug,!!w)}),o.jsx(U,{htmlFor:`area-${y.id}`,className:"text-sm font-normal cursor-pointer",children:y.title})]},y.id)})})})]})]})})}),o.jsx(ae,{className:"bg-muted/50",children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"text-sm space-y-2",children:[o.jsx("p",{className:"font-medium",children:"How it works:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[o.jsx("li",{children:"Select landing pages where this property should appear"}),o.jsx("li",{children:"Cities: Main destination pages (e.g., Tulum, Playa del Carmen)"}),o.jsx("li",{children:"Areas: Sub-locations within cities (e.g., Downtown, Beach Zone)"}),o.jsx("li",{children:"Property will be visible in search results on selected pages"}),o.jsx("li",{children:o.jsx("strong",{children:"Changes are saved automatically"})})]})]})})})]})}const cw={"Essential Features":["A/C","Elevator","Laundry Room","Fireplace","Storage Room","Basement"],"Outdoor & Terraces":["Terrace","Balcony","Rooftop","Solarium","Garden","Private Garden","Zen Garden","Patio"],"Parking & Mobility":["Parking","Garage","Underground Parking","Covered Parking","Street Parking","Bike Parking","Shuttle Service"],"Security & Access":["Controlled Access","Security 24/7","CCTV","Perimeter Fence","Concierge","Gated Community","Intercom","Alarm System"],"Pools & Water":["Pool","Rooftop Pool","Infinity Pool","Beach-like Pool","Waterfront","Beach Club","Jacuzzi"],"Wellness & Spa":["Spa","Sauna","Steam Room","Temazcal","Yoga Area","Meditation Space"],"Fitness & Sports":["Gym","Jogging Track","Paddle Court","Pickleball Court","Tennis Court","Mini Golf","Pet Park"],"Community & Entertainment":["Clubhouse","Lounge","Cinema Room","Bar","Kids Area","Playground","BBQ Area"],"Work & Connectivity":["Co-working Space","Business Lounge","High Speed Internet","Smart Home"],Sustainability:["Solar Panels","Rainwater Harvesting","Water Treatment","Energy Efficient","Eco-Friendly"],"Views & Setting":["Ocean View","Beach Front","Golf View","City View","Mountain View","Lake View","Marina View","Jungle View"],"Interior Features":["Furnished","Semi-Furnished","Unfurnished","Walk-in Closet","High Ceilings","Hardwood Floors","Marble Floors","Modern Kitchen","Open Plan"],"Property Status":["New Construction","Recently Renovated","Move-in Ready","Pre-sale","Investment Opportunity"],"Legal & Rentals":["HOA","No HOA","Short Term Rental OK","Long Term Rental OK","Pet Friendly"],Proximity:["Near Beach","Near Golf","Near Downtown","Near Airport","Near Shopping","Near Schools","Near Hospital","Quiet Neighborhood"]};function Kz({selectedTags:t,onChange:e,maxTags:n}){const[r,i]=h.useState(""),[s,a]=h.useState(""),l=h.useMemo(()=>{if(!r)return cw;const x={};return Object.entries(cw).forEach(([S,y])=>{const v=y.filter(w=>w.toLowerCase().includes(r.toLowerCase()));v.length>0&&(x[S]=v)}),x},[r]),c=x=>{n!==void 0&&t.length>=n||t.includes(x)||e([...t,x])},u=x=>{e(t.filter(S=>S!==x))},d=()=>{const x=s.trim();if(x){if(t.includes(x)){a("");return}n!==void 0&&t.length>=n||(e([...t,x]),a(""))}},f=x=>{x.key==="Enter"&&(x.preventDefault(),d())};return o.jsxs("div",{className:"space-y-4",children:[o.jsx(ae,{children:o.jsxs(le,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center justif{maxTags !== undefined ? `/${maxTags}` : '' mb-3",children:[o.jsxs("h3",{className:"text-sm font-medium",children:["Selected Tags (",t.length,"/",n,")"]}),t.length>0&&o.jsx(I,{size:"sm",type:"button",variant:"ghost",onClick:()=>e([]),className:"h-7 text-xs",children:"Clear All"})]}),t.length===0?o.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No tags selected"}):o.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(x=>o.jsxs(Wp,{variant:"secondary",className:"px-3 py-1.5 text-sm",children:[x,o.jsx("button",{type:"button",onClick:()=>u(x),className:"ml-2 hover:text-destructive transition-colors",children:o.jsx(mr,{className:"w-3 h-3"})})]},x))})]})}),o.jsxs("div",{className:"relative",children:[o.jsx(aj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(B,{placeholder:"Search tags...",value:r,onChange:x=>i(x.target.value),className:"pl-9"})]}),o.jsx(ae,{children:o.jsxs(le,{className:"pt-6",children:[o.jsx("h3",{className:"text-sm font-medium mb-3",children:"Add Custom Tag"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(B,{placeholder:"Enter custom tag...",value:s,onChange:x=>a(x.target.value),onKeyDown:f,className:"flex-1"}),o.jsxs(I,{type:"button",onClick:d,disabled:!s.trim(),children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Add"]})]})]})}),o.jsx(ae,{children:o.jsxs(le,{className:"pt-6",children:[o.jsx("h3",{className:"text-sm font-medium mb-3",children:"Predefined Tags"}),Object.keys(l).length===0?o.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No tags found"}):o.jsx(Y_,{type:"multiple",className:"w-full",children:Object.entries(l).map(([x,S])=>o.jsxs(Wd,{value:x,children:[o.jsxs(qd,{className:"text-sm font-medium",children:[x," (",S.length,")"]}),o.jsx(Vd,{children:o.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:S.map(y=>{const v=t.includes(y),w=!v&&n!==void 0&&t.length>=n;return o.jsxs(I,{type:"button",size:"sm",variant:v?"default":"outline",onClick:()=>v?u(y):c(y),disabled:w,className:"h-7 text-xs",children:[v&&o.jsx(mr,{className:"w-3 h-3 mr-1"}),!v&&o.jsx(Rn,{className:"w-3 h-3 mr-1"}),y]},y)})})})]},x))})]})})]})}function vm(){const{id:t}=po(),e=Pt(),n=!!t,[r,i]=h.useState({title:"",subtitle:"",property_type:"active",status:"for_sale",property_categories:["apartment"],description:"",content:"",price_base_currency:"USD",price_usd:"",price_mxn:"",price_eur:"",exchange_rate:"",price_on_demand:!1,price_negotiable:!1,price_from_usd:"",price_to_usd:"",price_from_mxn:"",price_to_mxn:"",price_from_eur:"",price_to_eur:"",bedrooms:"",bedrooms_min:"",bedrooms_max:"",bathrooms:"",bathrooms_min:"",bathrooms_max:"",sqm:"",sqft:"",sqm_min:"",sqm_max:"",sqft_min:"",sqft_max:"",lot_size_sqm:"",size_unit:"sqm",year_built:"",furnishing_status:"unfurnished",neighborhood:"",city:"",state:"",country:"Mexico",address:"",latitude:"",longitude:"",google_maps_url:"",tags:[],seo_title:"",seo_description:"",seo_keywords:"",og_title:"",og_description:"",is_active:!1,featured:!1,show_in_home:!1,order:"",internal_notes:""});dt({queryKey:["property",t],queryFn:async()=>{var C,j,N,E,_,A,k,P,M,$,X,z,Q,O,L,G,Z,V,ke,ie,He,ne;const p=(await q.get(`/properties/${t}`)).data.data;return i({title:p.title||"",subtitle:p.subtitle||"",property_type:p.property_type||"active",status:p.status||"for_sale",property_categories:(C=p.property_categories)!=null&&C.length?p.property_categories:p.property_category?[p.property_category]:["apartment"],description:p.description||"",content:p.content||"",price_base_currency:p.price_base_currency||"USD",price_usd:((j=p.price_usd)==null?void 0:j.toString())||"",price_mxn:((N=p.price_mxn)==null?void 0:N.toString())||"",price_eur:((E=p.price_eur)==null?void 0:E.toString())||"",exchange_rate:((_=p.exchange_rate)==null?void 0:_.toString())||"",price_on_demand:p.price_on_demand||!1,price_negotiable:p.price_negotiable||!1,price_from_usd:((A=p.price_from_usd)==null?void 0:A.toString())||"",price_to_usd:((k=p.price_to_usd)==null?void 0:k.toString())||"",price_from_mxn:((P=p.price_from_mxn)==null?void 0:P.toString())||"",price_to_mxn:((M=p.price_to_mxn)==null?void 0:M.toString())||"",price_from_eur:(($=p.price_from_eur)==null?void 0:$.toString())||"",price_to_eur:((X=p.price_to_eur)==null?void 0:X.toString())||"",bedrooms:p.bedrooms||"",bedrooms_min:p.bedrooms_min||"",bedrooms_max:p.bedrooms_max||"",bathrooms:p.bathrooms||"",bathrooms_min:p.bathrooms_min||"",bathrooms_max:p.bathrooms_max||"",sqm:((z=p.sqm)==null?void 0:z.toString())||"",sqft:((Q=p.sqft)==null?void 0:Q.toString())||"",sqm_min:((O=p.sqm_min)==null?void 0:O.toString())||"",sqm_max:((L=p.sqm_max)==null?void 0:L.toString())||"",sqft_min:((G=p.sqft_min)==null?void 0:G.toString())||"",sqft_max:((Z=p.sqft_max)==null?void 0:Z.toString())||"",lot_size_sqm:((V=p.lot_size_sqm)==null?void 0:V.toString())||"",size_unit:"sqm",year_built:((ke=p.year_built)==null?void 0:ke.toString())||"",furnishing_status:p.furnishing_status||"unfurnished",neighborhood:p.neighborhood||"",city:p.city||"",state:p.state||"",country:p.country||"Mexico",address:p.address||"",latitude:((ie=p.latitude)==null?void 0:ie.toString())||"",longitude:((He=p.longitude)==null?void 0:He.toString())||"",google_maps_url:p.google_maps_url||"",tags:p.tags||[],seo_title:p.seo_title||"",seo_description:p.seo_description||"",seo_keywords:p.seo_keywords||"",og_title:p.og_title||"",og_description:p.og_description||"",is_active:p.is_active||!1,featured:p.featured||!1,show_in_home:p.show_in_home||!1,order:((ne=p.order)==null?void 0:ne.toString())||"",internal_notes:p.internal_notes||""}),p},enabled:n});const s=qe({mutationFn:async m=>n?q.put(`/properties/${t}`,m):q.post("/properties",m),onSuccess:m=>{var p,C;!n&&((C=(p=m.data)==null?void 0:p.data)!=null&&C.id)&&e(`/properties/${m.data.data.id}`)},onError:m=>{var p,C;alert(((C=(p=m.response)==null?void 0:p.data)==null?void 0:C.error)||"An error occurred")}}),[a,l]=h.useState(null),[c,u]=h.useState("info");h.useEffect(()=>{!n&&!r.exchange_rate&&fetch("/api/exchange-rate/current").then(m=>m.json()).then(m=>{m.success&&m.data.rate&&i(p=>({...p,exchange_rate:m.data.rate}))}).catch(m=>console.error("Failed to load global exchange rate:",m))},[n,r.exchange_rate]);const d={title:"info",subtitle:"info",property_type:"info",status:"info",property_categories:"info",description:"info",content:"info",seo_title:"info",seo_description:"info",og_title:"info",og_description:"info",price_usd:"price",exchange_rate:"price",price_on_demand:"price",price_negotiable:"price",price_from_usd:"price",price_to_usd:"price",bedrooms:"price",bathrooms:"price",sqm:"price",lot_size_sqm:"price",year_built:"price",furnishing_status:"price",neighborhood:"location",city:"location",state:"location",country:"location",address:"location",google_maps_url:"location",internal_notes:"notes"},f=m=>{l(m);const p=d[m];p&&u(p),setTimeout(()=>{const C=document.querySelector(`[name="${m}"]`);C&&(C.focus(),C.scrollIntoView({behavior:"smooth",block:"center"}))},100)},x=m=>{if(m.preventDefault(),l(null),!t){if(!r.title.trim()){f("title");return}if(!r.city.trim()){f("city");return}}if(t){if(!r.title.trim()){f("title");return}if(!r.city.trim()){f("city");return}if(!r.property_categories||r.property_categories.length===0){alert("Please select at least one category"),u("info");return}if(r.property_type==="active"&&r.property_categories.length>1){alert("Active properties can have only one category"),u("info");return}if(!r.price_on_demand){if(r.property_type==="active"){if(!r.price_usd||parseFloat(r.price_usd)<=0){f("price_usd");return}}else if(r.property_type==="development"&&(!r.price_from_usd||parseFloat(r.price_from_usd)<=0)&&(!r.price_from_mxn||parseFloat(r.price_from_mxn)<=0)){alert("Please enter a price range for the development"),f("price_from_usd");return}}if(!r.seo_title.trim()){f("seo_title");return}if(!r.seo_description.trim()){f("seo_description");return}if(!r.og_title.trim()){f("og_title");return}if(!r.og_description.trim()){f("og_description");return}}const p={title:r.title,subtitle:r.subtitle,property_type:r.property_type,status:r.status,description:r.description,content:r.content,city:r.city,neighborhood:r.neighborhood,country:r.country,latitude:r.latitude?parseFloat(r.latitude):null,longitude:r.longitude?parseFloat(r.longitude):null,price_base_currency:r.price_base_currency,price_usd:r.price_usd?parseFloat(r.price_usd):null,price_mxn:r.price_mxn?parseFloat(r.price_mxn):null,exchange_rate:r.exchange_rate?parseFloat(r.exchange_rate):20,price_on_demand:r.price_on_demand,price_negotiable:r.price_negotiable,price_from_usd:r.price_from_usd?parseFloat(r.price_from_usd):null,price_to_usd:r.price_to_usd?parseFloat(r.price_to_usd):null,price_from_mxn:r.price_from_mxn?parseFloat(r.price_from_mxn):null,price_to_mxn:r.price_to_mxn?parseFloat(r.price_to_mxn):null,sqm:r.sqm?parseFloat(r.sqm):null,sqft:r.sqft?parseFloat(r.sqft):null,sqm_min:r.sqm_min?parseFloat(r.sqm_min):null,sqm_max:r.sqm_max?parseFloat(r.sqm_max):null,sqft_min:r.sqft_min?parseFloat(r.sqft_min):null,sqft_max:r.sqft_max?parseFloat(r.sqft_max):null,lot_size_sqm:r.lot_size_sqm?parseFloat(r.lot_size_sqm):null,year_built:r.year_built?parseInt(r.year_built):null,furnishing_status:r.furnishing_status,tags:r.tags,is_active:r.is_active,featured:r.featured,show_in_home:r.show_in_home,order:r.order?parseInt(r.order):0,internal_notes:r.internal_notes,seo_title:r.seo_title,seo_description:r.seo_description,seo_keywords:r.seo_keywords};p.property_categories=r.property_categories,p.property_category=r.property_categories[0]||null,r.property_type==="development"?(p.bedrooms_min=r.bedrooms_min||null,p.bedrooms_max=r.bedrooms_max||null,p.bathrooms_min=r.bathrooms_min||null,p.bathrooms_max=r.bathrooms_max||null):(p.bedrooms=r.bedrooms||null,p.bathrooms=r.bathrooms||null),s.mutate(p)},S=m=>a===m?"border-red-500 ring-2 ring-red-200":"",y=m=>{const{name:p,value:C}=m.target;i(j=>({...j,[p]:C}))},v=(m,p)=>{i(C=>({...C,[m]:p}))},w=(m,p)=>{i(C=>({...C,[m]:p}))},b=o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(B,{name:"title",value:r.title,onChange:y,required:!0,className:S("title")})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-sm font-medium",children:"Subtitle"}),o.jsx(ut,{name:"subtitle",value:r.subtitle,onChange:y,rows:3})]}),o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["City ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(B,{name:"city",value:r.city,onChange:y,required:!0,className:S("city")})]}),o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["Property Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(en,{value:r.property_type,onValueChange:m=>v("property_type",m),children:[o.jsx(zt,{children:o.jsx(tn,{})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"active",children:"Active Property"}),o.jsx(se,{value:"development",children:"New Development"})]})]})]})]}),g=o.jsxs(r3,{value:c,onValueChange:u,className:"w-full",children:[o.jsxs(oA,{className:"grid w-full grid-cols-7",children:[o.jsx(Ti,{value:"info",children:"Basic Info & SEO"}),o.jsx(Ti,{value:"price",children:"Pricing"}),o.jsx(Ti,{value:"location",children:"Location"}),o.jsx(Ti,{value:"gallery",children:"Gallery"}),o.jsx(Ti,{value:"tags",children:"Tags"}),o.jsx(Ti,{value:"landing",children:"Landing"}),o.jsx(Ti,{value:"notes",children:"Notes"})]}),o.jsxs(Pi,{value:"info",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(B,{name:"title",value:r.title,onChange:y,required:!0,className:r.title.trim()?"":"border-red-300"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" ",o.jsx("strong",{children:"Main heading"})," displayed at the top of the property page and in listings"]})]}),o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["Property Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(en,{value:r.property_type,onValueChange:m=>v("property_type",m),children:[o.jsx(zt,{children:o.jsx(tn,{})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"active",children:"Active Property"}),o.jsx(se,{value:"development",children:"New Development"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(U,{children:"Subtitle"}),o.jsx(ut,{name:"subtitle",value:r.subtitle,onChange:y,rows:2}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" ",o.jsx("strong",{children:"Secondary heading"})," shown below the title (optional short description or tagline)"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(en,{value:r.status,onValueChange:m=>v("status",m),children:[o.jsx(zt,{children:o.jsx(tn,{})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"for_sale",children:"For Sale"}),o.jsx(se,{value:"sold",children:"Sold"}),o.jsx(se,{value:"reserved",children:"Reserved"})]})]})]}),o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["Property Category ",o.jsx("span",{className:"text-red-500",children:"*"}),r.property_type==="active"&&o.jsx("span",{className:"text-xs text-muted-foreground font-normal ml-2",children:"(select one)"}),r.property_type==="development"&&o.jsx("span",{className:"text-xs text-muted-foreground font-normal ml-2",children:"(select one or more)"})]}),o.jsxs("div",{className:"space-y-2 border rounded-md p-3 bg-slate-50",children:[["apartment","house","villa","condo","penthouse","land","commercial"].map(m=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`cat-${m}`,checked:r.property_categories.includes(m),onChange:p=>{r.property_type==="active"?i(C=>({...C,property_categories:p.target.checked?[m]:[]})):p.target.checked?i(C=>({...C,property_categories:[...C.property_categories,m]})):i(C=>({...C,property_categories:C.property_categories.filter(j=>j!==m)}))},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary cursor-pointer"}),o.jsx("label",{htmlFor:`cat-${m}`,className:"capitalize cursor-pointer text-sm",children:m})]},m)),r.property_categories.length===0&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Select at least one category"})]})]})]}),o.jsxs("div",{children:[o.jsx(U,{children:"Description"}),o.jsx(ut,{name:"description",value:r.description,onChange:y,rows:3})]}),o.jsxs("div",{children:[o.jsx(U,{children:"Content"}),o.jsx(zh,{value:r.content,onChange:m=>i(p=>({...p,content:m}))})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rt,{checked:r.is_active,onCheckedChange:m=>w("is_active",m)}),o.jsx(U,{children:"Published"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rt,{checked:r.featured,onCheckedChange:m=>w("featured",m)}),o.jsx(U,{children:"Featured"})]})]}),o.jsxs("div",{className:"border-t pt-6 mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"SEO & Social Media"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"These fields control how your property appears in Google search results and when shared on social media platforms."}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm text-blue-900 mb-2",children:" SEO Fields (Google Search)"}),o.jsx("p",{className:"text-xs text-blue-800",children:"Controls what users see when they search for properties on Google, Bing, and other search engines."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm text-green-900 mb-2",children:" OG Fields (Social Sharing)"}),o.jsx("p",{className:"text-xs text-green-800",children:"Controls the preview card when someone shares the property link on WhatsApp, Facebook, LinkedIn, or Twitter."})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs(U,{children:["SEO Title (max 160 chars) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(B,{name:"seo_title",value:r.seo_title,onChange:y,maxLength:160,className:S("seo_title")}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.seo_title.length,"/160 characters"]})]}),o.jsxs("div",{children:[o.jsxs(U,{children:["SEO Description (max 320 chars) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(ut,{name:"seo_description",value:r.seo_description,onChange:y,maxLength:320,rows:3,className:S("seo_description")}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.seo_description.length,"/320 characters"]})]}),o.jsxs("div",{children:[o.jsxs(U,{children:["OG Title (Facebook/LinkedIn) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(B,{name:"og_title",value:r.og_title,onChange:y,maxLength:160,className:S("og_title")})]}),o.jsxs("div",{children:[o.jsxs(U,{children:["OG Description (Facebook/LinkedIn) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(ut,{name:"og_description",value:r.og_description,onChange:y,maxLength:320,rows:3,className:S("og_description")}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.og_description.length,"/320 characters"]})]})]}),o.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mt-6",children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:" Quick Reference: Where Each Text Appears"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"Title:"}),o.jsx("span",{className:"text-muted-foreground",children:"Main heading on property page + listing cards"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"Subtitle:"}),o.jsx("span",{className:"text-muted-foreground",children:"Secondary text below title (optional tagline)"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"Description:"}),o.jsx("span",{className:"text-muted-foreground",children:"Short summary in property cards/previews"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"Content:"}),o.jsx("span",{className:"text-muted-foreground",children:"Full rich-text description in detail page"})]}),o.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"Address:"}),o.jsx("span",{className:"text-muted-foreground",children:"Full street address shown on property page"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"Neighborhood:"}),o.jsx("span",{className:"text-muted-foreground",children:"Area/zone name in property details"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"City:"}),o.jsx("span",{className:"text-muted-foreground",children:"City name in property details + filters"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"State:"}),o.jsx("span",{className:"text-muted-foreground",children:"State/region in property details"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"Google Maps URL:"}),o.jsx("span",{className:"text-muted-foreground",children:"Interactive map embed on property page"})]}),o.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"SEO Title/Desc:"}),o.jsx("span",{className:"text-muted-foreground",children:"SEO for Google indexing and search results"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"font-semibold min-w-[140px]",children:"OG Title/Desc:"}),o.jsx("span",{className:"text-muted-foreground",children:"Preview card for social media sharing (WhatsApp, Facebook, LinkedIn)"})]})]})]})]})]}),o.jsxs(Pi,{value:"price",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Rt,{checked:r.price_on_demand,onCheckedChange:m=>w("price_on_demand",m)}),o.jsx(U,{children:"Price on Demand"})]}),!r.price_on_demand&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-slate-50 border rounded-lg p-4 mb-4",children:[o.jsx(U,{className:"text-sm font-medium mb-2 block",children:"Base Currency"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:()=>i(m=>({...m,price_base_currency:"USD"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${r.price_base_currency==="USD"?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:" USD (Dollars)"}),o.jsx("button",{type:"button",onClick:()=>i(m=>({...m,price_base_currency:"MXN"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${r.price_base_currency==="MXN"?"bg-green-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:" MXN (Pesos)"}),o.jsx("button",{type:"button",onClick:()=>i(m=>({...m,price_base_currency:"EUR"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${r.price_base_currency==="EUR"?"bg-purple-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:" EUR (Euros)"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:r.price_base_currency==="USD"?"Prices entered in USD will be automatically converted to MXN and EUR":r.price_base_currency==="MXN"?"Prices entered in MXN will be automatically converted to USD and EUR":"Prices entered in EUR will be automatically converted to USD and MXN"})]}),o.jsxs("div",{children:[o.jsxs(U,{className:"flex items-center gap-2",children:["Exchange Rate (1 USD = ? MXN)",o.jsx("span",{className:"text-xs font-normal text-muted-foreground bg-blue-50 px-2 py-0.5 rounded",children:"Global Rate (Auto-loaded)"})]}),o.jsx(B,{type:"number",step:"0.01",name:"exchange_rate",value:r.exchange_rate,onChange:m=>{const p=m.target.value;i(C=>{const j={...C,exchange_rate:p};return C.price_base_currency==="USD"&&C.price_usd?j.price_mxn=(parseFloat(C.price_usd)*parseFloat(p||"0")).toFixed(2):C.price_base_currency==="MXN"&&C.price_mxn&&(j.price_usd=(parseFloat(C.price_mxn)/parseFloat(p||"1")).toFixed(2)),j})}}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This rate is automatically loaded from the global settings. You can adjust it if needed for this specific property."})]}),r.price_base_currency==="USD"?o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["Price USD ",r.property_type==="active"&&o.jsx("span",{className:"text-red-500",children:"*"}),r.property_type==="development"&&o.jsx("span",{className:"text-gray-400 text-xs ml-1",children:"(optional)"})]}),o.jsx(B,{type:"number",name:"price_usd",value:r.price_usd,onChange:m=>{const p=m.target.value,C=17.5,j=.92,N=p?(parseFloat(p)*C).toFixed(2):"",E=p?(parseFloat(p)*j).toFixed(2):"";i(_=>({..._,price_usd:p,price_mxn:N,price_eur:E}))},step:"0.01",className:S("price_usd")})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-sm text-gray-600",children:"Price MXN (auto)"}),o.jsx(B,{type:"text",value:r.price_mxn?`$${parseFloat(r.price_mxn).toLocaleString("es-MX")}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-sm text-gray-600",children:"Price EUR (auto)"}),o.jsx(B,{type:"text",value:r.price_eur?`${parseFloat(r.price_eur).toLocaleString("it-IT")}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]}):r.price_base_currency==="MXN"?o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["Price MXN ",r.property_type==="active"&&o.jsx("span",{className:"text-red-500",children:"*"}),r.property_type==="development"&&o.jsx("span",{className:"text-gray-400 text-xs ml-1",children:"(optional)"})]}),o.jsx(B,{type:"number",name:"price_mxn",value:r.price_mxn,onChange:m=>{const p=m.target.value,C=1/17.5,j=1/19.1,N=p?(parseFloat(p)*C).toFixed(2):"",E=p?(parseFloat(p)*j).toFixed(2):"";i(_=>({..._,price_mxn:p,price_usd:N,price_eur:E}))},step:"0.01",className:S("price_mxn")})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-sm text-gray-600",children:"Price USD (auto)"}),o.jsx(B,{type:"text",value:r.price_usd?`$${parseFloat(r.price_usd).toLocaleString("en-US")}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-sm text-gray-600",children:"Price EUR (auto)"}),o.jsx(B,{type:"text",value:r.price_eur?`${parseFloat(r.price_eur).toLocaleString("it-IT")}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]}):o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["Price EUR ",r.property_type==="active"&&o.jsx("span",{className:"text-red-500",children:"*"}),r.property_type==="development"&&o.jsx("span",{className:"text-gray-400 text-xs ml-1",children:"(optional)"})]}),o.jsx(B,{type:"number",name:"price_eur",value:r.price_eur,onChange:m=>{const p=m.target.value,C=1/.92,j=19.1,N=p?(parseFloat(p)*C).toFixed(2):"",E=p?(parseFloat(p)*j).toFixed(2):"";i(_=>({..._,price_eur:p,price_usd:N,price_mxn:E}))},step:"0.01",className:S("price_eur")})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-sm text-gray-600",children:"Price USD (auto)"}),o.jsx(B,{type:"text",value:r.price_usd?`$${parseFloat(r.price_usd).toLocaleString("en-US")}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-sm text-gray-600",children:"Price MXN (auto)"}),o.jsx(B,{type:"text",value:r.price_mxn?`$${parseFloat(r.price_mxn).toLocaleString("es-MX")}`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]})]}),r.property_type==="development"&&!r.price_on_demand&&o.jsxs("div",{children:[o.jsx(U,{className:"text-sm font-medium mb-2",children:"Price Range (for developments)"}),r.price_base_currency==="USD"?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"From USD"}),o.jsx(B,{type:"number",name:"price_from_usd",value:r.price_from_usd,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)*17.5).toFixed(2):"",j=p?(parseFloat(p)*.92).toFixed(2):"";i(N=>({...N,price_from_usd:p,price_from_mxn:C,price_from_eur:j}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"To USD"}),o.jsx(B,{type:"number",name:"price_to_usd",value:r.price_to_usd,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)*17.5).toFixed(2):"",j=p?(parseFloat(p)*.92).toFixed(2):"";i(N=>({...N,price_to_usd:p,price_to_mxn:C,price_to_eur:j}))},step:"0.01"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[o.jsxs("div",{children:["MXN: ",r.price_from_mxn?`$${parseFloat(r.price_from_mxn).toLocaleString("es-MX")}`:"-"]}),o.jsxs("div",{children:["MXN: ",r.price_to_mxn?`$${parseFloat(r.price_to_mxn).toLocaleString("es-MX")}`:"-"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[o.jsxs("div",{children:["EUR: ",r.price_from_eur?`${parseFloat(r.price_from_eur).toLocaleString("it-IT")}`:"-"]}),o.jsxs("div",{children:["EUR: ",r.price_to_eur?`${parseFloat(r.price_to_eur).toLocaleString("it-IT")}`:"-"]})]})]}):r.price_base_currency==="MXN"?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"From MXN"}),o.jsx(B,{type:"number",name:"price_from_mxn",value:r.price_from_mxn,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/17.5).toFixed(2):"",j=p?(parseFloat(p)/19.1).toFixed(2):"";i(N=>({...N,price_from_mxn:p,price_from_usd:C,price_from_eur:j}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"To MXN"}),o.jsx(B,{type:"number",name:"price_to_mxn",value:r.price_to_mxn,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/17.5).toFixed(2):"",j=p?(parseFloat(p)/19.1).toFixed(2):"";i(N=>({...N,price_to_mxn:p,price_to_usd:C,price_to_eur:j}))},step:"0.01"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[o.jsxs("div",{children:["USD: ",r.price_from_usd?`$${parseFloat(r.price_from_usd).toLocaleString("en-US")}`:"-"]}),o.jsxs("div",{children:["USD: ",r.price_to_usd?`$${parseFloat(r.price_to_usd).toLocaleString("en-US")}`:"-"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[o.jsxs("div",{children:["EUR: ",r.price_from_eur?`${parseFloat(r.price_from_eur).toLocaleString("it-IT")}`:"-"]}),o.jsxs("div",{children:["EUR: ",r.price_to_eur?`${parseFloat(r.price_to_eur).toLocaleString("it-IT")}`:"-"]})]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"From EUR"}),o.jsx(B,{type:"number",name:"price_from_eur",value:r.price_from_eur,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/.92).toFixed(2):"",j=p?(parseFloat(p)*19.1).toFixed(2):"";i(N=>({...N,price_from_eur:p,price_from_usd:C,price_from_mxn:j}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"To EUR"}),o.jsx(B,{type:"number",name:"price_to_eur",value:r.price_to_eur,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/.92).toFixed(2):"",j=p?(parseFloat(p)*19.1).toFixed(2):"";i(N=>({...N,price_to_eur:p,price_to_usd:C,price_to_mxn:j}))},step:"0.01"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[o.jsxs("div",{children:["USD: ",r.price_from_usd?`$${parseFloat(r.price_from_usd).toLocaleString("en-US")}`:"-"]}),o.jsxs("div",{children:["USD: ",r.price_to_usd?`$${parseFloat(r.price_to_usd).toLocaleString("en-US")}`:"-"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[o.jsxs("div",{children:["MXN: ",r.price_from_mxn?`$${parseFloat(r.price_from_mxn).toLocaleString("es-MX")}`:"-"]}),o.jsxs("div",{children:["MXN: ",r.price_to_mxn?`$${parseFloat(r.price_to_mxn).toLocaleString("es-MX")}`:"-"]})]})]})]}),r.price_negotiable&&r.property_type!=="development"&&!r.price_on_demand&&o.jsxs("div",{children:[o.jsx(U,{className:"text-sm font-medium mb-2",children:"Negotiable Range"}),r.price_base_currency==="USD"?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"From USD"}),o.jsx(B,{type:"number",name:"price_from_usd",value:r.price_from_usd,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)*17.5).toFixed(2):"",j=p?(parseFloat(p)*.92).toFixed(2):"";i(N=>({...N,price_from_usd:p,price_from_mxn:C,price_from_eur:j}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"To USD"}),o.jsx(B,{type:"number",name:"price_to_usd",value:r.price_to_usd,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)*17.5).toFixed(2):"",j=p?(parseFloat(p)*.92).toFixed(2):"";i(N=>({...N,price_to_usd:p,price_to_mxn:C,price_to_eur:j}))},step:"0.01"})]})]}):r.price_base_currency==="MXN"?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"From MXN"}),o.jsx(B,{type:"number",name:"price_from_mxn",value:r.price_from_mxn,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/17.5).toFixed(2):"",j=p?(parseFloat(p)/19.1).toFixed(2):"";i(N=>({...N,price_from_mxn:p,price_from_usd:C,price_from_eur:j}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"To MXN"}),o.jsx(B,{type:"number",name:"price_to_mxn",value:r.price_to_mxn,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/17.5).toFixed(2):"",j=p?(parseFloat(p)/19.1).toFixed(2):"";i(N=>({...N,price_to_mxn:p,price_to_usd:C,price_to_eur:j}))},step:"0.01"})]})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"From EUR"}),o.jsx(B,{type:"number",name:"price_from_eur",value:r.price_from_eur,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/.92).toFixed(2):"",j=p?(parseFloat(p)*19.1).toFixed(2):"";i(N=>({...N,price_from_eur:p,price_from_usd:C,price_from_mxn:j}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"To EUR"}),o.jsx(B,{type:"number",name:"price_to_eur",value:r.price_to_eur,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/.92).toFixed(2):"",j=p?(parseFloat(p)*19.1).toFixed(2):"";i(N=>({...N,price_to_eur:p,price_to_usd:C,price_to_mxn:j}))},step:"0.01"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rt,{checked:r.price_negotiable,onCheckedChange:m=>w("price_negotiable",m)}),o.jsx(U,{children:"Price Negotiable"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.property_type==="active"?o.jsxs("div",{children:[o.jsx(U,{children:"Bedrooms"}),o.jsxs(en,{value:r.bedrooms,onValueChange:m=>v("bedrooms",m),children:[o.jsx(zt,{children:o.jsx(tn,{placeholder:"Select"})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"studio",children:"Studio"}),o.jsx(se,{value:"1",children:"1"}),o.jsx(se,{value:"2",children:"2"}),o.jsx(se,{value:"3",children:"3"}),o.jsx(se,{value:"4",children:"4"}),o.jsx(se,{value:"5+",children:"5+"})]})]})]}):o.jsxs("div",{children:[o.jsx(U,{className:"text-sm font-medium mb-2",children:"Bedrooms Range"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs text-gray-600",children:"From"}),o.jsxs(en,{value:r.bedrooms_min,onValueChange:m=>v("bedrooms_min",m),children:[o.jsx(zt,{children:o.jsx(tn,{placeholder:"Min"})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"studio",children:"Studio"}),o.jsx(se,{value:"1",children:"1"}),o.jsx(se,{value:"2",children:"2"}),o.jsx(se,{value:"3",children:"3"}),o.jsx(se,{value:"4",children:"4"}),o.jsx(se,{value:"5+",children:"5+"})]})]})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs text-gray-600",children:"To"}),o.jsxs(en,{value:r.bedrooms_max,onValueChange:m=>v("bedrooms_max",m),children:[o.jsx(zt,{children:o.jsx(tn,{placeholder:"Max"})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"studio",children:"Studio"}),o.jsx(se,{value:"1",children:"1"}),o.jsx(se,{value:"2",children:"2"}),o.jsx(se,{value:"3",children:"3"}),o.jsx(se,{value:"4",children:"4"}),o.jsx(se,{value:"5+",children:"5+"})]})]})]})]})]}),r.property_type==="active"?o.jsxs("div",{children:[o.jsx(U,{children:"Bathrooms"}),o.jsxs(en,{value:r.bathrooms,onValueChange:m=>v("bathrooms",m),children:[o.jsx(zt,{children:o.jsx(tn,{placeholder:"Select"})}),o.jsx(Wt,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(m=>o.jsx(se,{value:m,children:m},m))})]})]}):o.jsxs("div",{children:[o.jsx(U,{className:"text-sm font-medium mb-2",children:"Bathrooms Range"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs text-gray-600",children:"From"}),o.jsxs(en,{value:r.bathrooms_min,onValueChange:m=>v("bathrooms_min",m),children:[o.jsx(zt,{children:o.jsx(tn,{placeholder:"Min"})}),o.jsx(Wt,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(m=>o.jsx(se,{value:m,children:m},m))})]})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs text-gray-600",children:"To"}),o.jsxs(en,{value:r.bathrooms_max,onValueChange:m=>v("bathrooms_max",m),children:[o.jsx(zt,{children:o.jsx(tn,{placeholder:"Max"})}),o.jsx(Wt,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(m=>o.jsx(se,{value:m,children:m},m))})]})]})]})]})]}),o.jsxs("div",{className:"bg-slate-50 border rounded-lg p-4",children:[o.jsx(U,{className:"text-sm font-medium mb-3 block",children:"Property Size"}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("button",{type:"button",onClick:()=>i(m=>({...m,size_unit:"sqm"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${r.size_unit==="sqm"?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"m (Square Meters)"}),o.jsx("button",{type:"button",onClick:()=>i(m=>({...m,size_unit:"sqft"})),className:`flex-1 py-2 px-4 rounded-md font-medium transition ${r.size_unit==="sqft"?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"sq ft (Square Feet)"})]}),r.property_type==="active"?o.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.size_unit==="sqm"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"Size (m)"}),o.jsx(B,{type:"number",name:"sqm",value:r.sqm,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)*10.7639).toFixed(2):"";i(j=>({...j,sqm:p,sqft:C}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs text-gray-600",children:"Size (sq ft) - auto"}),o.jsx(B,{type:"text",value:r.sqft?`${parseFloat(r.sqft).toFixed(2)} sq ft`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"Size (sq ft)"}),o.jsx(B,{type:"number",name:"sqft",value:r.sqft,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/10.7639).toFixed(2):"";i(j=>({...j,sqft:p,sqm:C}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs text-gray-600",children:"Size (m) - auto"}),o.jsx(B,{type:"text",value:r.sqm?`${parseFloat(r.sqm).toFixed(2)} m`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]})}):o.jsxs("div",{children:[o.jsx(U,{className:"text-sm font-medium mb-2",children:"Size Range (for developments)"}),r.size_unit==="sqm"?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"From (m)"}),o.jsx(B,{type:"number",name:"sqm_min",value:r.sqm_min,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)*10.7639).toFixed(2):"";i(j=>({...j,sqm_min:p,sqft_min:C}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"To (m)"}),o.jsx(B,{type:"number",name:"sqm_max",value:r.sqm_max,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)*10.7639).toFixed(2):"";i(j=>({...j,sqm_max:p,sqft_max:C}))},step:"0.01"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(U,{className:"text-xs text-gray-600",children:"Range in sq ft (auto-calculated)"}),o.jsx("div",{className:"text-sm text-gray-600 p-2 bg-gray-50 rounded",children:r.sqft_min&&r.sqft_max?`${parseFloat(r.sqft_min).toFixed(2)} - ${parseFloat(r.sqft_max).toFixed(2)} sq ft`:"Enter m range above"})]})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"From (sq ft)"}),o.jsx(B,{type:"number",name:"sqft_min",value:r.sqft_min,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/10.7639).toFixed(2):"";i(j=>({...j,sqft_min:p,sqm_min:C}))},step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-xs",children:"To (sq ft)"}),o.jsx(B,{type:"number",name:"sqft_max",value:r.sqft_max,onChange:m=>{const p=m.target.value,C=p?(parseFloat(p)/10.7639).toFixed(2):"";i(j=>({...j,sqft_max:p,sqm_max:C}))},step:"0.01"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(U,{className:"text-xs text-gray-600",children:"Range in m (auto-calculated)"}),o.jsx("div",{className:"text-sm text-gray-600 p-2 bg-gray-50 rounded",children:r.sqm_min&&r.sqm_max?`${parseFloat(r.sqm_min).toFixed(2)} - ${parseFloat(r.sqm_max).toFixed(2)} m`:"Enter sq ft range above"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{children:"Lot Size (m)"}),o.jsx(B,{type:"number",name:"lot_size_sqm",value:r.lot_size_sqm,onChange:y,step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(U,{className:"text-gray-600",children:"Lot Size (sq ft) - auto"}),o.jsx(B,{type:"text",value:r.lot_size_sqm?`${(parseFloat(r.lot_size_sqm)*10.7639).toFixed(2)} sq ft`:"",disabled:!0,className:"bg-gray-50 text-gray-600"})]})]}),o.jsxs("div",{children:[o.jsx(U,{children:"Year Built"}),o.jsx(B,{type:"number",name:"year_built",value:r.year_built,onChange:y})]})]}),o.jsxs("div",{children:[o.jsx(U,{children:"Furnishing Status"}),o.jsxs(en,{value:r.furnishing_status,onValueChange:m=>v("furnishing_status",m),children:[o.jsx(zt,{children:o.jsx(tn,{})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"furnished",children:"Furnished"}),o.jsx(se,{value:"semi-furnished",children:"Semi-Furnished"}),o.jsx(se,{value:"unfurnished",children:"Unfurnished"})]})]})]})]}),o.jsxs(Pi,{value:"location",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(U,{className:"text-sm font-medium",children:["City ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(B,{name:"city",value:r.city,onChange:y,required:!0,className:r.city.trim()?"":"border-red-300"})]}),o.jsxs("div",{children:[o.jsx(U,{children:"Neighborhood"}),o.jsx(B,{name:"neighborhood",value:r.neighborhood,onChange:y})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(U,{children:"State"}),o.jsx(B,{name:"state",value:r.state,onChange:y})]}),o.jsxs("div",{children:[o.jsx(U,{children:"Country"}),o.jsxs(en,{value:r.country,onValueChange:m=>v("country",m),children:[o.jsx(zt,{children:o.jsx(tn,{})}),o.jsxs(Wt,{children:[o.jsx(se,{value:"Mexico",children:"Mexico"}),o.jsx(se,{value:"USA",children:"USA"}),o.jsx(se,{value:"Italy",children:"Italy"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(U,{children:"Address"}),o.jsx(ut,{name:"address",value:r.address,onChange:y,rows:2})]}),o.jsxs("div",{children:[o.jsx(U,{children:"Google Maps Embed URL"}),o.jsx(ut,{name:"google_maps_url",value:r.google_maps_url,onChange:y,rows:3,placeholder:"Paste your Google Maps embed URL here (e.g. https://www.google.com/maps/embed?pb=...)"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get the embed URL from Google Maps: Share  Embed a map  Copy the src URL from the iframe"})]})]}),o.jsx(Pi,{value:"gallery",className:"space-y-4",children:t?o.jsx(Cz,{propertyId:parseInt(t)}):o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center bg-muted/50",children:[o.jsx("p",{className:"text-muted-foreground mb-2",children:"Gallery Upload"}),o.jsx("p",{className:"text-sm",children:"Save the property first to upload images"})]})}),o.jsx(Pi,{value:"tags",className:"space-y-4",children:o.jsx(Kz,{selectedTags:r.tags,onChange:m=>i(p=>({...p,tags:m}))})}),o.jsx(Pi,{value:"landing",className:"space-y-4",children:t?o.jsx(Hz,{propertyId:Number(t)}):o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center bg-muted/50",children:[o.jsx("p",{className:"text-muted-foreground mb-2",children:"Landing Pages"}),o.jsx("p",{className:"text-sm",children:"Save the property first to associate landing pages"})]})}),o.jsxs(Pi,{value:"notes",className:"space-y-4",children:[o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-amber-800",children:[o.jsx("strong",{children:"Internal Notes:"})," These notes are only visible in the admin panel and will NOT be displayed on the public website."]})}),o.jsxs("div",{children:[o.jsx(U,{children:"Internal Notes"}),o.jsx(ut,{name:"internal_notes",value:r.internal_notes,onChange:y,rows:10,placeholder:"Add private notes about this property..."})]})]})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>e("/properties"),children:o.jsx(vi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Property":"New Property"})]}),o.jsxs(I,{type:"button",onClick:x,disabled:s.isPending,children:[o.jsx(kv,{className:"mr-2 h-4 w-4"}),s.isPending?"Saving...":n?"Update":"Create"]})]}),o.jsx(ae,{children:o.jsx(le,{className:"pt-6",children:o.jsx("form",{onSubmit:x,children:n?g:b})})})]})}function Gz(){var S,y,v,w,b;const t=Pt(),[e,n]=h.useState(""),[r,i]=h.useState(null),[s,a]=h.useState([]),l={title:"Luxury Beachfront Villa in Tulum",subtitle:"Modern 3BR villa with private pool",property_type:"active",status:"for_sale",property_categories:["villa"],description:"Stunning beachfront villa...",content:"<h2>Welcome</h2><p>Description...</p>",price_usd:85e4,price_on_demand:!1,bedrooms:"3",bathrooms:"3.5",sqm:250,furnishing_status:"furnished",neighborhood:"Tulum Beach",city:"Tulum",country:"Mexico",latitude:20.2114185,longitude:-87.4653502,tags:["Ocean View","Private Pool","Security 24/7"],seo_title:"Luxury Villa in Tulum - 3BR with Pool",seo_description:"Discover this stunning villa...",is_active:!0,featured:!1},c=qe({mutationFn:async g=>q.post("/properties/import-json?validate_only=true",g),onSuccess:g=>{i(g.data.data),a([])},onError:g=>{var p,C;const m=((C=(p=g.response)==null?void 0:p.data)==null?void 0:C.error)||"Validation failed";a([m]),i(null)}}),u=qe({mutationFn:async g=>q.post("/properties/import-json",g),onSuccess:g=>{var p;const m=(p=g.data.data)==null?void 0:p.id;alert("Property imported successfully!"),t(m?`/properties/${m}`:"/properties")},onError:g=>{var p,C;const m=((C=(p=g.response)==null?void 0:p.data)==null?void 0:C.error)||"Import failed";a([m])}}),d=()=>{a([]),i(null);try{const g=JSON.parse(e);c.mutate(g)}catch(g){a([`Invalid JSON syntax: ${g.message}`])}},f=()=>{if(!(r!=null&&r.valid)){a(["Please validate JSON first"]);return}try{const g=JSON.parse(e);u.mutate(g)}catch(g){a([`Invalid JSON: ${g.message}`])}},x=()=>{n(JSON.stringify(l,null,2)),i(null),a([])};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>t("/properties"),children:o.jsx(vi,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Import Property from JSON"}),o.jsx("p",{className:"text-muted-foreground",children:"Import properties in bulk or migrate from external systems"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(et,{children:"JSON Data"}),o.jsxs(I,{variant:"outline",size:"sm",onClick:x,children:[o.jsx(nj,{className:"mr-2 h-4 w-4"}),"Show Example"]})]})}),o.jsxs(le,{className:"space-y-4",children:[o.jsx(ut,{value:e,onChange:g=>n(g.target.value),placeholder:"Paste your JSON here...",rows:20,className:"font-mono text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(I,{onClick:d,disabled:!e||c.isPending,variant:"outline",children:c.isPending?"Validating...":"Validate JSON"}),o.jsxs(I,{onClick:f,disabled:!(r!=null&&r.valid)||u.isPending,children:[o.jsx(fr,{className:"mr-2 h-4 w-4"}),u.isPending?"Importing...":"Import Property"]})]})]})]}),r&&o.jsxs(Ld,{className:"border-green-500 bg-green-50",children:[o.jsx(ej,{className:"h-4 w-4 text-green-600"}),o.jsxs(Id,{children:[o.jsx("strong",{className:"text-green-900",children:" JSON is valid"}),o.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[o.jsxs("p",{children:["Title: ",(S=r.preview)==null?void 0:S.title]}),o.jsxs("p",{children:["Type: ",(y=r.preview)==null?void 0:y.property_type]}),o.jsxs("p",{children:["Price: $",(w=(v=r.preview)==null?void 0:v.price_usd)==null?void 0:w.toLocaleString()]}),o.jsxs("p",{children:["City: ",(b=r.preview)==null?void 0:b.city]})]})]})]}),s.length>0&&o.jsxs(Ld,{variant:"destructive",children:[o.jsx(Lp,{className:"h-4 w-4"}),o.jsxs(Id,{children:[o.jsx("strong",{children:"Validation Errors:"}),o.jsx("ul",{className:"mt-2 list-disc list-inside",children:s.map((g,m)=>o.jsx("li",{children:g},m))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(et,{className:"text-lg",children:"Required Fields"})}),o.jsx(le,{className:"text-sm space-y-2",children:o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:"title (string)"}),o.jsx("li",{children:"property_type (active/development)"}),o.jsx("li",{children:"property_categories (array)"}),o.jsx("li",{children:"city (string)"}),o.jsx("li",{children:"latitude (number)"}),o.jsx("li",{children:"longitude (number)"}),o.jsx("li",{children:"price_usd or price_on_demand"})]})})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(et,{className:"text-lg",children:"Tags Format"})}),o.jsxs(le,{className:"text-sm",children:[o.jsx("p",{className:"mb-2",children:"Tags must be an array:"}),o.jsx("code",{className:"block bg-gray-100 p-2 rounded text-xs",children:'"tags": ["Pool", "Gym", "Security 24/7"]'}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Max 20 tags"})]})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(et,{className:"text-lg",children:"Use Cases"})}),o.jsx(le,{className:"text-sm space-y-2",children:o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[o.jsx("li",{children:"Migrate from WordPress"}),o.jsx("li",{children:"Bulk property import"}),o.jsx("li",{children:"Duplicate existing property"}),o.jsx("li",{children:"Backup & restore"}),o.jsx("li",{children:"Testing with sample data"})]})})]})]})]})]})}function Sr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function uo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const X_=6048e5,Qz=864e5;let Yz={};function Kh(){return Yz}function bc(t,e){var l,c,u,d;const n=Kh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Sr(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Hd(t){return bc(t,{weekStartsOn:1})}function J_(t){const e=Sr(t),n=e.getFullYear(),r=uo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Hd(r),s=uo(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Hd(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function uw(t){const e=Sr(t);return e.setHours(0,0,0,0),e}function dw(t){const e=Sr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Xz(t,e){const n=uw(t),r=uw(e),i=+n-dw(n),s=+r-dw(r);return Math.round((i-s)/Qz)}function Jz(t){const e=J_(t),n=uo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Hd(n)}function Zz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function e5(t){if(!Zz(t)&&typeof t!="number")return!1;const e=Sr(t);return!isNaN(Number(e))}function t5(t){const e=Sr(t),n=uo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const n5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r5=(t,e,n)=>{let r;const i=n5[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const i5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a5={date:xm({formats:i5,defaultWidth:"full"}),time:xm({formats:s5,defaultWidth:"full"}),dateTime:xm({formats:o5,defaultWidth:"full"})},l5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},c5=(t,e,n,r)=>l5[t];function gl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const u5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},d5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},h5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},m5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},p5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},g5=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},v5={ordinalNumber:g5,era:gl({values:u5,defaultWidth:"wide"}),quarter:gl({values:d5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gl({values:h5,defaultWidth:"wide"}),day:gl({values:f5,defaultWidth:"wide"}),dayPeriod:gl({values:m5,defaultWidth:"wide",formattingValues:p5,defaultFormattingWidth:"wide"})};function vl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?y5(l,f=>f.test(a)):x5(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function x5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function y5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function b5(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const w5=/^(\d+)(th|st|nd|rd)?/i,S5=/\d+/i,C5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},N5={any:[/^b/i,/^(a|c)/i]},j5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},E5={any:[/1/i,/2/i,/3/i,/4/i]},A5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},P5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},D5={ordinalNumber:b5({matchPattern:w5,parsePattern:S5,valueCallback:t=>parseInt(t,10)}),era:vl({matchPatterns:C5,defaultMatchWidth:"wide",parsePatterns:N5,defaultParseWidth:"any"}),quarter:vl({matchPatterns:j5,defaultMatchWidth:"wide",parsePatterns:E5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vl({matchPatterns:A5,defaultMatchWidth:"wide",parsePatterns:_5,defaultParseWidth:"any"}),day:vl({matchPatterns:k5,defaultMatchWidth:"wide",parsePatterns:R5,defaultParseWidth:"any"}),dayPeriod:vl({matchPatterns:T5,defaultMatchWidth:"any",parsePatterns:P5,defaultParseWidth:"any"})},O5={code:"en-US",formatDistance:r5,formatLong:a5,formatRelative:c5,localize:v5,match:D5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L5(t){const e=Sr(t);return Xz(e,t5(e))+1}function I5(t){const e=Sr(t),n=+Hd(e)-+Jz(e);return Math.round(n/X_)+1}function Z_(t,e){var d,f,x,S;const n=Sr(t),r=n.getFullYear(),i=Kh(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(x=i.locale)==null?void 0:x.options)==null?void 0:S.firstWeekContainsDate)??1,a=uo(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=bc(a,e),c=uo(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=bc(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function M5(t,e){var l,c,u,d;const n=Kh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Z_(t,e),s=uo(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),bc(s,e)}function F5(t,e){const n=Sr(t),r=+bc(n,e)-+M5(n,e);return Math.round(r/X_)+1}function ze(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _i={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ze(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ze(n+1,2)},d(t,e){return ze(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ze(t.getHours()%12||12,e.length)},H(t,e){return ze(t.getHours(),e.length)},m(t,e){return ze(t.getMinutes(),e.length)},s(t,e){return ze(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ze(i,e.length)}},To={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _i.y(t,e)},Y:function(t,e,n,r){const i=Z_(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return ze(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ze(s,e.length)},R:function(t,e){const n=J_(t);return ze(n,e.length)},u:function(t,e){const n=t.getFullYear();return ze(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ze(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ze(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _i.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ze(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=F5(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},I:function(t,e,n){const r=I5(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ze(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_i.d(t,e)},D:function(t,e,n){const r=L5(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ze(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ze(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ze(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ze(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=To.noon:r===0?i=To.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=To.evening:r>=12?i=To.afternoon:r>=4?i=To.morning:i=To.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _i.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_i.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ze(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ze(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_i.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_i.s(t,e)},S:function(t,e){return _i.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return mw(r);case"XXXX":case"XX":return As(r);case"XXXXX":case"XXX":default:return As(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return mw(r);case"xxxx":case"xx":return As(r);case"xxxxx":case"xxx":default:return As(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fw(r,":");case"OOOO":default:return"GMT"+As(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fw(r,":");case"zzzz":default:return"GMT"+As(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ze(r,e.length)},T:function(t,e,n){const r=t.getTime();return ze(r,e.length)}};function fw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+ze(s,2)}function mw(t,e){return t%60===0?(t>0?"-":"+")+ze(Math.abs(t)/60,2):As(t,e)}function As(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ze(Math.trunc(r/60),2),s=ze(r%60,2);return n+i+e+s}const pw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ek=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},B5=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return pw(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",pw(r,e)).replace("{{time}}",ek(i,e))},$5={p:ek,P:B5},U5=/^D+$/,z5=/^Y+$/,W5=["D","DD","YY","YYYY"];function q5(t){return U5.test(t)}function V5(t){return z5.test(t)}function H5(t,e,n){const r=K5(t,e,n);if(console.warn(r),W5.includes(t))throw new RangeError(r)}function K5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const G5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y5=/^'([^]*?)'?$/,X5=/''/g,J5=/[a-zA-Z]/;function mg(t,e,n){var d,f,x,S;const r=Kh(),i=r.locale??O5,s=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((S=(x=r.locale)==null?void 0:x.options)==null?void 0:S.weekStartsOn)??0,l=Sr(t);if(!e5(l))throw new RangeError("Invalid time value");let c=e.match(Q5).map(y=>{const v=y[0];if(v==="p"||v==="P"){const w=$5[v];return w(y,i.formatLong)}return y}).join("").match(G5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:Z5(y)};if(hw[v])return{isToken:!0,value:y};if(v.match(J5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const v=y.value;(V5(v)||q5(v))&&H5(v,e,String(t));const w=hw[v[0]];return w(l,v,i.localize,u)}).join("")}function Z5(t){const e=t.match(Y5);return e?e[1].replace(X5,"'"):t}function eW(){var j;const t=fn(),[e,n]=h.useState(""),[r,i]=h.useState([]),[s,a]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!1),f="/api",x=h.useMemo(()=>f.replace(/\/api$/,""),[f]),S=N=>{if(!N)return"";const E=x||window.location.origin;return N.startsWith("http")?N:N.startsWith("/")?`${E}${N}`:`${E}/${N}`},{data:y,isLoading:v,refetch:w}=dt({queryKey:["blogs",e],queryFn:async()=>{var P;const N=e?`&q=${encodeURIComponent(e)}`:"",E=await q.get(`/blogs?include_deleted=false${N}`),_=((P=E.data)==null?void 0:P.data)??E.data??[],A=Array.isArray(_==null?void 0:_.blogs)?_.blogs:Array.isArray(_)?_:[],k=(_==null?void 0:_.pagination)??null;return{blogs:A,pagination:k}},refetchOnWindowFocus:!1});h.useEffect(()=>{const N=(y==null?void 0:y.blogs)||[];if(N.length){const E=[...N].sort((_,A)=>(_.display_order||0)-(A.display_order||0));i(E)}else i([])},[y]),h.useEffect(()=>{if(v){d(!1);return}const N=setTimeout(()=>d(!0),600);return()=>clearTimeout(N)},[v,e]);const b=async N=>{if(s===null||s===N){a(null);return}const E=[...r],[_]=E.splice(s,1);E.splice(N,0,_);const A=E.map((k,P)=>({...k,display_order:P+1}));i(A),a(null);try{await q.post("/blogs/reorder",{order:A.map((k,P)=>({id:k.id,display_order:P+1}))}),t.invalidateQueries({queryKey:["blogs"]}),w()}catch(k){console.error("Failed to reorder blogs:",k),w()}},g=async(N,E)=>{try{i(_=>_.map(A=>A.id===N.id?{...A,is_home:E}:A)),await q.put(`/blogs/${N.id}`,{is_home:E?1:0}),t.invalidateQueries({queryKey:["blogs"]})}catch(_){console.error("Failed to update isHome",_),w()}},m=qe({mutationFn:async N=>q.delete(`/blogs/${N}`),onSuccess:async N=>{var E,_;c(null),t.invalidateQueries({queryKey:["blogs"]}),w(),console.log(((_=(E=N==null?void 0:N.data)==null?void 0:E.data)==null?void 0:_.message)||"Blog removed")},onError:N=>{var E,_;console.error(((_=(E=N==null?void 0:N.response)==null?void 0:E.data)==null?void 0:_.error)||"Failed to delete blog")}}),p=()=>{l&&m.mutate(l)};return v||!u?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Blogs"}),o.jsx(I,{asChild:!0,children:o.jsxs(on,{to:"/blogs/new",children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Blog"]})})]}),o.jsx("div",{className:"grid gap-4",children:[1,2,3].map(N=>o.jsxs(ae,{className:"animate-pulse",children:[o.jsx(Ve,{children:o.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"})]})})]},N))})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Blogs"}),o.jsxs("p",{className:"text-muted-foreground",children:[((j=y==null?void 0:y.pagination)==null?void 0:j.total)??r.length??0," total blogs"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(B,{placeholder:"Search blogs...",value:e,onChange:N=>n(N.target.value),className:"w-56"}),o.jsx(I,{asChild:!0,children:o.jsxs(on,{to:"/blogs/new",children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Blog"]})})]})]}),r.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No blogs found"}),o.jsx(I,{asChild:!0,children:o.jsxs(on,{to:"/blogs/new",children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Create your first blog"]})})]})}):o.jsx("div",{className:"grid gap-4",children:r.map((N,E)=>o.jsx(ae,{className:"overflow-hidden border border-dashed",draggable:!0,onDragStart:()=>a(E),onDragOver:_=>_.preventDefault(),onDrop:()=>b(E),onDragEnd:()=>a(null),children:o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsxs("div",{className:"p-2 text-muted-foreground cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",E+1]})]}),o.jsx(ka,{src:S(N.featured_image),alt:N.featured_image_alt||N.title,className:"w-48 h-48 object-cover my-4 ml-2 mr-4 rounded-lg"}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(et,{className:"line-clamp-1",children:N.title}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[o.jsx($a,{className:"h-3 w-3"}),o.jsxs("span",{className:"break-all",children:["/blog/",N.slug]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(Rt,{checked:!!N.is_home,onCheckedChange:_=>g(N,_),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle blog on home"})]})]})}),o.jsxs(le,{className:"p-0",children:[N.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:N.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Op,{className:"h-4 w-4"}),o.jsx("span",{children:N.published_date?mg(new Date(N.published_date),"MMM dd, yyyy"):"No date"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(I,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(on,{to:`/blogs/${N.id}/edit`,children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]})}),o.jsx(I,{variant:"destructive",size:"sm",onClick:()=>c(N.id),children:o.jsx(za,{className:"h-4 w-4"})})]})]})]})]})]})},N.id))}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Delete blog?"}),o.jsx("p",{className:"text-muted-foreground",children:"If the blog is older than 24h it will be archived (not removed) and a redirect placeholder will be created for SEO safety."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(I,{variant:"outline",onClick:()=>c(null),children:"Close"}),o.jsx(I,{variant:"destructive",onClick:p,disabled:m.isPending,children:m.isPending?"Deleting...":"Delete"})]})]})})]})}function gw(){const{id:t}=po(),e=Pt(),n=!!t,i="/api".replace(/\/api$/,""),s=E=>E?E.startsWith("http")?E:`${i}${E}`:"",a=E=>E.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),[l,c]=h.useState({title:"",slug:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",description:"",content:"",featured_image:"",featured_image_alt:"",content_image:"",content_image_alt:"",is_home:!1,published_date:new Date().toISOString().split("T")[0]}),[u,d]=h.useState(!1),[f,x]=h.useState(!1),[S,y]=h.useState(""),[v,w]=h.useState(""),b=h.useRef(null),g=h.useRef(null);dt({queryKey:["blog",t],queryFn:async()=>{const _=(await q.get(`/blogs/${t}`)).data.data;return c({title:_.title||"",slug:_.slug||"",seoTitle:_.seoTitle||"",seoDescription:_.seoDescription||"",ogTitle:_.ogTitle||"",ogDescription:_.ogDescription||"",description:_.description||"",content:_.content||"",featured_image:_.featured_image||"",featured_image_alt:_.featured_image_alt||"",content_image:_.content_image||"",content_image_alt:_.content_image_alt||"",is_home:_.is_home,published_date:_.published_date||new Date().toISOString().split("T")[0]}),_.featured_image&&y(s(_.featured_image)),_.content_image&&w(s(_.content_image)),_},enabled:n});const m=qe({mutationFn:async E=>n?q.put(`/blogs/${t}`,E):q.post("/blogs",E),onSuccess:()=>{e("/blogs")},onError:E=>{var _,A;alert(((A=(_=E.response)==null?void 0:_.data)==null?void 0:A.error)||"An error occurred")}}),p=E=>{var k;E.preventDefault();const _=((k=l.slug)==null?void 0:k.trim())||a(l.title);if(!l.seoTitle.trim()||!l.seoDescription.trim()||!l.ogTitle.trim()||!l.ogDescription.trim()){alert("SEO fields (title, meta description, OG title, OG description) are required");return}if(l.featured_image&&!l.featured_image_alt.trim()){alert("Alt text is required when you upload an image");return}if(l.content_image&&!l.content_image_alt.trim()){alert("Alt text is required when you upload the content image");return}const A={...l,slug:_,is_home:l.is_home?1:0};m.mutate(A)},C=E=>{const{name:_,value:A,type:k}=E.target;c(P=>({...P,[_]:k==="checkbox"?E.target.checked:A,..._==="title"&&!n?{slug:P.slug?P.slug:a(A)}:{}}))},j=async(E,_)=>{var $;const A=($=E.target.files)==null?void 0:$[0];if(!A)return;if(!A.type.startsWith("image/")){console.warn("Please select an image file");return}if(A.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const k=_==="featured"?d:x,P=_==="featured"?y:w,M=_==="featured"?"featured_image":"content_image";k(!0);try{const X=new FormData;X.append("image",A);const Q=(await q.post("/upload/blog-image",X,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;c(O=>({...O,[M]:Q})),P(s(Q))}catch(X){console.error("Upload failed:",X)}finally{k(!1)}},N=async E=>{const _=E==="featured"?l.featured_image:l.content_image;if(_&&confirm("Remove this image?")){try{await q.delete(`/upload/file?url=${encodeURIComponent(_)}`)}catch(A){console.error("Failed to delete image:",A)}c(A=>({...A,...E==="featured"?{featured_image:"",featured_image_alt:""}:{content_image:"",content_image_alt:""}})),E==="featured"?y(""):w("")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>e("/blogs"),children:o.jsx(vi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Blog":"New Blog"})]}),o.jsx("form",{onSubmit:p,children:o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(et,{children:"Blog Information"})}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Page title (H1) *"}),o.jsx(B,{id:"title",name:"title",value:l.title,onChange:C,required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Short description"}),o.jsx(ut,{id:"description",name:"description",value:l.description,onChange:C,rows:3,placeholder:"Short summary for listings"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"published_date",className:"text-sm font-medium",children:"Published date"}),o.jsx(B,{id:"published_date",name:"published_date",type:"date",value:l.published_date,onChange:C})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rt,{checked:l.is_home,onCheckedChange:E=>c(_=>({..._,is_home:E})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-base font-semibold",children:"Images"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("p",{className:"text-sm font-semibold",children:"Cover image"})}),S?o.jsxs("div",{className:"relative inline-block",children:[o.jsx(ka,{src:S,alt:"Preview",style:{width:"340px",height:"250px"},className:"object-cover rounded-lg border"}),o.jsxs(I,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>N("featured"),children:[o.jsx(mr,{className:"h-4 w-4 mr-1"}),"Rimuovi"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var E;return(E=b.current)==null?void 0:E.click()},onKeyDown:E=>{var _;(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),(_=b.current)==null||_.click())},children:[o.jsx(fr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload image"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"340 x 250px"}),o.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:E=>j(E,"featured"),disabled:u,className:"hidden"}),u&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}),o.jsx("p",{className:"text-sm text-primary",children:"Uploading..."})]})]}),o.jsxs("div",{className:"space-y-1 pt-1 max-w-xl",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),o.jsx(B,{name:"featured_image_alt",value:l.featured_image_alt,onChange:C,required:!!l.featured_image})]})]}),o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"})}),v?o.jsxs("div",{className:"relative inline-block",children:[o.jsx(ka,{src:v,alt:"Content preview",style:{width:"340px",height:"250px"},className:"object-cover rounded-lg border"}),o.jsxs(I,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>N("content"),children:[o.jsx(mr,{className:"h-4 w-4 mr-1"}),"Rimuovi"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var E;return(E=g.current)==null?void 0:E.click()},onKeyDown:E=>{var _;(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),(_=g.current)==null||_.click())},children:[o.jsx(fr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"16:9 recommended, max 10MB"}),o.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:E=>j(E,"content"),disabled:f,className:"hidden"}),f&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}),o.jsx("p",{className:"text-sm text-primary",children:"Uploading..."})]})]}),o.jsxs("div",{className:"space-y-1 pt-1 max-w-xl",children:[o.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),o.jsx(B,{name:"content_image_alt",value:l.content_image_alt,onChange:C,required:!!l.content_image})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Full content"}),o.jsx(zh,{value:l.content,onChange:E=>c(_=>({..._,content:E})),placeholder:"Write your blog content..."})]}),o.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsx("div",{className:"flex items-center justify-between gap-2",children:o.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{htmlFor:"slug",className:"text-sm font-medium",children:"LNK (url)"}),o.jsx(B,{id:"slug",name:"slug",value:l.slug,onChange:E=>{n||c(_=>({..._,slug:a(E.target.value)}))},disabled:n})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),o.jsx(B,{name:"seoTitle",value:l.seoTitle,onChange:C,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),o.jsx(ut,{name:"seoDescription",value:l.seoDescription,onChange:C,rows:3,maxLength:320})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Title  (meta="og:title")'}),o.jsx(B,{name:"ogTitle",value:l.ogTitle,onChange:C,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Description  (meta="og:description")'}),o.jsx(ut,{name:"ogDescription",value:l.ogDescription,onChange:C,rows:3,maxLength:320})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(I,{type:"submit",disabled:m.isPending,children:m.isPending?"Saving...":n?"Update Blog":"Create Blog"}),o.jsx(I,{type:"button",variant:"outline",onClick:()=>e("/blogs"),children:"Close"})]})]})]})})]})}function tW(){return o.jsx("div",{className:"space-y-6",children:o.jsx(ae,{className:"p-10 text-center border-dashed",children:o.jsxs(le,{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(cj,{className:"h-10 w-10 text-muted-foreground"})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Photo Gallery  work in progress"}),o.jsx("p",{className:"text-muted-foreground",children:"This section is under construction. Check back soon."})]})})})}function vw(){const t=Pt(),{id:e}=po(),[n]=LP(),r=fn(),i=!!e,s=n.get("property_id"),[a,l]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState({property_id:s?parseInt(s):0,image_url:"",caption:"",alt_text:"",display_order:0,is_featured:!1}),{data:x}=dt({queryKey:["photo",e],queryFn:async()=>(await q.get(`/photogallery/${e}`)).data.data,enabled:i});h.useEffect(()=>{x&&(f({property_id:x.property_id,image_url:x.image_url,thumbnail_url:x.thumbnail_url,medium_url:x.medium_url,caption:x.caption||"",alt_text:x.alt_text||"",display_order:x.display_order,is_featured:x.is_featured}),u(x.medium_url||x.image_url))},[x]);const S=qe({mutationFn:async m=>{await q.post("/photogallery",m)},onSuccess:()=>{r.invalidateQueries({queryKey:["photos"]}),t(`/photogallery?property_id=${d.property_id}`)}}),y=qe({mutationFn:async m=>{await q.put(`/photogallery/${e}`,m)},onSuccess:()=>{r.invalidateQueries({queryKey:["photos"]}),r.invalidateQueries({queryKey:["photo",e]}),t(`/photogallery?property_id=${d.property_id}`)}}),v=async m=>{var C;const p=(C=m.target.files)==null?void 0:C[0];if(p){if(!p.type.startsWith("image/")){alert("Please select an image file");return}if(p.size>10*1024*1024){alert("Il file  troppo grande. Massimo 10MB");return}try{l(!0);const j=new FormData;j.append("image",p);const E=(await q.post("/upload/property-image",j,{headers:{"Content-Type":"multipart/form-data"}})).data.data;f(_=>({..._,image_url:E.original,thumbnail_url:E.thumbnail,medium_url:E.medium})),u(E.medium)}catch(j){console.error("Upload error:",j),alert("Error while uploading the image")}finally{l(!1)}}},w=async()=>{if(confirm("Do you want to remove this image?")){if(d.image_url)try{await q.delete(`/upload/file?url=${encodeURIComponent(d.image_url)}`)}catch(m){console.error("Error deleting file:",m)}f(m=>({...m,image_url:"",thumbnail_url:"",medium_url:""})),u("")}},b=m=>{if(m.preventDefault(),!d.image_url){alert("Please upload an image");return}if(i){const p={caption:d.caption,alt_text:d.alt_text,display_order:d.display_order,is_featured:d.is_featured};y.mutate(p)}else S.mutate(d)},g=()=>{const m=d.property_id||s;t(m?`/photogallery?property_id=${m}`:"/photogallery")};return o.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:i?"Edit Photo":"Upload New Photo"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:i?"Update photo details":"Add a new photo to the gallery"})]}),o.jsx("form",{onSubmit:b,children:o.jsxs(ae,{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(U,{children:"Image *"}),c?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:c,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}),!i&&o.jsxs(I,{type:"button",variant:"destructive",size:"sm",onClick:w,className:"absolute top-2 right-2",children:[o.jsx(mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-12 text-center hover:border-primary/50 transition-colors",children:[o.jsx(B,{type:"file",accept:"image/*",onChange:v,disabled:a,className:"hidden",id:"image-upload"}),o.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[a?o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto mb-4"}):o.jsx(fr,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-sm font-medium mb-1",children:a?"Uploading...":"Click to upload or drag here"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP up to 10MB"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(U,{htmlFor:"caption",children:"Didascalia"}),o.jsx(B,{id:"caption",value:d.caption,onChange:m=>f(p=>({...p,caption:m.target.value})),placeholder:"Es: Vista del soggiorno"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(U,{htmlFor:"alt_text",children:"Testo Alternativo"}),o.jsx(B,{id:"alt_text",value:d.alt_text,onChange:m=>f(p=>({...p,alt_text:m.target.value})),placeholder:"Descrizione per accessibilit e SEO"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(U,{htmlFor:"display_order",children:"Ordine di Visualizzazione"}),o.jsx(B,{id:"display_order",type:"number",value:d.display_order,onChange:m=>f(p=>({...p,display_order:parseInt(m.target.value)||0})),min:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Numeri pi bassi appaiono per primi"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(U,{htmlFor:"is_featured",children:"Featured Photo"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This will be the main photo for the property"})]}),o.jsx(Rt,{id:"is_featured",checked:d.is_featured,onCheckedChange:m=>f(p=>({...p,is_featured:m}))})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(I,{type:"submit",disabled:S.isPending||y.isPending,className:"flex-1",children:S.isPending||y.isPending?"Salvataggio...":i?"Update Photo":"Upload Photo"}),o.jsx(I,{type:"button",variant:"outline",onClick:g,children:"Annulla"})]})]})})]})}function nW(){const t=fn(),[e,n]=h.useState(""),[r,i]=h.useState([]),[s,a]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!1),f="/api",x=h.useMemo(()=>f.replace(/\/api$/,""),[f]),S=C=>C?C.startsWith("http")?C:C.startsWith("/")?`${x}${C}`:`${x}/${C}`:"",{data:y,isLoading:v,refetch:w}=dt({queryKey:["videos",e],queryFn:async()=>{var E;const C=e?`&q=${encodeURIComponent(e)}`:"",j=await q.get(`/videos?include_deleted=false${C}`),N=((E=j.data)==null?void 0:E.data)??j.data??{};return Array.isArray(N==null?void 0:N.videos)?{videos:N.videos,pagination:N.pagination??null}:Array.isArray(N)?{videos:N,pagination:null}:{videos:[],pagination:null}},refetchOnWindowFocus:!1});h.useEffect(()=>{const C=(y==null?void 0:y.videos)||[];if(C.length){const j=[...C].sort((N,E)=>(N.display_order||0)-(E.display_order||0));i(j)}else i([])},[y]),h.useEffect(()=>{if(v){d(!1);return}const C=setTimeout(()=>d(!0),1e3);return()=>clearTimeout(C)},[v,e]);const b=async C=>{if(s===null||s===C){a(null);return}const j=[...r],[N]=j.splice(s,1);j.splice(C,0,N);const E=j.map((_,A)=>({..._,display_order:A+1}));i(E),a(null);try{await q.post("/videos/reorder",{order:E.map((_,A)=>({id:_.id,display_order:A+1}))}),t.invalidateQueries({queryKey:["videos"]}),w()}catch(_){console.error("Failed to reorder videos:",_),w()}},g=async(C,j)=>{try{i(N=>N.map(E=>E.id===C.id?{...E,is_home:j}:E)),await q.put(`/videos/${C.id}`,{is_home:j?1:0}),t.invalidateQueries({queryKey:["videos"]})}catch(N){console.error("Failed to update home flag",N),w()}},m=async()=>{if(l)try{await q.delete(`/videos/${l}`),c(null),w()}catch(C){console.error("Failed to delete video:",C)}};return v||!u?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Videos"}),o.jsx(on,{to:"/videos/new",children:o.jsxs(I,{children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Video"]})})]}),o.jsx("div",{className:"grid gap-4",children:[1,2,3].map(C=>o.jsxs(ae,{className:"animate-pulse",children:[o.jsx(Ve,{children:o.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),o.jsx(le,{children:o.jsx("div",{className:"h-4 w-full bg-gray-100 rounded"})})]},C))})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Videos"}),o.jsx(on,{to:"/videos/new",children:o.jsxs(I,{children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Video"]})})]}),o.jsx(B,{placeholder:"Search videos...",value:e,onChange:C=>n(C.target.value)}),r.length===0?o.jsx(ae,{children:o.jsxs(le,{className:"pt-6 text-center text-muted-foreground",children:["No videos found."," ",o.jsx(on,{to:"/videos/new",className:"text-primary hover:underline",children:"Create your first video"})]})}):o.jsx("div",{className:"grid gap-4",children:r.map((C,j)=>o.jsx(ae,{draggable:!0,onDragStart:()=>a(j),onDragOver:N=>N.preventDefault(),onDrop:()=>b(j),onDragEnd:()=>a(null),className:`overflow-hidden border border-dashed cursor-move transition ${s===j?"opacity-50":""}`,children:o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsxs("div",{className:"p-3 text-muted-foreground cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",j+1]})]}),o.jsx(ka,{src:S(C.thumbnail_url),alt:C.thumbnail_alt||C.title,className:"w-48 h-48 object-cover my-4 mr-4 rounded-lg"}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(et,{className:"line-clamp-1",children:C.title}),C.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:C.description})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(Rt,{checked:!!C.is_home,onCheckedChange:N=>g(C,N),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle video on home"})]})]})}),o.jsx(le,{className:"p-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(I,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(on,{to:`/videos/${C.id}/edit`,children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]})}),o.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>c(C.id),children:[o.jsx(za,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]})},C.id))}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs(ae,{className:"w-full max-w-md",children:[o.jsx(Ve,{children:o.jsx(et,{children:"Confirm Delete"})}),o.jsxs(le,{className:"space-y-4",children:[o.jsx("p",{children:"Are you sure you want to delete this video?"}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(I,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),o.jsx(I,{variant:"destructive",onClick:m,children:"Delete"})]})]})]})})]})}function xw(){const{id:t}=po(),e=Pt(),n=!!t,i="/api".replace(/\/api$/,""),s=g=>g?g.startsWith("http")?g:`${i}${g}`:"",[a,l]=h.useState({title:"",description:"",video_url:"",thumbnail_url:"",thumbnail_alt:"",is_home:!1}),[c,u]=h.useState(!1),[d,f]=h.useState(""),x=h.useRef(null);dt({queryKey:["video",t],queryFn:async()=>{const m=(await q.get(`/videos/${t}`)).data.data;return l({title:m.title||"",description:m.description||"",video_url:m.video_url||"",thumbnail_url:m.thumbnail_url||"",thumbnail_alt:m.thumbnail_alt||"",is_home:m.is_home}),m.thumbnail_url&&f(s(m.thumbnail_url)),m},enabled:n});const S=qe({mutationFn:async g=>n?q.put(`/videos/${t}`,g):q.post("/videos",g),onSuccess:()=>{e("/videos")},onError:g=>{var m,p;alert(((p=(m=g.response)==null?void 0:m.data)==null?void 0:p.error)||"An error occurred")}}),y=g=>{if(g.preventDefault(),!a.thumbnail_url){alert("Thumbnail image is required");return}if(!a.thumbnail_alt.trim()){alert("Thumbnail alt text is required");return}const m={...a,is_home:a.is_home?1:0};S.mutate(m)},v=g=>{const{name:m,value:p,type:C}=g.target;l(j=>({...j,[m]:C==="checkbox"?g.target.checked:p}))},w=async g=>{var p;const m=(p=g.target.files)==null?void 0:p[0];if(m){if(!m.type.startsWith("image/")){console.warn("Please select an image file");return}if(m.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}u(!0);try{const C=new FormData;C.append("image",m);const N=(await q.post("/upload/video-thumbnail",C,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;l(E=>({...E,thumbnail_url:N})),f(s(N))}catch(C){console.error("Upload failed:",C)}finally{u(!1)}}},b=async()=>{if(a.thumbnail_url&&confirm("Remove this thumbnail?")){try{await q.delete(`/upload/file?url=${encodeURIComponent(a.thumbnail_url)}`)}catch(g){console.error("Failed to delete image:",g)}l(g=>({...g,thumbnail_url:"",thumbnail_alt:""})),f("")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>e("/videos"),children:o.jsx(vi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Video":"New Video"})]}),o.jsx("form",{onSubmit:y,children:o.jsxs(ae,{children:[o.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[o.jsx(et,{children:"Video Information"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rt,{checked:a.is_home,onCheckedChange:g=>l(m=>({...m,is_home:g})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title *"}),o.jsx(B,{id:"title",name:"title",value:a.title,onChange:v,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),o.jsx(ut,{id:"description",name:"description",value:a.description,onChange:v,rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"video_url",className:"text-sm font-medium",children:"Video URL *"}),o.jsx(B,{id:"video_url",name:"video_url",type:"url",value:a.video_url,onChange:v,placeholder:"YouTube, Instagram, or Vimeo URL",required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports YouTube, Instagram Reels, and Vimeo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Thumbnail Image *"}),d?o.jsxs("div",{className:"relative w-full",children:[o.jsx(ka,{src:d,alt:"Thumbnail preview",className:"w-full max-w-md rounded-md"}),o.jsx(I,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:b,children:o.jsx(mr,{className:"h-4 w-4"})})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{ref:x,type:"file",accept:"image/*",onChange:w,className:"hidden"}),o.jsx(I,{type:"button",variant:"outline",onClick:()=>{var g;return(g=x.current)==null?void 0:g.click()},disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent mr-2"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(fr,{className:"mr-2 h-4 w-4"}),"Upload Thumbnail"]})})]})]}),a.thumbnail_url&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"thumbnail_alt",className:"text-sm font-medium",children:"Thumbnail Alt Text *"}),o.jsx(B,{id:"thumbnail_alt",name:"thumbnail_alt",value:a.thumbnail_alt,onChange:v,placeholder:"Describe the thumbnail image",required:!0})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(I,{type:"submit",disabled:S.isPending,children:S.isPending?"Saving...":n?"Update Video":"Create Video"}),o.jsx(I,{type:"button",variant:"outline",onClick:()=>e("/videos"),children:"Cancel"})]})]})]})})]})}function rW(){return o.jsx("div",{className:"space-y-6",children:o.jsx(ae,{className:"p-10 text-center border-dashed",children:o.jsxs(le,{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(cj,{className:"h-10 w-10 text-muted-foreground"})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Link Generation  work in progress"}),o.jsx("p",{className:"text-muted-foreground",children:"This section will be available soon."})]})})})}function iW(){var b;const t=fn(),[e,n]=h.useState(""),[r,i]=h.useState([]),[s,a]=h.useState(null),[l,c]=h.useState(null),{data:u,isLoading:d,refetch:f}=dt({queryKey:["testimonials",e],queryFn:async()=>{const g=e?`&q=${encodeURIComponent(e)}`:"";return(await q.get(`/testimonials${g?`?${g.slice(1)}`:""}`)).data.data},refetchOnWindowFocus:!1});h.useEffect(()=>{if(u!=null&&u.testimonials){const g=[...u.testimonials].sort((m,p)=>(m.display_order||0)-(p.display_order||0));i(g)}},[u]);const x=async g=>{if(s===null||s===g){a(null);return}const m=[...r],[p]=m.splice(s,1);m.splice(g,0,p);const C=m.map((j,N)=>({...j,display_order:N+1}));i(C),a(null);try{await q.post("/testimonials/reorder",{order:C.map((j,N)=>({id:j.id,display_order:N+1}))}),t.invalidateQueries({queryKey:["testimonials"]}),f()}catch(j){console.error("Failed to reorder testimonials:",j),f()}},S=async(g,m)=>{try{i(p=>p.map(C=>C.id===g.id?{...C,is_home:m}:C)),await q.put(`/testimonials/${g.id}`,{is_home:m?1:0}),t.invalidateQueries({queryKey:["testimonials"]})}catch(p){console.error("Failed to update home flag",p),f()}},y=async()=>{if(l)try{await q.delete(`/testimonials/${l}`),i(g=>g.filter(m=>m.id!==l)),t.invalidateQueries({queryKey:["testimonials"]})}catch(g){console.error("Failed to delete testimonial",g)}finally{c(null)}},v=g=>g.replace(/<[^>]+>/g,""),w=g=>{const m=v(g||"");return m.length<=160?m:`${m.slice(0,160)}`};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Testimonials"}),o.jsxs("p",{className:"text-muted-foreground",children:[((b=u==null?void 0:u.pagination)==null?void 0:b.total)||0," total testimonials"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(B,{placeholder:"Search testimonials...",value:e,onChange:g=>n(g.target.value),className:"w-56"}),o.jsx(on,{to:"/testimonials/new",children:o.jsxs(I,{children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Testimonial"]})})]})]}),r.length===0&&!d&&o.jsx(ae,{children:o.jsxs(le,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No testimonials yet"}),o.jsx(on,{to:"/testimonials/new",children:o.jsxs(I,{children:[o.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Create your first testimonial"]})})]})}),o.jsx("div",{className:"grid gap-4",children:r.map((g,m)=>o.jsx(ae,{className:"overflow-hidden border border-dashed",draggable:!0,onDragStart:()=>a(m),onDragOver:p=>p.preventDefault(),onDrop:()=>x(m),onDragEnd:()=>a(null),children:o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsxs("div",{className:"p-3 text-muted-foreground cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",m+1]})]}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(et,{className:"line-clamp-1",children:g.author}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[o.jsx(Op,{className:"h-3 w-3"}),o.jsx("span",{children:g.testimonial_date?mg(new Date(g.testimonial_date),"dd MMM yyyy"):"No date"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(Rt,{checked:!!g.is_home,onCheckedChange:p=>S(g,p),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle testimonial visibility"})]})]})}),o.jsxs(le,{className:"p-0",children:[o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:w(g.content)}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Op,{className:"h-4 w-4"}),o.jsx("span",{children:g.testimonial_date?mg(new Date(g.testimonial_date),"dd MMM yyyy"):"No date"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(I,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(on,{to:`/testimonials/${g.id}/edit`,children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]})}),o.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>c(g.id),children:[o.jsx(za,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]})]})},g.id))}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Delete testimonial?"}),o.jsx("p",{className:"text-muted-foreground",children:"This action cannot be undone. The testimonial will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(I,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),o.jsx(I,{variant:"destructive",onClick:y,children:"Delete"})]})]})})]})}function yw(){const{id:t}=po(),e=Pt(),n=!!t,[r,i]=h.useState({author:"",content:"",testimonial_date:new Date().toISOString().split("T")[0],is_home:!1});dt({queryKey:["testimonial",t],queryFn:async()=>{const u=(await q.get(`/testimonials/${t}`)).data.data;return i({author:u.author||"",content:u.content||"",testimonial_date:u.testimonial_date||new Date().toISOString().split("T")[0],is_home:u.is_home}),u},enabled:n});const s=qe({mutationFn:async c=>n?q.put(`/testimonials/${t}`,c):q.post("/testimonials",c),onSuccess:()=>{e("/testimonials")},onError:c=>{var u,d;alert(((d=(u=c.response)==null?void 0:u.data)==null?void 0:d.error)||"An error occurred")}}),a=c=>{c.preventDefault();const u={...r,is_home:r.is_home?1:0};s.mutate(u)},l=c=>{const{name:u,value:d}=c.target;i(f=>({...f,[u]:d}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>e("/testimonials"),children:o.jsx(vi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Testimonial":"New Testimonial"})]}),o.jsx("form",{onSubmit:a,children:o.jsxs(ae,{children:[o.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[o.jsx(et,{children:"Testimonial Information"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rt,{checked:r.is_home,onCheckedChange:c=>i(u=>({...u,is_home:c})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"author",className:"text-sm font-medium",children:"Author *"}),o.jsx(B,{id:"author",name:"author",value:r.author,onChange:l,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Testimonial Content *"}),o.jsx(ut,{id:"content",name:"content",value:r.content,onChange:l,rows:5,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"testimonial_date",className:"text-sm font-medium",children:"Date"}),o.jsx(B,{id:"testimonial_date",name:"testimonial_date",type:"date",value:r.testimonial_date,onChange:l})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(I,{type:"submit",disabled:s.isPending,children:s.isPending?"Saving...":n?"Update Testimonial":"Create Testimonial"}),o.jsx(I,{type:"button",variant:"outline",onClick:()=>e("/testimonials"),children:"Cancel"})]})]})]})})]})}const ii=t=>{const e=(t||"").trim().toLowerCase();if(!e)return"";try{let r=new URL(e,"https://dummy.host").pathname||"/";return r=r.replace(/\/\/+/g,"/").replace(/\/+$/,""),r===""&&(r="/"),r}catch{const n=e.replace(/\/\/+/g,"/").replace(/\/+$/,"");return n===""?"/":n}},sW=(t,e,n,r)=>{if(!n)return!1;const i={};t.forEach(c=>{r&&c.id===r||c.urlNew&&(i[ii(c.urlOld)]=ii(c.urlNew))}),i[ii(e)]=ii(n);const s=ii(e),a={};let l=s;for(;i[l];){if(l=i[l],l===s)return!0;if(a[l])break;a[l]=!0}return!1},bw=(t,e,n,r)=>{const i=ii(t),s=ii(e);if(!i)throw new Error("urlOld is required");if(!s)throw new Error("urlNew is required");if(s&&i===s)throw new Error("urlOld and urlNew cannot match");if(n.some(a=>ii(a.urlOld)===i&&a.id!==r))throw new Error("urlOld must be unique");if(s&&n.some(a=>ii(a.urlOld)===s&&a.id!==r))throw new Error("urlNew already exists as urlOld (double redirect)");if(sW(n,i,s,r))throw new Error("Rule would create a redirect loop");return{urlOld:i,urlNew:s}};function oW(){const t=fn(),{data:e,isLoading:n}=dt({queryKey:["redirects"],queryFn:async()=>{var j;return((j=(await q.get("/redirects")).data.data)==null?void 0:j.redirects)||[]},refetchOnWindowFocus:!1}),[r,i]=h.useState({urlOld:"",urlNew:""}),[s,a]=h.useState({old:!1,neu:!1}),[l,c]=h.useState({}),[u,d]=h.useState(""),[f,x]=h.useState(""),S=h.useMemo(()=>{const C=e||[];if(!f.trim())return C;const j=f.trim().toLowerCase();return C.filter(N=>N.urlOld.toLowerCase().includes(j)||N.urlNew.toLowerCase().includes(j))},[e,f]),y=qe({mutationFn:async C=>q.post("/redirects",C),onSuccess:()=>{t.invalidateQueries({queryKey:["redirects"]}),i({urlOld:"",urlNew:""}),a({old:!1,neu:!1}),d("")},onError:C=>{var j,N;d(((N=(j=C==null?void 0:C.response)==null?void 0:j.data)==null?void 0:N.error)||"Errore creazione redirect"),a({old:!0,neu:!0})}}),v=qe({mutationFn:async({id:C,urlOld:j,urlNew:N})=>q.put(`/redirects/${C}`,{urlOld:j,urlNew:N}),onSuccess:()=>{t.invalidateQueries({queryKey:["redirects"]}),d(""),c(C=>{const j={...C};return delete j[0],j})},onError:(C,j)=>{var N,E;d(((E=(N=C==null?void 0:C.response)==null?void 0:N.data)==null?void 0:E.error)||"Errore salvataggio redirect"),c(_=>({..._,[j.id]:{old:!0,neu:!0}}))}}),w=qe({mutationFn:async C=>q.delete(`/redirects/${C}`),onSuccess:()=>t.invalidateQueries({queryKey:["redirects"]})}),b=()=>{try{const C=bw(r.urlOld,r.urlNew,S);y.mutate(C)}catch(C){d((C==null?void 0:C.message)||"Validazione fallita");const j=((C==null?void 0:C.message)||"").toLowerCase();a({old:j.includes("old")||j.includes("loop")||j.includes("match"),neu:j.includes("new")||j.includes("loop")||j.includes("match")})}},g=C=>{try{const j=bw(C.urlOld,C.urlNew,S,C.id);v.mutate({id:C.id,...j})}catch(j){d((j==null?void 0:j.message)||"Validazione fallita");const N=((j==null?void 0:j.message)||"").toLowerCase();c(E=>({...E,[C.id]:{old:N.includes("old")||N.includes("loop")||N.includes("match"),neu:N.includes("new")||N.includes("loop")||N.includes("match")}}))}},m=C=>{confirm("Delete this redirect?")&&w.mutate(C)},p=(C,j,N)=>{const E=S.map(_=>_.id===C?{..._,[j]:N}:_);t.setQueryData(["redirects"],E),N.trim()&&c(_=>({..._,[C]:{..._[C]||{},[j==="urlOld"?"old":"neu"]:!1}}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Redirect"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage 301 redirects with anti-loop checks."})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx(B,{placeholder:"search",value:f,onChange:C=>x(C.target.value),className:"w-56"})})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(et,{children:"new redirect"})}),o.jsxs(le,{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"OLD *"}),o.jsx(B,{value:r.urlOld,onChange:C=>{const j=C.target.value;i(N=>({...N,urlOld:j})),j.trim()&&a(N=>({...N,old:!1}))},className:s.old&&!r.urlOld.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"NEW *"}),o.jsx(B,{value:r.urlNew,onChange:C=>{const j=C.target.value;i(N=>({...N,urlNew:j})),j.trim()&&a(N=>({...N,neu:!1}))},className:s.neu&&!r.urlNew.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),o.jsx("div",{className:"pt-1",children:o.jsx(I,{onClick:b,disabled:y.isPending,className:"w-full md:w-auto",children:y.isPending?"Saving...":"Add redirect"})})]}),u&&o.jsx("p",{className:"text-sm text-red-500",children:u})]})]}),o.jsxs(ae,{children:[o.jsx(Ve,{}),o.jsxs(le,{className:"space-y-4",children:[n&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}),!n&&S.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"No redirects found."}),!n&&S.length>0&&o.jsx("div",{className:"space-y-3",children:S.map(C=>{var j,N;return o.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-xs uppercase tracking-[2px] text-muted-foreground",children:"OLD"}),o.jsx(B,{value:C.urlOld,onChange:E=>p(C.id,"urlOld",E.target.value),className:(j=l[C.id])!=null&&j.old&&!C.urlOld.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-xs uppercase tracking-[2px] text-muted-foreground",children:"NEW"}),o.jsx(B,{value:C.urlNew,onChange:E=>p(C.id,"urlNew",E.target.value),className:(N=l[C.id])!=null&&N.neu&&!C.urlNew.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),o.jsxs("div",{className:"flex items-center gap-2 justify-end md:justify-start",children:[o.jsxs(I,{variant:"outline",size:"sm",onClick:()=>g(C),disabled:v.isPending,children:[o.jsx(kv,{className:"h-4 w-4 mr-2"}),"Save"]}),o.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>m(C.id),children:[o.jsx(za,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})},C.id)})})]})]})]})}function aW(){const t=[{number:1,title:"URL",icon:$a,color:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",description:"Every piece of content must have a clear, readable, and concise URL. It's recommended not to exceed 80 characters and to avoid unnecessary elements like numbers, dates, or redundant words. Once published, a URL should never be deleted.",example:{title:"Example",good:"buywithdali.com/luxury-properties-playa-del-carmen",bad:"buywithdali.com/page-123-luxury-prop-2024-01-22-final"}},{number:2,title:"Page Title",icon:wL,color:"bg-purple-50",borderColor:"border-purple-200",iconColor:"text-purple-600",description:"The title must always be consistent with the article's content. It should clearly describe the topic covered and use the main keywords developed throughout the text. The title should not exceed 60 characters.",example:{title:"Example",good:"Luxury Beachfront Properties in Playa del Carmen",bad:"Amazing Properties You Won't Believe Exist"}},{number:3,title:"Meta Description",icon:rj,color:"bg-pink-50",borderColor:"border-pink-200",iconColor:"text-pink-600",description:"The description should align with the title and reinforce its meaning. It's important to use the same words from the title, writing a clear and natural sentence that previews the page content. The recommended length is between 140 and 160 characters.",example:{title:"Example",good:"Discover exclusive luxury beachfront properties in Playa del Carmen. Premium real estate with ocean views, modern amenities, and prime locations.",bad:"This page has great properties"}},{number:4,title:"Content",icon:ZN,color:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-600",description:"Content must be original, clear, and genuinely useful to the reader. The text should address the topic declared by the title and avoid content that is too brief, generic, or misleading.",example:{title:"Example",good:"Detailed neighborhood guide with local amenities, market trends, investment potential, property types, and buyer testimonials.",bad:"Nice houses here. Very good."}},{number:5,title:"Pages & Redirects",icon:oj,color:"bg-orange-50",borderColor:"border-orange-200",iconColor:"text-orange-600",description:"Pages should never be deleted. If content is updated or replaced with new material, it's mandatory to create a redirect from the old page to the new one to avoid losing traffic and visibility.",example:{title:"Example",good:"Old URL  301 Redirect  New URL (preserves all link value)",bad:"Delete old page (loses all traffic and backlinks)"}},{number:6,title:"Images & Alt Text",icon:ij,color:"bg-indigo-50",borderColor:"border-indigo-200",iconColor:"text-indigo-600",description:"All inserted images must have alt text filled in. The alt text should describe the image simply and relevantly to the content, avoiding automatic or generic descriptions.",example:{title:"Example",good:"Modern luxury villa with ocean view and private pool in Playa del Carmen",bad:"image123.jpg or image"}},{number:7,title:"Image Weight",icon:RL,color:"bg-yellow-50",borderColor:"border-yellow-200",iconColor:"text-yellow-600",description:"Images should not be too heavy. Large file sizes slow down page loading and worsen user experience. It's always recommended to use web-optimized images.",example:{title:"Example",good:"JPG 100KB - WebP 45KB - PNG optimized 80KB (all load in <2s)",bad:"RAW image 5MB - RAW 8MB (slow loading, poor UX)"}},{number:8,title:"Open Graph & Social",icon:AL,color:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600",description:"For social sharing, Open Graph fields must be correctly filled out, particularly the title and image. The social title should be consistent with the page title and article content.",example:{title:"Example",good:'og:title: "Luxury Properties in Playa del Carmen" | og:image: high-quality-property.jpg',bad:"Missing Open Graph tags or mismatched titles"}},{number:9,title:"Overall Consistency",icon:sj,color:"bg-teal-50",borderColor:"border-teal-200",iconColor:"text-teal-600",description:"Title, description, URL, content, and images should all address the same topic. Consistency is fundamental to helping readers immediately understand the page subject.",example:{title:"Example",good:'URL, Title, Description, Content & Images all about "Beachfront Luxury"',bad:"Title: Luxury Properties | Description: Budget homes | Content: Investment tips"}},{number:10,title:"Core Principle",icon:Lb,color:"bg-lime-50",borderColor:"border-lime-200",iconColor:"text-lime-600",description:"If content is clear and understandable to the reader, it is also correct from an SEO perspective.",example:{title:"Example",good:"Reader understands immediately what the page offers  Google ranks it well",bad:"Confusing content  Poor user experience  Lower rankings"}}];return o.jsxs("div",{className:"seo-rules-container",children:[o.jsx("div",{className:"seo-rules-header",children:o.jsxs("div",{className:"header-content",children:[o.jsx("h1",{children:"SEO RULES"}),o.jsx("p",{children:"Essential guide to optimize content according to SEO best practices"})]})}),o.jsx("div",{className:"seo-rules-grid",children:t.map(e=>{const n=e.icon;return o.jsxs(ae,{className:`seo-rule-card ${e.color} border-2 ${e.borderColor}`,children:[o.jsxs(Ve,{className:"pb-3",children:[o.jsxs("div",{className:"rule-header",children:[o.jsx("div",{className:`rule-number ${e.iconColor}`,children:e.number}),o.jsx(n,{className:`rule-icon ${e.iconColor}`})]}),o.jsx(et,{className:"text-lg",children:e.title})]}),o.jsxs(le,{children:[o.jsx("p",{className:"rule-description",children:e.description}),o.jsxs("div",{className:"rule-example mt-4 pt-4 border-t border-gray-200",children:[o.jsx("p",{className:"example-label font-semibold text-sm mb-3",children:e.example.title}),o.jsxs("div",{className:"example-item mb-3",children:[o.jsx("p",{className:"example-type text-xs font-bold text-green-700 mb-1",children:" GOOD:"}),o.jsx("p",{className:"example-text text-sm text-gray-700 bg-green-50 p-2 rounded border-l-2 border-green-500",children:e.example.good})]}),o.jsxs("div",{className:"example-item",children:[o.jsx("p",{className:"example-type text-xs font-bold text-red-700 mb-1",children:" BAD:"}),o.jsx("p",{className:"example-text text-sm text-gray-700 bg-red-50 p-2 rounded border-l-2 border-red-500",children:e.example.bad})]})]})]})]},e.number)})}),o.jsx("div",{className:"seo-rules-footer",children:o.jsxs("div",{className:"footer-content",children:[o.jsx(Lb,{className:"check-icon"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Remember:"})," Consistency between URL, title, description, content, and images is the foundation of a good SEO strategy. Follow these rules to ensure the best results."]})]})})]})}function lW(){const t=Pt();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Landing Pages"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage Cities and Areas landing pages"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(ae,{className:"hover:shadow-md transition",children:[o.jsx(Ve,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Cd,{className:"h-5 w-5 text-primary"}),"Cities"]})}),o.jsxs(le,{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and edit city landing pages with hero images, content, and SEO meta tags."}),o.jsx(I,{onClick:()=>t("/cities"),children:"Manage Cities"})]})]}),o.jsxs(ae,{className:"hover:shadow-md transition",children:[o.jsx(Ve,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(vL,{className:"h-5 w-5 text-primary"}),"Areas"]})}),o.jsxs(le,{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage area landing pages linked to cities, with full SEO controls and images."}),o.jsx(I,{onClick:()=>t("/areas"),children:"Manage Areas"})]})]})]})]})}function cW(){const t=Pt(),e=fn(),[n,r]=h.useState(""),[i,s]=h.useState([]),a="/api",l=h.useMemo(()=>a.replace(/\/api$/,""),[a]),c=p=>p?p.startsWith("http")?p:p.startsWith("/")?`${l}${p}`:`${l}/${p}`:"",[u,d]=h.useState({}),{data:f,isLoading:x}=dt({queryKey:["cities"],queryFn:async()=>{var C,j;return((j=(C=(await q.get("/cities")).data)==null?void 0:C.data)==null?void 0:j.cities)||[]}}),S=h.useMemo(()=>{if(!f)return[];const p=n.toLowerCase();return f.filter(C=>!p||C.title.toLowerCase().includes(p)||C.slug.toLowerCase().includes(p)).sort((C,j)=>(C.display_order??0)-(j.display_order??0))},[f,n]);h.useEffect(()=>{s(S.map((p,C)=>({...p,display_order:p.display_order??C+1})))},[S]);const y=qe({mutationFn:async({id:p,value:C})=>q.put(`/cities/${p}`,{is_home:C?1:0}),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),v=qe({mutationFn:async p=>q.delete(`/cities/${p}`),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),w=qe({mutationFn:async p=>q.put("/cities/reorder",{items:p}),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),[b,g]=h.useState(null),m=p=>{if(b===null||b===p){g(null);return}const C=[...i],[j]=C.splice(b,1);C.splice(p,0,j);const N=C.map((E,_)=>({...E,display_order:_+1}));s(N),g(null),w.mutate(N.map((E,_)=>({id:E.id,display_order:_+1})))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:o.jsx(vi,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Cities"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage city landing pages"})]})]}),o.jsxs(I,{onClick:()=>t("/cities/new"),children:[o.jsx(Rn,{className:"h-4 w-4 mr-2"})," New City"]})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx(et,{children:"All Cities"}),o.jsx(B,{placeholder:"Search...",value:n,onChange:p=>r(p.target.value),className:"max-w-xs"})]})}),o.jsxs(le,{className:"space-y-3",children:[x&&o.jsx("p",{children:"Loading..."}),!x&&i.length===0&&o.jsx("p",{className:"text-muted-foreground",children:"No cities found."}),!x&&i.map((p,C)=>o.jsxs(ae,{className:`flex gap-4 items-start ${b===C?"opacity-60 border-dashed":""}`,draggable:!0,onDragStart:()=>g(C),onDragOver:j=>j.preventDefault(),onDrop:()=>m(C),onDragEnd:()=>g(null),children:[o.jsxs("div",{className:"p-3 text-muted-foreground flex flex-col items-center justify-start cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-2xs text-muted-foreground mt-1",children:["#",C+1]})]}),p.cover_image&&!u[p.id]?o.jsx("img",{src:c(p.cover_image),alt:p.cover_image_alt||p.title,className:"w-40 h-32 md:w-48 md:h-48 object-cover my-4 ml-1 mr-3 rounded-lg",onError:()=>d(j=>({...j,[p.id]:!0}))}):o.jsx("div",{className:"w-40 h-32 md:w-48 md:h-48 flex items-center justify-center flex-shrink-0 my-4 ml-1 mr-3 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-amber-50 to-rose-50",children:o.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(et,{className:"line-clamp-1",children:p.title}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o.jsx($a,{className:"h-3 w-3 inline mr-1"}),o.jsxs("span",{className:"break-all",children:["/community/",p.slug]})]}),p.subtitle&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:p.subtitle})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(Rt,{checked:!!p.is_home,onCheckedChange:j=>y.mutate({id:p.id,value:j}),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle city on home"})]})]})}),o.jsx(le,{className:"p-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsx(I,{variant:"outline",size:"sm",onClick:()=>t(`/areas?city_id=${p.id}`),children:"View Areas"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(I,{variant:"outline",size:"sm",onClick:()=>t(`/cities/${p.id}/edit`),children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>{confirm("Delete this city?")&&v.mutate(p.id)},children:[o.jsx(lj,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]},p.id))]})]})]})}const uW={title:"",subtitle:"",slug:"",cover_image:"",cover_image_alt:"",content_image:"",content_image_alt:"",fullContent:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",is_home:0,display_order:0};function ww(){const{id:t}=po(),e=!!t,n=Pt(),r=fn(),[i,s]=h.useState(uW),[a,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[x,S]=h.useState(!1),y=h.useRef(null),v=h.useRef(null),w="/api",b=h.useMemo(()=>w.replace(/\/api$/,""),[w]),g=A=>A?A.startsWith("http")?A:`${b}${A}`:"",m=dt({queryKey:["city",t],enabled:e,queryFn:async()=>{var k;return(k=(await q.get(`/cities/${t}`)).data)==null?void 0:k.data}});h.useEffect(()=>{const A=m.data;A&&s({title:A.title||"",subtitle:A.subtitle||"",slug:A.slug||"",cover_image:A.cover_image||"",cover_image_alt:A.cover_image_alt||"",content_image:A.content_image||"",content_image_alt:A.content_image_alt||"",fullContent:A.fullContent||"",seoTitle:A.seoTitle||"",seoDescription:A.seoDescription||"",ogTitle:A.ogTitle||"",ogDescription:A.ogDescription||"",is_home:A.is_home?1:0,display_order:A.display_order||0})},[m.data]);const p=qe({mutationFn:async A=>e?q.put(`/cities/${t}`,{...A,is_home:A.is_home?1:0}):q.post("/cities",{...A,is_home:A.is_home?1:0}),onSuccess:()=>{r.invalidateQueries({queryKey:["cities"]}),n("/cities")}}),C=A=>{const{name:k,value:P}=A.target;s(M=>({...M,[k]:P}))},j=A=>{A.preventDefault();const k=[];if(i.title.trim()||k.push("Title is required"),i.slug.trim()||k.push("URL is required"),i.seoTitle.trim()||k.push("Title tag is required"),i.seoDescription.trim()||k.push("Meta description is required"),i.ogTitle.trim()||k.push("OG Title is required"),i.ogDescription.trim()||k.push("OG Description is required"),i.cover_image&&!i.cover_image_alt.trim()&&k.push("Alt text is required for cover image"),i.content_image&&!i.content_image_alt.trim()&&k.push("Alt text is required for content image"),k.length){alert(k.join(`
`));return}const P={...i,slug:i.slug.trim()||N(i.title),is_home:i.is_home?1:0};p.mutate(P)},N=A=>A.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"city-slug",E=async(A,k)=>{var M,$;if(!A.type.startsWith("image/")){console.warn("Please select an image file");return}if(A.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const P=k==="cover_image"?l:u;P(!0);try{const X=new FormData;X.append("image",A);const Q=($=(M=(await q.post("/upload/city-image",X,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:M.data)==null?void 0:$.url;Q&&s(O=>({...O,[k]:Q}))}catch(X){console.error(X)}finally{P(!1)}},_=async A=>{const k=i[A];if(k&&confirm("Remove this image?")){try{await q.delete(`/upload/file?url=${encodeURIComponent(k)}`)}catch(P){console.error(P)}s(P=>({...P,[A]:"",...A==="cover_image"?{cover_image_alt:""}:{content_image_alt:""}}))}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>n("/cities"),children:o.jsx(vi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:e?"Edit City":"New City"})]}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(et,{children:"City Information"})}),o.jsxs(le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title (H1) *"}),o.jsx(B,{name:"title",value:i.title,onChange:A=>{s(k=>({...k,title:A.target.value})),e||s(k=>({...k,slug:N(A.target.value)}))},required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Short description"}),o.jsx(ut,{name:"subtitle",value:i.subtitle,onChange:C,rows:3,placeholder:"Brief summary for listings"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rt,{checked:!!i.is_home,onCheckedChange:A=>s(k=>({...k,is_home:A?1:0})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-base font-semibold",children:"Images"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("p",{className:"text-sm font-semibold",children:"Cover image"}),i.cover_image&&!d?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:g(i.cover_image),alt:"Cover",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>f(!0)}),o.jsxs(I,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>_("cover_image"),children:[o.jsx(mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var A;return(A=y.current)==null?void 0:A.click()},children:[o.jsx(fr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload cover"}),o.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:A=>{var k;(k=A.target.files)!=null&&k[0]&&E(A.target.files[0],"cover_image")},disabled:a,className:"hidden"}),a&&o.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),o.jsx(B,{name:"cover_image_alt",value:i.cover_image_alt,onChange:C,required:!!i.cover_image})]})]}),o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"}),i.content_image&&!x?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:g(i.content_image),alt:"Content",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>S(!0)}),o.jsxs(I,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>_("content_image"),children:[o.jsx(mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},children:[o.jsx(fr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),o.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:A=>{var k;(k=A.target.files)!=null&&k[0]&&E(A.target.files[0],"content_image")},disabled:c,className:"hidden"}),c&&o.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),o.jsx(B,{name:"content_image_alt",value:i.content_image_alt,onChange:C,required:!!i.content_image})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Full content"}),o.jsx(zh,{value:i.fullContent,onChange:A=>s(k=>({...k,fullContent:A})),placeholder:"Write your content..."})]}),o.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsx("div",{className:"flex items-center justify-between gap-2",children:o.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"LNK (url)"}),o.jsx(B,{name:"slug",value:i.slug,onChange:A=>s(k=>({...k,slug:N(A.target.value)})),disabled:e,required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),o.jsx(B,{name:"seoTitle",value:i.seoTitle,onChange:C,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),o.jsx(ut,{name:"seoDescription",value:i.seoDescription,onChange:C,rows:3,maxLength:320})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Title (meta="og:title")'}),o.jsx(B,{name:"ogTitle",value:i.ogTitle,onChange:C,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Description (meta="og:description")'}),o.jsx(ut,{name:"ogDescription",value:i.ogDescription,onChange:C,rows:3,maxLength:320})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(I,{type:"submit",disabled:p.isPending,children:p.isPending?"Saving...":e?"Update City":"Create City"}),o.jsx(I,{variant:"outline",type:"button",onClick:()=>n("/cities"),children:"Close"})]})]})]})}function dW(){const t=Pt(),e=fn(),[n,r]=h.useState(""),[i,s]=h.useState([]),a=mo(),l="/api",c=h.useMemo(()=>l.replace(/\/api$/,""),[l]),u=N=>N?N.startsWith("http")?N:N.startsWith("/")?`${c}${N}`:`${c}/${N}`:"",[d,f]=h.useState({}),{data:x=[]}=dt({queryKey:["cities"],queryFn:async()=>{var E,_;return((_=(E=(await q.get("/cities")).data)==null?void 0:E.data)==null?void 0:_.cities)||[]}}),{data:S=[],isLoading:y}=dt({queryKey:["areas"],queryFn:async()=>{var E,_;return((_=(E=(await q.get("/areas")).data)==null?void 0:E.data)==null?void 0:_.areas)||[]}}),v=h.useMemo(()=>{const N=n.toLowerCase(),_=new URLSearchParams(a.search).get("city_id");return S.filter(A=>!N||A.title.toLowerCase().includes(N)||A.slug.toLowerCase().includes(N)).filter(A=>!_||String(A.city_id)===_).sort((A,k)=>(A.display_order??0)-(k.display_order??0))},[S,n,a.search]);h.useEffect(()=>{s(v.map((N,E)=>({...N,display_order:N.display_order??E+1})))},[v]);const w=qe({mutationFn:async({id:N,value:E})=>q.put(`/areas/${N}`,{is_home:E?1:0}),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),b=qe({mutationFn:async N=>q.put("/areas/reorder",{items:N}),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),g=qe({mutationFn:async N=>q.delete(`/areas/${N}`),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),m=N=>x.find(E=>E.id===N),[p,C]=h.useState(null),j=N=>{if(p===null||p===N){C(null);return}const E=[...i],[_]=E.splice(p,1);E.splice(N,0,_);const A=E.map((k,P)=>({...k,display_order:P+1}));s(A),C(null),b.mutate(A.map((k,P)=>({id:k.id,display_order:P+1})))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:o.jsx(vi,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Areas"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage area landing pages"})]})]}),o.jsxs(I,{onClick:()=>t("/areas/new"),children:[o.jsx(Rn,{className:"h-4 w-4 mr-2"})," New Area"]})]}),o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx(et,{children:"All Areas"}),o.jsx(B,{placeholder:"Search...",value:n,onChange:N=>r(N.target.value),className:"max-w-xs"})]})}),o.jsxs(le,{className:"space-y-3",children:[y&&o.jsx("p",{children:"Loading..."}),!y&&i.length===0&&o.jsx("p",{className:"text-muted-foreground",children:"No areas found."}),!y&&i.map((N,E)=>{const _=m(N.city_id);return o.jsxs(ae,{className:`flex gap-4 items-start ${p===E?"opacity-60 border-dashed":""}`,draggable:!0,onDragStart:()=>C(E),onDragOver:A=>A.preventDefault(),onDrop:()=>j(E),onDragEnd:()=>C(null),children:[o.jsxs("div",{className:"p-3 text-muted-foreground flex flex-col items-center justify-start cursor-grab",children:[o.jsx(go,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-2xs text-muted-foreground mt-1",children:["#",E+1]})]}),N.cover_image&&!d[N.id]?o.jsx("img",{src:u(N.cover_image),alt:N.cover_image_alt||N.title,className:"w-40 h-32 md:w-48 md:h-48 object-cover my-4 ml-1 mr-3 rounded-lg",onError:()=>f(A=>({...A,[N.id]:!0}))}):o.jsx("div",{className:"w-40 h-32 md:w-48 md:h-48 flex items-center justify-center flex-shrink-0 my-4 ml-1 mr-3 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-amber-50 to-rose-50",children:o.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),o.jsxs("div",{className:"flex-1 py-4 pr-4",children:[o.jsx(Ve,{className:"p-0 pb-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(et,{className:"line-clamp-1",children:N.title}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o.jsx($a,{className:"h-3 w-3 inline mr-1"}),o.jsxs("span",{className:"break-all",children:["/community/",_==null?void 0:_.slug,"/",N.slug]})]}),_&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["City: ",_.title]}),N.subtitle&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:N.subtitle})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),o.jsx(Rt,{checked:!!N.is_home,onCheckedChange:A=>w.mutate({id:N.id,value:A}),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle area on home"})]})]})}),o.jsx(le,{className:"p-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(I,{variant:"outline",size:"sm",onClick:()=>t(`/areas/${N.id}/edit`),children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>{confirm("Delete this area?")&&g.mutate(N.id)},children:[o.jsx(lj,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]},N.id)})]})]})]})}const hW={city_id:"",title:"",subtitle:"",slug:"",cover_image:"",cover_image_alt:"",content_image:"",content_image_alt:"",fullContent:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",is_home:0,display_order:0};function Sw(){const{id:t}=po(),e=!!t,n=Pt(),r=fn(),[i,s]=h.useState(hW),[a,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[x,S]=h.useState(!1),y=h.useRef(null),v=h.useRef(null),w="/api",b=h.useMemo(()=>w.replace(/\/api$/,""),[w]),g=k=>k?k.startsWith("http")?k:`${b}${k}`:"",{data:m=[]}=dt({queryKey:["cities"],queryFn:async()=>{var P,M;return((M=(P=(await q.get("/cities")).data)==null?void 0:P.data)==null?void 0:M.cities)||[]}}),p=dt({queryKey:["area",t],enabled:e,queryFn:async()=>{var P;return(P=(await q.get(`/areas/${t}`)).data)==null?void 0:P.data}});h.useEffect(()=>{const k=p.data;k&&s({city_id:k.city_id,title:k.title||"",subtitle:k.subtitle||"",slug:k.slug||"",cover_image:k.cover_image||"",cover_image_alt:k.cover_image_alt||"",content_image:k.content_image||"",content_image_alt:k.content_image_alt||"",fullContent:k.fullContent||"",seoTitle:k.seoTitle||"",seoDescription:k.seoDescription||"",ogTitle:k.ogTitle||"",ogDescription:k.ogDescription||"",is_home:k.is_home?1:0,display_order:k.display_order||0})},[p.data]);const C=qe({mutationFn:async k=>{const P={...k,is_home:k.is_home?1:0,city_id:Number(k.city_id)};return e?q.put(`/areas/${t}`,P):q.post("/areas",P)},onSuccess:()=>{r.invalidateQueries({queryKey:["areas"]}),n("/areas")}}),j=k=>{const{name:P,value:M}=k.target;s($=>({...$,[P]:P==="city_id"?Number(M):M}))},N=k=>{k.preventDefault();const P=[];if(i.city_id||P.push("Select a city"),i.title.trim()||P.push("Title is required"),i.slug.trim()||P.push("URL is required"),i.seoTitle.trim()||P.push("Title tag is required"),i.seoDescription.trim()||P.push("Meta description is required"),i.ogTitle.trim()||P.push("OG Title is required"),i.ogDescription.trim()||P.push("OG Description is required"),i.cover_image&&!i.cover_image_alt.trim()&&P.push("Alt text is required for cover image"),i.content_image&&!i.content_image_alt.trim()&&P.push("Alt text is required for content image"),P.length){alert(P.join(`
`));return}C.mutate({...i,slug:i.slug.trim()||E(i.title),is_home:i.is_home?1:0})},E=k=>k.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"area-slug",_=async(k,P)=>{var $,X;if(!k.type.startsWith("image/")){console.warn("Please select an image file");return}if(k.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const M=P==="cover_image"?l:u;M(!0);try{const z=new FormData;z.append("image",k);const O=(X=($=(await q.post("/upload/area-image",z,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:$.data)==null?void 0:X.url;O&&s(L=>({...L,[P]:O}))}catch(z){console.error(z)}finally{M(!1)}},A=async k=>{const P=i[k];if(P&&confirm("Remove this image?")){try{await q.delete(`/upload/file?url=${encodeURIComponent(P)}`)}catch(M){console.error(M)}s(M=>({...M,[k]:"",...k==="cover_image"?{cover_image_alt:""}:{content_image_alt:""}}))}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{variant:"ghost",size:"icon",onClick:()=>n("/areas"),children:o.jsx(vi,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:e?"Edit Area":"New Area"})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs(ae,{children:[o.jsx(Ve,{children:o.jsx(et,{children:"Area Information"})}),o.jsxs(le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"City *"}),o.jsxs("select",{name:"city_id",value:i.city_id,onChange:j,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",required:!0,children:[o.jsx("option",{value:"",children:"Select a city"}),m.map(k=>o.jsx("option",{value:k.id,children:k.title},k.id))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title (H1) *"}),o.jsx(B,{name:"title",value:i.title,onChange:k=>{s(P=>({...P,title:k.target.value})),e||s(P=>({...P,slug:E(k.target.value)}))},required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Short description"}),o.jsx(ut,{name:"subtitle",value:i.subtitle,onChange:j,rows:3,placeholder:"Brief summary for listings"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rt,{checked:!!i.is_home,onCheckedChange:k=>s(P=>({...P,is_home:k?1:0})),className:"data-[state=checked]:bg-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-base font-semibold",children:"Images"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("p",{className:"text-sm font-semibold",children:"Cover image"}),i.cover_image&&!d?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:g(i.cover_image),alt:"Cover",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>f(!0)}),o.jsxs(I,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>A("cover_image"),children:[o.jsx(mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var k;return(k=y.current)==null?void 0:k.click()},children:[o.jsx(fr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload cover"}),o.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:k=>{var P;(P=k.target.files)!=null&&P[0]&&_(k.target.files[0],"cover_image")},disabled:a,className:"hidden"}),a&&o.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),o.jsx(B,{name:"cover_image_alt",value:i.cover_image_alt,onChange:j,required:!!i.cover_image})]})]}),o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[o.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"}),i.content_image&&!x?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:g(i.content_image),alt:"Content",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>S(!0)}),o.jsxs(I,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>A("content_image"),children:[o.jsx(mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},children:[o.jsx(fr,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),o.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:k=>{var P;(P=k.target.files)!=null&&P[0]&&_(k.target.files[0],"content_image")},disabled:c,className:"hidden"}),c&&o.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),o.jsx(B,{name:"content_image_alt",value:i.content_image_alt,onChange:j,required:!!i.content_image})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Full content"}),o.jsx(zh,{value:i.fullContent,onChange:k=>s(P=>({...P,fullContent:k})),placeholder:"Write your content..."})]}),o.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsx("div",{className:"flex items-center justify-between gap-2",children:o.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"LNK (url)"}),o.jsx(B,{name:"slug",value:i.slug,onChange:k=>s(P=>({...P,slug:E(k.target.value)})),disabled:e,required:!0})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),o.jsx(B,{name:"seoTitle",value:i.seoTitle,onChange:j,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),o.jsx(ut,{name:"seoDescription",value:i.seoDescription,onChange:j,rows:3,maxLength:320})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Title (meta="og:title")'}),o.jsx(B,{name:"ogTitle",value:i.ogTitle,onChange:j,maxLength:160})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium",children:'OG Description (meta="og:description")'}),o.jsx(ut,{name:"ogDescription",value:i.ogDescription,onChange:j,rows:3,maxLength:320})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(I,{type:"submit",disabled:C.isPending,children:C.isPending?"Saving...":e?"Update Area":"Create Area"}),o.jsx(I,{variant:"outline",type:"button",onClick:()=>n("/areas"),children:"Close"})]})]})]})}function fW(){return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Buyers Guide"}),o.jsx("p",{className:"text-muted-foreground",children:"Working in progress. This section will host the Buyers Guide landing and related content."})]})}function mW({children:t}){const e=Pt(),{isAuthenticated:n,token:r,expiresAt:i,logout:s,refreshSession:a}=dc(u=>({isAuthenticated:u.isAuthenticated,token:u.token,expiresAt:u.expiresAt,logout:u.logout,refreshSession:u.refreshSession})),[l,c]=h.useState(!0);return h.useEffect(()=>{if(!n||!r||!i){s(),e("/login",{replace:!0});return}const u=Date.now();if(i<=u){s(),e("/login",{replace:!0});return}let d=!1;(async()=>{var S,y,v;try{const b=(v=(y=(S=(await q.post("/auth/verify")).data)==null?void 0:S.data)==null?void 0:y.user)==null?void 0:v.exp;if(b){const g=b*1e3;a(g)}d||c(!1)}catch{d||(s(),e("/login",{replace:!0}))}})();const x=window.setTimeout(()=>{s(),e("/login",{replace:!0})},Math.max(0,i-u));return()=>{d=!0,clearTimeout(x)}},[n,r,i,s,e,a]),!n||!r?o.jsx(nN,{to:"/login",replace:!0}):l?null:o.jsx(o.Fragment,{children:t})}function pW(){return o.jsxs(CP,{children:[o.jsx(Te,{path:"/login",element:o.jsx(mL,{})}),o.jsxs(Te,{path:"/",element:o.jsx(mW,{children:o.jsx(TL,{})}),children:[o.jsx(Te,{index:!0,element:o.jsx(yM,{})}),o.jsx(Te,{path:"properties",element:o.jsx(U$,{})}),o.jsx(Te,{path:"properties/new",element:o.jsx(vm,{})}),o.jsx(Te,{path:"properties/import-json",element:o.jsx(Gz,{})}),o.jsx(Te,{path:"properties/:id",element:o.jsx(vm,{})}),o.jsx(Te,{path:"properties/:id/edit",element:o.jsx(vm,{})}),o.jsx(Te,{path:"blogs",element:o.jsx(eW,{})}),o.jsx(Te,{path:"blogs/new",element:o.jsx(gw,{})}),o.jsx(Te,{path:"blogs/:id/edit",element:o.jsx(gw,{})}),o.jsx(Te,{path:"photogallery",element:o.jsx(tW,{})}),o.jsx(Te,{path:"photogallery/upload",element:o.jsx(vw,{})}),o.jsx(Te,{path:"photogallery/:id/edit",element:o.jsx(vw,{})}),o.jsx(Te,{path:"videos",element:o.jsx(nW,{})}),o.jsx(Te,{path:"videos/new",element:o.jsx(xw,{})}),o.jsx(Te,{path:"videos/:id/edit",element:o.jsx(xw,{})}),o.jsx(Te,{path:"testimonials",element:o.jsx(iW,{})}),o.jsx(Te,{path:"testimonials/new",element:o.jsx(yw,{})}),o.jsx(Te,{path:"testimonials/:id/edit",element:o.jsx(yw,{})}),o.jsx(Te,{path:"redirects",element:o.jsx(oW,{})}),o.jsx(Te,{path:"feedbacks",element:o.jsx(nN,{to:"/testimonials",replace:!0})}),o.jsx(Te,{path:"landing-pages",element:o.jsx(lW,{})}),o.jsx(Te,{path:"cities",element:o.jsx(cW,{})}),o.jsx(Te,{path:"cities/new",element:o.jsx(ww,{})}),o.jsx(Te,{path:"cities/:id/edit",element:o.jsx(ww,{})}),o.jsx(Te,{path:"areas",element:o.jsx(dW,{})}),o.jsx(Te,{path:"areas/new",element:o.jsx(Sw,{})}),o.jsx(Te,{path:"areas/:id/edit",element:o.jsx(Sw,{})}),o.jsx(Te,{path:"buyers-guide",element:o.jsx(fW,{})}),o.jsx(Te,{path:"link-generation",element:o.jsx(rW,{})}),o.jsx(Te,{path:"seo-rules",element:o.jsx(aW,{})})]})]})}const gW=new sD({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});HC(document.getElementById("root")).render(o.jsx(h.StrictMode,{children:o.jsx(oD,{client:gW,children:o.jsx(TP,{basename:"/admin/",children:o.jsx(pW,{})})})}));
