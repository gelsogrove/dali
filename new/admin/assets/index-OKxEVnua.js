var by=t=>{throw TypeError(t)};var Hh=(t,e,n)=>e.has(t)||by("Cannot "+n);var T=(t,e,n)=>(Hh(t,e,"read from private field"),n?n.call(t):e.get(t)),te=(t,e,n)=>e.has(t)?by("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),H=(t,e,n,r)=>(Hh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ve=(t,e,n)=>(Hh(t,e,"access private method"),n);var zc=(t,e,n,r)=>({set _(i){H(t,e,i,n)},get _(){return T(t,e,r)}});function SR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function hg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dw={exports:{}},zd={},hw={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc=Symbol.for("react.element"),ER=Symbol.for("react.portal"),NR=Symbol.for("react.fragment"),AR=Symbol.for("react.strict_mode"),jR=Symbol.for("react.profiler"),RR=Symbol.for("react.provider"),kR=Symbol.for("react.context"),TR=Symbol.for("react.forward_ref"),PR=Symbol.for("react.suspense"),DR=Symbol.for("react.memo"),_R=Symbol.for("react.lazy"),wy=Symbol.iterator;function OR(t){return t===null||typeof t!="object"?null:(t=wy&&t[wy]||t["@@iterator"],typeof t=="function"?t:null)}var fw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mw=Object.assign,pw={};function ka(t,e,n){this.props=t,this.context=e,this.refs=pw,this.updater=n||fw}ka.prototype.isReactComponent={};ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gw(){}gw.prototype=ka.prototype;function fg(t,e,n){this.props=t,this.context=e,this.refs=pw,this.updater=n||fw}var mg=fg.prototype=new gw;mg.constructor=fg;mw(mg,ka.prototype);mg.isPureReactComponent=!0;var Cy=Array.isArray,vw=Object.prototype.hasOwnProperty,pg={current:null},yw={key:!0,ref:!0,__self:!0,__source:!0};function xw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vw.call(e,r)&&!yw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Nc,type:t,key:s,ref:o,props:i,_owner:pg.current}}function LR(t,e){return{$$typeof:Nc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nc}function IR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sy=/\/+/g;function qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IR(""+t.key):e.toString(36)}function Cu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nc:case ER:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qh(o,0):r,Cy(i)?(n="",t!=null&&(n=t.replace(Sy,"$&/")+"/"),Cu(i,e,n,"",function(u){return u})):i!=null&&(gg(i)&&(i=LR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Sy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Cy(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+qh(s,l);o+=Cu(s,e,n,c,i)}else if(c=OR(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+qh(s,l++),o+=Cu(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wc(t,e,n){if(t==null)return t;var r=[],i=0;return Cu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function MR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},Su={transition:null},FR={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Su,ReactCurrentOwner:pg};function bw(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Wc,forEach:function(t,e,n){Wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wc(t,function(){e++}),e},toArray:function(t){return Wc(t,function(e){return e})||[]},only:function(t){if(!gg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=ka;Se.Fragment=NR;Se.Profiler=jR;Se.PureComponent=fg;Se.StrictMode=AR;Se.Suspense=PR;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FR;Se.act=bw;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)vw.call(e,c)&&!yw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Nc,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:kR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RR,_context:t},t.Consumer=t};Se.createElement=xw;Se.createFactory=function(t){var e=xw.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:TR,render:t}};Se.isValidElement=gg;Se.lazy=function(t){return{$$typeof:_R,_payload:{_status:-1,_result:t},_init:MR}};Se.memo=function(t,e){return{$$typeof:DR,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Su.transition;Su.transition={};try{t()}finally{Su.transition=e}};Se.unstable_act=bw;Se.useCallback=function(t,e){return an.current.useCallback(t,e)};Se.useContext=function(t){return an.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Se.useEffect=function(t,e){return an.current.useEffect(t,e)};Se.useId=function(){return an.current.useId()};Se.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return an.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Se.useRef=function(t){return an.current.useRef(t)};Se.useState=function(t){return an.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return an.current.useTransition()};Se.version="18.3.1";hw.exports=Se;var h=hw.exports;const Ee=hg(h),Wd=SR({__proto__:null,default:Ee},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR=h,$R=Symbol.for("react.element"),UR=Symbol.for("react.fragment"),zR=Object.prototype.hasOwnProperty,WR=BR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VR={key:!0,ref:!0,__self:!0,__source:!0};function ww(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zR.call(e,r)&&!VR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$R,type:t,key:s,ref:o,props:i,_owner:WR.current}}zd.Fragment=UR;zd.jsx=ww;zd.jsxs=ww;dw.exports=zd;var a=dw.exports,Cw={exports:{}},Dn={},Sw={exports:{}},Ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var q=O.length;O.push(L);e:for(;0<q;){var Z=q-1>>>1,V=O[Z];if(0<i(V,L))O[Z]=L,O[q]=V,q=Z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],q=O.pop();if(q!==L){O[0]=q;e:for(var Z=0,V=O.length,_e=V>>>1;Z<_e;){var re=2*(Z+1)-1,Ye=O[re],ne=re+1,K=O[ne];if(0>i(Ye,q))ne<V&&0>i(K,Ye)?(O[Z]=K,O[ne]=q,Z=ne):(O[Z]=Ye,O[re]=q,Z=re);else if(ne<V&&0>i(K,q))O[Z]=K,O[ne]=q,Z=ne;else break e}}return L}function i(O,L){var q=O.sortIndex-L.sortIndex;return q!==0?q:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,g=3,w=!1,y=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=O)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function C(O){if(p=!1,v(O),!y)if(n(c)!==null)y=!0,$(E);else{var L=n(u);L!==null&&Q(C,L.startTime-O)}}function E(O,L){y=!1,p&&(p=!1,x(N),N=-1),w=!0;var q=g;try{for(v(L),f=n(c);f!==null&&(!(f.expirationTime>L)||O&&!k());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,g=f.priorityLevel;var V=Z(f.expirationTime<=L);L=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),v(L)}else r(c);f=n(c)}if(f!==null)var _e=!0;else{var re=n(u);re!==null&&Q(C,re.startTime-L),_e=!1}return _e}finally{f=null,g=q,w=!1}}var A=!1,S=null,N=-1,R=5,j=-1;function k(){return!(t.unstable_now()-j<R)}function D(){if(S!==null){var O=t.unstable_now();j=O;var L=!0;try{L=S(!0,O)}finally{L?M():(A=!1,S=null)}}else A=!1}var M;if(typeof m=="function")M=function(){m(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,J=B.port2;B.port1.onmessage=D,M=function(){J.postMessage(null)}}else M=function(){b(D,0)};function $(O){S=O,A||(A=!0,M())}function Q(O,L){N=b(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||w||(y=!0,$(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var q=g;g=L;try{return O()}finally{g=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=g;g=O;try{return L()}finally{g=q}},t.unstable_scheduleCallback=function(O,L,q){var Z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=q+V,O={id:d++,callback:L,priorityLevel:O,startTime:q,expirationTime:V,sortIndex:-1},q>Z?(O.sortIndex=q,e(u,O),n(c)===null&&O===n(u)&&(p?(x(N),N=-1):p=!0,Q(C,q-Z))):(O.sortIndex=V,e(c,O),y||w||(y=!0,$(E))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var L=g;return function(){var q=g;g=L;try{return O.apply(this,arguments)}finally{g=q}}}})(Ew);Sw.exports=Ew;var HR=Sw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qR=h,Pn=HR;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nw=new Set,Wl={};function ho(t,e){va(t,e),va(t+"Capture",e)}function va(t,e){for(Wl[t]=e,t=0;t<e.length;t++)Nw.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mm=Object.prototype.hasOwnProperty,KR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ey={},Ny={};function GR(t){return mm.call(Ny,t)?!0:mm.call(Ey,t)?!1:KR.test(t)?Ny[t]=!0:(Ey[t]=!0,!1)}function QR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YR(t,e,n,r){if(e===null||typeof e>"u"||QR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var vg=/[\-:]([a-z])/g;function yg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vg,yg);It[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vg,yg);It[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vg,yg);It[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function xg(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YR(e,n,i,r)&&(n=null),r||i===null?GR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vi=qR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vc=Symbol.for("react.element"),_o=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),bg=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),Aw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),vm=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),Rw=Symbol.for("react.offscreen"),Ay=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=Ay&&t[Ay]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Kh;function vl(t){if(Kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kh=e&&e[1]||""}return`
`+Kh+t}var Gh=!1;function Qh(t,e){if(!t||Gh)return"";Gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vl(t):""}function JR(t){switch(t.tag){case 5:return vl(t.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 2:case 15:return t=Qh(t.type,!1),t;case 11:return t=Qh(t.type.render,!1),t;case 1:return t=Qh(t.type,!0),t;default:return""}}function ym(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oo:return"Fragment";case _o:return"Portal";case pm:return"Profiler";case bg:return"StrictMode";case gm:return"Suspense";case vm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jw:return(t.displayName||"Context")+".Consumer";case Aw:return(t._context.displayName||"Context")+".Provider";case wg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cg:return e=t.displayName||null,e!==null?e:ym(t.type)||"Memo";case Oi:e=t._payload,t=t._init;try{return ym(t(e))}catch{}}return null}function XR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ym(e);case 8:return e===bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZR(t){var e=kw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=ZR(t))}function Tw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xm(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pw(t,e){e=e.checked,e!=null&&xg(t,"checked",e,!1)}function bm(t,e){Pw(t,e);var n=us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wm(t,e.type,n):e.hasOwnProperty("defaultValue")&&wm(t,e.type,us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ry(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wm(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yl=Array.isArray;function Ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+us(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ky(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(yl(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:us(n)}}function Dw(t,e){var n=us(e.value),r=us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ty(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _w(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_w(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,Ow=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ek=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(t){ek.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),El[e]=El[t]})});function Lw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||El.hasOwnProperty(t)&&El[t]?(""+e).trim():e+"px"}function Iw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tk=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Em(t,e){if(e){if(tk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=null;function Sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jm=null,qo=null,Ko=null;function Py(t){if(t=Rc(t)){if(typeof jm!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Gd(e),jm(t.stateNode,t.type,e))}}function Mw(t){qo?Ko?Ko.push(t):Ko=[t]:qo=t}function Fw(){if(qo){var t=qo,e=Ko;if(Ko=qo=null,Py(t),e)for(t=0;t<e.length;t++)Py(e[t])}}function Bw(t,e){return t(e)}function $w(){}var Yh=!1;function Uw(t,e,n){if(Yh)return t(e,n);Yh=!0;try{return Bw(t,e,n)}finally{Yh=!1,(qo!==null||Ko!==null)&&($w(),Fw())}}function Hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Gd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Rm=!1;if(di)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){Rm=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{Rm=!1}function nk(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Nl=!1,qu=null,Ku=!1,km=null,rk={onError:function(t){Nl=!0,qu=t}};function ik(t,e,n,r,i,s,o,l,c){Nl=!1,qu=null,nk.apply(rk,arguments)}function sk(t,e,n,r,i,s,o,l,c){if(ik.apply(this,arguments),Nl){if(Nl){var u=qu;Nl=!1,qu=null}else throw Error(I(198));Ku||(Ku=!0,km=u)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dy(t){if(fo(t)!==t)throw Error(I(188))}function ok(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dy(i),t;if(s===r)return Dy(i),e;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Ww(t){return t=ok(t),t!==null?Vw(t):null}function Vw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vw(t);if(e!==null)return e;t=t.sibling}return null}var Hw=Pn.unstable_scheduleCallback,_y=Pn.unstable_cancelCallback,ak=Pn.unstable_shouldYield,lk=Pn.unstable_requestPaint,ft=Pn.unstable_now,ck=Pn.unstable_getCurrentPriorityLevel,Eg=Pn.unstable_ImmediatePriority,qw=Pn.unstable_UserBlockingPriority,Gu=Pn.unstable_NormalPriority,uk=Pn.unstable_LowPriority,Kw=Pn.unstable_IdlePriority,Vd=null,Dr=null;function dk(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Vd,t,void 0,(t.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:mk,hk=Math.log,fk=Math.LN2;function mk(t){return t>>>=0,t===0?32:31-(hk(t)/fk|0)|0}var Kc=64,Gc=4194304;function xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=xl(l):(s&=o,s!==0&&(r=xl(s)))}else o=n&~i,o!==0?r=xl(o):s!==0&&(r=xl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cr(e),i=1<<n,r|=t[n],e&=~i;return r}function pk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cr(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=pk(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gw(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function Jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cr(e),t[e]=n}function vk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ng(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function Qw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yw,Ag,Jw,Xw,Zw,Pm=!1,Qc=[],Zi=null,es=null,ts=null,ql=new Map,Kl=new Map,Fi=[],yk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oy(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(e.pointerId)}}function Za(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Rc(e),e!==null&&Ag(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xk(t,e,n,r,i){switch(e){case"focusin":return Zi=Za(Zi,t,e,n,r,i),!0;case"dragenter":return es=Za(es,t,e,n,r,i),!0;case"mouseover":return ts=Za(ts,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ql.set(s,Za(ql.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kl.set(s,Za(Kl.get(s)||null,t,e,n,r,i)),!0}return!1}function eC(t){var e=ks(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=zw(n),e!==null){t.blockedOn=e,Zw(t.priority,function(){Jw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Am=r,n.target.dispatchEvent(r),Am=null}else return e=Rc(n),e!==null&&Ag(e),t.blockedOn=n,!1;e.shift()}return!0}function Ly(t,e,n){Eu(t)&&n.delete(e)}function bk(){Pm=!1,Zi!==null&&Eu(Zi)&&(Zi=null),es!==null&&Eu(es)&&(es=null),ts!==null&&Eu(ts)&&(ts=null),ql.forEach(Ly),Kl.forEach(Ly)}function el(t,e){t.blockedOn===e&&(t.blockedOn=null,Pm||(Pm=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,bk)))}function Gl(t){function e(i){return el(i,t)}if(0<Qc.length){el(Qc[0],t);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&el(Zi,t),es!==null&&el(es,t),ts!==null&&el(ts,t),ql.forEach(e),Kl.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)eC(n),n.blockedOn===null&&Fi.shift()}var Go=vi.ReactCurrentBatchConfig,Yu=!0;function wk(t,e,n,r){var i=ze,s=Go.transition;Go.transition=null;try{ze=1,jg(t,e,n,r)}finally{ze=i,Go.transition=s}}function Ck(t,e,n,r){var i=ze,s=Go.transition;Go.transition=null;try{ze=4,jg(t,e,n,r)}finally{ze=i,Go.transition=s}}function jg(t,e,n,r){if(Yu){var i=Dm(t,e,n,r);if(i===null)lf(t,e,r,Ju,n),Oy(t,r);else if(xk(i,t,e,n,r))r.stopPropagation();else if(Oy(t,r),e&4&&-1<yk.indexOf(t)){for(;i!==null;){var s=Rc(i);if(s!==null&&Yw(s),s=Dm(t,e,n,r),s===null&&lf(t,e,r,Ju,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lf(t,e,r,null,n)}}var Ju=null;function Dm(t,e,n,r){if(Ju=null,t=Sg(r),t=ks(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ju=t,null}function tC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ck()){case Eg:return 1;case qw:return 4;case Gu:case uk:return 16;case Kw:return 536870912;default:return 16}default:return 16}}var Yi=null,Rg=null,Nu=null;function nC(){if(Nu)return Nu;var t,e=Rg,n=e.length,r,i="value"in Yi?Yi.value:Yi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nu=i.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function Iy(){return!1}function _n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yc:Iy,this.isPropagationStopped=Iy,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kg=_n(Ta),jc=it({},Ta,{view:0,detail:0}),Sk=_n(jc),Xh,Zh,tl,Hd=it({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tl&&(tl&&t.type==="mousemove"?(Xh=t.screenX-tl.screenX,Zh=t.screenY-tl.screenY):Zh=Xh=0,tl=t),Xh)},movementY:function(t){return"movementY"in t?t.movementY:Zh}}),My=_n(Hd),Ek=it({},Hd,{dataTransfer:0}),Nk=_n(Ek),Ak=it({},jc,{relatedTarget:0}),ef=_n(Ak),jk=it({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),Rk=_n(jk),kk=it({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tk=_n(kk),Pk=it({},Ta,{data:0}),Fy=_n(Pk),Dk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_k={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ok={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ok[t])?!!e[t]:!1}function Tg(){return Lk}var Ik=it({},jc,{key:function(t){if(t.key){var e=Dk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_k[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mk=_n(Ik),Fk=it({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),By=_n(Fk),Bk=it({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),$k=_n(Bk),Uk=it({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=_n(Uk),Wk=it({},Hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vk=_n(Wk),Hk=[9,13,27,32],Pg=di&&"CompositionEvent"in window,Al=null;di&&"documentMode"in document&&(Al=document.documentMode);var qk=di&&"TextEvent"in window&&!Al,rC=di&&(!Pg||Al&&8<Al&&11>=Al),$y=" ",Uy=!1;function iC(t,e){switch(t){case"keyup":return Hk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function Kk(t,e){switch(t){case"compositionend":return sC(e);case"keypress":return e.which!==32?null:(Uy=!0,$y);case"textInput":return t=e.data,t===$y&&Uy?null:t;default:return null}}function Gk(t,e){if(Lo)return t==="compositionend"||!Pg&&iC(t,e)?(t=nC(),Nu=Rg=Yi=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rC&&e.locale!=="ko"?null:e.data;default:return null}}var Qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qk[t.type]:e==="textarea"}function oC(t,e,n,r){Mw(r),e=Xu(e,"onChange"),0<e.length&&(n=new kg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jl=null,Ql=null;function Yk(t){vC(t,0)}function qd(t){var e=Fo(t);if(Tw(e))return t}function Jk(t,e){if(t==="change")return e}var aC=!1;if(di){var tf;if(di){var nf="oninput"in document;if(!nf){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),nf=typeof Wy.oninput=="function"}tf=nf}else tf=!1;aC=tf&&(!document.documentMode||9<document.documentMode)}function Vy(){jl&&(jl.detachEvent("onpropertychange",lC),Ql=jl=null)}function lC(t){if(t.propertyName==="value"&&qd(Ql)){var e=[];oC(e,Ql,t,Sg(t)),Uw(Yk,e)}}function Xk(t,e,n){t==="focusin"?(Vy(),jl=e,Ql=n,jl.attachEvent("onpropertychange",lC)):t==="focusout"&&Vy()}function Zk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qd(Ql)}function eT(t,e){if(t==="click")return qd(e)}function tT(t,e){if(t==="input"||t==="change")return qd(e)}function nT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:nT;function Yl(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mm.call(e,i)||!dr(t[i],e[i]))return!1}return!0}function Hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qy(t,e){var n=Hy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hy(n)}}function cC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uC(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function Dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rT(t){var e=uC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cC(n.ownerDocument.documentElement,n)){if(r!==null&&Dg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qy(n,s);var o=qy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iT=di&&"documentMode"in document&&11>=document.documentMode,Io=null,_m=null,Rl=null,Om=!1;function Ky(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Om||Io==null||Io!==Hu(r)||(r=Io,"selectionStart"in r&&Dg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rl&&Yl(Rl,r)||(Rl=r,r=Xu(_m,"onSelect"),0<r.length&&(e=new kg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Io)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},rf={},dC={};di&&(dC=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Kd(t){if(rf[t])return rf[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dC)return rf[t]=e[n];return t}var hC=Kd("animationend"),fC=Kd("animationiteration"),mC=Kd("animationstart"),pC=Kd("transitionend"),gC=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){gC.set(t,e),ho(e,[t])}for(var sf=0;sf<Gy.length;sf++){var of=Gy[sf],sT=of.toLowerCase(),oT=of[0].toUpperCase()+of.slice(1);vs(sT,"on"+oT)}vs(hC,"onAnimationEnd");vs(fC,"onAnimationIteration");vs(mC,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(pC,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Qy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sk(r,e,void 0,t),t.currentTarget=null}function vC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Qy(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Qy(i,l,u),s=c}}}if(Ku)throw t=km,Ku=!1,km=null,t}function Ke(t,e){var n=e[Bm];n===void 0&&(n=e[Bm]=new Set);var r=t+"__bubble";n.has(r)||(yC(e,t,2,!1),n.add(r))}function af(t,e,n){var r=0;e&&(r|=4),yC(n,t,r,e)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[Xc]){t[Xc]=!0,Nw.forEach(function(n){n!=="selectionchange"&&(aT.has(n)||af(n,!1,t),af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xc]||(e[Xc]=!0,af("selectionchange",!1,e))}}function yC(t,e,n,r){switch(tC(e)){case 1:var i=wk;break;case 4:i=Ck;break;default:i=jg}n=i.bind(null,e,n,t),i=void 0,!Rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ks(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Uw(function(){var u=s,d=Sg(n),f=[];e:{var g=gC.get(t);if(g!==void 0){var w=kg,y=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":w=Mk;break;case"focusin":y="focus",w=ef;break;case"focusout":y="blur",w=ef;break;case"beforeblur":case"afterblur":w=ef;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=$k;break;case hC:case fC:case mC:w=Rk;break;case pC:w=zk;break;case"scroll":w=Sk;break;case"wheel":w=Vk;break;case"copy":case"cut":case"paste":w=Tk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=By}var p=(e&4)!==0,b=!p&&t==="scroll",x=p?g!==null?g+"Capture":null:g;p=[];for(var m=u,v;m!==null;){v=m;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,x!==null&&(C=Hl(m,x),C!=null&&p.push(Xl(m,C,v)))),b)break;m=m.return}0<p.length&&(g=new w(g,y,null,n,d),f.push({event:g,listeners:p}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==Am&&(y=n.relatedTarget||n.fromElement)&&(ks(y)||y[hi]))break e;if((w||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,w?(y=n.relatedTarget||n.toElement,w=u,y=y?ks(y):null,y!==null&&(b=fo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=u),w!==y)){if(p=My,C="onMouseLeave",x="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(p=By,C="onPointerLeave",x="onPointerEnter",m="pointer"),b=w==null?g:Fo(w),v=y==null?g:Fo(y),g=new p(C,m+"leave",w,n,d),g.target=b,g.relatedTarget=v,C=null,ks(d)===u&&(p=new p(x,m+"enter",y,n,d),p.target=v,p.relatedTarget=b,C=p),b=C,w&&y)t:{for(p=w,x=y,m=0,v=p;v;v=jo(v))m++;for(v=0,C=x;C;C=jo(C))v++;for(;0<m-v;)p=jo(p),m--;for(;0<v-m;)x=jo(x),v--;for(;m--;){if(p===x||x!==null&&p===x.alternate)break t;p=jo(p),x=jo(x)}p=null}else p=null;w!==null&&Yy(f,g,w,p,!1),y!==null&&b!==null&&Yy(f,b,y,p,!0)}}e:{if(g=u?Fo(u):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var E=Jk;else if(zy(g))if(aC)E=tT;else{E=Zk;var A=Xk}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=eT);if(E&&(E=E(t,u))){oC(f,E,n,d);break e}A&&A(t,g,u),t==="focusout"&&(A=g._wrapperState)&&A.controlled&&g.type==="number"&&wm(g,"number",g.value)}switch(A=u?Fo(u):window,t){case"focusin":(zy(A)||A.contentEditable==="true")&&(Io=A,_m=u,Rl=null);break;case"focusout":Rl=_m=Io=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,Ky(f,n,d);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Ky(f,n,d)}var S;if(Pg)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Lo?iC(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(rC&&n.locale!=="ko"&&(Lo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Lo&&(S=nC()):(Yi=d,Rg="value"in Yi?Yi.value:Yi.textContent,Lo=!0)),A=Xu(u,N),0<A.length&&(N=new Fy(N,t,null,n,d),f.push({event:N,listeners:A}),S?N.data=S:(S=sC(n),S!==null&&(N.data=S)))),(S=qk?Kk(t,n):Gk(t,n))&&(u=Xu(u,"onBeforeInput"),0<u.length&&(d=new Fy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}vC(f,e)})}function Xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hl(t,n),s!=null&&r.unshift(Xl(t,s,i)),s=Hl(t,e),s!=null&&r.push(Xl(t,s,i))),t=t.return}return r}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Hl(n,s),c!=null&&o.unshift(Xl(n,c,l))):i||(c=Hl(n,s),c!=null&&o.push(Xl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lT=/\r\n?/g,cT=/\u0000|\uFFFD/g;function Jy(t){return(typeof t=="string"?t:""+t).replace(lT,`
`).replace(cT,"")}function Zc(t,e,n){if(e=Jy(e),Jy(t)!==e&&n)throw Error(I(425))}function Zu(){}var Lm=null,Im=null;function Mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,dT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(t){return Xy.resolve(null).then(t).catch(hT)}:Fm;function hT(t){setTimeout(function(){throw t})}function cf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gl(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Pa,Zl="__reactProps$"+Pa,hi="__reactContainer$"+Pa,Bm="__reactEvents$"+Pa,fT="__reactListeners$"+Pa,mT="__reactHandles$"+Pa;function ks(t){var e=t[Rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[Rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zy(t);t!==null;){if(n=t[Rr])return n;t=Zy(t)}return e}t=n,n=t.parentNode}return null}function Rc(t){return t=t[Rr]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Gd(t){return t[Zl]||null}var $m=[],Bo=-1;function ys(t){return{current:t}}function Ge(t){0>Bo||(t.current=$m[Bo],$m[Bo]=null,Bo--)}function He(t,e){Bo++,$m[Bo]=t.current,t.current=e}var ds={},Ht=ys(ds),pn=ys(!1),Qs=ds;function ya(t,e){var n=t.type.contextTypes;if(!n)return ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function ed(){Ge(pn),Ge(Ht)}function ex(t,e,n){if(Ht.current!==ds)throw Error(I(168));He(Ht,e),He(pn,n)}function xC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(I(108,XR(t)||"Unknown",i));return it({},n,r)}function td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ds,Qs=Ht.current,He(Ht,t),He(pn,pn.current),!0}function tx(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=xC(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,Ge(pn),Ge(Ht),He(Ht,t)):Ge(pn),He(pn,n)}var ei=null,Qd=!1,uf=!1;function bC(t){ei===null?ei=[t]:ei.push(t)}function pT(t){Qd=!0,bC(t)}function xs(){if(!uf&&ei!==null){uf=!0;var t=0,e=ze;try{var n=ei;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ei=null,Qd=!1}catch(i){throw ei!==null&&(ei=ei.slice(t+1)),Hw(Eg,xs),i}finally{ze=e,uf=!1}}return null}var $o=[],Uo=0,nd=null,rd=0,$n=[],Un=0,Ys=null,oi=1,ai="";function Ns(t,e){$o[Uo++]=rd,$o[Uo++]=nd,nd=t,rd=e}function wC(t,e,n){$n[Un++]=oi,$n[Un++]=ai,$n[Un++]=Ys,Ys=t;var r=oi;t=ai;var i=32-cr(r)-1;r&=~(1<<i),n+=1;var s=32-cr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,oi=1<<32-cr(e)+i|n<<i|r,ai=s+t}else oi=1<<s|n<<i|r,ai=t}function _g(t){t.return!==null&&(Ns(t,1),wC(t,1,0))}function Og(t){for(;t===nd;)nd=$o[--Uo],$o[Uo]=null,rd=$o[--Uo],$o[Uo]=null;for(;t===Ys;)Ys=$n[--Un],$n[Un]=null,ai=$n[--Un],$n[Un]=null,oi=$n[--Un],$n[Un]=null}var jn=null,An=null,Xe=!1,or=null;function CC(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,An=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:oi,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,An=null,!0):!1;default:return!1}}function Um(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(Xe){var e=An;if(e){var n=e;if(!nx(t,e)){if(Um(t))throw Error(I(418));e=ns(n.nextSibling);var r=jn;e&&nx(t,e)?CC(r,n):(t.flags=t.flags&-4097|2,Xe=!1,jn=t)}}else{if(Um(t))throw Error(I(418));t.flags=t.flags&-4097|2,Xe=!1,jn=t}}}function rx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function eu(t){if(t!==jn)return!1;if(!Xe)return rx(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mm(t.type,t.memoizedProps)),e&&(e=An)){if(Um(t))throw SC(),Error(I(418));for(;e;)CC(t,e),e=ns(e.nextSibling)}if(rx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=jn?ns(t.stateNode.nextSibling):null;return!0}function SC(){for(var t=An;t;)t=ns(t.nextSibling)}function xa(){An=jn=null,Xe=!1}function Lg(t){or===null?or=[t]:or.push(t)}var gT=vi.ReactCurrentBatchConfig;function nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ix(t){var e=t._init;return e(t._payload)}function EC(t){function e(x,m){if(t){var v=x.deletions;v===null?(x.deletions=[m],x.flags|=16):v.push(m)}}function n(x,m){if(!t)return null;for(;m!==null;)e(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function i(x,m){return x=os(x,m),x.index=0,x.sibling=null,x}function s(x,m,v){return x.index=v,t?(v=x.alternate,v!==null?(v=v.index,v<m?(x.flags|=2,m):v):(x.flags|=2,m)):(x.flags|=1048576,m)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,m,v,C){return m===null||m.tag!==6?(m=vf(v,x.mode,C),m.return=x,m):(m=i(m,v),m.return=x,m)}function c(x,m,v,C){var E=v.type;return E===Oo?d(x,m,v.props.children,C,v.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oi&&ix(E)===m.type)?(C=i(m,v.props),C.ref=nl(x,m,v),C.return=x,C):(C=_u(v.type,v.key,v.props,null,x.mode,C),C.ref=nl(x,m,v),C.return=x,C)}function u(x,m,v,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=yf(v,x.mode,C),m.return=x,m):(m=i(m,v.children||[]),m.return=x,m)}function d(x,m,v,C,E){return m===null||m.tag!==7?(m=Hs(v,x.mode,C,E),m.return=x,m):(m=i(m,v),m.return=x,m)}function f(x,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=vf(""+m,x.mode,v),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vc:return v=_u(m.type,m.key,m.props,null,x.mode,v),v.ref=nl(x,null,m),v.return=x,v;case _o:return m=yf(m,x.mode,v),m.return=x,m;case Oi:var C=m._init;return f(x,C(m._payload),v)}if(yl(m)||Ja(m))return m=Hs(m,x.mode,v,null),m.return=x,m;tu(x,m)}return null}function g(x,m,v,C){var E=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(x,m,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vc:return v.key===E?c(x,m,v,C):null;case _o:return v.key===E?u(x,m,v,C):null;case Oi:return E=v._init,g(x,m,E(v._payload),C)}if(yl(v)||Ja(v))return E!==null?null:d(x,m,v,C,null);tu(x,v)}return null}function w(x,m,v,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(v)||null,l(m,x,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Vc:return x=x.get(C.key===null?v:C.key)||null,c(m,x,C,E);case _o:return x=x.get(C.key===null?v:C.key)||null,u(m,x,C,E);case Oi:var A=C._init;return w(x,m,v,A(C._payload),E)}if(yl(C)||Ja(C))return x=x.get(v)||null,d(m,x,C,E,null);tu(m,C)}return null}function y(x,m,v,C){for(var E=null,A=null,S=m,N=m=0,R=null;S!==null&&N<v.length;N++){S.index>N?(R=S,S=null):R=S.sibling;var j=g(x,S,v[N],C);if(j===null){S===null&&(S=R);break}t&&S&&j.alternate===null&&e(x,S),m=s(j,m,N),A===null?E=j:A.sibling=j,A=j,S=R}if(N===v.length)return n(x,S),Xe&&Ns(x,N),E;if(S===null){for(;N<v.length;N++)S=f(x,v[N],C),S!==null&&(m=s(S,m,N),A===null?E=S:A.sibling=S,A=S);return Xe&&Ns(x,N),E}for(S=r(x,S);N<v.length;N++)R=w(S,x,N,v[N],C),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?N:R.key),m=s(R,m,N),A===null?E=R:A.sibling=R,A=R);return t&&S.forEach(function(k){return e(x,k)}),Xe&&Ns(x,N),E}function p(x,m,v,C){var E=Ja(v);if(typeof E!="function")throw Error(I(150));if(v=E.call(v),v==null)throw Error(I(151));for(var A=E=null,S=m,N=m=0,R=null,j=v.next();S!==null&&!j.done;N++,j=v.next()){S.index>N?(R=S,S=null):R=S.sibling;var k=g(x,S,j.value,C);if(k===null){S===null&&(S=R);break}t&&S&&k.alternate===null&&e(x,S),m=s(k,m,N),A===null?E=k:A.sibling=k,A=k,S=R}if(j.done)return n(x,S),Xe&&Ns(x,N),E;if(S===null){for(;!j.done;N++,j=v.next())j=f(x,j.value,C),j!==null&&(m=s(j,m,N),A===null?E=j:A.sibling=j,A=j);return Xe&&Ns(x,N),E}for(S=r(x,S);!j.done;N++,j=v.next())j=w(S,x,N,j.value,C),j!==null&&(t&&j.alternate!==null&&S.delete(j.key===null?N:j.key),m=s(j,m,N),A===null?E=j:A.sibling=j,A=j);return t&&S.forEach(function(D){return e(x,D)}),Xe&&Ns(x,N),E}function b(x,m,v,C){if(typeof v=="object"&&v!==null&&v.type===Oo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Vc:e:{for(var E=v.key,A=m;A!==null;){if(A.key===E){if(E=v.type,E===Oo){if(A.tag===7){n(x,A.sibling),m=i(A,v.props.children),m.return=x,x=m;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oi&&ix(E)===A.type){n(x,A.sibling),m=i(A,v.props),m.ref=nl(x,A,v),m.return=x,x=m;break e}n(x,A);break}else e(x,A);A=A.sibling}v.type===Oo?(m=Hs(v.props.children,x.mode,C,v.key),m.return=x,x=m):(C=_u(v.type,v.key,v.props,null,x.mode,C),C.ref=nl(x,m,v),C.return=x,x=C)}return o(x);case _o:e:{for(A=v.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(x,m.sibling),m=i(m,v.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else e(x,m);m=m.sibling}m=yf(v,x.mode,C),m.return=x,x=m}return o(x);case Oi:return A=v._init,b(x,m,A(v._payload),C)}if(yl(v))return y(x,m,v,C);if(Ja(v))return p(x,m,v,C);tu(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(x,m.sibling),m=i(m,v),m.return=x,x=m):(n(x,m),m=vf(v,x.mode,C),m.return=x,x=m),o(x)):n(x,m)}return b}var ba=EC(!0),NC=EC(!1),id=ys(null),sd=null,zo=null,Ig=null;function Mg(){Ig=zo=sd=null}function Fg(t){var e=id.current;Ge(id),t._currentValue=e}function Wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qo(t,e){sd=t,Ig=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(Ig!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(sd===null)throw Error(I(308));zo=t,sd.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Ts=null;function Bg(t){Ts===null?Ts=[t]:Ts.push(t)}function AC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bg(e)):(n.next=i.next,i.next=n),e.interleaved=n,fi(t,r)}function fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Li=!1;function $g(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fi(t,n)}return i=r.interleaved,i===null?(e.next=e,Bg(r)):(e.next=i.next,i.next=e),r.interleaved=e,fi(t,n)}function ju(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ng(t,n)}}function sx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function od(t,e,n,r){var i=t.updateQueue;Li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var g=l.lane,w=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,p=l;switch(g=e,w=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(w,f,g);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,g=typeof y=="function"?y.call(w,f,g):y,g==null)break e;f=it({},f,g);break e;case 2:Li=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=w,c=f):d=d.next=w,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xs|=o,t.lanes=o,t.memoizedState=f}}function ox(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var kc={},_r=ys(kc),ec=ys(kc),tc=ys(kc);function Ps(t){if(t===kc)throw Error(I(174));return t}function Ug(t,e){switch(He(tc,e),He(ec,t),He(_r,kc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sm(e,t)}Ge(_r),He(_r,e)}function wa(){Ge(_r),Ge(ec),Ge(tc)}function RC(t){Ps(tc.current);var e=Ps(_r.current),n=Sm(e,t.type);e!==n&&(He(ec,t),He(_r,n))}function zg(t){ec.current===t&&(Ge(_r),Ge(ec))}var tt=ys(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var df=[];function Wg(){for(var t=0;t<df.length;t++)df[t]._workInProgressVersionPrimary=null;df.length=0}var Ru=vi.ReactCurrentDispatcher,hf=vi.ReactCurrentBatchConfig,Js=0,rt=null,St=null,kt=null,ld=!1,kl=!1,nc=0,vT=0;function $t(){throw Error(I(321))}function Vg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function Hg(t,e,n,r,i,s){if(Js=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ru.current=t===null||t.memoizedState===null?wT:CT,t=n(r,i),kl){s=0;do{if(kl=!1,nc=0,25<=s)throw Error(I(301));s+=1,kt=St=null,e.updateQueue=null,Ru.current=ST,t=n(r,i)}while(kl)}if(Ru.current=cd,e=St!==null&&St.next!==null,Js=0,kt=St=rt=null,ld=!1,e)throw Error(I(300));return t}function qg(){var t=nc!==0;return nc=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?rt.memoizedState=kt=t:kt=kt.next=t,kt}function qn(){if(St===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=kt===null?rt.memoizedState:kt.next;if(e!==null)kt=e,St=t;else{if(t===null)throw Error(I(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},kt===null?rt.memoizedState=kt=t:kt=kt.next=t}return kt}function rc(t,e){return typeof e=="function"?e(t):e}function ff(t){var e=qn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Js&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,rt.lanes|=d,Xs|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,dr(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rt.lanes|=s,Xs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=qn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);dr(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kC(){}function TC(t,e){var n=rt,r=qn(),i=e(),s=!dr(r.memoizedState,i);if(s&&(r.memoizedState=i,mn=!0),r=r.queue,Kg(_C.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,ic(9,DC.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(I(349));Js&30||PC(n,e,i)}return i}function PC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DC(t,e,n,r){e.value=n,e.getSnapshot=r,OC(e)&&LC(t)}function _C(t,e,n){return n(function(){OC(e)&&LC(t)})}function OC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function LC(t){var e=fi(t,1);e!==null&&ur(e,t,1,-1)}function ax(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:t},e.queue=t,t=t.dispatch=bT.bind(null,rt,t),[e.memoizedState,t]}function ic(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function IC(){return qn().memoizedState}function ku(t,e,n,r){var i=Er();rt.flags|=t,i.memoizedState=ic(1|e,n,void 0,r===void 0?null:r)}function Yd(t,e,n,r){var i=qn();r=r===void 0?null:r;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,r!==null&&Vg(r,o.deps)){i.memoizedState=ic(e,n,s,r);return}}rt.flags|=t,i.memoizedState=ic(1|e,n,s,r)}function lx(t,e){return ku(8390656,8,t,e)}function Kg(t,e){return Yd(2048,8,t,e)}function MC(t,e){return Yd(4,2,t,e)}function FC(t,e){return Yd(4,4,t,e)}function BC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $C(t,e,n){return n=n!=null?n.concat([t]):null,Yd(4,4,BC.bind(null,e,t),n)}function Gg(){}function UC(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zC(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WC(t,e,n){return Js&21?(dr(n,e)||(n=Gw(),rt.lanes|=n,Xs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function yT(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=hf.transition;hf.transition={};try{t(!1),e()}finally{ze=n,hf.transition=r}}function VC(){return qn().memoizedState}function xT(t,e,n){var r=ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HC(t))qC(e,n);else if(n=AC(t,e,n,r),n!==null){var i=rn();ur(n,t,r,i),KC(n,e,r)}}function bT(t,e,n){var r=ss(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HC(t))qC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,dr(l,o)){var c=e.interleaved;c===null?(i.next=i,Bg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=AC(t,e,i,r),n!==null&&(i=rn(),ur(n,t,r,i),KC(n,e,r))}}function HC(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function qC(t,e){kl=ld=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ng(t,n)}}var cd={readContext:Hn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},wT={readContext:Hn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:lx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ku(4194308,4,BC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ku(4194308,4,t,e)},useInsertionEffect:function(t,e){return ku(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xT.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:ax,useDebugValue:Gg,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=ax(!1),e=t[0];return t=yT.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,i=Er();if(Xe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Dt===null)throw Error(I(349));Js&30||PC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lx(_C.bind(null,r,s,t),[t]),r.flags|=2048,ic(9,DC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Er(),e=Dt.identifierPrefix;if(Xe){var n=ai,r=oi;n=(r&~(1<<32-cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CT={readContext:Hn,useCallback:UC,useContext:Hn,useEffect:Kg,useImperativeHandle:$C,useInsertionEffect:MC,useLayoutEffect:FC,useMemo:zC,useReducer:ff,useRef:IC,useState:function(){return ff(rc)},useDebugValue:Gg,useDeferredValue:function(t){var e=qn();return WC(e,St.memoizedState,t)},useTransition:function(){var t=ff(rc)[0],e=qn().memoizedState;return[t,e]},useMutableSource:kC,useSyncExternalStore:TC,useId:VC,unstable_isNewReconciler:!1},ST={readContext:Hn,useCallback:UC,useContext:Hn,useEffect:Kg,useImperativeHandle:$C,useInsertionEffect:MC,useLayoutEffect:FC,useMemo:zC,useReducer:mf,useRef:IC,useState:function(){return mf(rc)},useDebugValue:Gg,useDeferredValue:function(t){var e=qn();return St===null?e.memoizedState=t:WC(e,St.memoizedState,t)},useTransition:function(){var t=mf(rc)[0],e=qn().memoizedState;return[t,e]},useMutableSource:kC,useSyncExternalStore:TC,useId:VC,unstable_isNewReconciler:!1};function nr(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jd={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=ss(t),s=ci(r,i);s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(ur(e,t,i,r),ju(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=ss(t),s=ci(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(ur(e,t,i,r),ju(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=ss(t),i=ci(n,r);i.tag=2,e!=null&&(i.callback=e),e=rs(t,i,r),e!==null&&(ur(e,t,r,n),ju(e,t,r))}};function cx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yl(n,r)||!Yl(i,s):!0}function GC(t,e,n){var r=!1,i=ds,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=gn(e)?Qs:Ht.current,r=e.contextTypes,s=(r=r!=null)?ya(t,i):ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ux(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jd.enqueueReplaceState(e,e.state,null)}function Hm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},$g(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=gn(e)?Qs:Ht.current,i.context=ya(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jd.enqueueReplaceState(i,i.state,null),od(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ca(t,e){try{var n="",r=e;do n+=JR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ET=typeof WeakMap=="function"?WeakMap:Map;function QC(t,e,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dd||(dd=!0,np=r),qm(t,e)},n}function YC(t,e,n){n=ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qm(t,e),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ET;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FT.bind(null,t,e,n),e.then(t,t))}function hx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ci(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var NT=vi.ReactCurrentOwner,mn=!1;function Xt(t,e,n,r){e.child=t===null?NC(e,null,n,r):ba(e,t.child,n,r)}function mx(t,e,n,r,i){n=n.render;var s=e.ref;return Qo(e,i),r=Hg(t,e,n,r,s,i),n=qg(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(Xe&&n&&_g(e),e.flags|=1,Xt(t,e,r,i),e.child)}function px(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!nv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JC(t,e,s,r,i)):(t=_u(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yl,n(o,r)&&t.ref===e.ref)return mi(t,e,i)}return e.flags|=1,t=os(s,r),t.ref=e.ref,t.return=e,e.child=t}function JC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Yl(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,mi(t,e,i)}return Km(t,e,n,r,i)}function XC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Vo,Cn),Cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Vo,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(Vo,Cn),Cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(Vo,Cn),Cn|=r;return Xt(t,e,i,n),e.child}function ZC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Km(t,e,n,r,i){var s=gn(n)?Qs:Ht.current;return s=ya(e,s),Qo(e,i),n=Hg(t,e,n,r,s,i),r=qg(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(Xe&&r&&_g(e),e.flags|=1,Xt(t,e,n,i),e.child)}function gx(t,e,n,r,i){if(gn(n)){var s=!0;td(e)}else s=!1;if(Qo(e,i),e.stateNode===null)Tu(t,e),GC(e,n,r),Hm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=gn(n)?Qs:Ht.current,u=ya(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ux(e,o,r,u),Li=!1;var g=e.memoizedState;o.state=g,od(e,r,o,i),c=e.memoizedState,l!==r||g!==c||pn.current||Li?(typeof d=="function"&&(Vm(e,n,d,r),c=e.memoizedState),(l=Li||cx(e,n,l,r,g,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:nr(e.type,l),o.props=u,f=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=gn(n)?Qs:Ht.current,c=ya(e,c));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==c)&&ux(e,o,r,c),Li=!1,g=e.memoizedState,o.state=g,od(e,r,o,i);var y=e.memoizedState;l!==f||g!==y||pn.current||Li?(typeof w=="function"&&(Vm(e,n,w,r),y=e.memoizedState),(u=Li||cx(e,n,u,r,g,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Gm(t,e,n,r,s,i)}function Gm(t,e,n,r,i,s){ZC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tx(e,n,!1),mi(t,e,s);r=e.stateNode,NT.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ba(e,t.child,null,s),e.child=ba(e,null,l,s)):Xt(t,e,l,s),e.memoizedState=r.state,i&&tx(e,n,!0),e.child}function eS(t){var e=t.stateNode;e.pendingContext?ex(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ex(t,e.context,!1),Ug(t,e.containerInfo)}function vx(t,e,n,r,i){return xa(),Lg(i),e.flags|=256,Xt(t,e,n,r),e.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function tS(t,e,n){var r=e.pendingProps,i=tt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(tt,i&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=eh(o,r,0,null),t=Hs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ym(n),e.memoizedState=Qm,t):Qg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return AT(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=os(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=os(l,s):(s=Hs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qm,r}return s=t.child,t=s.sibling,r=os(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qg(t,e){return e=eh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&Lg(r),ba(e,t.child,null,n),t=Qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pf(Error(I(422))),nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=eh({mode:"visible",children:r.children},i,0,null),s=Hs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ba(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Qm,s);if(!(e.mode&1))return nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(I(419)),r=pf(s,r,void 0),nu(t,e,o,r)}if(l=(o&t.childLanes)!==0,mn||l){if(r=Dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fi(t,i),ur(r,t,i,-1))}return tv(),r=pf(Error(I(421))),nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,An=ns(i.nextSibling),jn=e,Xe=!0,or=null,t!==null&&($n[Un++]=oi,$n[Un++]=ai,$n[Un++]=Ys,oi=t.id,ai=t.overflow,Ys=e),e=Qg(e,r.children),e.flags|=4096,e)}function yx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wm(t.return,e,n)}function gf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yx(t,n,e);else if(t.tag===19)yx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ad(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gf(e,!0,n,null,s);break;case"together":gf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jT(t,e,n){switch(e.tag){case 3:eS(e),xa();break;case 5:RC(e);break;case 1:gn(e.type)&&td(e);break;case 4:Ug(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(id,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?tS(t,e,n):(He(tt,tt.current&1),t=mi(t,e,n),t!==null?t.sibling:null);He(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,XC(t,e,n)}return mi(t,e,n)}var rS,Jm,iS,sS;rS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jm=function(){};iS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ps(_r.current);var s=null;switch(n){case"input":i=xm(t,i),r=xm(t,r),s=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":i=Cm(t,i),r=Cm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zu)}Em(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ke("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};sS=function(t,e,n,r){n!==r&&(e.flags|=4)};function rl(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RT(t,e,n){var r=e.pendingProps;switch(Og(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return gn(e.type)&&ed(),Ut(e),null;case 3:return r=e.stateNode,wa(),Ge(pn),Ge(Ht),Wg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(sp(or),or=null))),Jm(t,e),Ut(e),null;case 5:zg(e);var i=Ps(tc.current);if(n=e.type,t!==null&&e.stateNode!=null)iS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return Ut(e),null}if(t=Ps(_r.current),eu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Rr]=e,r[Zl]=s,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<bl.length;i++)Ke(bl[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":jy(r,s),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r);break;case"textarea":ky(r,s),Ke("invalid",r)}Em(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,l,t),i=["children",""+l]):Wl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Hc(r),Ry(r,s,!0);break;case"textarea":Hc(r),Ty(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_w(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rr]=e,t[Zl]=r,rS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nm(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<bl.length;i++)Ke(bl[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":jy(t,r),i=xm(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":ky(t,r),i=Cm(t,r),Ke("invalid",t);break;default:i=r}Em(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Iw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ow(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vl(t,c):typeof c=="number"&&Vl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ke("scroll",t):c!=null&&xg(t,s,c,o))}switch(n){case"input":Hc(t),Ry(t,r,!1);break;case"textarea":Hc(t),Ty(t);break;case"option":r.value!=null&&t.setAttribute("value",""+us(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ho(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)sS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=Ps(tc.current),Ps(_r.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rr]=e,(s=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Ge(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&An!==null&&e.mode&1&&!(e.flags&128))SC(),xa(),e.flags|=98560,s=!1;else if(s=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[Rr]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else or!==null&&(sp(or),or=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?At===0&&(At=3):tv())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return wa(),Jm(t,e),t===null&&Jl(e.stateNode.containerInfo),Ut(e),null;case 10:return Fg(e.type._context),Ut(e),null;case 17:return gn(e.type)&&ed(),Ut(e),null;case 19:if(Ge(tt),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)rl(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ad(t),o!==null){for(e.flags|=128,rl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(tt,tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ft()>Sa&&(e.flags|=128,r=!0,rl(s,!1),e.lanes=4194304)}else{if(!r)if(t=ad(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return Ut(e),null}else 2*ft()-s.renderingStartTime>Sa&&n!==1073741824&&(e.flags|=128,r=!0,rl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,n=tt.current,He(tt,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return ev(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function kT(t,e){switch(Og(e),e.tag){case 1:return gn(e.type)&&ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wa(),Ge(pn),Ge(Ht),Wg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zg(e),null;case 13:if(Ge(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(tt),null;case 4:return wa(),null;case 10:return Fg(e.type._context),null;case 22:case 23:return ev(),null;case 24:return null;default:return null}}var ru=!1,zt=!1,TT=typeof WeakSet=="function"?WeakSet:Set,G=null;function Wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Xm(t,e,n){try{n()}catch(r){ct(t,e,r)}}var xx=!1;function PT(t,e){if(Lm=Yu,t=uC(),Dg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,g=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)g=f,f=w;for(;;){if(f===t)break t;if(g===n&&++u===i&&(l=o),g===s&&++d===r&&(c=o),(w=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Im={focusedElem:t,selectionRange:n},Yu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,b=y.memoizedState,x=e.stateNode,m=x.getSnapshotBeforeUpdate(e.elementType===e.type?p:nr(e.type,p),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(C){ct(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return y=xx,xx=!1,y}function Tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xm(e,n,s)}i=i.next}while(i!==r)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oS(t){var e=t.alternate;e!==null&&(t.alternate=null,oS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rr],delete e[Zl],delete e[Bm],delete e[fT],delete e[mT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aS(t){return t.tag===5||t.tag===3||t.tag===4}function bx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zu));else if(r!==4&&(t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}function tp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tp(t,e,n),t=t.sibling;t!==null;)tp(t,e,n),t=t.sibling}var Ot=null,sr=!1;function Ai(t,e,n){for(n=n.child;n!==null;)lS(t,e,n),n=n.sibling}function lS(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Vd,n)}catch{}switch(n.tag){case 5:zt||Wo(n,e);case 6:var r=Ot,i=sr;Ot=null,Ai(t,e,n),Ot=r,sr=i,Ot!==null&&(sr?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(sr?(t=Ot,n=n.stateNode,t.nodeType===8?cf(t.parentNode,n):t.nodeType===1&&cf(t,n),Gl(t)):cf(Ot,n.stateNode));break;case 4:r=Ot,i=sr,Ot=n.stateNode.containerInfo,sr=!0,Ai(t,e,n),Ot=r,sr=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xm(n,e,o),i=i.next}while(i!==r)}Ai(t,e,n);break;case 1:if(!zt&&(Wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ct(n,e,l)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,Ai(t,e,n),zt=r):Ai(t,e,n);break;default:Ai(t,e,n)}}function wx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TT),e.forEach(function(r){var i=$T.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,sr=!1;break e;case 3:Ot=l.stateNode.containerInfo,sr=!0;break e;case 4:Ot=l.stateNode.containerInfo,sr=!0;break e}l=l.return}if(Ot===null)throw Error(I(160));lS(s,o,i),Ot=null,sr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cS(e,t),e=e.sibling}function cS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),Cr(t),r&4){try{Tl(3,t,t.return),Xd(3,t)}catch(p){ct(t,t.return,p)}try{Tl(5,t,t.return)}catch(p){ct(t,t.return,p)}}break;case 1:Xn(e,t),Cr(t),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(Xn(e,t),Cr(t),r&512&&n!==null&&Wo(n,n.return),t.flags&32){var i=t.stateNode;try{Vl(i,"")}catch(p){ct(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Pw(i,s),Nm(l,o);var u=Nm(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Iw(i,f):d==="dangerouslySetInnerHTML"?Ow(i,f):d==="children"?Vl(i,f):xg(i,d,f,u)}switch(l){case"input":bm(i,s);break;case"textarea":Dw(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Ho(i,!!s.multiple,w,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ho(i,!!s.multiple,s.defaultValue,!0):Ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zl]=s}catch(p){ct(t,t.return,p)}}break;case 6:if(Xn(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){ct(t,t.return,p)}}break;case 3:if(Xn(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(p){ct(t,t.return,p)}break;case 4:Xn(e,t),Cr(t);break;case 13:Xn(e,t),Cr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xg=ft())),r&4&&wx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(u=zt)||d,Xn(e,t),zt=u):Xn(e,t),Cr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(f=G=d;G!==null;){switch(g=G,w=g.child,g.tag){case 0:case 11:case 14:case 15:Tl(4,g,g.return);break;case 1:Wo(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(p){ct(r,n,p)}}break;case 5:Wo(g,g.return);break;case 22:if(g.memoizedState!==null){Sx(f);continue}}w!==null?(w.return=g,G=w):Sx(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Lw("display",o))}catch(p){ct(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){ct(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xn(e,t),Cr(t),r&4&&wx(t);break;case 21:break;default:Xn(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aS(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vl(i,""),r.flags&=-33);var s=bx(t);tp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bx(t);ep(t,l,o);break;default:throw Error(I(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DT(t,e,n){G=t,uS(t)}function uS(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ru;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||zt;l=ru;var u=zt;if(ru=o,(zt=c)&&!u)for(G=i;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?Ex(i):c!==null?(c.return=o,G=c):Ex(i);for(;s!==null;)G=s,uS(s),s=s.sibling;G=i,ru=l,zt=u}Cx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):Cx(t)}}function Cx(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||Xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ox(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ox(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}zt||e.flags&512&&Zm(e)}catch(g){ct(e,e.return,g)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Sx(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Ex(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xd(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ct(e,i,c)}}var s=e.return;try{Zm(e)}catch(c){ct(e,s,c)}break;case 5:var o=e.return;try{Zm(e)}catch(c){ct(e,o,c)}}}catch(c){ct(e,e.return,c)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var _T=Math.ceil,ud=vi.ReactCurrentDispatcher,Yg=vi.ReactCurrentOwner,Vn=vi.ReactCurrentBatchConfig,Pe=0,Dt=null,vt=null,Lt=0,Cn=0,Vo=ys(0),At=0,sc=null,Xs=0,Zd=0,Jg=0,Pl=null,fn=null,Xg=0,Sa=1/0,Xr=null,dd=!1,np=null,is=null,iu=!1,Ji=null,hd=0,Dl=0,rp=null,Pu=-1,Du=0;function rn(){return Pe&6?ft():Pu!==-1?Pu:Pu=ft()}function ss(t){return t.mode&1?Pe&2&&Lt!==0?Lt&-Lt:gT.transition!==null?(Du===0&&(Du=Gw()),Du):(t=ze,t!==0||(t=window.event,t=t===void 0?16:tC(t.type)),t):1}function ur(t,e,n,r){if(50<Dl)throw Dl=0,rp=null,Error(I(185));Ac(t,n,r),(!(Pe&2)||t!==Dt)&&(t===Dt&&(!(Pe&2)&&(Zd|=n),At===4&&Bi(t,Lt)),vn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Sa=ft()+500,Qd&&xs()))}function vn(t,e){var n=t.callbackNode;gk(t,e);var r=Qu(t,t===Dt?Lt:0);if(r===0)n!==null&&_y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_y(n),e===1)t.tag===0?pT(Nx.bind(null,t)):bC(Nx.bind(null,t)),dT(function(){!(Pe&6)&&xs()}),n=null;else{switch(Qw(r)){case 1:n=Eg;break;case 4:n=qw;break;case 16:n=Gu;break;case 536870912:n=Kw;break;default:n=Gu}n=yS(n,dS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dS(t,e){if(Pu=-1,Du=0,Pe&6)throw Error(I(327));var n=t.callbackNode;if(Yo()&&t.callbackNode!==n)return null;var r=Qu(t,t===Dt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fd(t,r);else{e=r;var i=Pe;Pe|=2;var s=fS();(Dt!==t||Lt!==e)&&(Xr=null,Sa=ft()+500,Vs(t,e));do try{IT();break}catch(l){hS(t,l)}while(!0);Mg(),ud.current=s,Pe=i,vt!==null?e=0:(Dt=null,Lt=0,e=At)}if(e!==0){if(e===2&&(i=Tm(t),i!==0&&(r=i,e=ip(t,i))),e===1)throw n=sc,Vs(t,0),Bi(t,r),vn(t,ft()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!OT(i)&&(e=fd(t,r),e===2&&(s=Tm(t),s!==0&&(r=s,e=ip(t,s))),e===1))throw n=sc,Vs(t,0),Bi(t,r),vn(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:As(t,fn,Xr);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=Xg+500-ft(),10<e)){if(Qu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fm(As.bind(null,t,fn,Xr),e);break}As(t,fn,Xr);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_T(r/1960))-r,10<r){t.timeoutHandle=Fm(As.bind(null,t,fn,Xr),r);break}As(t,fn,Xr);break;case 5:As(t,fn,Xr);break;default:throw Error(I(329))}}}return vn(t,ft()),t.callbackNode===n?dS.bind(null,t):null}function ip(t,e){var n=Pl;return t.current.memoizedState.isDehydrated&&(Vs(t,e).flags|=256),t=fd(t,e),t!==2&&(e=fn,fn=n,e!==null&&sp(e)),t}function sp(t){fn===null?fn=t:fn.push.apply(fn,t)}function OT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~Jg,e&=~Zd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cr(e),r=1<<n;t[n]=-1,e&=~r}}function Nx(t){if(Pe&6)throw Error(I(327));Yo();var e=Qu(t,0);if(!(e&1))return vn(t,ft()),null;var n=fd(t,e);if(t.tag!==0&&n===2){var r=Tm(t);r!==0&&(e=r,n=ip(t,r))}if(n===1)throw n=sc,Vs(t,0),Bi(t,e),vn(t,ft()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,As(t,fn,Xr),vn(t,ft()),null}function Zg(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Sa=ft()+500,Qd&&xs())}}function Zs(t){Ji!==null&&Ji.tag===0&&!(Pe&6)&&Yo();var e=Pe;Pe|=1;var n=Vn.transition,r=ze;try{if(Vn.transition=null,ze=1,t)return t()}finally{ze=r,Vn.transition=n,Pe=e,!(Pe&6)&&xs()}}function ev(){Cn=Vo.current,Ge(Vo)}function Vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uT(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ed();break;case 3:wa(),Ge(pn),Ge(Ht),Wg();break;case 5:zg(r);break;case 4:wa();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:Fg(r.type._context);break;case 22:case 23:ev()}n=n.return}if(Dt=t,vt=t=os(t.current,null),Lt=Cn=e,At=0,sc=null,Jg=Zd=Xs=0,fn=Pl=null,Ts!==null){for(e=0;e<Ts.length;e++)if(n=Ts[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ts=null}return t}function hS(t,e){do{var n=vt;try{if(Mg(),Ru.current=cd,ld){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ld=!1}if(Js=0,kt=St=rt=null,kl=!1,nc=0,Yg.current=null,n===null||n.return===null){At=1,sc=e,vt=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=hx(o);if(w!==null){w.flags&=-257,fx(w,o,l,s,e),w.mode&1&&dx(s,u,e),e=w,c=u;var y=e.updateQueue;if(y===null){var p=new Set;p.add(c),e.updateQueue=p}else y.add(c);break e}else{if(!(e&1)){dx(s,u,e),tv();break e}c=Error(I(426))}}else if(Xe&&l.mode&1){var b=hx(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fx(b,o,l,s,e),Lg(Ca(c,l));break e}}s=c=Ca(c,l),At!==4&&(At=2),Pl===null?Pl=[s]:Pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=QC(s,c,e);sx(s,x);break e;case 1:l=c;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(is===null||!is.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=YC(s,l,e);sx(s,C);break e}}s=s.return}while(s!==null)}pS(n)}catch(E){e=E,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function fS(){var t=ud.current;return ud.current=cd,t===null?cd:t}function tv(){(At===0||At===3||At===2)&&(At=4),Dt===null||!(Xs&268435455)&&!(Zd&268435455)||Bi(Dt,Lt)}function fd(t,e){var n=Pe;Pe|=2;var r=fS();(Dt!==t||Lt!==e)&&(Xr=null,Vs(t,e));do try{LT();break}catch(i){hS(t,i)}while(!0);if(Mg(),Pe=n,ud.current=r,vt!==null)throw Error(I(261));return Dt=null,Lt=0,At}function LT(){for(;vt!==null;)mS(vt)}function IT(){for(;vt!==null&&!ak();)mS(vt)}function mS(t){var e=vS(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?pS(t):vt=e,Yg.current=null}function pS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kT(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,vt=null;return}}else if(n=RT(n,e,Cn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);At===0&&(At=5)}function As(t,e,n){var r=ze,i=Vn.transition;try{Vn.transition=null,ze=1,MT(t,e,n,r)}finally{Vn.transition=i,ze=r}return null}function MT(t,e,n,r){do Yo();while(Ji!==null);if(Pe&6)throw Error(I(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vk(t,s),t===Dt&&(vt=Dt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,yS(Gu,function(){return Yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vn.transition,Vn.transition=null;var o=ze;ze=1;var l=Pe;Pe|=4,Yg.current=null,PT(t,n),cS(n,t),rT(Im),Yu=!!Lm,Im=Lm=null,t.current=n,DT(n),lk(),Pe=l,ze=o,Vn.transition=s}else t.current=n;if(iu&&(iu=!1,Ji=t,hd=i),s=t.pendingLanes,s===0&&(is=null),dk(n.stateNode),vn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dd)throw dd=!1,t=np,np=null,t;return hd&1&&t.tag!==0&&Yo(),s=t.pendingLanes,s&1?t===rp?Dl++:(Dl=0,rp=t):Dl=0,xs(),null}function Yo(){if(Ji!==null){var t=Qw(hd),e=Vn.transition,n=ze;try{if(Vn.transition=null,ze=16>t?16:t,Ji===null)var r=!1;else{if(t=Ji,Ji=null,hd=0,Pe&6)throw Error(I(331));var i=Pe;for(Pe|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Tl(8,d,s)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var g=d.sibling,w=d.return;if(oS(d),d===u){G=null;break}if(g!==null){g.return=w,G=g;break}G=w}}}var y=s.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,G=x;break e}G=s.return}}var m=t.current;for(G=m;G!==null;){o=G;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,G=v;else e:for(o=m;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xd(9,l)}}catch(E){ct(l,l.return,E)}if(l===o){G=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,G=C;break e}G=l.return}}if(Pe=i,xs(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Vd,t)}catch{}r=!0}return r}finally{ze=n,Vn.transition=e}}return!1}function Ax(t,e,n){e=Ca(n,e),e=QC(t,e,1),t=rs(t,e,1),e=rn(),t!==null&&(Ac(t,1,e),vn(t,e))}function ct(t,e,n){if(t.tag===3)Ax(t,t,n);else for(;e!==null;){if(e.tag===3){Ax(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){t=Ca(n,t),t=YC(e,t,1),e=rs(e,t,1),t=rn(),e!==null&&(Ac(e,1,t),vn(e,t));break}}e=e.return}}function FT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Lt&n)===n&&(At===4||At===3&&(Lt&130023424)===Lt&&500>ft()-Xg?Vs(t,0):Jg|=n),vn(t,e)}function gS(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var n=rn();t=fi(t,e),t!==null&&(Ac(t,e,n),vn(t,n))}function BT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gS(t,n)}function $T(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),gS(t,n)}var vS;vS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,jT(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Xe&&e.flags&1048576&&wC(e,rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tu(t,e),t=e.pendingProps;var i=ya(e,Ht.current);Qo(e,n),i=Hg(null,e,r,t,i,n);var s=qg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(s=!0,td(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$g(e),i.updater=Jd,e.stateNode=i,i._reactInternals=e,Hm(e,r,t,n),e=Gm(null,e,r,!0,s,n)):(e.tag=0,Xe&&s&&_g(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zT(r),t=nr(r,t),i){case 0:e=Km(null,e,r,t,n);break e;case 1:e=gx(null,e,r,t,n);break e;case 11:e=mx(null,e,r,t,n);break e;case 14:e=px(null,e,r,nr(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Km(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),gx(t,e,r,i,n);case 3:e:{if(eS(e),t===null)throw Error(I(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jC(t,e),od(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ca(Error(I(423)),e),e=vx(t,e,r,n,i);break e}else if(r!==i){i=Ca(Error(I(424)),e),e=vx(t,e,r,n,i);break e}else for(An=ns(e.stateNode.containerInfo.firstChild),jn=e,Xe=!0,or=null,n=NC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),r===i){e=mi(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return RC(e),t===null&&zm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mm(r,i)?o=null:s!==null&&Mm(r,s)&&(e.flags|=32),ZC(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&zm(e),null;case 13:return tS(t,e,n);case 4:return Ug(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ba(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),mx(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(id,r._currentValue),r._currentValue=o,s!==null)if(dr(s.value,o)){if(s.children===i.children&&!pn.current){e=mi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ci(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Wm(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qo(e,n),i=Hn(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=nr(r,e.pendingProps),i=nr(r.type,i),px(t,e,r,i,n);case 15:return JC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Tu(t,e),e.tag=1,gn(r)?(t=!0,td(e)):t=!1,Qo(e,n),GC(e,r,i),Hm(e,r,i,n),Gm(null,e,r,!0,t,n);case 19:return nS(t,e,n);case 22:return XC(t,e,n)}throw Error(I(156,e.tag))};function yS(t,e){return Hw(t,e)}function UT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new UT(t,e,n,r)}function nv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zT(t){if(typeof t=="function")return nv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wg)return 11;if(t===Cg)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _u(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")nv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oo:return Hs(n.children,i,s,e);case bg:o=8,i|=8;break;case pm:return t=Wn(12,n,e,i|2),t.elementType=pm,t.lanes=s,t;case gm:return t=Wn(13,n,e,i),t.elementType=gm,t.lanes=s,t;case vm:return t=Wn(19,n,e,i),t.elementType=vm,t.lanes=s,t;case Rw:return eh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Aw:o=10;break e;case jw:o=9;break e;case wg:o=11;break e;case Cg:o=14;break e;case Oi:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hs(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function eh(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=Rw,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function yf(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jh(0),this.expirationTimes=Jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rv(t,e,n,r,i,s,o,l,c){return t=new WT(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$g(s),t}function VT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xS(t){if(!t)return ds;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(gn(n))return xC(t,n,e)}return e}function bS(t,e,n,r,i,s,o,l,c){return t=rv(n,r,!0,t,i,s,o,l,c),t.context=xS(null),n=t.current,r=rn(),i=ss(n),s=ci(r,i),s.callback=e??null,rs(n,s,i),t.current.lanes=i,Ac(t,i,r),vn(t,r),t}function th(t,e,n,r){var i=e.current,s=rn(),o=ss(i);return n=xS(n),e.context===null?e.context=n:e.pendingContext=n,e=ci(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rs(i,e,o),t!==null&&(ur(t,i,o,s),ju(t,i,o)),o}function md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iv(t,e){jx(t,e),(t=t.alternate)&&jx(t,e)}function HT(){return null}var wS=typeof reportError=="function"?reportError:function(t){console.error(t)};function sv(t){this._internalRoot=t}nh.prototype.render=sv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));th(t,e,null,null)};nh.prototype.unmount=sv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){th(null,t,null,null)}),e[hi]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&eC(t)}};function ov(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rx(){}function qT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=md(o);s.call(u)}}var o=bS(e,r,t,0,null,!1,!1,"",Rx);return t._reactRootContainer=o,t[hi]=o.current,Jl(t.nodeType===8?t.parentNode:t),Zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=md(c);l.call(u)}}var c=rv(t,0,!1,null,null,!1,!1,"",Rx);return t._reactRootContainer=c,t[hi]=c.current,Jl(t.nodeType===8?t.parentNode:t),Zs(function(){th(e,c,n,r)}),c}function ih(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=md(o);l.call(c)}}th(e,o,t,i)}else o=qT(n,e,t,i,r);return md(o)}Yw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xl(e.pendingLanes);n!==0&&(Ng(e,n|1),vn(e,ft()),!(Pe&6)&&(Sa=ft()+500,xs()))}break;case 13:Zs(function(){var r=fi(t,1);if(r!==null){var i=rn();ur(r,t,1,i)}}),iv(t,1)}};Ag=function(t){if(t.tag===13){var e=fi(t,134217728);if(e!==null){var n=rn();ur(e,t,134217728,n)}iv(t,134217728)}};Jw=function(t){if(t.tag===13){var e=ss(t),n=fi(t,e);if(n!==null){var r=rn();ur(n,t,e,r)}iv(t,e)}};Xw=function(){return ze};Zw=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};jm=function(t,e,n){switch(e){case"input":if(bm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gd(r);if(!i)throw Error(I(90));Tw(r),bm(r,i)}}}break;case"textarea":Dw(t,n);break;case"select":e=n.value,e!=null&&Ho(t,!!n.multiple,e,!1)}};Bw=Zg;$w=Zs;var KT={usingClientEntryPoint:!1,Events:[Rc,Fo,Gd,Mw,Fw,Zg]},il={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GT={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ww(t),t===null?null:t.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||HT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Vd=su.inject(GT),Dr=su}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KT;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ov(e))throw Error(I(200));return VT(t,e,null,n)};Dn.createRoot=function(t,e){if(!ov(t))throw Error(I(299));var n=!1,r="",i=wS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rv(t,1,!1,null,null,n,!1,r,i),t[hi]=e.current,Jl(t.nodeType===8?t.parentNode:t),new sv(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Ww(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Zs(t)};Dn.hydrate=function(t,e,n){if(!rh(e))throw Error(I(200));return ih(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!ov(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bS(e,null,t,1,n??null,i,!1,s,o),t[hi]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nh(e)};Dn.render=function(t,e,n){if(!rh(e))throw Error(I(200));return ih(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!rh(t))throw Error(I(40));return t._reactRootContainer?(Zs(function(){ih(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};Dn.unstable_batchedUpdates=Zg;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rh(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return ih(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function CS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CS)}catch(t){console.error(t)}}CS(),Cw.exports=Dn;var ar=Cw.exports;const QT=hg(ar);var SS,kx=ar;SS=kx.createRoot,kx.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}var Xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xi||(Xi={}));const Tx="popstate";function YT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return op("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pd(i)}return XT(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function av(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JT(){return Math.random().toString(36).substr(2,8)}function Px(t,e){return{usr:t.state,key:t.key,idx:e}}function op(t,e,n,r){return n===void 0&&(n=null),oc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Da(e):e,{state:n,key:e&&e.key||r||JT()})}function pd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Xi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(oc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Xi.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:p.location,delta:x})}function g(b,x){l=Xi.Push;let m=op(p.location,b,x);u=d()+1;let v=Px(m,u),C=p.createHref(m);try{o.pushState(v,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(C)}s&&c&&c({action:l,location:p.location,delta:1})}function w(b,x){l=Xi.Replace;let m=op(p.location,b,x);u=d();let v=Px(m,u),C=p.createHref(m);o.replaceState(v,"",C),s&&c&&c({action:l,location:p.location,delta:0})}function y(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof b=="string"?b:pd(b);return m=m.replace(/ $/,"%20"),mt(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let p={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Tx,f),c=b,()=>{i.removeEventListener(Tx,f),c=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let x=y(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:w,go(b){return o.go(b)}};return p}var Dx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dx||(Dx={}));function ZT(t,e,n){return n===void 0&&(n="/"),eP(t,e,n)}function eP(t,e,n,r){let i=typeof e=="string"?Da(e):e,s=lv(i.pathname||"/",n);if(s==null)return null;let o=ES(t);tP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=fP(s);l=uP(o[c],u)}return l}function ES(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(mt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=as([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ES(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:lP(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of NS(s.path))i(s,o,c)}),e}function NS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=NS(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function tP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nP=/^:[\w-]+$/,rP=3,iP=2,sP=1,oP=10,aP=-2,_x=t=>t==="*";function lP(t,e){let n=t.split("/"),r=n.length;return n.some(_x)&&(r+=aP),e&&(r+=iP),n.filter(i=>!_x(i)).reduce((i,s)=>i+(nP.test(s)?rP:s===""?sP:oP),r)}function cP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function uP(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=dP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:as([s,f.pathname]),pathnameBase:yP(as([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=as([s,f.pathnameBase]))}return o}function dP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:g,isOptional:w}=d;if(g==="*"){let p=l[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const y=l[f];return w&&!y?u[g]=void 0:u[g]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function hP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),av(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return av(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const mP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pP=t=>mP.test(t);function gP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Da(t):t,s;if(n)if(pP(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),av(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Ox(n.substring(1),"/"):s=Ox(n,e)}else s=e;return{pathname:s,search:xP(r),hash:bP(i)}}function Ox(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cv(t,e){let n=vP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Da(t):(i=oc({},t),mt(!i.pathname||!i.pathname.includes("?"),xf("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),xf("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),xf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}l=f>=0?e[f]:"/"}let c=gP(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const as=t=>t.join("/").replace(/\/\/+/g,"/"),yP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AS=["post","put","patch","delete"];new Set(AS);const CP=["get",...AS];new Set(CP);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}const dv=h.createContext(null),SP=h.createContext(null),bs=h.createContext(null),sh=h.createContext(null),Ur=h.createContext({outlet:null,matches:[],isDataRoute:!1}),jS=h.createContext(null);function EP(t,e){let{relative:n}=e===void 0?{}:e;_a()||mt(!1);let{basename:r,navigator:i}=h.useContext(bs),{hash:s,pathname:o,search:l}=kS(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:as([r,o])),i.createHref({pathname:c,search:l,hash:s})}function _a(){return h.useContext(sh)!=null}function mo(){return _a()||mt(!1),h.useContext(sh).location}function RS(t){h.useContext(bs).static||h.useLayoutEffect(t)}function Ft(){let{isDataRoute:t}=h.useContext(Ur);return t?BP():NP()}function NP(){_a()||mt(!1);let t=h.useContext(dv),{basename:e,future:n,navigator:r}=h.useContext(bs),{matches:i}=h.useContext(Ur),{pathname:s}=mo(),o=JSON.stringify(cv(i,n.v7_relativeSplatPath)),l=h.useRef(!1);return RS(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=uv(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:as([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const AP=h.createContext(null);function jP(t){let e=h.useContext(Ur).outlet;return e&&h.createElement(AP.Provider,{value:t},e)}function po(){let{matches:t}=h.useContext(Ur),e=t[t.length-1];return e?e.params:{}}function kS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(bs),{matches:i}=h.useContext(Ur),{pathname:s}=mo(),o=JSON.stringify(cv(i,r.v7_relativeSplatPath));return h.useMemo(()=>uv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function RP(t,e){return kP(t,e)}function kP(t,e,n,r){_a()||mt(!1);let{navigator:i}=h.useContext(bs),{matches:s}=h.useContext(Ur),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=mo(),d;if(e){var f;let b=typeof e=="string"?Da(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||mt(!1),d=b}else d=u;let g=d.pathname||"/",w=g;if(c!=="/"){let b=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=ZT(t,{pathname:w}),p=OP(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:as([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:as([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&p?h.createElement(sh.Provider,{value:{location:ac({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xi.Pop}},p):p}function TP(){let t=FP(),e=wP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,null)}const PP=h.createElement(TP,null);class DP extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(Ur.Provider,{value:this.props.routeContext},h.createElement(jS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _P(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(dv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Ur.Provider,{value:e},r)}function OP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||mt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:w}=n,y=f.route.loader&&g[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,g)=>{let w,y=!1,p=null,b=null;n&&(w=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||PP,c&&(u<0&&g===0?($P("route-fallback"),y=!0,b=null):u===g&&(y=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,g+1)),m=()=>{let v;return w?v=p:y?v=b:f.route.Component?v=h.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,h.createElement(_P,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?h.createElement(DP,{location:n.location,revalidation:n.revalidation,component:p,error:w,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var TS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TS||{}),PS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PS||{});function LP(t){let e=h.useContext(dv);return e||mt(!1),e}function IP(t){let e=h.useContext(SP);return e||mt(!1),e}function MP(t){let e=h.useContext(Ur);return e||mt(!1),e}function DS(t){let e=MP(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function FP(){var t;let e=h.useContext(jS),n=IP(),r=DS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BP(){let{router:t}=LP(TS.UseNavigateStable),e=DS(PS.UseNavigateStable),n=h.useRef(!1);return RS(()=>{n.current=!0}),h.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ac({fromRouteId:e},s)))},[t,e])}const Lx={};function $P(t,e,n){Lx[t]||(Lx[t]=!0)}function UP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _S(t){let{to:e,replace:n,state:r,relative:i}=t;_a()||mt(!1);let{future:s,static:o}=h.useContext(bs),{matches:l}=h.useContext(Ur),{pathname:c}=mo(),u=Ft(),d=uv(e,cv(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function zP(t){return jP(t.context)}function Te(t){mt(!1)}function WP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xi.Pop,navigator:s,static:o=!1,future:l}=t;_a()&&mt(!1);let c=e.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:s,static:o,future:ac({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Da(r));let{pathname:d="/",search:f="",hash:g="",state:w=null,key:y="default"}=r,p=h.useMemo(()=>{let b=lv(d,c);return b==null?null:{location:{pathname:b,search:f,hash:g,state:w,key:y},navigationType:i}},[c,d,f,g,w,y,i]);return p==null?null:h.createElement(bs.Provider,{value:u},h.createElement(sh.Provider,{children:n,value:p}))}function VP(t){let{children:e,location:n}=t;return RP(ap(e),n)}new Promise(()=>{});function ap(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;let s=[...e,i];if(r.type===h.Fragment){n.push.apply(n,ap(r.props.children,s));return}r.type!==Te&&mt(!1),!r.props.index||!r.props.children||mt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ap(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function HP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KP(t,e){return t.button===0&&(!e||e==="_self")&&!qP(t)}function cp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function GP(t,e){let n=cp(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const QP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YP="6";try{window.__reactRouterVersion=YP}catch{}const JP="startTransition",Ix=Wd[JP];function XP(t){let{basename:e,children:n,future:r,window:i}=t,s=h.useRef();s.current==null&&(s.current=YT({window:i,v5Compat:!0}));let o=s.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Ix?Ix(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.useEffect(()=>UP(r),[r]),h.createElement(WP,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const ZP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,g=HP(e,QP),{basename:w}=h.useContext(bs),y,p=!1;if(typeof u=="string"&&eD.test(u)&&(y=u,ZP))try{let v=new URL(window.location.href),C=u.startsWith("//")?new URL(v.protocol+u):new URL(u),E=lv(C.pathname,w);C.origin===v.origin&&E!=null?u=E+C.search+C.hash:p=!0}catch{}let b=EP(u,{relative:i}),x=tD(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function m(v){r&&r(v),v.defaultPrevented||x(v)}return h.createElement("a",lp({},g,{href:y||b,onClick:p||s?r:m,ref:n,target:c}))});var Mx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Mx||(Mx={}));var Fx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fx||(Fx={}));function tD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ft(),u=mo(),d=kS(t,{relative:o});return h.useCallback(f=>{if(KP(f,n)){f.preventDefault();let g=r!==void 0?r:pd(u)===pd(d);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,r,i,n,t,s,o,l])}function nD(t){let e=h.useRef(cp(t)),n=h.useRef(!1),r=mo(),i=h.useMemo(()=>GP(r.search,n.current?null:e.current),[r.search]),s=Ft(),o=h.useCallback((l,c)=>{const u=cp(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,c)},[s,i]);return[i,o]}var Oa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rD={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ui,dg,ew,iD=(ew=class{constructor(){te(this,Ui,rD);te(this,dg,!1)}setTimeoutProvider(t){H(this,Ui,t)}setTimeout(t,e){return T(this,Ui).setTimeout(t,e)}clearTimeout(t){T(this,Ui).clearTimeout(t)}setInterval(t,e){return T(this,Ui).setInterval(t,e)}clearInterval(t){T(this,Ui).clearInterval(t)}},Ui=new WeakMap,dg=new WeakMap,ew),Ds=new iD;function sD(t){setTimeout(t,0)}var eo=typeof window>"u"||"Deno"in globalThis;function Zt(){}function oD(t,e){return typeof t=="function"?t(e):t}function up(t){return typeof t=="number"&&t>=0&&t!==1/0}function OS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ls(t,e){return typeof t=="function"?t(e):t}function Fn(t,e){return typeof t=="function"?t(e):t}function Bx(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==hv(o,e.options))return!1}else if(!lc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function $x(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(to(e.options.mutationKey)!==to(s))return!1}else if(!lc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function hv(t,e){return((e==null?void 0:e.queryKeyHashFn)||to)(t)}function to(t){return JSON.stringify(t,(e,n)=>dp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function lc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>lc(t[n],e[n])):!1}var aD=Object.prototype.hasOwnProperty;function LS(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=Ux(t)&&Ux(e);if(!r&&!(dp(t)&&dp(e)))return e;const s=(r?t:Object.keys(t)).length,o=r?e:Object.keys(e),l=o.length,c=r?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=r?d:o[d],g=t[f],w=e[f];if(g===w){c[f]=g,(r?d<s:aD.call(t,f))&&u++;continue}if(g===null||w===null||typeof g!="object"||typeof w!="object"){c[f]=w;continue}const y=LS(g,w,n+1);c[f]=y,y===g&&u++}return s===l&&u===s?t:c}function gd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Ux(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dp(t){if(!zx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!zx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function zx(t){return Object.prototype.toString.call(t)==="[object Object]"}function lD(t){return new Promise(e=>{Ds.setTimeout(e,t)})}function hp(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?LS(t,e):e}function cD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function uD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var fv=Symbol();function IS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===fv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function mv(t,e){return typeof t=="function"?t(...e):!!t}function dD(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var Ls,zi,sa,tw,hD=(tw=class extends Oa{constructor(){super();te(this,Ls);te(this,zi);te(this,sa);H(this,sa,e=>{if(!eo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){T(this,zi)||this.setEventListener(T(this,sa))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,zi))==null||e.call(this),H(this,zi,void 0))}setEventListener(e){var n;H(this,sa,e),(n=T(this,zi))==null||n.call(this),H(this,zi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){T(this,Ls)!==e&&(H(this,Ls,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof T(this,Ls)=="boolean"?T(this,Ls):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ls=new WeakMap,zi=new WeakMap,sa=new WeakMap,tw),pv=new hD;function fp(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var fD=sD;function mD(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=fD;const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Nt=mD(),oa,Wi,aa,nw,pD=(nw=class extends Oa{constructor(){super();te(this,oa,!0);te(this,Wi);te(this,aa);H(this,aa,e=>{if(!eo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){T(this,Wi)||this.setEventListener(T(this,aa))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Wi))==null||e.call(this),H(this,Wi,void 0))}setEventListener(e){var n;H(this,aa,e),(n=T(this,Wi))==null||n.call(this),H(this,Wi,e(this.setOnline.bind(this)))}setOnline(e){T(this,oa)!==e&&(H(this,oa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return T(this,oa)}},oa=new WeakMap,Wi=new WeakMap,aa=new WeakMap,nw),vd=new pD;function gD(t){return Math.min(1e3*2**t,3e4)}function MS(t){return(t??"online")==="online"?vd.isOnline():!0}var mp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function FS(t){let e=!1,n=0,r;const i=fp(),s=()=>i.status!=="pending",o=p=>{var b;if(!s()){const x=new mp(p);g(x),(b=t.onCancel)==null||b.call(t,x)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>pv.isFocused()&&(t.networkMode==="always"||vd.isOnline())&&t.canRun(),d=()=>MS(t.networkMode)&&t.canRun(),f=p=>{s()||(r==null||r(),i.resolve(p))},g=p=>{s()||(r==null||r(),i.reject(p))},w=()=>new Promise(p=>{var b;r=x=>{(s()||u())&&p(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var p;r=void 0,s()||(p=t.onContinue)==null||p.call(t)}),y=()=>{if(s())return;let p;const b=n===0?t.initialPromise:void 0;try{p=b??t.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var A;if(s())return;const m=t.retry??(eo?0:3),v=t.retryDelay??gD,C=typeof v=="function"?v(n,x):v,E=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,x);if(e||!E){g(x);return}n++,(A=t.onFail)==null||A.call(t,n,x),lD(C).then(()=>u()?void 0:w()).then(()=>{e?g(x):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():w().then(y),i)}}var Is,rw,BS=(rw=class{constructor(){te(this,Is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),up(this.gcTime)&&H(this,Is,Ds.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(eo?1/0:5*60*1e3))}clearGcTimeout(){T(this,Is)&&(Ds.clearTimeout(T(this,Is)),H(this,Is,void 0))}},Is=new WeakMap,rw),Ms,la,Ln,Fs,Rt,bc,Bs,rr,Gr,iw,vD=(iw=class extends BS{constructor(e){super();te(this,rr);te(this,Ms);te(this,la);te(this,Ln);te(this,Fs);te(this,Rt);te(this,bc);te(this,Bs);H(this,Bs,!1),H(this,bc,e.defaultOptions),this.setOptions(e.options),this.observers=[],H(this,Fs,e.client),H(this,Ln,T(this,Fs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,H(this,Ms,Vx(this.options)),this.state=e.state??T(this,Ms),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=T(this,Rt))==null?void 0:e.promise}setOptions(e){if(this.options={...T(this,bc),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Vx(this.options);n.data!==void 0&&(this.setState(Wx(n.data,n.dataUpdatedAt)),H(this,Ms,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,Ln).remove(this)}setData(e,n){const r=hp(this.state.data,e,this.options);return ve(this,rr,Gr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ve(this,rr,Gr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=T(this,Rt))==null?void 0:r.promise;return(i=T(this,Rt))==null||i.cancel(e),n?n.then(Zt).catch(Zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Ms))}isActive(){return this.observers.some(e=>Fn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ls(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!OS(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=T(this,Rt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=T(this,Rt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),T(this,Ln).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(T(this,Rt)&&(T(this,Bs)?T(this,Rt).cancel({revert:!0}):T(this,Rt).cancelRetry()),this.scheduleGc()),T(this,Ln).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ve(this,rr,Gr).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,d,f,g,w,y,p,b,x,m,v;if(this.state.fetchStatus!=="idle"&&((c=T(this,Rt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(T(this,Rt))return T(this,Rt).continueRetry(),T(this,Rt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(E=>E.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(H(this,Bs,!0),r.signal)})},s=()=>{const C=IS(this.options,n),A=(()=>{const S={client:T(this,Fs),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return H(this,Bs,!1),this.options.persister?this.options.persister(C,A,this):C(A)},l=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:T(this,Fs),state:this.state,fetchFn:s};return i(C),C})();(u=this.options.behavior)==null||u.onFetch(l,this),H(this,la,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ve(this,rr,Gr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),H(this,Rt,FS({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof mp&&C.revert&&this.setState({...T(this,la),fetchStatus:"idle"}),r.abort()},onFail:(C,E)=>{ve(this,rr,Gr).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{ve(this,rr,Gr).call(this,{type:"pause"})},onContinue:()=>{ve(this,rr,Gr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await T(this,Rt).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(w=(g=T(this,Ln).config).onSuccess)==null||w.call(g,C,this),(p=(y=T(this,Ln).config).onSettled)==null||p.call(y,C,this.state.error,this),C}catch(C){if(C instanceof mp){if(C.silent)return T(this,Rt).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw ve(this,rr,Gr).call(this,{type:"error",error:C}),(x=(b=T(this,Ln).config).onError)==null||x.call(b,C,this),(v=(m=T(this,Ln).config).onSettled)==null||v.call(m,this.state.data,C,this),C}finally{this.scheduleGc()}}},Ms=new WeakMap,la=new WeakMap,Ln=new WeakMap,Fs=new WeakMap,Rt=new WeakMap,bc=new WeakMap,Bs=new WeakMap,rr=new WeakSet,Gr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$S(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...Wx(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return H(this,la,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Nt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),T(this,Ln).notify({query:this,type:"updated",action:e})})},iw);function $S(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Wx(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Vx(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dn,je,wc,Yt,$s,ca,ti,Vi,Cc,ua,da,Us,zs,Hi,ha,Fe,wl,pp,gp,vp,yp,xp,bp,wp,US,sw,yD=(sw=class extends Oa{constructor(e,n){super();te(this,Fe);te(this,dn);te(this,je);te(this,wc);te(this,Yt);te(this,$s);te(this,ca);te(this,ti);te(this,Vi);te(this,Cc);te(this,ua);te(this,da);te(this,Us);te(this,zs);te(this,Hi);te(this,ha,new Set);this.options=n,H(this,dn,e),H(this,Vi,null),H(this,ti,fp()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,je).addObserver(this),Hx(T(this,je),this.options)?ve(this,Fe,wl).call(this):this.updateResult(),ve(this,Fe,yp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cp(T(this,je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cp(T(this,je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ve(this,Fe,xp).call(this),ve(this,Fe,bp).call(this),T(this,je).removeObserver(this)}setOptions(e){const n=this.options,r=T(this,je);if(this.options=T(this,dn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fn(this.options.enabled,T(this,je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ve(this,Fe,wp).call(this),T(this,je).setOptions(this.options),n._defaulted&&!gd(this.options,n)&&T(this,dn).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,je),observer:this});const i=this.hasListeners();i&&qx(T(this,je),r,this.options,n)&&ve(this,Fe,wl).call(this),this.updateResult(),i&&(T(this,je)!==r||Fn(this.options.enabled,T(this,je))!==Fn(n.enabled,T(this,je))||ls(this.options.staleTime,T(this,je))!==ls(n.staleTime,T(this,je)))&&ve(this,Fe,pp).call(this);const s=ve(this,Fe,gp).call(this);i&&(T(this,je)!==r||Fn(this.options.enabled,T(this,je))!==Fn(n.enabled,T(this,je))||s!==T(this,Hi))&&ve(this,Fe,vp).call(this,s)}getOptimisticResult(e){const n=T(this,dn).getQueryCache().build(T(this,dn),e),r=this.createResult(n,e);return bD(this,r)&&(H(this,Yt,r),H(this,ca,this.options),H(this,$s,T(this,je).state)),r}getCurrentResult(){return T(this,Yt)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&T(this,ti).status==="pending"&&T(this,ti).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){T(this,ha).add(e)}getCurrentQuery(){return T(this,je)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=T(this,dn).defaultQueryOptions(e),r=T(this,dn).getQueryCache().build(T(this,dn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ve(this,Fe,wl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,Yt)))}createResult(e,n){var R;const r=T(this,je),i=this.options,s=T(this,Yt),o=T(this,$s),l=T(this,ca),u=e!==r?e.state:T(this,wc),{state:d}=e;let f={...d},g=!1,w;if(n._optimisticResults){const j=this.hasListeners(),k=!j&&Hx(e,n),D=j&&qx(e,r,n,i);(k||D)&&(f={...f,...$S(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:p,status:b}=f;w=f.data;let x=!1;if(n.placeholderData!==void 0&&w===void 0&&b==="pending"){let j;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(j=s.data,x=!0):j=typeof n.placeholderData=="function"?n.placeholderData((R=T(this,da))==null?void 0:R.state.data,T(this,da)):n.placeholderData,j!==void 0&&(b="success",w=hp(s==null?void 0:s.data,j,n),g=!0)}if(n.select&&w!==void 0&&!x)if(s&&w===(o==null?void 0:o.data)&&n.select===T(this,Cc))w=T(this,ua);else try{H(this,Cc,n.select),w=n.select(w),w=hp(s==null?void 0:s.data,w,n),H(this,ua,w),H(this,Vi,null)}catch(j){H(this,Vi,j)}T(this,Vi)&&(y=T(this,Vi),w=T(this,ua),p=Date.now(),b="error");const m=f.fetchStatus==="fetching",v=b==="pending",C=b==="error",E=v&&m,A=w!==void 0,N={status:b,fetchStatus:f.fetchStatus,isPending:v,isSuccess:b==="success",isError:C,isInitialLoading:E,isLoading:E,data:w,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!v,isLoadingError:C&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&A,isStale:gv(e,n),refetch:this.refetch,promise:T(this,ti),isEnabled:Fn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const j=N.data!==void 0,k=N.status==="error"&&!j,D=J=>{k?J.reject(N.error):j&&J.resolve(N.data)},M=()=>{const J=H(this,ti,N.promise=fp());D(J)},B=T(this,ti);switch(B.status){case"pending":e.queryHash===r.queryHash&&D(B);break;case"fulfilled":(k||N.data!==B.value)&&M();break;case"rejected":(!k||N.error!==B.reason)&&M();break}}return N}updateResult(){const e=T(this,Yt),n=this.createResult(T(this,je),this.options);if(H(this,$s,T(this,je).state),H(this,ca,this.options),T(this,$s).data!==void 0&&H(this,da,T(this,je)),gd(n,e))return;H(this,Yt,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!T(this,ha).size)return!0;const o=new Set(s??T(this,ha));return this.options.throwOnError&&o.add("error"),Object.keys(T(this,Yt)).some(l=>{const c=l;return T(this,Yt)[c]!==e[c]&&o.has(c)})};ve(this,Fe,US).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ve(this,Fe,yp).call(this)}},dn=new WeakMap,je=new WeakMap,wc=new WeakMap,Yt=new WeakMap,$s=new WeakMap,ca=new WeakMap,ti=new WeakMap,Vi=new WeakMap,Cc=new WeakMap,ua=new WeakMap,da=new WeakMap,Us=new WeakMap,zs=new WeakMap,Hi=new WeakMap,ha=new WeakMap,Fe=new WeakSet,wl=function(e){ve(this,Fe,wp).call(this);let n=T(this,je).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Zt)),n},pp=function(){ve(this,Fe,xp).call(this);const e=ls(this.options.staleTime,T(this,je));if(eo||T(this,Yt).isStale||!up(e))return;const r=OS(T(this,Yt).dataUpdatedAt,e)+1;H(this,Us,Ds.setTimeout(()=>{T(this,Yt).isStale||this.updateResult()},r))},gp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,je)):this.options.refetchInterval)??!1},vp=function(e){ve(this,Fe,bp).call(this),H(this,Hi,e),!(eo||Fn(this.options.enabled,T(this,je))===!1||!up(T(this,Hi))||T(this,Hi)===0)&&H(this,zs,Ds.setInterval(()=>{(this.options.refetchIntervalInBackground||pv.isFocused())&&ve(this,Fe,wl).call(this)},T(this,Hi)))},yp=function(){ve(this,Fe,pp).call(this),ve(this,Fe,vp).call(this,ve(this,Fe,gp).call(this))},xp=function(){T(this,Us)&&(Ds.clearTimeout(T(this,Us)),H(this,Us,void 0))},bp=function(){T(this,zs)&&(Ds.clearInterval(T(this,zs)),H(this,zs,void 0))},wp=function(){const e=T(this,dn).getQueryCache().build(T(this,dn),this.options);if(e===T(this,je))return;const n=T(this,je);H(this,je,e),H(this,wc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},US=function(e){Nt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(T(this,Yt))}),T(this,dn).getQueryCache().notify({query:T(this,je),type:"observerResultsUpdated"})})},sw);function xD(t,e){return Fn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Hx(t,e){return xD(t,e)||t.state.data!==void 0&&Cp(t,e,e.refetchOnMount)}function Cp(t,e,n){if(Fn(e.enabled,t)!==!1&&ls(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&gv(t,e)}return!1}function qx(t,e,n,r){return(t!==e||Fn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&gv(t,n)}function gv(t,e){return Fn(e.enabled,t)!==!1&&t.isStaleByTime(ls(e.staleTime,t))}function bD(t,e){return!gd(t.getCurrentResult(),e)}function Kx(t){return{onFetch:(e,n)=>{var d,f,g,w,y;const r=e.options,i=(g=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,s=((w=e.state.data)==null?void 0:w.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const b=v=>{dD(v,()=>e.signal,()=>p=!0)},x=IS(e.options,e.fetchOptions),m=async(v,C,E)=>{if(p)return Promise.reject();if(C==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};return b(k),k})(),N=await x(S),{maxPages:R}=e.options,j=E?uD:cD;return{pages:j(v.pages,N,R),pageParams:j(v.pageParams,C,R)}};if(i&&s.length){const v=i==="backward",C=v?wD:Gx,E={pages:s,pageParams:o},A=C(r,E);l=await m(E,A,v)}else{const v=t??s.length;do{const C=c===0?o[0]??r.initialPageParam:Gx(r,l);if(c>0&&C==null)break;l=await m(l,C),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var p,b;return(b=(p=e.options).persister)==null?void 0:b.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Gx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function wD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Sc,Nr,Jt,Ws,Ar,Pi,ow,CD=(ow=class extends BS{constructor(e){super();te(this,Ar);te(this,Sc);te(this,Nr);te(this,Jt);te(this,Ws);H(this,Sc,e.client),this.mutationId=e.mutationId,H(this,Jt,e.mutationCache),H(this,Nr,[]),this.state=e.state||zS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){T(this,Nr).includes(e)||(T(this,Nr).push(e),this.clearGcTimeout(),T(this,Jt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){H(this,Nr,T(this,Nr).filter(n=>n!==e)),this.scheduleGc(),T(this,Jt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){T(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():T(this,Jt).remove(this))}continue(){var e;return((e=T(this,Ws))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,u,d,f,g,w,y,p,b,x,m,v,C,E,A,S,N,R;const n=()=>{ve(this,Ar,Pi).call(this,{type:"continue"})},r={client:T(this,Sc),meta:this.options.meta,mutationKey:this.options.mutationKey};H(this,Ws,FS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(j,k)=>{ve(this,Ar,Pi).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{ve(this,Ar,Pi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Jt).canRun(this)}));const i=this.state.status==="pending",s=!T(this,Ws).canStart();try{if(i)n();else{ve(this,Ar,Pi).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(o=T(this,Jt).config).onMutate)==null?void 0:l.call(o,e,this,r));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));k!==this.state.context&&ve(this,Ar,Pi).call(this,{type:"pending",context:k,variables:e,isPaused:s})}const j=await T(this,Ws).start();return await((f=(d=T(this,Jt).config).onSuccess)==null?void 0:f.call(d,j,e,this.state.context,this,r)),await((w=(g=this.options).onSuccess)==null?void 0:w.call(g,j,e,this.state.context,r)),await((p=(y=T(this,Jt).config).onSettled)==null?void 0:p.call(y,j,null,this.state.variables,this.state.context,this,r)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,j,null,e,this.state.context,r)),ve(this,Ar,Pi).call(this,{type:"success",data:j}),j}catch(j){try{await((v=(m=T(this,Jt).config).onError)==null?void 0:v.call(m,j,e,this.state.context,this,r))}catch(k){Promise.reject(k)}try{await((E=(C=this.options).onError)==null?void 0:E.call(C,j,e,this.state.context,r))}catch(k){Promise.reject(k)}try{await((S=(A=T(this,Jt).config).onSettled)==null?void 0:S.call(A,void 0,j,this.state.variables,this.state.context,this,r))}catch(k){Promise.reject(k)}try{await((R=(N=this.options).onSettled)==null?void 0:R.call(N,void 0,j,e,this.state.context,r))}catch(k){Promise.reject(k)}throw ve(this,Ar,Pi).call(this,{type:"error",error:j}),j}finally{T(this,Jt).runNext(this)}}},Sc=new WeakMap,Nr=new WeakMap,Jt=new WeakMap,Ws=new WeakMap,Ar=new WeakSet,Pi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Nt.batch(()=>{T(this,Nr).forEach(r=>{r.onMutationUpdate(e)}),T(this,Jt).notify({mutation:this,type:"updated",action:e})})},ow);function zS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ni,ir,Ec,aw,SD=(aw=class extends Oa{constructor(e={}){super();te(this,ni);te(this,ir);te(this,Ec);this.config=e,H(this,ni,new Set),H(this,ir,new Map),H(this,Ec,0)}build(e,n,r){const i=new CD({client:e,mutationCache:this,mutationId:++zc(this,Ec)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){T(this,ni).add(e);const n=ou(e);if(typeof n=="string"){const r=T(this,ir).get(n);r?r.push(e):T(this,ir).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(T(this,ni).delete(e)){const n=ou(e);if(typeof n=="string"){const r=T(this,ir).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&T(this,ir).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ou(e);if(typeof n=="string"){const r=T(this,ir).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=ou(e);if(typeof n=="string"){const i=(r=T(this,ir).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{T(this,ni).forEach(e=>{this.notify({type:"removed",mutation:e})}),T(this,ni).clear(),T(this,ir).clear()})}getAll(){return Array.from(T(this,ni))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$x(n,r))}findAll(e={}){return this.getAll().filter(n=>$x(e,n))}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Nt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zt))))}},ni=new WeakMap,ir=new WeakMap,Ec=new WeakMap,aw);function ou(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ri,qi,hn,ii,ui,Ou,Sp,lw,ED=(lw=class extends Oa{constructor(n,r){super();te(this,ui);te(this,ri);te(this,qi);te(this,hn);te(this,ii);H(this,ri,n),this.setOptions(r),this.bindMethods(),ve(this,ui,Ou).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=T(this,ri).defaultMutationOptions(n),gd(this.options,r)||T(this,ri).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,hn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&to(r.mutationKey)!==to(this.options.mutationKey)?this.reset():((i=T(this,hn))==null?void 0:i.state.status)==="pending"&&T(this,hn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=T(this,hn))==null||n.removeObserver(this)}onMutationUpdate(n){ve(this,ui,Ou).call(this),ve(this,ui,Sp).call(this,n)}getCurrentResult(){return T(this,qi)}reset(){var n;(n=T(this,hn))==null||n.removeObserver(this),H(this,hn,void 0),ve(this,ui,Ou).call(this),ve(this,ui,Sp).call(this)}mutate(n,r){var i;return H(this,ii,r),(i=T(this,hn))==null||i.removeObserver(this),H(this,hn,T(this,ri).getMutationCache().build(T(this,ri),this.options)),T(this,hn).addObserver(this),T(this,hn).execute(n)}},ri=new WeakMap,qi=new WeakMap,hn=new WeakMap,ii=new WeakMap,ui=new WeakSet,Ou=function(){var r;const n=((r=T(this,hn))==null?void 0:r.state)??zS();H(this,qi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Sp=function(n){Nt.batch(()=>{var r,i,s,o,l,c,u,d;if(T(this,ii)&&this.hasListeners()){const f=T(this,qi).variables,g=T(this,qi).context,w={client:T(this,ri),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=T(this,ii)).onSuccess)==null||i.call(r,n.data,f,g,w)}catch(y){Promise.reject(y)}try{(o=(s=T(this,ii)).onSettled)==null||o.call(s,n.data,null,f,g,w)}catch(y){Promise.reject(y)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=T(this,ii)).onError)==null||c.call(l,n.error,f,g,w)}catch(y){Promise.reject(y)}try{(d=(u=T(this,ii)).onSettled)==null||d.call(u,void 0,n.error,f,g,w)}catch(y){Promise.reject(y)}}}this.listeners.forEach(f=>{f(T(this,qi))})})},lw),jr,cw,ND=(cw=class extends Oa{constructor(e={}){super();te(this,jr);this.config=e,H(this,jr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??hv(i,n);let o=this.get(s);return o||(o=new vD({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){T(this,jr).has(e.queryHash)||(T(this,jr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=T(this,jr).get(e.queryHash);n&&(e.destroy(),n===e&&T(this,jr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return T(this,jr).get(e)}getAll(){return[...T(this,jr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Bx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Bx(e,r)):n}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},jr=new WeakMap,cw),lt,Ki,Gi,fa,ma,Qi,pa,ga,uw,AD=(uw=class{constructor(t={}){te(this,lt);te(this,Ki);te(this,Gi);te(this,fa);te(this,ma);te(this,Qi);te(this,pa);te(this,ga);H(this,lt,t.queryCache||new ND),H(this,Ki,t.mutationCache||new SD),H(this,Gi,t.defaultOptions||{}),H(this,fa,new Map),H(this,ma,new Map),H(this,Qi,0)}mount(){zc(this,Qi)._++,T(this,Qi)===1&&(H(this,pa,pv.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,lt).onFocus())})),H(this,ga,vd.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,lt).onOnline())})))}unmount(){var t,e;zc(this,Qi)._--,T(this,Qi)===0&&((t=T(this,pa))==null||t.call(this),H(this,pa,void 0),(e=T(this,ga))==null||e.call(this),H(this,ga,void 0))}isFetching(t){return T(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return T(this,Ki).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=T(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=T(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ls(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return T(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=T(this,lt).get(r.queryHash),s=i==null?void 0:i.state.data,o=oD(e,s);if(o!==void 0)return T(this,lt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Nt.batch(()=>T(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=T(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=T(this,lt);Nt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=T(this,lt);return Nt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Nt.batch(()=>T(this,lt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Zt).catch(Zt)}invalidateQueries(t,e={}){return Nt.batch(()=>(T(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Nt.batch(()=>T(this,lt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Zt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Zt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=T(this,lt).build(this,e);return n.isStaleByTime(ls(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zt).catch(Zt)}fetchInfiniteQuery(t){return t.behavior=Kx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zt).catch(Zt)}ensureInfiniteQueryData(t){return t.behavior=Kx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vd.isOnline()?T(this,Ki).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,lt)}getMutationCache(){return T(this,Ki)}getDefaultOptions(){return T(this,Gi)}setDefaultOptions(t){H(this,Gi,t)}setQueryDefaults(t,e){T(this,fa).set(to(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...T(this,fa).values()],n={};return e.forEach(r=>{lc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){T(this,ma).set(to(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...T(this,ma).values()],n={};return e.forEach(r=>{lc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...T(this,Gi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...T(this,Gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){T(this,lt).clear(),T(this,Ki).clear()}},lt=new WeakMap,Ki=new WeakMap,Gi=new WeakMap,fa=new WeakMap,ma=new WeakMap,Qi=new WeakMap,pa=new WeakMap,ga=new WeakMap,uw),WS=h.createContext(void 0),bn=t=>{const e=h.useContext(WS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jD=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(WS.Provider,{value:t,children:e})),VS=h.createContext(!1),RD=()=>h.useContext(VS);VS.Provider;function kD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var TD=h.createContext(kD()),PD=()=>h.useContext(TD),DD=(t,e,n)=>{const r=n!=null&&n.state.error&&typeof t.throwOnError=="function"?mv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},_D=t=>{h.useEffect(()=>{t.clearReset()},[t])},OD=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||mv(n,[t.error,r])),LD=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},ID=(t,e)=>t.isLoading&&t.isFetching&&!e,MD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Qx=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function FD(t,e,n){var g,w,y,p;const r=RD(),i=PD(),s=bn(),o=s.defaultQueryOptions(t);(w=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||w.call(g,o);const l=s.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",LD(o),DD(o,i,l),_D(i);const c=!s.getQueryCache().get(o.queryHash),[u]=h.useState(()=>new e(s,o)),d=u.getOptimisticResult(o),f=!r&&t.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(b=>{const x=f?u.subscribe(Nt.batchCalls(b)):Zt;return u.updateResult(),x},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),h.useEffect(()=>{u.setOptions(o)},[o,u]),MD(o,d))throw Qx(o,u,i);if(OD({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((p=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||p.call(y,o,d),o.experimental_prefetchInRender&&!eo&&ID(d,r)){const b=c?Qx(o,u,i):l==null?void 0:l.promise;b==null||b.catch(Zt).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function yt(t,e){return FD(t,yD)}function Qe(t,e){const n=bn(),[r]=h.useState(()=>new ED(n,t));h.useEffect(()=>{r.setOptions(t)},[r,t]);const i=h.useSyncExternalStore(h.useCallback(o=>r.subscribe(Nt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=h.useCallback((o,l)=>{r.mutate(o,l).catch(Zt)},[r]);if(i.error&&mv(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const BD={},Yx=t=>{let e;const n=new Set,r=(d,f)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const w=e;e=f??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(y=>y(e,w))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(BD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,c);return c},$D=t=>t?Yx(t):Yx;var HS={exports:{}},qS={},KS={exports:{}},GS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=h;function UD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zD=typeof Object.is=="function"?Object.is:UD,WD=Ea.useState,VD=Ea.useEffect,HD=Ea.useLayoutEffect,qD=Ea.useDebugValue;function KD(t,e){var n=e(),r=WD({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return HD(function(){i.value=n,i.getSnapshot=e,bf(i)&&s({inst:i})},[t,n,e]),VD(function(){return bf(i)&&s({inst:i}),t(function(){bf(i)&&s({inst:i})})},[t]),qD(n),n}function bf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zD(t,n)}catch{return!0}}function GD(t,e){return e()}var QD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GD:KD;GS.useSyncExternalStore=Ea.useSyncExternalStore!==void 0?Ea.useSyncExternalStore:QD;KS.exports=GS;var YD=KS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=h,JD=YD;function XD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZD=typeof Object.is=="function"?Object.is:XD,e_=JD.useSyncExternalStore,t_=oh.useRef,n_=oh.useEffect,r_=oh.useMemo,i_=oh.useDebugValue;qS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=t_(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=r_(function(){function c(w){if(!u){if(u=!0,d=w,w=r(w),i!==void 0&&o.hasValue){var y=o.value;if(i(y,w))return f=y}return f=w}if(y=f,ZD(d,w))return y;var p=r(w);return i!==void 0&&i(y,p)?(d=w,y):(d=w,f=p)}var u=!1,d,f,g=n===void 0?null:n;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,n,r,i]);var l=e_(t,s[0],s[1]);return n_(function(){o.hasValue=!0,o.value=l},[l]),i_(l),l};HS.exports=qS;var s_=HS.exports;const o_=hg(s_),QS={},{useDebugValue:a_}=Ee,{useSyncExternalStoreWithSelector:l_}=o_;let Jx=!1;const c_=t=>t;function u_(t,e=c_,n){(QS?"production":void 0)!=="production"&&n&&!Jx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Jx=!0);const r=l_(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return a_(r),r}const d_=t=>{(QS?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?$D(t):t,n=(r,i)=>u_(e,r,i);return Object.assign(n,e),n},h_=t=>d_,f_={};function YS(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const cc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return cc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return cc(r)(n)}}}},m_=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,x)=>({...x,...b}),...e},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...b)},r,i);const d=cc(s.serialize),f=()=>{const b=s.partialize({...r()});let x;const m=d({state:b,version:s.version}).then(v=>u.setItem(s.name,v)).catch(v=>{x=v});if(x)throw x;return m},g=i.setState;i.setState=(b,x)=>{g(b,x),f()};const w=t((...b)=>{n(...b),f()},r,i);let y;const p=()=>{var b;if(!u)return;o=!1,l.forEach(m=>m(r()));const x=((b=s.onRehydrateStorage)==null?void 0:b.call(s,r()))||void 0;return cc(u.getItem.bind(u))(s.name).then(m=>{if(m)return s.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==s.version){if(s.migrate)return s.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var v;return y=s.merge(m,(v=r())!=null?v:w),n(y,!0),f()}).then(()=>{x==null||x(y,void 0),o=!0,c.forEach(m=>m(y))}).catch(m=>{x==null||x(void 0,m)})};return i.persist={setOptions:b=>{s={...s,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},p(),y||w},p_=(t,e)=>(n,r,i)=>{let s={storage:YS(()=>localStorage),partialize:p=>p,version:0,merge:(p,b)=>({...b,...p}),...e},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...p)},r,i);const d=()=>{const p=s.partialize({...r()});return u.setItem(s.name,{state:p,version:s.version})},f=i.setState;i.setState=(p,b)=>{f(p,b),d()};const g=t((...p)=>{n(...p),d()},r,i);i.getInitialState=()=>g;let w;const y=()=>{var p,b;if(!u)return;o=!1,l.forEach(m=>{var v;return m((v=r())!=null?v:g)});const x=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(p=r())!=null?p:g))||void 0;return cc(u.getItem.bind(u))(s.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==s.version){if(s.migrate)return[!0,s.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var v;const[C,E]=m;if(w=s.merge(E,(v=r())!=null?v:g),n(w,!0),C)return d()}).then(()=>{x==null||x(w,void 0),w=r(),o=!0,c.forEach(m=>m(w))}).catch(m=>{x==null||x(void 0,m)})};return i.persist={setOptions:p=>{s={...s,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},s.skipHydration||y(),w||g},g_=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((f_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),m_(t,e)):p_(t,e),v_=g_,uc=h_()(v_(t=>({user:null,token:null,expiresAt:null,isAuthenticated:!1,login:(e,n,r=3600)=>{const i=Date.now()+r*1e3;sessionStorage.setItem("auth_token",n),sessionStorage.setItem("auth_expires_at",i.toString()),t({user:e,token:n,expiresAt:i,isAuthenticated:!0})},refreshSession:e=>{e&&t(n=>!n.token||n.expiresAt===e?n:(sessionStorage.setItem("auth_expires_at",e.toString()),{expiresAt:e}))},logout:()=>{sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_expires_at"),t({user:null,token:null,expiresAt:null,isAuthenticated:!1})}}),{name:"auth-storage",storage:YS(()=>sessionStorage),partialize:t=>({user:t.user,token:t.token,expiresAt:t.expiresAt,isAuthenticated:t.isAuthenticated})}));function JS(t,e){return function(){return t.apply(e,arguments)}}const{toString:y_}=Object.prototype,{getPrototypeOf:vv}=Object,{iterator:ah,toStringTag:XS}=Symbol,lh=(t=>e=>{const n=y_.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pr=t=>(t=t.toLowerCase(),e=>lh(e)===t),ch=t=>e=>typeof e===t,{isArray:La}=Array,Na=ch("undefined");function Tc(t){return t!==null&&!Na(t)&&t.constructor!==null&&!Na(t.constructor)&&yn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ZS=pr("ArrayBuffer");function x_(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ZS(t.buffer),e}const b_=ch("string"),yn=ch("function"),eE=ch("number"),Pc=t=>t!==null&&typeof t=="object",w_=t=>t===!0||t===!1,Lu=t=>{if(lh(t)!=="object")return!1;const e=vv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(XS in t)&&!(ah in t)},C_=t=>{if(!Pc(t)||Tc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},S_=pr("Date"),E_=pr("File"),N_=pr("Blob"),A_=pr("FileList"),j_=t=>Pc(t)&&yn(t.pipe),R_=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||yn(t.append)&&((e=lh(t))==="formdata"||e==="object"&&yn(t.toString)&&t.toString()==="[object FormData]"))},k_=pr("URLSearchParams"),[T_,P_,D_,__]=["ReadableStream","Request","Response","Headers"].map(pr),O_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),La(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Tc(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function tE(t,e){if(Tc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const _s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nE=t=>!Na(t)&&t!==_s;function Ep(){const{caseless:t,skipUndefined:e}=nE(this)&&this||{},n={},r=(i,s)=>{const o=t&&tE(n,s)||s;Lu(n[o])&&Lu(i)?n[o]=Ep(n[o],i):Lu(i)?n[o]=Ep({},i):La(i)?n[o]=i.slice():(!e||!Na(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Dc(arguments[i],r);return n}const L_=(t,e,n,{allOwnKeys:r}={})=>(Dc(e,(i,s)=>{n&&yn(i)?t[s]=JS(i,n):t[s]=i},{allOwnKeys:r}),t),I_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),M_=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},F_=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&vv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},B_=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},$_=t=>{if(!t)return null;if(La(t))return t;let e=t.length;if(!eE(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},U_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vv(Uint8Array)),z_=(t,e)=>{const r=(t&&t[ah]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},W_=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},V_=pr("HTMLFormElement"),H_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Xx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),q_=pr("RegExp"),rE=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Dc(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},K_=t=>{rE(t,(e,n)=>{if(yn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(yn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},G_=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return La(t)?r(t):r(String(t).split(e)),n},Q_=()=>{},Y_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function J_(t){return!!(t&&yn(t.append)&&t[XS]==="FormData"&&t[ah])}const X_=t=>{const e=new Array(10),n=(r,i)=>{if(Pc(r)){if(e.indexOf(r)>=0)return;if(Tc(r))return r;if(!("toJSON"in r)){e[i]=r;const s=La(r)?[]:{};return Dc(r,(o,l)=>{const c=n(o,i+1);!Na(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},Z_=pr("AsyncFunction"),eO=t=>t&&(Pc(t)||yn(t))&&yn(t.then)&&yn(t.catch),iE=((t,e)=>t?setImmediate:e?((n,r)=>(_s.addEventListener("message",({source:i,data:s})=>{i===_s&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),_s.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yn(_s.postMessage)),tO=typeof queueMicrotask<"u"?queueMicrotask.bind(_s):typeof process<"u"&&process.nextTick||iE,nO=t=>t!=null&&yn(t[ah]),_={isArray:La,isArrayBuffer:ZS,isBuffer:Tc,isFormData:R_,isArrayBufferView:x_,isString:b_,isNumber:eE,isBoolean:w_,isObject:Pc,isPlainObject:Lu,isEmptyObject:C_,isReadableStream:T_,isRequest:P_,isResponse:D_,isHeaders:__,isUndefined:Na,isDate:S_,isFile:E_,isBlob:N_,isRegExp:q_,isFunction:yn,isStream:j_,isURLSearchParams:k_,isTypedArray:U_,isFileList:A_,forEach:Dc,merge:Ep,extend:L_,trim:O_,stripBOM:I_,inherits:M_,toFlatObject:F_,kindOf:lh,kindOfTest:pr,endsWith:B_,toArray:$_,forEachEntry:z_,matchAll:W_,isHTMLForm:V_,hasOwnProperty:Xx,hasOwnProp:Xx,reduceDescriptors:rE,freezeMethods:K_,toObjectSet:G_,toCamelCase:H_,noop:Q_,toFiniteNumber:Y_,findKey:tE,global:_s,isContextDefined:nE,isSpecCompliantForm:J_,toJSONObject:X_,isAsyncFn:Z_,isThenable:eO,setImmediate:iE,asap:tO,isIterable:nO};function de(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const sE=de.prototype,oE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oE[t]={value:t}});Object.defineProperties(de,oE);Object.defineProperty(sE,"isAxiosError",{value:!0});de.from=(t,e,n,r,i,s)=>{const o=Object.create(sE);_.toFlatObject(t,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return de.call(o,l,c,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const rO=null;function Np(t){return _.isPlainObject(t)||_.isArray(t)}function aE(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function Zx(t,e,n){return t?t.concat(e).map(function(i,s){return i=aE(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function iO(t){return _.isArray(t)&&!t.some(Np)}const sO=_.toFlatObject(_,{},null,function(e){return/^is[A-Z]/.test(e)});function uh(t,e,n){if(!_.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,b){return!_.isUndefined(b[p])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(e);if(!_.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(_.isDate(y))return y.toISOString();if(_.isBoolean(y))return y.toString();if(!c&&_.isBlob(y))throw new de("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(y)||_.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,p,b){let x=y;if(y&&!b&&typeof y=="object"){if(_.endsWith(p,"{}"))p=r?p:p.slice(0,-2),y=JSON.stringify(y);else if(_.isArray(y)&&iO(y)||(_.isFileList(y)||_.endsWith(p,"[]"))&&(x=_.toArray(y)))return p=aE(p),x.forEach(function(v,C){!(_.isUndefined(v)||v===null)&&e.append(o===!0?Zx([p],C,s):o===null?p:p+"[]",u(v))}),!1}return Np(y)?!0:(e.append(Zx(b,p,s),u(y)),!1)}const f=[],g=Object.assign(sO,{defaultVisitor:d,convertValue:u,isVisitable:Np});function w(y,p){if(!_.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(y),_.forEach(y,function(x,m){(!(_.isUndefined(x)||x===null)&&i.call(e,x,_.isString(m)?m.trim():m,p,g))===!0&&w(x,p?p.concat(m):[m])}),f.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return w(t),e}function eb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function yv(t,e){this._pairs=[],t&&uh(t,this,e)}const lE=yv.prototype;lE.append=function(e,n){this._pairs.push([e,n])};lE.toString=function(e){const n=e?function(r){return e.call(this,r,eb)}:eb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function oO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function cE(t,e,n){if(!e)return t;const r=n&&n.encode||oO;_.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=_.isURLSearchParams(e)?e.toString():new yv(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class tb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_.forEach(this.handlers,function(r){r!==null&&e(r)})}}const uE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aO=typeof URLSearchParams<"u"?URLSearchParams:yv,lO=typeof FormData<"u"?FormData:null,cO=typeof Blob<"u"?Blob:null,uO={isBrowser:!0,classes:{URLSearchParams:aO,FormData:lO,Blob:cO},protocols:["http","https","file","blob","url","data"]},xv=typeof window<"u"&&typeof document<"u",Ap=typeof navigator=="object"&&navigator||void 0,dO=xv&&(!Ap||["ReactNative","NativeScript","NS"].indexOf(Ap.product)<0),hO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fO=xv&&window.location.href||"http://localhost",mO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xv,hasStandardBrowserEnv:dO,hasStandardBrowserWebWorkerEnv:hO,navigator:Ap,origin:fO},Symbol.toStringTag,{value:"Module"})),Wt={...mO,...uO};function pO(t,e){return uh(t,new Wt.classes.URLSearchParams,{visitor:function(n,r,i,s){return Wt.isNode&&_.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function gO(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vO(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function dE(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&_.isArray(i)?i.length:o,c?(_.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!_.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&_.isArray(i[o])&&(i[o]=vO(i[o])),!l)}if(_.isFormData(t)&&_.isFunction(t.entries)){const n={};return _.forEachEntry(t,(r,i)=>{e(gO(r),i,n,0)}),n}return null}function yO(t,e,n){if(_.isString(t))try{return(e||JSON.parse)(t),_.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const _c={transitional:uE,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=_.isObject(e);if(s&&_.isHTMLForm(e)&&(e=new FormData(e)),_.isFormData(e))return i?JSON.stringify(dE(e)):e;if(_.isArrayBuffer(e)||_.isBuffer(e)||_.isStream(e)||_.isFile(e)||_.isBlob(e)||_.isReadableStream(e))return e;if(_.isArrayBufferView(e))return e.buffer;if(_.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pO(e,this.formSerializer).toString();if((l=_.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return uh(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),yO(e)):e}],transformResponse:[function(e){const n=this.transitional||_c.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_.isResponse(e)||_.isReadableStream(e))return e;if(e&&_.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?de.from(l,de.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],t=>{_c.headers[t]={}});const xO=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bO=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&xO[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},nb=Symbol("internals");function sl(t){return t&&String(t).trim().toLowerCase()}function Iu(t){return t===!1||t==null?t:_.isArray(t)?t.map(Iu):String(t)}function wO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const CO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wf(t,e,n,r,i){if(_.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!_.isString(e)){if(_.isString(r))return e.indexOf(r)!==-1;if(_.isRegExp(r))return r.test(e)}}function SO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function EO(t,e){const n=_.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let xn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,u){const d=sl(c);if(!d)throw new Error("header name must be a non-empty string");const f=_.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=Iu(l))}const o=(l,c)=>_.forEach(l,(u,d)=>s(u,d,c));if(_.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(_.isString(e)&&(e=e.trim())&&!CO(e))o(bO(e),n);else if(_.isObject(e)&&_.isIterable(e)){let l={},c,u;for(const d of e){if(!_.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?_.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=sl(e),e){const r=_.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return wO(i);if(_.isFunction(n))return n.call(this,i,r);if(_.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sl(e),e){const r=_.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||wf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=sl(o),o){const l=_.findKey(r,o);l&&(!n||wf(r,r[l],l,n))&&(delete r[l],i=!0)}}return _.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||wf(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return _.forEach(this,(i,s)=>{const o=_.findKey(r,s);if(o){n[o]=Iu(i),delete n[s];return}const l=e?SO(s):String(s).trim();l!==s&&delete n[s],n[l]=Iu(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&_.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[nb]=this[nb]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=sl(o);r[l]||(EO(i,o),r[l]=!0)}return _.isArray(e)?e.forEach(s):s(e),this}};xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(xn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});_.freezeMethods(xn);function Cf(t,e){const n=this||_c,r=e||n,i=xn.from(r.headers);let s=r.data;return _.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function hE(t){return!!(t&&t.__CANCEL__)}function Ia(t,e,n){de.call(this,t??"canceled",de.ERR_CANCELED,e,n),this.name="CanceledError"}_.inherits(Ia,de,{__CANCEL__:!0});function fE(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function AO(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[s];o||(o=u),n[i]=c,r[i]=u;let f=s,g=0;for(;f!==i;)g+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const w=d&&u-d;return w?Math.round(g*1e3/w):void 0}}function jO(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const yd=(t,e,n=3)=>{let r=0;const i=AO(50,250);return jO(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),d=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},rb=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},ib=t=>(...e)=>_.asap(()=>t(...e)),RO=Wt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Wt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Wt.origin),Wt.navigator&&/(msie|trident)/i.test(Wt.navigator.userAgent)):()=>!0,kO=Wt.hasStandardBrowserEnv?{write(t,e,n,r,i,s,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];_.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),_.isString(r)&&l.push(`path=${r}`),_.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),_.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function TO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mE(t,e,n){let r=!TO(e);return t&&(r||n==!1)?PO(t,e):e}const sb=t=>t instanceof xn?{...t}:t;function no(t,e){e=e||{};const n={};function r(u,d,f,g){return _.isPlainObject(u)&&_.isPlainObject(d)?_.merge.call({caseless:g},u,d):_.isPlainObject(d)?_.merge({},d):_.isArray(d)?d.slice():d}function i(u,d,f,g){if(_.isUndefined(d)){if(!_.isUndefined(u))return r(void 0,u,f,g)}else return r(u,d,f,g)}function s(u,d){if(!_.isUndefined(d))return r(void 0,d)}function o(u,d){if(_.isUndefined(d)){if(!_.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>i(sb(u),sb(d),f,!0)};return _.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||i,g=f(t[d],e[d],d);_.isUndefined(g)&&f!==l||(n[d]=g)}),n}const pE=t=>{const e=no({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;if(e.headers=o=xn.from(o),e.url=cE(mE(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_.isFormData(n)){if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(_.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Wt.hasStandardBrowserEnv&&(r&&_.isFunction(r)&&(r=r(e)),r||r!==!1&&RO(e.url))){const c=i&&s&&kO.read(s);c&&o.set(i,c)}return e},DO=typeof XMLHttpRequest<"u",_O=DO&&function(t){return new Promise(function(n,r){const i=pE(t);let s=i.data;const o=xn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,f,g,w,y;function p(){w&&w(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function x(){if(!b)return;const v=xn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:t,request:b};fE(function(S){n(S),p()},function(S){r(S),p()},E),b=null}"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(x)},b.onabort=function(){b&&(r(new de("Request aborted",de.ECONNABORTED,t,b)),b=null)},b.onerror=function(C){const E=C&&C.message?C.message:"Network Error",A=new de(E,de.ERR_NETWORK,t,b);A.event=C||null,r(A),b=null},b.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||uE;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new de(C,E.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,t,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&_.forEach(o.toJSON(),function(C,E){b.setRequestHeader(E,C)}),_.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),u&&([g,y]=yd(u,!0),b.addEventListener("progress",g)),c&&b.upload&&([f,w]=yd(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(d=v=>{b&&(r(!v||v.type?new Ia(null,t,b):v),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const m=NO(i.url);if(m&&Wt.protocols.indexOf(m)===-1){r(new de("Unsupported protocol "+m+":",de.ERR_BAD_REQUEST,t));return}b.send(s||null)})},OO=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof de?d:new Ia(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new de(`timeout ${e} of ms exceeded`,de.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>_.asap(l),c}},LO=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},IO=async function*(t,e){for await(const n of MO(t))yield*LO(n,e)},MO=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ob=(t,e,n,r)=>{const i=IO(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let g=s+=f;n(g)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},ab=64*1024,{isFunction:au}=_,FO=(({Request:t,Response:e})=>({Request:t,Response:e}))(_.global),{ReadableStream:lb,TextEncoder:cb}=_.global,ub=(t,...e)=>{try{return!!t(...e)}catch{return!1}},BO=t=>{t=_.merge.call({skipUndefined:!0},FO,t);const{fetch:e,Request:n,Response:r}=t,i=e?au(e):typeof fetch=="function",s=au(n),o=au(r);if(!i)return!1;const l=i&&au(lb),c=i&&(typeof cb=="function"?(y=>p=>y.encode(p))(new cb):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=s&&l&&ub(()=>{let y=!1;const p=new n(Wt.origin,{body:new lb,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!p}),d=o&&l&&ub(()=>_.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(p,b)=>{let x=p&&p[y];if(x)return x.call(p);throw new de(`Response type '${y}' is not supported`,de.ERR_NOT_SUPPORT,b)})});const g=async y=>{if(y==null)return 0;if(_.isBlob(y))return y.size;if(_.isSpecCompliantForm(y))return(await new n(Wt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(_.isArrayBufferView(y)||_.isArrayBuffer(y))return y.byteLength;if(_.isURLSearchParams(y)&&(y=y+""),_.isString(y))return(await c(y)).byteLength},w=async(y,p)=>{const b=_.toFiniteNumber(y.getContentLength());return b??g(p)};return async y=>{let{url:p,method:b,data:x,signal:m,cancelToken:v,timeout:C,onDownloadProgress:E,onUploadProgress:A,responseType:S,headers:N,withCredentials:R="same-origin",fetchOptions:j}=pE(y),k=e||fetch;S=S?(S+"").toLowerCase():"text";let D=OO([m,v&&v.toAbortSignal()],C),M=null;const B=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let J;try{if(A&&u&&b!=="get"&&b!=="head"&&(J=await w(N,x))!==0){let Z=new n(p,{method:"POST",body:x,duplex:"half"}),V;if(_.isFormData(x)&&(V=Z.headers.get("content-type"))&&N.setContentType(V),Z.body){const[_e,re]=rb(J,yd(ib(A)));x=ob(Z.body,ab,_e,re)}}_.isString(R)||(R=R?"include":"omit");const $=s&&"credentials"in n.prototype,Q={...j,signal:D,method:b.toUpperCase(),headers:N.normalize().toJSON(),body:x,duplex:"half",credentials:$?R:void 0};M=s&&new n(p,Q);let O=await(s?k(M,j):k(p,Q));const L=d&&(S==="stream"||S==="response");if(d&&(E||L&&B)){const Z={};["status","statusText","headers"].forEach(Ye=>{Z[Ye]=O[Ye]});const V=_.toFiniteNumber(O.headers.get("content-length")),[_e,re]=E&&rb(V,yd(ib(E),!0))||[];O=new r(ob(O.body,ab,_e,()=>{re&&re(),B&&B()}),Z)}S=S||"text";let q=await f[_.findKey(f,S)||"text"](O,y);return!L&&B&&B(),await new Promise((Z,V)=>{fE(Z,V,{data:q,headers:xn.from(O.headers),status:O.status,statusText:O.statusText,config:y,request:M})})}catch($){throw B&&B(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,y,M),{cause:$.cause||$}):de.from($,$&&$.code,y,M)}}},$O=new Map,gE=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,l=o,c,u,d=$O;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:BO(e)),d=u;return u};gE();const bv={http:rO,xhr:_O,fetch:{get:gE}};_.forEach(bv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const db=t=>`- ${t}`,UO=t=>_.isFunction(t)||t===null||t===!1;function zO(t,e){t=_.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let l;if(i=r,!UO(r)&&(i=bv[(l=String(r)).toLowerCase()],i===void 0))throw new de(`Unknown adapter '${l}'`);if(i&&(_.isFunction(i)||(i=i.get(e))))break;s[l||"#"+o]=i}if(!i){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(db).join(`
`):" "+db(o[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const vE={getAdapter:zO,adapters:bv};function Sf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ia(null,t)}function hb(t){return Sf(t),t.headers=xn.from(t.headers),t.data=Cf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vE.getAdapter(t.adapter||_c.adapter,t)(t).then(function(r){return Sf(t),r.data=Cf.call(t,t.transformResponse,r),r.headers=xn.from(r.headers),r},function(r){return hE(r)||(Sf(t),r&&r.response&&(r.response.data=Cf.call(t,t.transformResponse,r.response),r.response.headers=xn.from(r.response.headers))),Promise.reject(r)})}const yE="1.13.2",dh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{dh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const fb={};dh.transitional=function(e,n,r){function i(s,o){return"[Axios v"+yE+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new de(i(o," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!fb[o]&&(fb[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};dh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function WO(t,e,n){if(typeof t!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new de("option "+s+" must be "+c,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+s,de.ERR_BAD_OPTION)}}const Mu={assertOptions:WO,validators:dh},Sr=Mu.validators;let qs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new tb,response:new tb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=no(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Mu.assertOptions(r,{silentJSONParsing:Sr.transitional(Sr.boolean),forcedJSONParsing:Sr.transitional(Sr.boolean),clarifyTimeoutError:Sr.transitional(Sr.boolean)},!1),i!=null&&(_.isFunction(i)?n.paramsSerializer={serialize:i}:Mu.assertOptions(i,{encode:Sr.function,serialize:Sr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Mu.assertOptions(n,{baseUrl:Sr.spelling("baseURL"),withXsrfToken:Sr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&_.merge(s.common,s[n.method]);s&&_.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=xn.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,g;if(!c){const y=[hb.bind(this),void 0];for(y.unshift(...l),y.push(...u),g=y.length,d=Promise.resolve(n);f<g;)d=d.then(y[f++],y[f++]);return d}g=l.length;let w=n;for(;f<g;){const y=l[f++],p=l[f++];try{w=y(w)}catch(b){p.call(this,b);break}}try{d=hb.call(this,w)}catch(y){return Promise.reject(y)}for(f=0,g=u.length;f<g;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=no(this.defaults,e);const n=mE(e.baseURL,e.url,e.allowAbsoluteUrls);return cE(n,e.params,e.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(e){qs.prototype[e]=function(n,r){return this.request(no(r||{},{method:e,url:n,data:(r||{}).data}))}});_.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(no(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}qs.prototype[e]=n(),qs.prototype[e+"Form"]=n(!0)});let VO=class xE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Ia(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new xE(function(i){e=i}),cancel:e}}};function HO(t){return function(n){return t.apply(null,n)}}function qO(t){return _.isObject(t)&&t.isAxiosError===!0}const jp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jp).forEach(([t,e])=>{jp[e]=t});function bE(t){const e=new qs(t),n=JS(qs.prototype.request,e);return _.extend(n,qs.prototype,e,{allOwnKeys:!0}),_.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return bE(no(t,i))},n}const pt=bE(_c);pt.Axios=qs;pt.CanceledError=Ia;pt.CancelToken=VO;pt.isCancel=hE;pt.VERSION=yE;pt.toFormData=uh;pt.AxiosError=de;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=HO;pt.isAxiosError=qO;pt.mergeConfig=no;pt.AxiosHeaders=xn;pt.formToJSON=t=>dE(_.isHTMLForm(t)?new FormData(t):t);pt.getAdapter=vE.getAdapter;pt.HttpStatusCode=jp;pt.default=pt;const{Axios:TW,AxiosError:PW,CanceledError:DW,isCancel:_W,CancelToken:OW,VERSION:LW,all:IW,Cancel:MW,isAxiosError:FW,spread:BW,toFormData:$W,AxiosHeaders:UW,HttpStatusCode:zW,formToJSON:WW,getAdapter:VW,mergeConfig:HW}=pt,KO="/api",z=pt.create({baseURL:KO,headers:{"Content-Type":"application/json"}});z.interceptors.request.use(t=>{const e=sessionStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});z.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(uc.getState().logout(),window.location.href="/login"),Promise.reject(t)});function mb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ma(...t){return e=>{let n=!1;const r=t.map(i=>{const s=mb(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():mb(t[i],null)}}}}function Be(...t){return h.useCallback(Ma(...t),t)}var GO=Symbol.for("react.lazy"),xd=Wd[" use ".trim().toString()];function QO(t){return typeof t=="object"&&t!==null&&"then"in t}function wE(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===GO&&"_payload"in t&&QO(t._payload)}function CE(t){const e=JO(t),n=h.forwardRef((r,i)=>{let{children:s,...o}=r;wE(s)&&typeof xd=="function"&&(s=xd(s._payload));const l=h.Children.toArray(s),c=l.find(ZO);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var YO=CE("Slot");function JO(t){const e=h.forwardRef((n,r)=>{let{children:i,...s}=n;if(wE(i)&&typeof xd=="function"&&(i=xd(i._payload)),h.isValidElement(i)){const o=tL(i),l=eL(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Ma(r,o):o),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var XO=Symbol("radix.slottable");function ZO(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XO}function eL(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function tL(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function SE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function EE(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SE(t))&&(r&&(r+=" "),r+=e);return r}const pb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gb=EE,hh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const g=pb(d)||pb(f);return i[u][g]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:g,...w}=d;return Object.entries(w).every(y=>{let[p,b]=y;return Array.isArray(b)?b.includes({...s,...l}[p]):{...s,...l}[p]===b})?[...u,f,g]:u},[]);return gb(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},wv="-",nL=t=>{const e=iL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(wv);return l[0]===""&&l.length!==1&&l.shift(),NE(l,e)||rL(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},NE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?NE(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(wv);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},vb=/^\[(.+)\]$/,rL=t=>{if(vb.test(t)){const e=vb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},iL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return oL(Object.entries(t.classGroups),n).forEach(([s,o])=>{Rp(o,r,s,e)}),r},Rp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:yb(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(sL(i)){Rp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Rp(o,yb(e,s),n,r)})})},yb=(t,e)=>{let n=t;return e.split(wv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sL=t=>t.isThemeGetter,oL=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,aL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},AE="!",lL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===i&&(r||l.slice(b,b+s)===e)){c.push(l.slice(d,b)),d=b+s;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const g=c.length===0?l:l.substring(d),w=g.startsWith(AE),y=w?g.substring(1):g,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},cL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},uL=t=>({cache:aL(t.cacheSize),parseClassName:lL(t),...nL(t)}),dL=/\s+/,hL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(dL);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:w}=n(u);let y=!!w,p=r(y?g.substring(0,w):g);if(!p){if(!y){l=u+(l.length>0?" "+l:l);continue}if(p=r(g),!p){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=cL(d).join(":"),x=f?b+AE:b,m=x+p;if(s.includes(m))continue;s.push(m);const v=i(p,y);for(let C=0;C<v.length;++C){const E=v[C];s.push(x+E)}l=u+(l.length>0?" "+l:l)}return l};function fL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jE(e))&&(r&&(r+=" "),r+=n);return r}const jE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jE(t[r]))&&(n&&(n+=" "),n+=e);return n};function mL(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=uL(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=hL(c,n);return i(c,d),d}return function(){return s(fL.apply(null,arguments))}}const qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RE=/^\[(?:([a-z-]+):)?(.+)\]$/i,pL=/^\d+\/\d+$/,gL=new Set(["px","full","screen"]),vL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kr=t=>Jo(t)||gL.has(t)||pL.test(t),ji=t=>Fa(t,"length",kL),Jo=t=>!!t&&!Number.isNaN(Number(t)),Ef=t=>Fa(t,"number",Jo),ol=t=>!!t&&Number.isInteger(Number(t)),CL=t=>t.endsWith("%")&&Jo(t.slice(0,-1)),fe=t=>RE.test(t),Ri=t=>vL.test(t),SL=new Set(["length","size","percentage"]),EL=t=>Fa(t,SL,kE),NL=t=>Fa(t,"position",kE),AL=new Set(["image","url"]),jL=t=>Fa(t,AL,PL),RL=t=>Fa(t,"",TL),al=()=>!0,Fa=(t,e,n)=>{const r=RE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},kL=t=>yL.test(t)&&!xL.test(t),kE=()=>!1,TL=t=>bL.test(t),PL=t=>wL.test(t),DL=()=>{const t=qe("colors"),e=qe("spacing"),n=qe("blur"),r=qe("brightness"),i=qe("borderColor"),s=qe("borderRadius"),o=qe("borderSpacing"),l=qe("borderWidth"),c=qe("contrast"),u=qe("grayscale"),d=qe("hueRotate"),f=qe("invert"),g=qe("gap"),w=qe("gradientColorStops"),y=qe("gradientColorStopPositions"),p=qe("inset"),b=qe("margin"),x=qe("opacity"),m=qe("padding"),v=qe("saturate"),C=qe("scale"),E=qe("sepia"),A=qe("skew"),S=qe("space"),N=qe("translate"),R=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",fe,e],D=()=>[fe,e],M=()=>["",Kr,ji],B=()=>["auto",Jo,fe],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",fe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Jo,fe];return{cacheSize:500,separator:":",theme:{colors:[al],spacing:[Kr,ji],blur:["none","",Ri,fe],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Ri,fe],borderSpacing:D(),borderWidth:M(),contrast:Z(),grayscale:L(),hueRotate:Z(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[CL,ji],inset:k(),margin:k(),opacity:Z(),padding:D(),saturate:Z(),scale:Z(),sepia:L(),skew:Z(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Ri]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),fe]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ol,fe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",ol,fe]}],"grid-cols":[{"grid-cols":[al]}],"col-start-end":[{col:["auto",{span:["full",ol,fe]},fe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[al]}],"row-start-end":[{row:["auto",{span:[ol,fe]},fe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[Ri]},Ri]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ri,ji]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ef]}],"font-family":[{font:[al]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Jo,Ef]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kr,ji]}],"underline-offset":[{"underline-offset":["auto",Kr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),NL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Kr,fe]}],"outline-w":[{outline:[Kr,ji]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Kr,ji]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ri,RL]}],"shadow-color":[{shadow:[al]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ri,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[ol,fe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kr,ji,Ef]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_L=mL(DL);function xe(...t){return _L(EE(t))}const Cv=hh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?YO:"button";return a.jsx(o,{className:xe(Cv({variant:e,size:n,className:t})),ref:s,...i})});F.displayName="Button";const Y=h.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Y.displayName="Input";const ae=h.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ae.displayName="Card";const Ve=h.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));Ve.displayName="CardHeader";const Ze=h.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ze.displayName="CardTitle";const TE=h.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));TE.displayName="CardDescription";const le=h.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));le.displayName="CardContent";const OL=h.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));OL.displayName="CardFooter";function LL(){const[t,e]=h.useState(""),[n,r]=h.useState(""),[i,s]=h.useState(""),[o,l]=h.useState(!1),c=Ft(),u=uc(f=>f.login),d=async f=>{var g,w;f.preventDefault(),s(""),l(!0);try{const y=await z.post("/auth/login",{email:t,password:n});if(y.data.success){const{token:p,user:b}=y.data.data,x=y.data.data.expires_in;u(b,p,x),c("/")}else s(y.data.error||"Login failed")}catch(y){s(((w=(g=y.response)==null?void 0:g.data)==null?void 0:w.error)||"An error occurred")}finally{l(!1)}};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:a.jsxs(ae,{className:"w-full max-w-md",children:[a.jsxs(Ve,{className:"space-y-1",children:[a.jsx(Ze,{className:"text-3xl font-bold text-center",children:"Dalila Admin"}),a.jsx(TE,{className:"text-center",children:"Sign in to access the property management system"})]}),a.jsx(le,{children:a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i&&a.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:i}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),a.jsx(Y,{id:"email",type:"email",placeholder:"admin@dalila.com",value:t,onChange:f=>e(f.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),a.jsx(Y,{id:"password",type:"password",placeholder:"",value:n,onChange:f=>r(f.target.value),required:!0})]}),a.jsx(F,{type:"submit",className:"w-full",disabled:o,children:o?"Signing in...":"Sign In"})]})})]})})}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(t,e)=>{const n=h.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>h.createElement("svg",{ref:d,...IL,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${ML(t)}`,l].join(" "),...u},[...e.map(([f,g])=>h.createElement(f,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=Ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=Ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=Ne("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=Ne("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=Ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=Ne("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=Ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=Ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=Ne("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=Ne("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=Ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=Ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=Ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function XL(){const t=uc(c=>c.user),e=uc(c=>c.logout),n=Ft(),[r,i]=h.useState(!0),s=()=>{e(),n("/login")},o=[{name:"Properties",href:"/properties",icon:_E},{name:"Link Generation",href:"/link-generation",icon:Ba,nested:!0},{name:"Blogs",href:"/blogs",icon:PE},{name:"Videos",href:"/videos",icon:QL},{name:"Testimonials",href:"/testimonials",icon:qL},{name:"Landing Page",href:"/landing-pages",icon:bd},{name:"Cities",href:"/cities",icon:bd,nested:!0}],l=[{name:"Redirects",href:"/redirects",icon:KL}];return a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsxs("aside",{className:`${r?"w-64":"w-20"} bg-white border-r border-gray-200 transition-all duration-300 flex flex-col`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[r&&a.jsx("h1",{className:"text-xl font-bold text-primary",children:"Dalila Admin"}),a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>i(!r),children:a.jsx(HL,{className:"h-5 w-5"})})]}),a.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[o.map(c=>a.jsxs("button",{type:"button",onClick:()=>n(c.href),className:`w-full text-left flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors ${c.nested?"pl-8 text-sm":""}`,children:[a.jsx(c.icon,{className:"h-5 w-5"}),r&&a.jsx("span",{children:c.name})]},c.name)),a.jsx("div",{className:"border-t border-gray-200 my-3"}),l.map(c=>a.jsxs(tn,{to:c.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[a.jsx(c.icon,{className:"h-5 w-5"}),r&&a.jsx("span",{children:c.name})]},c.name))]}),a.jsxs("div",{className:"p-4 border-t border-gray-200",children:[a.jsx("div",{className:`${r?"flex items-center gap-3":"text-center"} mb-3`,children:r&&a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),a.jsx("p",{className:"text-xs text-gray-500",children:t==null?void 0:t.email})]})}),a.jsxs(F,{variant:"outline",className:"w-full",onClick:s,children:[a.jsx(VL,{className:"h-4 w-4"}),r&&a.jsx("span",{className:"ml-2",children:"Logout"})]})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"p-8",children:a.jsx(zP,{})})})]})}function ZL(){return a.jsx("div",{className:"space-y-6"})}function e2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const fh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function za(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Ev(t){return"nodeType"in t}function wn(t){var e,n;return t?za(t)?t:Ev(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Nv(t){const{Document:e}=wn(t);return t instanceof e}function Oc(t){return za(t)?!1:t instanceof wn(t).HTMLElement}function UE(t){return t instanceof wn(t).SVGElement}function Wa(t){return t?za(t)?t.document:Ev(t)?Nv(t)?t:Oc(t)||UE(t)?t.ownerDocument:document:document:document}const Fr=fh?h.useLayoutEffect:h.useEffect;function Av(t){const e=h.useRef(t);return Fr(()=>{e.current=t}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function t2(){const t=h.useRef(null),e=h.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=h.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function dc(t,e){e===void 0&&(e=[t]);const n=h.useRef(t);return Fr(()=>{n.current!==t&&(n.current=t)},e),n}function Lc(t,e){const n=h.useRef();return h.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function wd(t){const e=Av(t),n=h.useRef(null),r=h.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function Tp(t){const e=h.useRef();return h.useEffect(()=>{e.current=t},[t]),e.current}let Nf={};function Ic(t,e){return h.useMemo(()=>{if(e)return e;const n=Nf[t]==null?0:Nf[t]+1;return Nf[t]=n,t+"-"+n},[t,e])}function zE(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=s[c];d!=null&&(s[c]=d+t*u)}return s},{...e})}}const Xo=zE(1),hc=zE(-1);function n2(t){return"clientX"in t&&"clientY"in t}function jv(t){if(!t)return!1;const{KeyboardEvent:e}=wn(t.target);return e&&t instanceof e}function r2(t){if(!t)return!1;const{TouchEvent:e}=wn(t.target);return e&&t instanceof e}function Pp(t){if(r2(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return n2(t)?{x:t.clientX,y:t.clientY}:null}const Aa=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Aa.Translate.toString(t),Aa.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),bb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function i2(t){return t.matches(bb)?t:t.querySelector(bb)}const s2={display:"none"};function o2(t){let{id:e,value:n}=t;return Ee.createElement("div",{id:e,style:s2},n)}function a2(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ee.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function l2(){const[t,e]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const WE=h.createContext(null);function c2(t){const e=h.useContext(WE);h.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function u2(){const[t]=h.useState(()=>new Set),e=h.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[h.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,s)})},[t]),e]}const d2={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},h2={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function f2(t){let{announcements:e=h2,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=d2}=t;const{announce:s,announcement:o}=l2(),l=Ic("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),c2(h.useMemo(()=>({onDragStart(f){let{active:g}=f;s(e.onDragStart({active:g}))},onDragMove(f){let{active:g,over:w}=f;e.onDragMove&&s(e.onDragMove({active:g,over:w}))},onDragOver(f){let{active:g,over:w}=f;s(e.onDragOver({active:g,over:w}))},onDragEnd(f){let{active:g,over:w}=f;s(e.onDragEnd({active:g,over:w}))},onDragCancel(f){let{active:g,over:w}=f;s(e.onDragCancel({active:g,over:w}))}}),[s,e])),!c)return null;const d=Ee.createElement(Ee.Fragment,null,Ee.createElement(o2,{id:r,value:i.draggable}),Ee.createElement(a2,{id:l,announcement:o}));return n?ar.createPortal(d,n):d}var Et;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Et||(Et={}));function Cd(){}function Sd(t,e){return h.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function VE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const hr=Object.freeze({x:0,y:0});function HE(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qE(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function m2(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function wb(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function KE(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Cb(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const GE=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Cb(e,e.left,e.top),s=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=HE(Cb(c),i);s.push({id:l,data:{droppableContainer:o,value:u}})}}return s.sort(qE)},p2=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=wb(e),s=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=wb(c),d=i.reduce((g,w,y)=>g+HE(u[y],w),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:o,value:f}})}}return s.sort(qE)};function g2(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,l=s-n;if(r<i&&n<s){const c=e.width*e.height,u=t.width*t.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const v2=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const c=g2(l,e);c>0&&i.push({id:o,data:{droppableContainer:s,value:c}})}}return i.sort(m2)};function y2(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function QE(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:hr}function x2(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...n})}}const b2=x2(1);function w2(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function C2(t,e,n){const r=w2(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:l}=r,c=t.left-o-(1-i)*parseFloat(n),u=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const S2={ignoreTransform:!1};function Va(t,e){e===void 0&&(e=S2);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=wn(t).getComputedStyle(t);u&&(n=C2(n,u,d))}const{top:r,left:i,width:s,height:o,bottom:l,right:c}=n;return{top:r,left:i,width:s,height:o,bottom:l,right:c}}function Sb(t){return Va(t,{ignoreTransform:!0})}function E2(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function N2(t,e){return e===void 0&&(e=wn(t).getComputedStyle(t)),e.position==="fixed"}function A2(t,e){e===void 0&&(e=wn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function mh(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(Nv(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Oc(i)||UE(i)||n.includes(i))return n;const s=wn(t).getComputedStyle(i);return i!==t&&A2(i,s)&&n.push(i),N2(i,s)?n:r(i.parentNode)}return t?r(t):n}function YE(t){const[e]=mh(t,1);return e??null}function Af(t){return!fh||!t?null:za(t)?t:Ev(t)?Nv(t)||t===Wa(t).scrollingElement?window:Oc(t)?t:null:null}function JE(t){return za(t)?t.scrollX:t.scrollLeft}function XE(t){return za(t)?t.scrollY:t.scrollTop}function Dp(t){return{x:JE(t),y:XE(t)}}var Tt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Tt||(Tt={}));function ZE(t){return!fh||!t?!1:t===document.scrollingElement}function e1(t){const e={x:0,y:0},n=ZE(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:l,maxScroll:r,minScroll:e}}const j2={x:.2,y:.2};function R2(t,e,n,r,i){let{top:s,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=j2);const{isTop:u,isBottom:d,isLeft:f,isRight:g}=e1(t),w={x:0,y:0},y={x:0,y:0},p={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+p.height?(w.y=Tt.Backward,y.y=r*Math.abs((e.top+p.height-s)/p.height)):!d&&c>=e.bottom-p.height&&(w.y=Tt.Forward,y.y=r*Math.abs((e.bottom-p.height-c)/p.height)),!g&&l>=e.right-p.width?(w.x=Tt.Forward,y.x=r*Math.abs((e.right-p.width-l)/p.width)):!f&&o<=e.left+p.width&&(w.x=Tt.Backward,y.x=r*Math.abs((e.left+p.width-o)/p.width)),{direction:w,speed:y}}function k2(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function t1(t){return t.reduce((e,n)=>Xo(e,Dp(n)),hr)}function T2(t){return t.reduce((e,n)=>e+JE(n),0)}function P2(t){return t.reduce((e,n)=>e+XE(n),0)}function D2(t,e){if(e===void 0&&(e=Va),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);YE(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const _2=[["x",["left","right"],T2],["y",["top","bottom"],P2]];class Rv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=mh(n),i=t1(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,l]of _2)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=i[s]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _l{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function O2(t){const{EventTarget:e}=wn(t);return t instanceof e?t:Wa(t)}function jf(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Bn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Bn||(Bn={}));function Eb(t){t.preventDefault()}function L2(t){t.stopPropagation()}var Re;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Re||(Re={}));const n1={start:[Re.Space,Re.Enter],cancel:[Re.Esc],end:[Re.Space,Re.Enter,Re.Tab]},I2=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Re.Right:return{...n,x:n.x+25};case Re.Left:return{...n,x:n.x-25};case Re.Down:return{...n,y:n.y+25};case Re.Up:return{...n,y:n.y-25}}};class ph{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new _l(Wa(n)),this.windowListeners=new _l(wn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bn.Resize,this.handleCancel),this.windowListeners.add(Bn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Bn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&D2(r),n(hr)}handleKeyDown(e){if(jv(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=n1,coordinateGetter:o=I2,scrollBehavior:l="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:hr;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(e,{active:n,context:r.current,currentCoordinates:d});if(f){const g=hc(f,d),w={x:0,y:0},{scrollableAncestors:y}=r.current;for(const p of y){const b=e.code,{isTop:x,isRight:m,isLeft:v,isBottom:C,maxScroll:E,minScroll:A}=e1(p),S=k2(p),N={x:Math.min(b===Re.Right?S.right-S.width/2:S.right,Math.max(b===Re.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===Re.Down?S.bottom-S.height/2:S.bottom,Math.max(b===Re.Down?S.top:S.top+S.height/2,f.y))},R=b===Re.Right&&!m||b===Re.Left&&!v,j=b===Re.Down&&!C||b===Re.Up&&!x;if(R&&N.x!==f.x){const k=p.scrollLeft+g.x,D=b===Re.Right&&k<=E.x||b===Re.Left&&k>=A.x;if(D&&!g.y){p.scrollTo({left:k,behavior:l});return}D?w.x=p.scrollLeft-k:w.x=b===Re.Right?p.scrollLeft-E.x:p.scrollLeft-A.x,w.x&&p.scrollBy({left:-w.x,behavior:l});break}else if(j&&N.y!==f.y){const k=p.scrollTop+g.y,D=b===Re.Down&&k<=E.y||b===Re.Up&&k>=A.y;if(D&&!g.x){p.scrollTo({top:k,behavior:l});return}D?w.y=p.scrollTop-k:w.y=b===Re.Down?p.scrollTop-E.y:p.scrollTop-A.y,w.y&&p.scrollBy({top:-w.y,behavior:l});break}}this.handleMove(e,Xo(hc(f,this.referenceCoordinates),w))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ph.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=n1,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function Nb(t){return!!(t&&"distance"in t)}function Ab(t){return!!(t&&"delay"in t)}class kv{constructor(e,n,r){var i;r===void 0&&(r=O2(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=Wa(o),this.documentListeners=new _l(this.document),this.listeners=new _l(r),this.windowListeners=new _l(wn(o)),this.initialCoordinates=(i=Pp(s))!=null?i:hr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Bn.Resize,this.handleCancel),this.windowListeners.add(Bn.DragStart,Eb),this.windowListeners.add(Bn.VisibilityChange,this.handleCancel),this.windowListeners.add(Bn.ContextMenu,Eb),this.documentListeners.add(Bn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ab(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Nb(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Bn.Click,L2,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:l}}=s;if(!i)return;const c=(n=Pp(e))!=null?n:hr,u=hc(i,c);if(!r&&l){if(Nb(l)){if(l.tolerance!=null&&jf(u,l.tolerance))return this.handleCancel();if(jf(u,l.distance))return this.handleStart()}if(Ab(l)&&jf(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Re.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const M2={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gh extends kv{constructor(e){const{event:n}=e,r=Wa(n.target);super(e,M2,r)}}gh.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const F2={move:{name:"mousemove"},end:{name:"mouseup"}};var _p;(function(t){t[t.RightClick=2]="RightClick"})(_p||(_p={}));class B2 extends kv{constructor(e){super(e,F2,Wa(e.event.target))}}B2.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===_p.RightClick?!1:(r==null||r({event:n}),!0)}}];const Rf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $2 extends kv{constructor(e){super(e,Rf)}static setup(){return window.addEventListener(Rf.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Rf.move.name,e)};function e(){}}}$2.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Ol;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ol||(Ol={}));var Ed;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ed||(Ed={}));function U2(t){let{acceleration:e,activator:n=Ol.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:l=Ed.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:g}=t;const w=W2({delta:f,disabled:!s}),[y,p]=t2(),b=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),m=h.useMemo(()=>{switch(n){case Ol.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ol.DraggableRect:return i}},[n,i,c]),v=h.useRef(null),C=h.useCallback(()=>{const A=v.current;if(!A)return;const S=b.current.x*x.current.x,N=b.current.y*x.current.y;A.scrollBy(S,N)},[]),E=h.useMemo(()=>l===Ed.TreeOrder?[...u].reverse():u,[l,u]);h.useEffect(()=>{if(!s||!u.length||!m){p();return}for(const A of E){if((r==null?void 0:r(A))===!1)continue;const S=u.indexOf(A),N=d[S];if(!N)continue;const{direction:R,speed:j}=R2(A,N,m,e,g);for(const k of["x","y"])w[k][R[k]]||(j[k]=0,R[k]=0);if(j.x>0||j.y>0){p(),v.current=A,y(C,o),b.current=j,x.current=R;return}}b.current={x:0,y:0},x.current={x:0,y:0},p()},[e,C,r,p,s,o,JSON.stringify(m),JSON.stringify(w),y,u,E,d,JSON.stringify(g)])}const z2={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function W2(t){let{delta:e,disabled:n}=t;const r=Tp(e);return Lc(i=>{if(n||!r||!i)return z2;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Tt.Backward]:i.x[Tt.Backward]||s.x===-1,[Tt.Forward]:i.x[Tt.Forward]||s.x===1},y:{[Tt.Backward]:i.y[Tt.Backward]||s.y===-1,[Tt.Forward]:i.y[Tt.Forward]||s.y===1}}},[n,e,r])}function V2(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Lc(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function H2(t,e){return h.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var fc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(fc||(fc={}));var Op;(function(t){t.Optimized="optimized"})(Op||(Op={}));const jb=new Map;function q2(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=h.useState(null),{frequency:l,measure:c,strategy:u}=i,d=h.useRef(t),f=b(),g=dc(f),w=h.useCallback(function(x){x===void 0&&(x=[]),!g.current&&o(m=>m===null?x:m.concat(x.filter(v=>!m.includes(v))))},[g]),y=h.useRef(null),p=Lc(x=>{if(f&&!n)return jb;if(!x||x===jb||d.current!==t||s!=null){const m=new Map;for(let v of t){if(!v)continue;if(s&&s.length>0&&!s.includes(v.id)&&v.rect.current){m.set(v.id,v.rect.current);continue}const C=v.node.current,E=C?new Rv(c(C),C):null;v.rect.current=E,E&&m.set(v.id,E)}return m}return x},[t,s,n,f,c]);return h.useEffect(()=>{d.current=t},[t]),h.useEffect(()=>{f||w()},[n,f]),h.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),h.useEffect(()=>{f||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{w(),y.current=null},l))},[l,f,w,...r]),{droppableRects:p,measureDroppableContainers:w,measuringScheduled:s!=null};function b(){switch(u){case fc.Always:return!1;case fc.BeforeDragging:return n;default:return!n}}}function r1(t,e){return Lc(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function K2(t,e){return r1(t,e)}function G2(t){let{callback:e,disabled:n}=t;const r=Av(e),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function vh(t){let{callback:e,disabled:n}=t;const r=Av(e),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Q2(t){return new Rv(Va(t),t)}function Rb(t,e,n){e===void 0&&(e=Q2);const[r,i]=h.useState(null);function s(){i(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=G2({callback(c){if(t)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),l=vh({callback:s});return Fr(()=>{s(),t?(l==null||l.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[t]),r}function Y2(t){const e=r1(t);return QE(t,e)}const kb=[];function J2(t){const e=h.useRef(t),n=Lc(r=>t?r&&r!==kb&&t&&e.current&&t.parentNode===e.current.parentNode?r:mh(t):kb,[t]);return h.useEffect(()=>{e.current=t},[t]),n}function X2(t){const[e,n]=h.useState(null),r=h.useRef(t),i=h.useCallback(s=>{const o=Af(s.target);o&&n(l=>l?(l.set(o,Dp(o)),new Map(l)):null)},[]);return h.useEffect(()=>{const s=r.current;if(t!==s){o(s);const l=t.map(c=>{const u=Af(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Dp(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=t}return()=>{o(t),o(s)};function o(l){l.forEach(c=>{const u=Af(c);u==null||u.removeEventListener("scroll",i)})}},[i,t]),h.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Xo(s,o),hr):t1(t):hr,[t,e])}function Tb(t,e){e===void 0&&(e=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},e),h.useEffect(()=>{const r=t!==hr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?hc(t,n.current):hr}function Z2(t){h.useEffect(()=>{if(!fh)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function eI(t,e){return h.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function i1(t){return h.useMemo(()=>t?E2(t):null,[t])}const Pb=[];function tI(t,e){e===void 0&&(e=Va);const[n]=t,r=i1(n?wn(n):null),[i,s]=h.useState(Pb);function o(){s(()=>t.length?t.map(c=>ZE(c)?r:new Rv(e(c),c)):Pb)}const l=vh({callback:o});return Fr(()=>{l==null||l.disconnect(),o(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),i}function nI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Oc(e)?e:t}function rI(t){let{measure:e}=t;const[n,r]=h.useState(null),i=h.useCallback(u=>{for(const{target:d}of u)if(Oc(d)){r(f=>{const g=e(d);return f?{...f,width:g.width,height:g.height}:g});break}},[e]),s=vh({callback:i}),o=h.useCallback(u=>{const d=nI(u);s==null||s.disconnect(),d&&(s==null||s.observe(d)),r(d?e(d):null)},[e,s]),[l,c]=wd(o);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const iI=[{sensor:gh,options:{}},{sensor:ph,options:{}}],sI={current:{}},Fu={draggable:{measure:Sb},droppable:{measure:Sb,strategy:fc.WhileDragging,frequency:Op.Optimized},dragOverlay:{measure:Va}};class Ll extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const oI={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ll,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Cd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fu,measureDroppableContainers:Cd,windowRect:null,measuringScheduled:!1},aI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Cd,draggableNodes:new Map,over:null,measureDroppableContainers:Cd},yh=h.createContext(aI),s1=h.createContext(oI);function lI(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ll}}}function cI(t,e){switch(e.type){case Et.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Et.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Et.DragEnd:case Et.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Et.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Ll(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Et.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new Ll(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Et.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Ll(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function uI(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=h.useContext(yh),s=Tp(r),o=Tp(n==null?void 0:n.id);return h.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!jv(s)||document.activeElement===s.target)return;const l=i.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=i2(d);if(f){f.focus();break}}})}},[r,e,i,o,s]),null}function dI(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function hI(t){return h.useMemo(()=>({draggable:{...Fu.draggable,...t==null?void 0:t.draggable},droppable:{...Fu.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Fu.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function fI(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=h.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Fr(()=>{if(!o&&!l||!e){s.current=!1;return}if(s.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=QE(d,r);if(o||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const g=YE(u);g&&g.scrollBy({top:f.y,left:f.x})}},[e,o,l,r,n])}const o1=h.createContext({...hr,scaleX:1,scaleY:1});var Ii;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ii||(Ii={}));const a1=h.memo(function(e){var n,r,i,s;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=iI,collisionDetection:f=v2,measuring:g,modifiers:w,...y}=e;const p=h.useReducer(cI,void 0,lI),[b,x]=p,[m,v]=u2(),[C,E]=h.useState(Ii.Uninitialized),A=C===Ii.Initialized,{draggable:{active:S,nodes:N,translate:R},droppable:{containers:j}}=b,k=S!=null?N.get(S):null,D=h.useRef({initial:null,translated:null}),M=h.useMemo(()=>{var at;return S!=null?{id:S,data:(at=k==null?void 0:k.data)!=null?at:sI,rect:D}:null},[S,k]),B=h.useRef(null),[J,$]=h.useState(null),[Q,O]=h.useState(null),L=dc(y,Object.values(y)),q=Ic("DndDescribedBy",o),Z=h.useMemo(()=>j.getEnabled(),[j]),V=hI(g),{droppableRects:_e,measureDroppableContainers:re,measuringScheduled:Ye}=q2(Z,{dragging:A,dependencies:[R.x,R.y],config:V.droppable}),ne=V2(N,S),K=h.useMemo(()=>Q?Pp(Q):null,[Q]),me=Wh(),Oe=K2(ne,V.draggable.measure);fI({activeNode:S!=null?N.get(S):null,config:me.layoutShiftCompensation,initialRect:Oe,measure:V.draggable.measure});const X=Rb(ne,V.draggable.measure,Oe),be=Rb(ne?ne.parentElement:null),ce=h.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:_e,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ie=j.getNodeFor((n=ce.current.over)==null?void 0:n.id),U=rI({measure:V.dragOverlay.measure}),ie=(r=U.nodeRef.current)!=null?r:ne,Me=A?(i=U.rect)!=null?i:X:null,Je=!!(U.nodeRef.current&&U.rect),st=Y2(Je?null:X),pe=i1(ie?wn(ie):null),We=J2(A?Ie??ne:null),ot=tI(We),bt=dI(w,{transform:{x:R.x-st.x,y:R.y-st.y,scaleX:1,scaleY:1},activatorEvent:Q,active:M,activeNodeRect:X,containerNodeRect:be,draggingNodeRect:Me,over:ce.current.over,overlayNodeRect:U.rect,scrollableAncestors:We,scrollableAncestorRects:ot,windowRect:pe}),bi=K?Xo(K,R):null,br=X2(We),wi=Tb(br),Ci=Tb(br,[X]),Wr=Xo(bt,wi),Vr=Me?b2(Me,bt):null,Si=M&&Vr?f({active:M,collisionRect:Vr,droppableRects:_e,droppableContainers:Z,pointerCoordinates:bi}):null,wo=KE(Si,"id"),[Gn,Ss]=h.useState(null),Co=Je?bt:Xo(bt,Ci),Qn=y2(Co,(s=Gn==null?void 0:Gn.rect)!=null?s:null,X),wr=h.useRef(null),So=h.useCallback((at,qt)=>{let{sensor:De,options:Kt}=qt;if(B.current==null)return;const cn=N.get(B.current);if(!cn)return;const Bt=at.nativeEvent,un=new De({active:B.current,activeNode:cn,event:Bt,options:Kt,context:ce,onAbort(gt){if(!N.get(gt))return;const{onDragAbort:jt}=L.current,On={id:gt};jt==null||jt(On),m({type:"onDragAbort",event:On})},onPending(gt,wt,jt,On){if(!N.get(gt))return;const{onDragPending:qr}=L.current,Yn={id:gt,constraint:wt,initialCoordinates:jt,offset:On};qr==null||qr(Yn),m({type:"onDragPending",event:Yn})},onStart(gt){const wt=B.current;if(wt==null)return;const jt=N.get(wt);if(!jt)return;const{onDragStart:On}=L.current,Ei={activatorEvent:Bt,active:{id:wt,data:jt.data,rect:D}};ar.unstable_batchedUpdates(()=>{On==null||On(Ei),E(Ii.Initializing),x({type:Et.DragStart,initialCoordinates:gt,active:wt}),m({type:"onDragStart",event:Ei}),$(wr.current),O(Bt)})},onMove(gt){x({type:Et.DragMove,coordinates:gt})},onEnd:Hr(Et.DragEnd),onCancel:Hr(Et.DragCancel)});wr.current=un;function Hr(gt){return async function(){const{active:jt,collisions:On,over:Ei,scrollAdjustedTranslate:qr}=ce.current;let Yn=null;if(jt&&qr){const{cancelDrop:Gt}=L.current;Yn={activatorEvent:Bt,active:jt,collisions:On,delta:qr,over:Ei},gt===Et.DragEnd&&typeof Gt=="function"&&await Promise.resolve(Gt(Yn))&&(gt=Et.DragCancel)}B.current=null,ar.unstable_batchedUpdates(()=>{x({type:gt}),E(Ii.Uninitialized),Ss(null),$(null),O(null),wr.current=null;const Gt=gt===Et.DragEnd?"onDragEnd":"onDragCancel";if(Yn){const Ao=L.current[Gt];Ao==null||Ao(Yn),m({type:Gt,event:Yn})}})}}},[N]),Ya=h.useCallback((at,qt)=>(De,Kt)=>{const cn=De.nativeEvent,Bt=N.get(Kt);if(B.current!==null||!Bt||cn.dndKit||cn.defaultPrevented)return;const un={active:Bt};at(De,qt.options,un)===!0&&(cn.dndKit={capturedBy:qt.sensor},B.current=Kt,So(De,qt))},[N,So]),Uc=H2(d,Ya);Z2(d),Fr(()=>{X&&C===Ii.Initializing&&E(Ii.Initialized)},[X,C]),h.useEffect(()=>{const{onDragMove:at}=L.current,{active:qt,activatorEvent:De,collisions:Kt,over:cn}=ce.current;if(!qt||!De)return;const Bt={active:qt,activatorEvent:De,collisions:Kt,delta:{x:Wr.x,y:Wr.y},over:cn};ar.unstable_batchedUpdates(()=>{at==null||at(Bt),m({type:"onDragMove",event:Bt})})},[Wr.x,Wr.y]),h.useEffect(()=>{const{active:at,activatorEvent:qt,collisions:De,droppableContainers:Kt,scrollAdjustedTranslate:cn}=ce.current;if(!at||B.current==null||!qt||!cn)return;const{onDragOver:Bt}=L.current,un=Kt.get(wo),Hr=un&&un.rect.current?{id:un.id,rect:un.rect.current,data:un.data,disabled:un.disabled}:null,gt={active:at,activatorEvent:qt,collisions:De,delta:{x:cn.x,y:cn.y},over:Hr};ar.unstable_batchedUpdates(()=>{Ss(Hr),Bt==null||Bt(gt),m({type:"onDragOver",event:gt})})},[wo]),Fr(()=>{ce.current={activatorEvent:Q,active:M,activeNode:ne,collisionRect:Vr,collisions:Si,droppableRects:_e,draggableNodes:N,draggingNode:ie,draggingNodeRect:Me,droppableContainers:j,over:Gn,scrollableAncestors:We,scrollAdjustedTranslate:Wr},D.current={initial:Me,translated:Vr}},[M,ne,Si,Vr,N,ie,Me,_e,j,Gn,We,Wr]),U2({...me,delta:R,draggingRect:Vr,pointerCoordinates:bi,scrollableAncestors:We,scrollableAncestorRects:ot});const Eo=h.useMemo(()=>({active:M,activeNode:ne,activeNodeRect:X,activatorEvent:Q,collisions:Si,containerNodeRect:be,dragOverlay:U,draggableNodes:N,droppableContainers:j,droppableRects:_e,over:Gn,measureDroppableContainers:re,scrollableAncestors:We,scrollableAncestorRects:ot,measuringConfiguration:V,measuringScheduled:Ye,windowRect:pe}),[M,ne,X,Q,Si,be,U,N,j,_e,Gn,re,We,ot,V,Ye,pe]),No=h.useMemo(()=>({activatorEvent:Q,activators:Uc,active:M,activeNodeRect:X,ariaDescribedById:{draggable:q},dispatch:x,draggableNodes:N,over:Gn,measureDroppableContainers:re}),[Q,Uc,M,X,x,q,N,Gn,re]);return Ee.createElement(WE.Provider,{value:v},Ee.createElement(yh.Provider,{value:No},Ee.createElement(s1.Provider,{value:Eo},Ee.createElement(o1.Provider,{value:Qn},u)),Ee.createElement(uI,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Ee.createElement(f2,{...l,hiddenTextDescribedById:q}));function Wh(){const at=(J==null?void 0:J.autoScrollEnabled)===!1,qt=typeof c=="object"?c.enabled===!1:c===!1,De=A&&!at&&!qt;return typeof c=="object"?{...c,enabled:De}:{enabled:De}}}),mI=h.createContext(null),Db="button",pI="Draggable";function gI(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Ic(pI),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:g}=h.useContext(yh),{role:w=Db,roleDescription:y="draggable",tabIndex:p=0}=i??{},b=(c==null?void 0:c.id)===e,x=h.useContext(b?o1:mI),[m,v]=wd(),[C,E]=wd(),A=eI(o,e),S=dc(n);Fr(()=>(f.set(e,{id:e,key:s,node:m,activatorNode:C,data:S}),()=>{const R=f.get(e);R&&R.key===s&&f.delete(e)}),[f,e]);const N=h.useMemo(()=>({role:w,tabIndex:p,"aria-disabled":r,"aria-pressed":b&&w===Db?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,w,p,b,y,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:N,isDragging:b,listeners:r?void 0:A,node:m,over:g,setNodeRef:v,setActivatorNodeRef:E,transform:x}}function vI(){return h.useContext(s1)}const yI="Droppable",xI={timeout:25};function bI(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Ic(yI),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=h.useContext(yh),d=h.useRef({disabled:n}),f=h.useRef(!1),g=h.useRef(null),w=h.useRef(null),{disabled:y,updateMeasurementsFor:p,timeout:b}={...xI,...i},x=dc(p??r),m=h.useCallback(()=>{if(!f.current){f.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),w.current=null},b)},[b]),v=vh({callback:m,disabled:y||!o}),C=h.useCallback((N,R)=>{v&&(R&&(v.unobserve(R),f.current=!1),N&&v.observe(N))},[v]),[E,A]=wd(C),S=dc(e);return h.useEffect(()=>{!v||!E.current||(v.disconnect(),f.current=!1,v.observe(E.current))},[E,v]),h.useEffect(()=>(l({type:Et.RegisterDroppable,element:{id:r,key:s,disabled:n,node:E,rect:g,data:S}}),()=>l({type:Et.UnregisterDroppable,key:s,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(l({type:Et.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,l]),{active:o,rect:g,isOver:(c==null?void 0:c.id)===r,node:E,over:c,setNodeRef:A}}function xh(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function wI(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function lu(t){return t!==null&&t>=0}function CI(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function SI(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const l1=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=xh(e,r,n),o=e[i],l=s[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},cu={scaleX:1,scaleY:1},c1=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const l=(e=s[n])!=null?e:r;if(!l)return null;if(i===n){const u=s[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...cu}:null}const c=EI(s,i,n);return i>n&&i<=o?{x:0,y:-l.height-c,...cu}:i<n&&i>=o?{x:0,y:l.height+c,...cu}:{x:0,y:0,...cu}};function EI(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const u1="Sortable",d1=Ee.createContext({activeIndex:-1,containerId:u1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:l1,disabled:{draggable:!1,droppable:!1}});function h1(t){let{children:e,id:n,items:r,strategy:i=l1,disabled:s=!1}=t;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=vI(),f=Ic(u1,n),g=l.rect!==null,w=h.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),y=o!=null,p=o?w.indexOf(o.id):-1,b=u?w.indexOf(u.id):-1,x=h.useRef(w),m=!CI(w,x.current),v=b!==-1&&p===-1||m,C=SI(s);Fr(()=>{m&&y&&d(w)},[m,w,y,d]),h.useEffect(()=>{x.current=w},[w]);const E=h.useMemo(()=>({activeIndex:p,containerId:f,disabled:C,disableTransforms:v,items:w,overIndex:b,useDragOverlay:g,sortedRects:wI(w,c),strategy:i}),[p,f,C.draggable,C.droppable,v,w,b,c,g,i]);return Ee.createElement(d1.Provider,{value:E},e)}const NI=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return xh(n,r,i).indexOf(e)},AI=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!r||l!==s&&i===o?!1:n?!0:o!==i&&e===c},jI={duration:200,easing:"ease"},f1="transform",RI=Aa.Transition.toString({property:f1,duration:0,easing:"linear"}),kI={roleDescription:"sortable"};function TI(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=h.useState(null),l=h.useRef(n);return Fr(()=>{if(!e&&n!==l.current&&r.current){const c=i.current;if(c){const u=Va(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[e,n,r,i]),h.useEffect(()=>{s&&o(null)},[s]),s}function m1(t){let{animateLayoutChanges:e=AI,attributes:n,disabled:r,data:i,getNewIndex:s=NI,id:o,strategy:l,resizeObserverConfig:c,transition:u=jI}=t;const{items:d,containerId:f,activeIndex:g,disabled:w,disableTransforms:y,sortedRects:p,overIndex:b,useDragOverlay:x,strategy:m}=h.useContext(d1),v=PI(r,w),C=d.indexOf(o),E=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...i}),[f,i,C,d]),A=h.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:S,node:N,isOver:R,setNodeRef:j}=bI({id:o,data:E,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:k,activatorEvent:D,activeNodeRect:M,attributes:B,setNodeRef:J,listeners:$,isDragging:Q,over:O,setActivatorNodeRef:L,transform:q}=gI({id:o,data:E,attributes:{...kI,...n},disabled:v.draggable}),Z=e2(j,J),V=!!k,_e=V&&!y&&lu(g)&&lu(b),re=!x&&Q,Ye=re&&_e?q:null,K=_e?Ye??(l??m)({rects:p,activeNodeRect:M,activeIndex:g,overIndex:b,index:C}):null,me=lu(g)&&lu(b)?s({id:o,items:d,activeIndex:g,overIndex:b}):C,Oe=k==null?void 0:k.id,X=h.useRef({activeId:Oe,items:d,newIndex:me,containerId:f}),be=d!==X.current.items,ce=e({active:k,containerId:f,isDragging:Q,isSorting:V,id:o,index:C,items:d,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:u,wasDragging:X.current.activeId!=null}),Ie=TI({disabled:!ce,index:C,node:N,rect:S});return h.useEffect(()=>{V&&X.current.newIndex!==me&&(X.current.newIndex=me),f!==X.current.containerId&&(X.current.containerId=f),d!==X.current.items&&(X.current.items=d)},[V,me,f,d]),h.useEffect(()=>{if(Oe===X.current.activeId)return;if(Oe!=null&&X.current.activeId==null){X.current.activeId=Oe;return}const ie=setTimeout(()=>{X.current.activeId=Oe},50);return()=>clearTimeout(ie)},[Oe]),{active:k,activeIndex:g,attributes:B,data:E,rect:S,index:C,newIndex:me,items:d,isOver:R,isSorting:V,isDragging:Q,listeners:$,node:N,overIndex:b,over:O,setNodeRef:Z,setActivatorNodeRef:L,setDroppableNodeRef:j,setDraggableNodeRef:J,transform:Ie??K,transition:U()};function U(){if(Ie||be&&X.current.newIndex===C)return RI;if(!(re&&!jv(D)||!u)&&(V||ce))return Aa.Transition.toString({...u,property:f1})}}function PI(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Nd(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const DI=[Re.Down,Re.Right,Re.Up,Re.Left],p1=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:l}}=e;if(DI.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const g=i.get(f.id);if(g)switch(t.code){case Re.Down:r.top<g.top&&c.push(f);break;case Re.Up:r.top>g.top&&c.push(f);break;case Re.Left:r.left>g.left&&c.push(f);break;case Re.Right:r.left<g.left&&c.push(f);break}});const u=p2({collisionRect:r,droppableRects:i,droppableContainers:c});let d=KE(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const f=s.get(n.id),g=s.get(d),w=g?i.get(g.id):null,y=g==null?void 0:g.node.current;if(y&&w&&f&&g){const b=mh(y).some((A,S)=>l[S]!==A),x=g1(f,g),m=_I(f,g),v=b||!x?{x:0,y:0}:{x:m?r.width-w.width:0,y:m?r.height-w.height:0},C={x:w.left,y:w.top};return v.x&&v.y?C:hc(C,v)}}}};function g1(t,e){return!Nd(t)||!Nd(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function _I(t,e){return!Nd(t)||!Nd(e)||!g1(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const OI=hh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Lp({className:t,variant:e,...n}){return a.jsx("div",{className:xe(OI({variant:e}),t),...n})}function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function LI(t,e){const n=h.createContext(e),r=s=>{const{children:o,...l}=s,c=h.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=h.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function gr(t,e=[]){let n=[];function r(s,o){const l=h.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:g,children:w,...y}=f,p=((x=g==null?void 0:g[t])==null?void 0:x[c])||l,b=h.useMemo(()=>y,Object.values(y));return a.jsx(p.Provider,{value:b,children:w})};u.displayName=s+"Provider";function d(f,g){var p;const w=((p=g==null?void 0:g[t])==null?void 0:p[c])||l,y=h.useContext(w);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,II(i,...e)]}function II(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Mt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},MI=Wd[" useInsertionEffect ".trim().toString()]||Mt;function Br({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=FI({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=h.useRef(t!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const g=BI(d)?d(t):d;g!==t&&((f=o.current)==null||f.call(o,g))}else s(d)},[l,t,s,o]);return[c,u]}function FI({defaultProp:t,onChange:e}){const[n,r]=h.useState(t),i=h.useRef(n),s=h.useRef(e);return MI(()=>{s.current=e},[e]),h.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function BI(t){return typeof t=="function"}function Tv(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Pv(t){const[e,n]=h.useState(void 0);return Mt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function $I(t){const e=UI(t),n=h.forwardRef((r,i)=>{const{children:s,...o}=r,l=h.Children.toArray(s),c=l.find(WI);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function UI(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const o=HI(i),l=VI(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Ma(r,o):o),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zI=Symbol("radix.slottable");function WI(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zI}function VI(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function HI(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=qI.reduce((t,e)=>{const n=$I(`Primitive.${e}`),r=h.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function KI(t,e){t&&ar.flushSync(()=>t.dispatchEvent(e))}var bh="Switch",[GI]=gr(bh),[QI,YI]=GI(bh),v1=h.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[g,w]=h.useState(null),y=Be(e,v=>w(v)),p=h.useRef(!1),b=g?d||!!g.closest("form"):!0,[x,m]=Br({prop:i,defaultProp:s??!1,onChange:u,caller:bh});return a.jsxs(QI,{scope:n,checked:x,disabled:l,children:[a.jsx(he.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":w1(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:ye(t.onClick,v=>{m(C=>!C),b&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})}),b&&a.jsx(b1,{control:g,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});v1.displayName=bh;var y1="SwitchThumb",x1=h.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=YI(y1,n);return a.jsx(he.span,{"data-state":w1(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});x1.displayName=y1;var JI="SwitchBubbleInput",b1=h.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=h.useRef(null),l=Be(o,s),c=Tv(n),u=Pv(e);return h.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&w){const y=new Event("click",{bubbles:r});w.call(d,n),d.dispatchEvent(y)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});b1.displayName=JI;function w1(t){return t?"checked":"unchecked"}var C1=v1,XI=x1;const Pt=h.forwardRef(({className:t,...e},n)=>a.jsx(C1,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(XI,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pt.displayName=C1.displayName;function _b(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ob(t){const e=ZI(t),n=h.forwardRef((r,i)=>{const{children:s,...o}=r,l=h.Children.toArray(s),c=l.find(tM);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function ZI(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const o=rM(i),l=nM(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Ma(r,o):o),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eM=Symbol("radix.slottable");function tM(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eM}function nM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function rM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Dv(t){const e=t+"CollectionProvider",[n,r]=gr(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:b,children:x}=p,m=Ee.useRef(null),v=Ee.useRef(new Map).current;return a.jsx(i,{scope:b,itemMap:v,collectionRef:m,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=Ob(l),u=Ee.forwardRef((p,b)=>{const{scope:x,children:m}=p,v=s(l,x),C=Be(b,v.collectionRef);return a.jsx(c,{ref:C,children:m})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=Ob(d),w=Ee.forwardRef((p,b)=>{const{scope:x,children:m,...v}=p,C=Ee.useRef(null),E=Be(b,C),A=s(d,x);return Ee.useEffect(()=>(A.itemMap.set(C,{ref:C,...v}),()=>void A.itemMap.delete(C))),a.jsx(g,{[f]:"",ref:E,children:m})});w.displayName=d;function y(p){const b=s(t+"CollectionConsumer",p);return Ee.useCallback(()=>{const m=b.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((A,S)=>v.indexOf(A.ref.current)-v.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:w},y,r]}var iM=h.createContext(void 0);function wh(t){const e=h.useContext(iM);return t||e||"ltr"}function hs(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function sM(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var oM="DismissableLayer",Ip="dismissableLayer.update",aM="dismissableLayer.pointerDownOutside",lM="dismissableLayer.focusOutside",Lb,S1=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_v=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=h.useContext(S1),[d,f]=h.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=h.useState({}),y=Be(e,S=>f(S)),p=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(b),m=d?p.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,C=m>=x,E=dM(S=>{const N=S.target,R=[...u.branches].some(j=>j.contains(N));!C||R||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},g),A=hM(S=>{const N=S.target;[...u.branches].some(j=>j.contains(N))||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},g);return sM(S=>{m===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},g),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Lb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ib(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Lb)}},[d,g,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ib())},[d,u]),h.useEffect(()=>{const S=()=>w({});return document.addEventListener(Ip,S),()=>document.removeEventListener(Ip,S)},[]),a.jsx(he.div,{...c,ref:y,style:{pointerEvents:v?C?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,A.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,E.onPointerDownCapture)})});_v.displayName=oM;var cM="DismissableLayerBranch",uM=h.forwardRef((t,e)=>{const n=h.useContext(S1),r=h.useRef(null),i=Be(e,r);return h.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(he.div,{...t,ref:i})});uM.displayName=cM;function dM(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){E1(aM,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hM(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=h.useRef(!1);return h.useEffect(()=>{const i=s=>{s.target&&!r.current&&E1(lM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ib(){const t=new CustomEvent(Ip);document.dispatchEvent(t)}function E1(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?KI(i,s):i.dispatchEvent(s)}var kf=0;function N1(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Mb()),document.body.insertAdjacentElement("beforeend",t[1]??Mb()),kf++,()=>{kf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kf--}},[])}function Mb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Tf="focusScope.autoFocusOnMount",Pf="focusScope.autoFocusOnUnmount",Fb={bubbles:!1,cancelable:!0},fM="FocusScope",Ov=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=h.useState(null),u=hs(i),d=hs(s),f=h.useRef(null),g=Be(e,p=>c(p)),w=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let p=function(v){if(w.paused||!l)return;const C=v.target;l.contains(C)?f.current=C:Di(f.current,{select:!0})},b=function(v){if(w.paused||!l)return;const C=v.relatedTarget;C!==null&&(l.contains(C)||Di(f.current,{select:!0}))},x=function(v){if(document.activeElement===document.body)for(const E of v)E.removedNodes.length>0&&Di(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const m=new MutationObserver(x);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),m.disconnect()}}},[r,l,w.paused]),h.useEffect(()=>{if(l){$b.add(w);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Tf,Fb);l.addEventListener(Tf,u),l.dispatchEvent(x),x.defaultPrevented||(mM(xM(A1(l)),{select:!0}),document.activeElement===p&&Di(l))}return()=>{l.removeEventListener(Tf,u),setTimeout(()=>{const x=new CustomEvent(Pf,Fb);l.addEventListener(Pf,d),l.dispatchEvent(x),x.defaultPrevented||Di(p??document.body,{select:!0}),l.removeEventListener(Pf,d),$b.remove(w)},0)}}},[l,u,d,w]);const y=h.useCallback(p=>{if(!n&&!r||w.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(b&&x){const m=p.currentTarget,[v,C]=pM(m);v&&C?!p.shiftKey&&x===C?(p.preventDefault(),n&&Di(v,{select:!0})):p.shiftKey&&x===v&&(p.preventDefault(),n&&Di(C,{select:!0})):x===m&&p.preventDefault()}},[n,r,w.paused]);return a.jsx(he.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});Ov.displayName=fM;function mM(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Di(r,{select:e}),document.activeElement!==n)return}function pM(t){const e=A1(t),n=Bb(e,t),r=Bb(e.reverse(),t);return[n,r]}function A1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bb(t,e){for(const n of t)if(!gM(n,{upTo:e}))return n}function gM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vM(t){return t instanceof HTMLInputElement&&"select"in t}function Di(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&vM(t)&&e&&t.select()}}var $b=yM();function yM(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Ub(t,e),t.unshift(e)},remove(e){var n;t=Ub(t,e),(n=t[0])==null||n.resume()}}}function Ub(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function xM(t){return t.filter(e=>e.tagName!=="A")}var bM=Wd[" useId ".trim().toString()]||(()=>{}),wM=0;function Or(t){const[e,n]=h.useState(bM());return Mt(()=>{n(r=>r??String(wM++))},[t]),e?`radix-${e}`:""}const CM=["top","right","bottom","left"],fs=Math.min,Nn=Math.max,Ad=Math.round,uu=Math.floor,Lr=t=>({x:t,y:t}),SM={left:"right",right:"left",bottom:"top",top:"bottom"},EM={start:"end",end:"start"};function Mp(t,e,n){return Nn(t,fs(e,n))}function pi(t,e){return typeof t=="function"?t(e):t}function gi(t){return t.split("-")[0]}function Ha(t){return t.split("-")[1]}function Lv(t){return t==="x"?"y":"x"}function Iv(t){return t==="y"?"height":"width"}const NM=new Set(["top","bottom"]);function Tr(t){return NM.has(gi(t))?"y":"x"}function Mv(t){return Lv(Tr(t))}function AM(t,e,n){n===void 0&&(n=!1);const r=Ha(t),i=Mv(t),s=Iv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=jd(o)),[o,jd(o)]}function jM(t){const e=jd(t);return[Fp(t),e,Fp(e)]}function Fp(t){return t.replace(/start|end/g,e=>EM[e])}const zb=["left","right"],Wb=["right","left"],RM=["top","bottom"],kM=["bottom","top"];function TM(t,e,n){switch(t){case"top":case"bottom":return n?e?Wb:zb:e?zb:Wb;case"left":case"right":return e?RM:kM;default:return[]}}function PM(t,e,n,r){const i=Ha(t);let s=TM(gi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Fp)))),s}function jd(t){return t.replace(/left|right|bottom|top/g,e=>SM[e])}function DM(t){return{top:0,right:0,bottom:0,left:0,...t}}function j1(t){return typeof t!="number"?DM(t):{top:t,right:t,bottom:t,left:t}}function Rd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Vb(t,e,n){let{reference:r,floating:i}=t;const s=Tr(e),o=Mv(e),l=Iv(o),c=gi(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let w;switch(c){case"top":w={x:d,y:r.y-i.height};break;case"bottom":w={x:d,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:f};break;case"left":w={x:r.x-i.width,y:f};break;default:w={x:r.x,y:r.y}}switch(Ha(e)){case"start":w[o]-=g*(n&&u?-1:1);break;case"end":w[o]+=g*(n&&u?-1:1);break}return w}const _M=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Vb(u,r,c),g=r,w={},y=0;for(let p=0;p<l.length;p++){const{name:b,fn:x}=l[p],{x:m,y:v,data:C,reset:E}=await x({x:d,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:w,rects:u,platform:o,elements:{reference:t,floating:e}});d=m??d,f=v??f,w={...w,[b]:{...w[b],...C}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=Vb(u,g,c)),p=-1)}return{x:d,y:f,placement:g,strategy:i,middlewareData:w}};async function mc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:w=0}=pi(e,t),y=j1(w),b=l[g?f==="floating"?"reference":"floating":f],x=Rd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),m=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),C=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},E=Rd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:v,strategy:c}):m);return{top:(x.top-E.top+y.top)/C.y,bottom:(E.bottom-x.bottom+y.bottom)/C.y,left:(x.left-E.left+y.left)/C.x,right:(E.right-x.right+y.right)/C.x}}const OM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=pi(t,e)||{};if(u==null)return{};const f=j1(d),g={x:n,y:r},w=Mv(i),y=Iv(w),p=await o.getDimensions(u),b=w==="y",x=b?"top":"left",m=b?"bottom":"right",v=b?"clientHeight":"clientWidth",C=s.reference[y]+s.reference[w]-g[w]-s.floating[y],E=g[w]-s.reference[w],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=A?A[v]:0;(!S||!await(o.isElement==null?void 0:o.isElement(A)))&&(S=l.floating[v]||s.floating[y]);const N=C/2-E/2,R=S/2-p[y]/2-1,j=fs(f[x],R),k=fs(f[m],R),D=j,M=S-p[y]-k,B=S/2-p[y]/2+N,J=Mp(D,B,M),$=!c.arrow&&Ha(i)!=null&&B!==J&&s.reference[y]/2-(B<D?j:k)-p[y]/2<0,Q=$?B<D?B-D:B-M:0;return{[w]:g[w]+Q,data:{[w]:J,centerOffset:B-J-Q,...$&&{alignmentOffset:Q}},reset:$}}}),LM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...b}=pi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=gi(i),m=Tr(l),v=gi(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=g||(v||!p?[jd(l)]:jM(l)),A=y!=="none";!g&&A&&E.push(...PM(l,p,y,C));const S=[l,...E],N=await mc(e,b),R=[];let j=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(N[x]),f){const B=AM(i,o,C);R.push(N[B[0]],N[B[1]])}if(j=[...j,{placement:i,overflows:R}],!R.every(B=>B<=0)){var k,D;const B=(((k=s.flip)==null?void 0:k.index)||0)+1,J=S[B];if(J&&(!(f==="alignment"?m!==Tr(J):!1)||j.every(O=>Tr(O.placement)===m?O.overflows[0]>0:!0)))return{data:{index:B,overflows:j},reset:{placement:J}};let $=(D=j.filter(Q=>Q.overflows[0]<=0).sort((Q,O)=>Q.overflows[1]-O.overflows[1])[0])==null?void 0:D.placement;if(!$)switch(w){case"bestFit":{var M;const Q=(M=j.filter(O=>{if(A){const L=Tr(O.placement);return L===m||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,q)=>L+q,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:M[0];Q&&($=Q);break}case"initialPlacement":$=l;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function Hb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qb(t){return CM.some(e=>t[e]>=0)}const IM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=pi(t,e);switch(r){case"referenceHidden":{const s=await mc(e,{...i,elementContext:"reference"}),o=Hb(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qb(o)}}}case"escaped":{const s=await mc(e,{...i,altBoundary:!0}),o=Hb(s,n.floating);return{data:{escapedOffsets:o,escaped:qb(o)}}}default:return{}}}}},R1=new Set(["left","top"]);async function MM(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=gi(n),l=Ha(n),c=Tr(n)==="y",u=R1.has(o)?-1:1,d=s&&c?-1:1,f=pi(e,t);let{mainAxis:g,crossAxis:w,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(w=l==="end"?y*-1:y),c?{x:w*d,y:g*u}:{x:g*u,y:w*d}}const FM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await MM(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},BM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y:m}=b;return{x,y:m}}},...c}=pi(t,e),u={x:n,y:r},d=await mc(e,c),f=Tr(gi(i)),g=Lv(f);let w=u[g],y=u[f];if(s){const b=g==="y"?"top":"left",x=g==="y"?"bottom":"right",m=w+d[b],v=w-d[x];w=Mp(m,w,v)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",m=y+d[b],v=y-d[x];y=Mp(m,y,v)}const p=l.fn({...e,[g]:w,[f]:y});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[g]:s,[f]:o}}}}}},$M=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pi(t,e),d={x:n,y:r},f=Tr(i),g=Lv(f);let w=d[g],y=d[f];const p=pi(l,e),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const v=g==="y"?"height":"width",C=s.reference[g]-s.floating[v]+b.mainAxis,E=s.reference[g]+s.reference[v]-b.mainAxis;w<C?w=C:w>E&&(w=E)}if(u){var x,m;const v=g==="y"?"width":"height",C=R1.has(gi(i)),E=s.reference[f]-s.floating[v]+(C&&((x=o.offset)==null?void 0:x[f])||0)+(C?0:b.crossAxis),A=s.reference[f]+s.reference[v]+(C?0:((m=o.offset)==null?void 0:m[f])||0)-(C?b.crossAxis:0);y<E?y=E:y>A&&(y=A)}return{[g]:w,[f]:y}}}},UM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=pi(t,e),d=await mc(e,u),f=gi(i),g=Ha(i),w=Tr(i)==="y",{width:y,height:p}=s.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=g==="end"?"top":"bottom");const m=p-d.top-d.bottom,v=y-d.left-d.right,C=fs(p-d[b],m),E=fs(y-d[x],v),A=!e.middlewareData.shift;let S=C,N=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=m),A&&!g){const j=Nn(d.left,0),k=Nn(d.right,0),D=Nn(d.top,0),M=Nn(d.bottom,0);w?N=y-2*(j!==0||k!==0?j+k:Nn(d.left,d.right)):S=p-2*(D!==0||M!==0?D+M:Nn(d.top,d.bottom))}await c({...e,availableWidth:N,availableHeight:S});const R=await o.getDimensions(l.floating);return y!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function Ch(){return typeof window<"u"}function qa(t){return k1(t)?(t.nodeName||"").toLowerCase():"#document"}function kn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zr(t){var e;return(e=(k1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function k1(t){return Ch()?t instanceof Node||t instanceof kn(t).Node:!1}function fr(t){return Ch()?t instanceof Element||t instanceof kn(t).Element:!1}function $r(t){return Ch()?t instanceof HTMLElement||t instanceof kn(t).HTMLElement:!1}function Kb(t){return!Ch()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kn(t).ShadowRoot}const zM=new Set(["inline","contents"]);function Mc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zM.has(i)}const WM=new Set(["table","td","th"]);function VM(t){return WM.has(qa(t))}const HM=[":popover-open",":modal"];function Sh(t){return HM.some(e=>{try{return t.matches(e)}catch{return!1}})}const qM=["transform","translate","scale","rotate","perspective"],KM=["transform","translate","scale","rotate","perspective","filter"],GM=["paint","layout","strict","content"];function Fv(t){const e=Bv(),n=fr(t)?mr(t):t;return qM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||KM.some(r=>(n.willChange||"").includes(r))||GM.some(r=>(n.contain||"").includes(r))}function QM(t){let e=ms(t);for(;$r(e)&&!ja(e);){if(Fv(e))return e;if(Sh(e))return null;e=ms(e)}return null}function Bv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YM=new Set(["html","body","#document"]);function ja(t){return YM.has(qa(t))}function mr(t){return kn(t).getComputedStyle(t)}function Eh(t){return fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ms(t){if(qa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Kb(t)&&t.host||zr(t);return Kb(e)?e.host:e}function T1(t){const e=ms(t);return ja(e)?t.ownerDocument?t.ownerDocument.body:t.body:$r(e)&&Mc(e)?e:T1(e)}function pc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=T1(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=kn(i);if(s){const l=Bp(o);return e.concat(o,o.visualViewport||[],Mc(i)?i:[],l&&n?pc(l):[])}return e.concat(i,pc(i,[],n))}function Bp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function P1(t){const e=mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$r(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Ad(n)!==s||Ad(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function $v(t){return fr(t)?t:t.contextElement}function Zo(t){const e=$v(t);if(!$r(e))return Lr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=P1(e);let o=(s?Ad(n.width):n.width)/r,l=(s?Ad(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const JM=Lr(0);function D1(t){const e=kn(t);return!Bv()||!e.visualViewport?JM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==kn(t)?!1:e}function ro(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=$v(t);let o=Lr(1);e&&(r?fr(r)&&(o=Zo(r)):o=Zo(t));const l=XM(s,n,r)?D1(s):Lr(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const g=kn(s),w=r&&fr(r)?kn(r):r;let y=g,p=Bp(y);for(;p&&r&&w!==y;){const b=Zo(p),x=p.getBoundingClientRect(),m=mr(p),v=x.left+(p.clientLeft+parseFloat(m.paddingLeft))*b.x,C=x.top+(p.clientTop+parseFloat(m.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=v,u+=C,y=kn(p),p=Bp(y)}}return Rd({width:d,height:f,x:c,y:u})}function Nh(t,e){const n=Eh(t).scrollLeft;return e?e.left+n:ro(zr(t)).left+n}function _1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Nh(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function ZM(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=zr(r),l=e?Sh(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Lr(1);const d=Lr(0),f=$r(r);if((f||!f&&!s)&&((qa(r)!=="body"||Mc(o))&&(c=Eh(r)),$r(r))){const w=ro(r);u=Zo(r),d.x=w.x+r.clientLeft,d.y=w.y+r.clientTop}const g=o&&!f&&!s?_1(o,c):Lr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-c.scrollTop*u.y+d.y+g.y}}function eF(t){return Array.from(t.getClientRects())}function tF(t){const e=zr(t),n=Eh(t),r=t.ownerDocument.body,i=Nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Nh(t);const l=-n.scrollTop;return mr(r).direction==="rtl"&&(o+=Nn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}const Gb=25;function nF(t,e){const n=kn(t),r=zr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=Bv();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=Nh(r);if(u<=0){const d=r.ownerDocument,f=d.body,g=getComputedStyle(f),w=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-w);y<=Gb&&(s-=y)}else u<=Gb&&(s+=u);return{width:s,height:o,x:l,y:c}}const rF=new Set(["absolute","fixed"]);function iF(t,e){const n=ro(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=$r(t)?Zo(t):Lr(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function Qb(t,e,n){let r;if(e==="viewport")r=nF(t,n);else if(e==="document")r=tF(zr(t));else if(fr(e))r=iF(e,n);else{const i=D1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Rd(r)}function O1(t,e){const n=ms(t);return n===e||!fr(n)||ja(n)?!1:mr(n).position==="fixed"||O1(n,e)}function sF(t,e){const n=e.get(t);if(n)return n;let r=pc(t,[],!1).filter(l=>fr(l)&&qa(l)!=="body"),i=null;const s=mr(t).position==="fixed";let o=s?ms(t):t;for(;fr(o)&&!ja(o);){const l=mr(o),c=Fv(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&rF.has(i.position)||Mc(o)&&!c&&O1(t,o))?r=r.filter(d=>d!==o):i=l,o=ms(o)}return e.set(t,r),r}function oF(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Sh(e)?[]:sF(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=Qb(e,d,i);return u.top=Nn(f.top,u.top),u.right=fs(f.right,u.right),u.bottom=fs(f.bottom,u.bottom),u.left=Nn(f.left,u.left),u},Qb(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function aF(t){const{width:e,height:n}=P1(t);return{width:e,height:n}}function lF(t,e,n){const r=$r(e),i=zr(e),s=n==="fixed",o=ro(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Lr(0);function u(){c.x=Nh(i)}if(r||!r&&!s)if((qa(e)!=="body"||Mc(i))&&(l=Eh(e)),r){const w=ro(e,!0,s,e);c.x=w.x+e.clientLeft,c.y=w.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?_1(i,l):Lr(0),f=o.left+l.scrollLeft-c.x-d.x,g=o.top+l.scrollTop-c.y-d.y;return{x:f,y:g,width:o.width,height:o.height}}function Df(t){return mr(t).position==="static"}function Yb(t,e){if(!$r(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zr(t)===n&&(n=n.ownerDocument.body),n}function L1(t,e){const n=kn(t);if(Sh(t))return n;if(!$r(t)){let i=ms(t);for(;i&&!ja(i);){if(fr(i)&&!Df(i))return i;i=ms(i)}return n}let r=Yb(t,e);for(;r&&VM(r)&&Df(r);)r=Yb(r,e);return r&&ja(r)&&Df(r)&&!Fv(r)?n:r||QM(t)||n}const cF=async function(t){const e=this.getOffsetParent||L1,n=this.getDimensions,r=await n(t.floating);return{reference:lF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uF(t){return mr(t).direction==="rtl"}const dF={convertOffsetParentRelativeRectToViewportRelativeRect:ZM,getDocumentElement:zr,getClippingRect:oF,getOffsetParent:L1,getElementRects:cF,getClientRects:eF,getDimensions:aF,getScale:Zo,isElement:fr,isRTL:uF};function I1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function hF(t,e){let n=null,r;const i=zr(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:g,height:w}=u;if(l||e(),!g||!w)return;const y=uu(f),p=uu(i.clientWidth-(d+g)),b=uu(i.clientHeight-(f+w)),x=uu(d),v={rootMargin:-y+"px "+-p+"px "+-b+"px "+-x+"px",threshold:Nn(0,fs(1,c))||1};let C=!0;function E(A){const S=A[0].intersectionRatio;if(S!==c){if(!C)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!I1(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(E,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(t)}return o(!0),s}function fF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=$v(t),d=i||s?[...u?pc(u):[],...pc(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=u&&l?hF(u,n):null;let g=-1,w=null;o&&(w=new ResizeObserver(x=>{let[m]=x;m&&m.target===u&&w&&(w.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var v;(v=w)==null||v.observe(e)})),n()}),u&&!c&&w.observe(u),w.observe(e));let y,p=c?ro(t):null;c&&b();function b(){const x=ro(t);p&&!I1(p,x)&&n(),p=x,y=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(m=>{i&&m.removeEventListener("scroll",n),s&&m.removeEventListener("resize",n)}),f==null||f(),(x=w)==null||x.disconnect(),w=null,c&&cancelAnimationFrame(y)}}const mF=FM,pF=BM,gF=LM,vF=UM,yF=IM,Jb=OM,xF=$M,bF=(t,e,n)=>{const r=new Map,i={platform:dF,...n},s={...i.platform,_c:r};return _M(t,e,{...i,platform:s})};var wF=typeof document<"u",CF=function(){},Bu=wF?h.useLayoutEffect:CF;function kd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!kd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function M1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Xb(t,e){const n=M1(t);return Math.round(e*n)/n}function _f(t){const e=h.useRef(t);return Bu(()=>{e.current=t}),e}function SF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,w]=h.useState(r);kd(g,r)||w(r);const[y,p]=h.useState(null),[b,x]=h.useState(null),m=h.useCallback(O=>{O!==A.current&&(A.current=O,p(O))},[]),v=h.useCallback(O=>{O!==S.current&&(S.current=O,x(O))},[]),C=s||y,E=o||b,A=h.useRef(null),S=h.useRef(null),N=h.useRef(d),R=c!=null,j=_f(c),k=_f(i),D=_f(u),M=h.useCallback(()=>{if(!A.current||!S.current)return;const O={placement:e,strategy:n,middleware:g};k.current&&(O.platform=k.current),bF(A.current,S.current,O).then(L=>{const q={...L,isPositioned:D.current!==!1};B.current&&!kd(N.current,q)&&(N.current=q,ar.flushSync(()=>{f(q)}))})},[g,e,n,k,D]);Bu(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const B=h.useRef(!1);Bu(()=>(B.current=!0,()=>{B.current=!1}),[]),Bu(()=>{if(C&&(A.current=C),E&&(S.current=E),C&&E){if(j.current)return j.current(C,E,M);M()}},[C,E,M,j,R]);const J=h.useMemo(()=>({reference:A,floating:S,setReference:m,setFloating:v}),[m,v]),$=h.useMemo(()=>({reference:C,floating:E}),[C,E]),Q=h.useMemo(()=>{const O={position:n,left:0,top:0};if(!$.floating)return O;const L=Xb($.floating,d.x),q=Xb($.floating,d.y);return l?{...O,transform:"translate("+L+"px, "+q+"px)",...M1($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:q}},[n,l,$.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:M,refs:J,elements:$,floatingStyles:Q}),[d,M,J,$,Q])}const EF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Jb({element:r.current,padding:i}).fn(n):{}:r?Jb({element:r,padding:i}).fn(n):{}}}},NF=(t,e)=>({...mF(t),options:[t,e]}),AF=(t,e)=>({...pF(t),options:[t,e]}),jF=(t,e)=>({...xF(t),options:[t,e]}),RF=(t,e)=>({...gF(t),options:[t,e]}),kF=(t,e)=>({...vF(t),options:[t,e]}),TF=(t,e)=>({...yF(t),options:[t,e]}),PF=(t,e)=>({...EF(t),options:[t,e]});var DF="Arrow",F1=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return a.jsx(he.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});F1.displayName=DF;var _F=F1,Uv="Popper",[B1,$1]=gr(Uv),[OF,U1]=B1(Uv),z1=t=>{const{__scopePopper:e,children:n}=t,[r,i]=h.useState(null);return a.jsx(OF,{scope:e,anchor:r,onAnchorChange:i,children:n})};z1.displayName=Uv;var W1="PopperAnchor",V1=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=U1(W1,n),o=h.useRef(null),l=Be(e,o),c=h.useRef(null);return h.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:a.jsx(he.div,{...i,ref:l})});V1.displayName=W1;var zv="PopperContent",[LF,IF]=B1(zv),H1=h.forwardRef((t,e)=>{var K,me,Oe,X,be,ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:y,...p}=t,b=U1(zv,n),[x,m]=h.useState(null),v=Be(e,Ie=>m(Ie)),[C,E]=h.useState(null),A=Pv(C),S=(A==null?void 0:A.width)??0,N=(A==null?void 0:A.height)??0,R=r+(s!=="center"?"-"+s:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],D=k.length>0,M={padding:j,boundary:k.filter(FF),altBoundary:D},{refs:B,floatingStyles:J,placement:$,isPositioned:Q,middlewareData:O}=SF({strategy:"fixed",placement:R,whileElementsMounted:(...Ie)=>fF(...Ie,{animationFrame:w==="always"}),elements:{reference:b.anchor},middleware:[NF({mainAxis:i+N,alignmentAxis:o}),c&&AF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?jF():void 0,...M}),c&&RF({...M}),kF({...M,apply:({elements:Ie,rects:U,availableWidth:ie,availableHeight:Me})=>{const{width:Je,height:st}=U.reference,pe=Ie.floating.style;pe.setProperty("--radix-popper-available-width",`${ie}px`),pe.setProperty("--radix-popper-available-height",`${Me}px`),pe.setProperty("--radix-popper-anchor-width",`${Je}px`),pe.setProperty("--radix-popper-anchor-height",`${st}px`)}}),C&&PF({element:C,padding:l}),BF({arrowWidth:S,arrowHeight:N}),g&&TF({strategy:"referenceHidden",...M})]}),[L,q]=G1($),Z=hs(y);Mt(()=>{Q&&(Z==null||Z())},[Q,Z]);const V=(K=O.arrow)==null?void 0:K.x,_e=(me=O.arrow)==null?void 0:me.y,re=((Oe=O.arrow)==null?void 0:Oe.centerOffset)!==0,[Ye,ne]=h.useState();return Mt(()=>{x&&ne(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:Q?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ye,"--radix-popper-transform-origin":[(X=O.transformOrigin)==null?void 0:X.x,(be=O.transformOrigin)==null?void 0:be.y].join(" "),...((ce=O.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(LF,{scope:n,placedSide:L,onArrowChange:E,arrowX:V,arrowY:_e,shouldHideArrow:re,children:a.jsx(he.div,{"data-side":L,"data-align":q,...p,ref:v,style:{...p.style,animation:Q?void 0:"none"}})})})});H1.displayName=zv;var q1="PopperArrow",MF={top:"bottom",right:"left",bottom:"top",left:"right"},K1=h.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=IF(q1,r),o=MF[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(_F,{...i,ref:n,style:{...i.style,display:"block"}})})});K1.displayName=q1;function FF(t){return t!==null}var BF=t=>({name:"transformOrigin",options:t,fn(e){var b,x,m;const{placement:n,rects:r,middlewareData:i}=e,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=G1(n),f={start:"0%",center:"50%",end:"100%"}[d],g=(((x=i.arrow)==null?void 0:x.x)??0)+l/2,w=(((m=i.arrow)==null?void 0:m.y)??0)+c/2;let y="",p="";return u==="bottom"?(y=o?f:`${g}px`,p=`${-c}px`):u==="top"?(y=o?f:`${g}px`,p=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,p=o?f:`${w}px`):u==="left"&&(y=`${r.floating.width+c}px`,p=o?f:`${w}px`),{data:{x:y,y:p}}}});function G1(t){const[e,n="center"]=t.split("-");return[e,n]}var $F=z1,UF=V1,zF=H1,WF=K1,VF="Portal",Wv=h.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=h.useState(!1);Mt(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?QT.createPortal(a.jsx(he.div,{...r,ref:e}),o):null});Wv.displayName=VF;function HF(t){const e=qF(t),n=h.forwardRef((r,i)=>{const{children:s,...o}=r,l=h.Children.toArray(s),c=l.find(GF);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function qF(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const o=YF(i),l=QF(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Ma(r,o):o),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var KF=Symbol("radix.slottable");function GF(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===KF}function QF(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function YF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Q1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JF="VisuallyHidden",XF=h.forwardRef((t,e)=>a.jsx(he.span,{...t,ref:e,style:{...Q1,...t.style}}));XF.displayName=JF;var ZF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ro=new WeakMap,du=new WeakMap,hu={},Of=0,Y1=function(t){return t&&(t.host||Y1(t.parentNode))},eB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Y1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tB=function(t,e,n,r){var i=eB(e,Array.isArray(t)?t:[t]);hu[n]||(hu[n]=new WeakMap);var s=hu[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))d(g);else try{var w=g.getAttribute(r),y=w!==null&&w!=="false",p=(Ro.get(g)||0)+1,b=(s.get(g)||0)+1;Ro.set(g,p),s.set(g,b),o.push(g),p===1&&y&&du.set(g,!0),b===1&&g.setAttribute(n,"true"),y||g.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",g,x)}})};return d(e),l.clear(),Of++,function(){o.forEach(function(f){var g=Ro.get(f)-1,w=s.get(f)-1;Ro.set(f,g),s.set(f,w),g||(du.has(f)||f.removeAttribute(r),du.delete(f)),w||f.removeAttribute(n)}),Of--,Of||(Ro=new WeakMap,Ro=new WeakMap,du=new WeakMap,hu={})}},J1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=ZF(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),tB(r,i,n,"aria-hidden")):function(){return null}},kr=function(){return kr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kr.apply(this,arguments)};function X1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nB(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var $u="right-scroll-bar-position",Uu="width-before-scroll-bar",rB="with-scroll-bars-hidden",iB="--removed-body-scroll-bar-size";function Lf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sB(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var oB=typeof window<"u"?h.useLayoutEffect:h.useEffect,Zb=new WeakMap;function aB(t,e){var n=sB(null,function(r){return t.forEach(function(i){return Lf(i,r)})});return oB(function(){var r=Zb.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||Lf(l,null)}),s.forEach(function(l){i.has(l)||Lf(l,o)})}Zb.set(n,t)},[t]),n}function lB(t){return t}function cB(t,e){e===void 0&&(e=lB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function uB(t){t===void 0&&(t={});var e=cB(null);return e.options=kr({async:!0,ssr:!1},t),e}var Z1=function(t){var e=t.sideCar,n=X1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,kr({},n))};Z1.isSideCarExport=!0;function dB(t,e){return t.useMedium(e),Z1}var eN=uB(),If=function(){},Ah=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:If,onWheelCapture:If,onTouchMoveCapture:If}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,w=t.noRelative,y=t.noIsolation,p=t.inert,b=t.allowPinchZoom,x=t.as,m=x===void 0?"div":x,v=t.gapMode,C=X1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,A=aB([n,e]),S=kr(kr({},C),i);return h.createElement(h.Fragment,null,d&&h.createElement(E,{sideCar:eN,removeScrollBar:u,shards:f,noRelative:w,noIsolation:y,inert:p,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:v}),o?h.cloneElement(h.Children.only(l),kr(kr({},S),{ref:A})):h.createElement(m,kr({},S,{className:c,ref:A}),l))});Ah.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ah.classNames={fullWidth:Uu,zeroRight:$u};var hB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hB();return e&&t.setAttribute("nonce",e),t}function mB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fB())&&(mB(e,n),pB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vB=function(){var t=gB();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tN=function(){var t=vB(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},yB={left:0,top:0,right:0,gap:0},Mf=function(t){return parseInt(t||"",10)||0},xB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Mf(n),Mf(r),Mf(i)]},bB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yB;var e=xB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},wB=tN(),ea="data-scroll-locked",CB=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ea,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($u,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Uu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($u," .").concat($u,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Uu," .").concat(Uu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ea,`] {
    `).concat(iB,": ").concat(l,`px;
  }
`)},e0=function(){var t=parseInt(document.body.getAttribute(ea)||"0",10);return isFinite(t)?t:0},SB=function(){h.useEffect(function(){return document.body.setAttribute(ea,(e0()+1).toString()),function(){var t=e0()-1;t<=0?document.body.removeAttribute(ea):document.body.setAttribute(ea,t.toString())}},[])},EB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;SB();var s=h.useMemo(function(){return bB(i)},[i]);return h.createElement(wB,{styles:CB(s,!e,i,n?"":"!important")})},$p=!1;if(typeof window<"u")try{var fu=Object.defineProperty({},"passive",{get:function(){return $p=!0,!0}});window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{$p=!1}var ko=$p?{passive:!1}:!1,NB=function(t){return t.tagName==="TEXTAREA"},nN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!NB(t)&&n[e]==="visible")},AB=function(t){return nN(t,"overflowY")},jB=function(t){return nN(t,"overflowX")},t0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=rN(t,r);if(i){var s=iN(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},kB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},rN=function(t,e){return t==="v"?AB(e):jB(e)},iN=function(t,e){return t==="v"?RB(e):kB(e)},TB=function(t,e){return t==="h"&&e==="rtl"?-1:1},PB=function(t,e,n,r,i){var s=TB(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),u=!1,d=o>0,f=0,g=0;do{if(!l)break;var w=iN(t,l),y=w[0],p=w[1],b=w[2],x=p-b-s*y;(y||x)&&rN(t,l)&&(f+=x,g+=y);var m=l.parentNode;l=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(g)<1)&&(u=!0),u},mu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n0=function(t){return[t.deltaX,t.deltaY]},r0=function(t){return t&&"current"in t?t.current:t},DB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_B=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OB=0,To=[];function LB(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(OB++)[0],s=h.useState(tN)[0],o=h.useRef(t);h.useEffect(function(){o.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var p=nB([t.lockRef.current],(t.shards||[]).map(r0),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=h.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=mu(p),m=n.current,v="deltaX"in p?p.deltaX:m[0]-x[0],C="deltaY"in p?p.deltaY:m[1]-x[1],E,A=p.target,S=Math.abs(v)>Math.abs(C)?"h":"v";if("touches"in p&&S==="h"&&A.type==="range")return!1;var N=window.getSelection(),R=N&&N.anchorNode,j=R?R===A||R.contains(A):!1;if(j)return!1;var k=t0(S,A);if(!k)return!0;if(k?E=S:(E=S==="v"?"h":"v",k=t0(S,A)),!k)return!1;if(!r.current&&"changedTouches"in p&&(v||C)&&(r.current=E),!E)return!0;var D=r.current||E;return PB(D,b,p,D==="h"?v:C)},[]),c=h.useCallback(function(p){var b=p;if(!(!To.length||To[To.length-1]!==s)){var x="deltaY"in b?n0(b):mu(b),m=e.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&DB(E.delta,x)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var v=(o.current.shards||[]).map(r0).filter(Boolean).filter(function(E){return E.contains(b.target)}),C=v.length>0?l(b,v[0]):!o.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),u=h.useCallback(function(p,b,x,m){var v={name:p,delta:b,target:x,should:m,shadowParent:IB(x)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(C){return C!==v})},1)},[]),d=h.useCallback(function(p){n.current=mu(p),r.current=void 0},[]),f=h.useCallback(function(p){u(p.type,n0(p),p.target,l(p,t.lockRef.current))},[]),g=h.useCallback(function(p){u(p.type,mu(p),p.target,l(p,t.lockRef.current))},[]);h.useEffect(function(){return To.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ko),document.addEventListener("touchmove",c,ko),document.addEventListener("touchstart",d,ko),function(){To=To.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,ko),document.removeEventListener("touchmove",c,ko),document.removeEventListener("touchstart",d,ko)}},[]);var w=t.removeScrollBar,y=t.inert;return h.createElement(h.Fragment,null,y?h.createElement(s,{styles:_B(i)}):null,w?h.createElement(EB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function IB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const MB=dB(eN,LB);var Vv=h.forwardRef(function(t,e){return h.createElement(Ah,kr({},t,{ref:e,sideCar:MB}))});Vv.classNames=Ah.classNames;var FB=[" ","Enter","ArrowUp","ArrowDown"],BB=[" ","Enter"],io="Select",[jh,Rh,$B]=Dv(io),[Ka]=gr(io,[$B,$1]),kh=$1(),[UB,ws]=Ka(io),[zB,WB]=Ka(io),sN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:w,form:y}=t,p=kh(e),[b,x]=h.useState(null),[m,v]=h.useState(null),[C,E]=h.useState(!1),A=wh(u),[S,N]=Br({prop:r,defaultProp:i??!1,onChange:s,caller:io}),[R,j]=Br({prop:o,defaultProp:l,onChange:c,caller:io}),k=h.useRef(null),D=b?y||!!b.closest("form"):!0,[M,B]=h.useState(new Set),J=Array.from(M).map($=>$.props.value).join(";");return a.jsx($F,{...p,children:a.jsxs(UB,{required:w,scope:e,trigger:b,onTriggerChange:x,valueNode:m,onValueNodeChange:v,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:Or(),value:R,onValueChange:j,open:S,onOpenChange:N,dir:A,triggerPointerDownPosRef:k,disabled:g,children:[a.jsx(jh.Provider,{scope:e,children:a.jsx(zB,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback($=>{B(Q=>new Set(Q).add($))},[]),onNativeOptionRemove:h.useCallback($=>{B(Q=>{const O=new Set(Q);return O.delete($),O})},[]),children:n})}),D?a.jsxs(kN,{"aria-hidden":!0,required:w,tabIndex:-1,name:d,autoComplete:f,value:R,onChange:$=>j($.target.value),disabled:g,form:y,children:[R===void 0?a.jsx("option",{value:""}):null,Array.from(M)]},J):null]})})};sN.displayName=io;var oN="SelectTrigger",aN=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=kh(n),o=ws(oN,n),l=o.disabled||r,c=Be(e,o.onTriggerChange),u=Rh(n),d=h.useRef("touch"),[f,g,w]=PN(p=>{const b=u().filter(v=>!v.disabled),x=b.find(v=>v.value===o.value),m=DN(b,p,x);m!==void 0&&o.onValueChange(m.value)}),y=p=>{l||(o.onOpenChange(!0),w()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(UF,{asChild:!0,...s,children:a.jsx(he.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TN(o.value)?"":void 0,...i,ref:c,onClick:ye(i.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&y(p)}),onPointerDown:ye(i.onPointerDown,p=>{d.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:ye(i.onKeyDown,p=>{const b=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&g(p.key),!(b&&p.key===" ")&&FB.includes(p.key)&&(y(),p.preventDefault())})})})});aN.displayName=oN;var lN="SelectValue",cN=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=ws(lN,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Be(e,c.onValueNodeChange);return Mt(()=>{u(d)},[u,d]),a.jsx(he.span,{...l,ref:f,style:{pointerEvents:"none"},children:TN(c.value)?a.jsx(a.Fragment,{children:o}):s})});cN.displayName=lN;var VB="SelectIcon",uN=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return a.jsx(he.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});uN.displayName=VB;var HB="SelectPortal",dN=t=>a.jsx(Wv,{asChild:!0,...t});dN.displayName=HB;var so="SelectContent",hN=h.forwardRef((t,e)=>{const n=ws(so,t.__scopeSelect),[r,i]=h.useState();if(Mt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ar.createPortal(a.jsx(fN,{scope:t.__scopeSelect,children:a.jsx(jh.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(mN,{...t,ref:e})});hN.displayName=so;var er=10,[fN,Cs]=Ka(so),qB="SelectContentImpl",KB=HF("SelectContent.RemoveScroll"),mN=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:p,avoidCollisions:b,...x}=t,m=ws(so,n),[v,C]=h.useState(null),[E,A]=h.useState(null),S=Be(e,K=>C(K)),[N,R]=h.useState(null),[j,k]=h.useState(null),D=Rh(n),[M,B]=h.useState(!1),J=h.useRef(!1);h.useEffect(()=>{if(v)return J1(v)},[v]),N1();const $=h.useCallback(K=>{const[me,...Oe]=D().map(ce=>ce.ref.current),[X]=Oe.slice(-1),be=document.activeElement;for(const ce of K)if(ce===be||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===me&&E&&(E.scrollTop=0),ce===X&&E&&(E.scrollTop=E.scrollHeight),ce==null||ce.focus(),document.activeElement!==be))return},[D,E]),Q=h.useCallback(()=>$([N,v]),[$,N,v]);h.useEffect(()=>{M&&Q()},[M,Q]);const{onOpenChange:O,triggerPointerDownPosRef:L}=m;h.useEffect(()=>{if(v){let K={x:0,y:0};const me=X=>{var be,ce;K={x:Math.abs(Math.round(X.pageX)-(((be=L.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(X.pageY)-(((ce=L.current)==null?void 0:ce.y)??0))}},Oe=X=>{K.x<=10&&K.y<=10?X.preventDefault():v.contains(X.target)||O(!1),document.removeEventListener("pointermove",me),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[v,O,L]),h.useEffect(()=>{const K=()=>O(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[O]);const[q,Z]=PN(K=>{const me=D().filter(be=>!be.disabled),Oe=me.find(be=>be.ref.current===document.activeElement),X=DN(me,K,Oe);X&&setTimeout(()=>X.ref.current.focus())}),V=h.useCallback((K,me,Oe)=>{const X=!J.current&&!Oe;(m.value!==void 0&&m.value===me||X)&&(R(K),X&&(J.current=!0))},[m.value]),_e=h.useCallback(()=>v==null?void 0:v.focus(),[v]),re=h.useCallback((K,me,Oe)=>{const X=!J.current&&!Oe;(m.value!==void 0&&m.value===me||X)&&k(K)},[m.value]),Ye=r==="popper"?Up:pN,ne=Ye===Up?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:p,avoidCollisions:b}:{};return a.jsx(fN,{scope:n,content:v,viewport:E,onViewportChange:A,itemRefCallback:V,selectedItem:N,onItemLeave:_e,itemTextRefCallback:re,focusSelectedItem:Q,selectedItemText:j,position:r,isPositioned:M,searchRef:q,children:a.jsx(Vv,{as:KB,allowPinchZoom:!0,children:a.jsx(Ov,{asChild:!0,trapped:m.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ye(i,K=>{var me;(me=m.trigger)==null||me.focus({preventScroll:!0}),K.preventDefault()}),children:a.jsx(_v,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:a.jsx(Ye,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:K=>K.preventDefault(),...x,...ne,onPlaced:()=>B(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ye(x.onKeyDown,K=>{const me=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!me&&K.key.length===1&&Z(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let X=D().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(K.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const be=K.target,ce=X.indexOf(be);X=X.slice(ce+1)}setTimeout(()=>$(X)),K.preventDefault()}})})})})})})});mN.displayName=qB;var GB="SelectItemAlignedPosition",pN=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ws(so,n),o=Cs(so,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=Be(e,S=>d(S)),g=Rh(n),w=h.useRef(!1),y=h.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:x,focusSelectedItem:m}=o,v=h.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&b&&x){const S=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),j=x.getBoundingClientRect();if(s.dir!=="rtl"){const be=j.left-N.left,ce=R.left-be,Ie=S.left-ce,U=S.width+Ie,ie=Math.max(U,N.width),Me=window.innerWidth-er,Je=_b(ce,[er,Math.max(er,Me-ie)]);l.style.minWidth=U+"px",l.style.left=Je+"px"}else{const be=N.right-j.right,ce=window.innerWidth-R.right-be,Ie=window.innerWidth-S.right-ce,U=S.width+Ie,ie=Math.max(U,N.width),Me=window.innerWidth-er,Je=_b(ce,[er,Math.max(er,Me-ie)]);l.style.minWidth=U+"px",l.style.right=Je+"px"}const k=g(),D=window.innerHeight-er*2,M=p.scrollHeight,B=window.getComputedStyle(u),J=parseInt(B.borderTopWidth,10),$=parseInt(B.paddingTop,10),Q=parseInt(B.borderBottomWidth,10),O=parseInt(B.paddingBottom,10),L=J+$+M+O+Q,q=Math.min(b.offsetHeight*5,L),Z=window.getComputedStyle(p),V=parseInt(Z.paddingTop,10),_e=parseInt(Z.paddingBottom,10),re=S.top+S.height/2-er,Ye=D-re,ne=b.offsetHeight/2,K=b.offsetTop+ne,me=J+$+K,Oe=L-me;if(me<=re){const be=k.length>0&&b===k[k.length-1].ref.current;l.style.bottom="0px";const ce=u.clientHeight-p.offsetTop-p.offsetHeight,Ie=Math.max(Ye,ne+(be?_e:0)+ce+Q),U=me+Ie;l.style.height=U+"px"}else{const be=k.length>0&&b===k[0].ref.current;l.style.top="0px";const Ie=Math.max(re,J+p.offsetTop+(be?V:0)+ne)+Oe;l.style.height=Ie+"px",p.scrollTop=me-re+p.offsetTop}l.style.margin=`${er}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[g,s.trigger,s.valueNode,l,u,p,b,x,s.dir,r]);Mt(()=>v(),[v]);const[C,E]=h.useState();Mt(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const A=h.useCallback(S=>{S&&y.current===!0&&(v(),m==null||m(),y.current=!1)},[v,m]);return a.jsx(YB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:A,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:a.jsx(he.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});pN.displayName=GB;var QB="SelectPopperPosition",Up=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=er,...s}=t,o=kh(n);return a.jsx(zF,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Up.displayName=QB;var[YB,Hv]=Ka(so,{}),zp="SelectViewport",gN=h.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Cs(zp,n),o=Hv(zp,n),l=Be(e,s.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(jh.Slot,{scope:n,children:a.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const w=Math.abs(c.current-d.scrollTop);if(w>0){const y=window.innerHeight-er*2,p=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(p,b);if(x<y){const m=x+w,v=Math.min(y,m),C=m-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});gN.displayName=zp;var vN="SelectGroup",[JB,XB]=Ka(vN),ZB=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Or();return a.jsx(JB,{scope:n,id:i,children:a.jsx(he.div,{role:"group","aria-labelledby":i,...r,ref:e})})});ZB.displayName=vN;var yN="SelectLabel",xN=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=XB(yN,n);return a.jsx(he.div,{id:i.id,...r,ref:e})});xN.displayName=yN;var Td="SelectItem",[e4,bN]=Ka(Td),wN=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=ws(Td,n),c=Cs(Td,n),u=l.value===r,[d,f]=h.useState(s??""),[g,w]=h.useState(!1),y=Be(e,m=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,m,r,i)}),p=Or(),b=h.useRef("touch"),x=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(e4,{scope:n,value:r,disabled:i,textId:p,isSelected:u,onItemTextChange:h.useCallback(m=>{f(v=>v||((m==null?void 0:m.textContent)??"").trim())},[]),children:a.jsx(jh.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:a.jsx(he.div,{role:"option","aria-labelledby":p,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:ye(o.onFocus,()=>w(!0)),onBlur:ye(o.onBlur,()=>w(!1)),onClick:ye(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:ye(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:ye(o.onPointerDown,m=>{b.current=m.pointerType}),onPointerMove:ye(o.onPointerMove,m=>{var v;b.current=m.pointerType,i?(v=c.onItemLeave)==null||v.call(c):b.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,m=>{var v;m.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ye(o.onKeyDown,m=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&m.key===" "||(BB.includes(m.key)&&x(),m.key===" "&&m.preventDefault())})})})})});wN.displayName=Td;var Cl="SelectItemText",CN=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=ws(Cl,n),l=Cs(Cl,n),c=bN(Cl,n),u=WB(Cl,n),[d,f]=h.useState(null),g=Be(e,x=>f(x),c.onItemTextChange,x=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,x,c.value,c.disabled)}),w=d==null?void 0:d.textContent,y=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=u;return Mt(()=>(p(y),()=>b(y)),[p,b,y]),a.jsxs(a.Fragment,{children:[a.jsx(he.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ar.createPortal(s.children,o.valueNode):null]})});CN.displayName=Cl;var SN="SelectItemIndicator",EN=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return bN(SN,n).isSelected?a.jsx(he.span,{"aria-hidden":!0,...r,ref:e}):null});EN.displayName=SN;var Wp="SelectScrollUpButton",NN=h.forwardRef((t,e)=>{const n=Cs(Wp,t.__scopeSelect),r=Hv(Wp,t.__scopeSelect),[i,s]=h.useState(!1),o=Be(e,r.onScrollButtonChange);return Mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(jN,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});NN.displayName=Wp;var Vp="SelectScrollDownButton",AN=h.forwardRef((t,e)=>{const n=Cs(Vp,t.__scopeSelect),r=Hv(Vp,t.__scopeSelect),[i,s]=h.useState(!1),o=Be(e,r.onScrollButtonChange);return Mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(jN,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});AN.displayName=Vp;var jN=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Cs("SelectScrollButton",n),o=h.useRef(null),l=Rh(n),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Mt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(he.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ye(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{c()})})}),t4="SelectSeparator",RN=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(he.div,{"aria-hidden":!0,...r,ref:e})});RN.displayName=t4;var Hp="SelectArrow",n4=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=kh(n),s=ws(Hp,n),o=Cs(Hp,n);return s.open&&o.position==="popper"?a.jsx(WF,{...i,...r,ref:e}):null});n4.displayName=Hp;var r4="SelectBubbleInput",kN=h.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=h.useRef(null),s=Be(r,i),o=Tv(e);return h.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx(he.select,{...n,style:{...Q1,...n.style},ref:s,defaultValue:e})});kN.displayName=r4;function TN(t){return t===""||t===void 0}function PN(t){const e=hs(t),n=h.useRef(""),r=h.useRef(0),i=h.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function DN(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=i4(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function i4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var s4=sN,_N=aN,o4=cN,a4=uN,l4=dN,ON=hN,c4=gN,LN=xN,IN=wN,u4=CN,d4=EN,MN=NN,FN=AN,BN=RN;const In=s4,Mn=o4,Sn=h.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(_N,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(a4,{asChild:!0,children:a.jsx(Sv,{className:"h-4 w-4 opacity-50"})})]}));Sn.displayName=_N.displayName;const $N=h.forwardRef(({className:t,...e},n)=>a.jsx(MN,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx($L,{className:"h-4 w-4"})}));$N.displayName=MN.displayName;const UN=h.forwardRef(({className:t,...e},n)=>a.jsx(FN,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Sv,{className:"h-4 w-4"})}));UN.displayName=FN.displayName;const En=h.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>a.jsx(l4,{children:a.jsxs(ON,{ref:i,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx($N,{}),a.jsx(c4,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(UN,{})]})}));En.displayName=ON.displayName;const h4=h.forwardRef(({className:t,...e},n)=>a.jsx(LN,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));h4.displayName=LN.displayName;const oe=h.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(IN,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(d4,{children:a.jsx(DE,{className:"h-4 w-4"})})}),a.jsx(u4,{children:e})]}));oe.displayName=IN.displayName;const f4=h.forwardRef(({className:t,...e},n)=>a.jsx(BN,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));f4.displayName=BN.displayName;const m4={for_sale:"bg-green-500",sold:"bg-gray-500",reserved:"bg-orange-500"},p4={for_sale:"For Sale",sold:"Sold",reserved:"Reserved"},g4={active:"Active Property",development:"Development"};function v4({property:t,index:e,toAbsoluteUrl:n,SITE_URL:r,onToggleActive:i,onToggleHome:s,onDelete:o}){const{attributes:l,listeners:c,setNodeRef:u,transform:d,transition:f,isDragging:g}=m1({id:t.id}),w={transform:Aa.Transform.toString(d),transition:f,opacity:g?.5:1};return a.jsx(ae,{ref:u,style:w,className:"overflow-hidden border border-dashed",children:a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsxs("div",{...l,...c,className:"p-2 text-muted-foreground cursor-grab active:cursor-grabbing",children:[a.jsx(go,{className:"h-5 w-5"}),a.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",e+1]})]}),t.cover_image_url?a.jsx("img",{src:n(t.cover_image_url),alt:t.title,className:"w-48 h-48 object-cover my-4 ml-2 mr-4 rounded-lg"}):a.jsx("div",{className:"w-48 h-48 flex items-center justify-center flex-shrink-0 my-4 ml-2 mr-4 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-blue-50 to-purple-50",children:a.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),a.jsxs("div",{className:"flex-1 py-4 pr-4",children:[a.jsx(Ve,{className:"p-0 pb-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Lp,{variant:"outline",children:g4[t.property_type]}),a.jsx(Lp,{className:m4[t.status],children:p4[t.status]})]}),a.jsx(Ze,{className:"line-clamp-1",children:t.title}),t.subtitle&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.subtitle}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[a.jsx(Ba,{className:"h-3 w-3"}),a.jsxs("span",{className:"break-all",children:["/properties/",t.slug]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 ml-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Published"}),a.jsx(Pt,{checked:!!t.is_active,onCheckedChange:y=>i(t,y),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle property active"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),a.jsx(Pt,{checked:!!t.show_in_home,onCheckedChange:y=>s(t,y),className:"data-[state=checked]:bg-blue-500","aria-label":"Toggle show in home"})]})]})]})}),a.jsx(le,{className:"p-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[a.jsx("span",{className:"font-mono text-xs",children:t.property_id_reference}),a.jsx("span",{children:""}),a.jsxs("span",{children:[t.city,", ",t.country]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(F,{variant:"ghost",size:"sm",asChild:!0,title:"View on site",children:a.jsx("a",{href:`${r}/new/properties/${t.slug}`,target:"_blank",rel:"noopener noreferrer",children:a.jsx(UL,{className:"h-4 w-4"})})}),a.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs(tn,{to:`/properties/${t.id}`,children:[a.jsx($a,{className:"mr-2 h-4 w-4"}),"Edit"]})}),a.jsx(F,{variant:"destructive",size:"sm",onClick:()=>o(t.id),children:a.jsx(Ua,{className:"h-4 w-4"})})]})]})})]})]})})}function y4(){var Ie;const t=bn(),e={search:"",status:"all",type:"all",category:"all",furnishing:"all"},[n,r]=h.useState(e.search),[i,s]=h.useState(e.status),[o,l]=h.useState(e.type),[c,u]=h.useState(e.category),[d,f]=h.useState(e.furnishing),[g,w]=h.useState(e.search),[y,p]=h.useState(e.status),[b,x]=h.useState(e.type),[m,v]=h.useState(e.category),[C,E]=h.useState(e.furnishing),[A,S]=h.useState([]),[N,R]=h.useState(null),[j,k]=h.useState(!1),D=VE(Sd(gh),Sd(ph,{coordinateGetter:p1})),M=()=>{r(g),s(y),l(b),u(m),f(C)},B=()=>{w(e.search),p(e.status),x(e.type),v(e.category),E(e.furnishing),r(e.search),s(e.status),l(e.type),u(e.category),f(e.furnishing)},J=U=>{U.key==="Enter"&&M()},$="/api",Q="https://buywithdali.com",O=h.useMemo(()=>$.replace(/\/api$/,""),[$]),L=U=>{if(!U)return"";const ie=O||window.location.origin;return U.startsWith("http")?U:U.startsWith("/")?`${ie}${U}`:`${ie}/${U}`},q=h.useMemo(()=>{const U=new URLSearchParams;return n&&U.append("q",n),i!=="all"&&U.append("status",i),o!=="all"&&U.append("property_type",o),c!=="all"&&U.append("property_category",c),d!=="all"&&U.append("furnishing_status",d),U.append("is_active","all"),U.append("per_page","100"),U.toString()},[n,i,o,c,d]),Z=h.useMemo(()=>{let U=0;return n.trim()&&(U+=1),i!==e.status&&(U+=1),o!==e.type&&(U+=1),c!==e.category&&(U+=1),d!==e.furnishing&&(U+=1),U},[n,i,o,c,d,e]),{data:V,isLoading:_e,refetch:re}=yt({queryKey:["properties",q],queryFn:async()=>{var st;const U=await z.get(`/properties?${q}`),ie=((st=U.data)==null?void 0:st.data)??U.data??[],Me=Array.isArray(ie==null?void 0:ie.properties)?ie.properties:Array.isArray(ie)?ie:[],Je=(ie==null?void 0:ie.pagination)??null;return{properties:Me,pagination:Je}},refetchOnWindowFocus:!1});h.useEffect(()=>{const U=(V==null?void 0:V.properties)||[];if(U.length){const ie=[...U].sort((Me,Je)=>(Me.order||0)-(Je.order||0));S(ie)}else S([])},[V]),h.useEffect(()=>{if(_e){k(!1);return}const U=setTimeout(()=>k(!0),600);return()=>clearTimeout(U)},[_e,n]);const Ye=async U=>{const{active:ie,over:Me}=U;if(!Me||ie.id===Me.id)return;const Je=A.findIndex(ot=>ot.id===ie.id),st=A.findIndex(ot=>ot.id===Me.id),We=xh(A,Je,st).map((ot,bt)=>({...ot,order:bt+1}));S(We);try{const ot={order:We.map((bi,br)=>({id:bi.id,display_order:br+1}))};console.log("Reorder payload:",ot);const bt=await z.post("/properties/reorder",ot);console.log("Reorder response:",bt.data),t.invalidateQueries({queryKey:["properties"]})}catch(ot){console.error("Failed to reorder properties:",ot),re()}},[ne,K]=h.useState(null),me=async(U,ie)=>{var Me,Je,st;S(pe=>pe.map(We=>We.id===U.id?{...We,is_active:ie}:We));try{const pe=await z.put(`/properties/${U.id}`,{is_active:ie});if(((Me=pe.data)==null?void 0:Me.success)===!1)throw new Error(pe.data.error||"Failed to update");t.invalidateQueries({queryKey:["properties"]})}catch(pe){console.error("Failed to update is_active",pe);const We=((st=(Je=pe==null?void 0:pe.response)==null?void 0:Je.data)==null?void 0:st.error)||(pe==null?void 0:pe.message)||"Failed to update property";K(We),setTimeout(()=>K(null),5e3),S(ot=>ot.map(bt=>bt.id===U.id?{...bt,is_active:!ie}:bt))}},Oe=async(U,ie)=>{var Me,Je,st;S(pe=>pe.map(We=>We.id===U.id?{...We,show_in_home:ie}:We));try{const pe=await z.put(`/properties/${U.id}`,{show_in_home:ie?1:0});if(((Me=pe.data)==null?void 0:Me.success)===!1)throw new Error(pe.data.error||"Failed to update");t.invalidateQueries({queryKey:["properties"]})}catch(pe){console.error("Failed to update show_in_home",pe);const We=((st=(Je=pe==null?void 0:pe.response)==null?void 0:Je.data)==null?void 0:st.error)||(pe==null?void 0:pe.message)||"Failed to update property";K(We),setTimeout(()=>K(null),5e3),S(ot=>ot.map(bt=>bt.id===U.id?{...bt,show_in_home:!ie}:bt))}},X=Qe({mutationFn:async U=>z.delete(`/properties/${U}`),onSuccess:()=>{R(null),t.invalidateQueries({queryKey:["properties"]}),re()}}),be=()=>{N&&X.mutate(N)};return _e||!j?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Properties"}),a.jsx(F,{asChild:!0,children:a.jsxs(tn,{to:"/properties/new",children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"New Property"]})})]}),a.jsx("div",{className:"grid gap-4",children:[1,2,3].map(U=>a.jsxs(ae,{className:"animate-pulse",children:[a.jsx(Ve,{children:a.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),a.jsx(le,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"})]})})]},U))})]}):a.jsxs("div",{className:"space-y-6",children:[ne&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("strong",{className:"font-bold",children:"Error: "}),a.jsx("span",{children:ne}),a.jsx("button",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>K(null),children:""})]}),a.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Properties"}),a.jsxs("p",{className:"text-muted-foreground",children:[((Ie=V==null?void 0:V.pagination)==null?void 0:Ie.total)??A.length??0," total properties"]}),Z>0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Z," filter",Z>1?"s":""," applied"]})]}),a.jsx(F,{asChild:!0,children:a.jsxs(tn,{to:"/properties/new",children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"New Property"]})})]}),a.jsx(ae,{className:"mt-4",children:a.jsx(le,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx(Y,{placeholder:"Search by title, city, country, tags...",value:g,onChange:U=>w(U.target.value),onKeyDown:J,className:"flex-1 min-w-[280px]"}),a.jsxs(In,{value:y,onValueChange:p,children:[a.jsx(Sn,{className:"w-[140px]",children:a.jsx(Mn,{placeholder:"Status"})}),a.jsxs(En,{children:[a.jsx(oe,{value:"all",children:"All Status"}),a.jsx(oe,{value:"for_sale",children:"For Sale"}),a.jsx(oe,{value:"sold",children:"Sold"}),a.jsx(oe,{value:"reserved",children:"Reserved"})]})]}),a.jsxs(In,{value:b,onValueChange:x,children:[a.jsx(Sn,{className:"w-[140px]",children:a.jsx(Mn,{placeholder:"Type"})}),a.jsxs(En,{children:[a.jsx(oe,{value:"all",children:"All Types"}),a.jsx(oe,{value:"active",children:"Active"}),a.jsx(oe,{value:"development",children:"Development"})]})]}),a.jsxs(In,{value:m,onValueChange:v,children:[a.jsx(Sn,{className:"w-[140px]",children:a.jsx(Mn,{placeholder:"Category"})}),a.jsxs(En,{children:[a.jsx(oe,{value:"all",children:"All Categories"}),a.jsx(oe,{value:"apartment",children:"Apartment"}),a.jsx(oe,{value:"villa",children:"Villa"}),a.jsx(oe,{value:"penthouse",children:"Penthouse"}),a.jsx(oe,{value:"townhouse",children:"Townhouse"}),a.jsx(oe,{value:"land",children:"Land"}),a.jsx(oe,{value:"commercial",children:"Commercial"})]})]}),a.jsxs(In,{value:C,onValueChange:E,children:[a.jsx(Sn,{className:"w-[140px]",children:a.jsx(Mn,{placeholder:"Furnishing"})}),a.jsxs(En,{children:[a.jsx(oe,{value:"all",children:"All Furnishing"}),a.jsx(oe,{value:"furnished",children:"Furnished"}),a.jsx(oe,{value:"semi-furnished",children:"Semi-Furnished"}),a.jsx(oe,{value:"unfurnished",children:"Unfurnished"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[a.jsxs(F,{onClick:M,size:"sm",children:[a.jsx(FE,{className:"mr-2 h-4 w-4"}),"Search"]}),a.jsxs(F,{onClick:B,variant:"outline",size:"sm",children:[a.jsx(IE,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})})}),A.length===0?a.jsx(ae,{children:a.jsx(le,{className:"flex flex-col items-center justify-center py-16",children:a.jsx("p",{className:"text-muted-foreground",children:"No properties found"})})}):a.jsx(a1,{sensors:D,collisionDetection:GE,onDragEnd:Ye,children:a.jsx(h1,{items:A.map(U=>U.id),strategy:c1,children:a.jsx("div",{className:"grid gap-4",children:A.map((U,ie)=>a.jsx(v4,{property:U,index:ie,toAbsoluteUrl:L,SITE_URL:Q,onToggleActive:me,onToggleHome:Oe,onDelete:R},U.id))})})}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Delete property?"}),a.jsx("p",{className:"text-muted-foreground",children:"Are you sure? This action cannot be undone. All photos and data will be permanently deleted."}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(F,{variant:"outline",onClick:()=>R(null),children:"Cancel"}),a.jsx(F,{variant:"destructive",onClick:be,disabled:X.isPending,children:X.isPending?"Deleting...":"Delete"})]})]})})]})}const dt=h.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));dt.displayName="Textarea";var Ff="rovingFocusGroup.onEntryFocus",x4={bubbles:!1,cancelable:!0},Fc="RovingFocusGroup",[qp,zN,b4]=Dv(Fc),[w4,WN]=gr(Fc,[b4]),[C4,S4]=w4(Fc),VN=h.forwardRef((t,e)=>a.jsx(qp.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(qp.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(E4,{...t,ref:e})})}));VN.displayName=Fc;var E4=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,g=h.useRef(null),w=Be(e,g),y=wh(s),[p,b]=Br({prop:o,defaultProp:l??null,onChange:c,caller:Fc}),[x,m]=h.useState(!1),v=hs(u),C=zN(n),E=h.useRef(!1),[A,S]=h.useState(0);return h.useEffect(()=>{const N=g.current;if(N)return N.addEventListener(Ff,v),()=>N.removeEventListener(Ff,v)},[v]),a.jsx(C4,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:p,onItemFocus:h.useCallback(N=>b(N),[b]),onItemShiftTab:h.useCallback(()=>m(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(N=>N+1),[]),onFocusableItemRemove:h.useCallback(()=>S(N=>N-1),[]),children:a.jsx(he.div,{tabIndex:x||A===0?-1:0,"data-orientation":r,...f,ref:w,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{E.current=!0}),onFocus:ye(t.onFocus,N=>{const R=!E.current;if(N.target===N.currentTarget&&R&&!x){const j=new CustomEvent(Ff,x4);if(N.currentTarget.dispatchEvent(j),!j.defaultPrevented){const k=C().filter($=>$.focusable),D=k.find($=>$.active),M=k.find($=>$.id===p),J=[D,M,...k].filter(Boolean).map($=>$.ref.current);KN(J,d)}}E.current=!1}),onBlur:ye(t.onBlur,()=>m(!1))})})}),HN="RovingFocusGroupItem",qN=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=Or(),u=s||c,d=S4(HN,n),f=d.currentTabStopId===u,g=zN(n),{onFocusableItemAdd:w,onFocusableItemRemove:y,currentTabStopId:p}=d;return h.useEffect(()=>{if(r)return w(),()=>y()},[r,w,y]),a.jsx(qp.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:a.jsx(he.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:ye(t.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:ye(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ye(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=j4(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=g().filter(C=>C.focusable).map(C=>C.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const C=v.indexOf(b.currentTarget);v=d.loop?R4(v,C+1):v.slice(C+1)}setTimeout(()=>KN(v))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});qN.displayName=HN;var N4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function j4(t,e,n){const r=A4(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return N4[r]}function KN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function R4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var k4=VN,T4=qN;function P4(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var vo=t=>{const{present:e,children:n}=t,r=D4(e),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),s=Be(r.ref,_4(i));return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:s}):null};vo.displayName="Presence";function D4(t){const[e,n]=h.useState(),r=h.useRef(null),i=h.useRef(t),s=h.useRef("none"),o=t?"mounted":"unmounted",[l,c]=P4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=pu(r.current);s.current=l==="mounted"?u:"none"},[l]),Mt(()=>{const u=r.current,d=i.current;if(d!==t){const g=s.current,w=pu(u);t?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Mt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=w=>{const p=pu(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&p&&(c("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},g=w=>{w.target===e&&(s.current=pu(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function pu(t){return(t==null?void 0:t.animationName)||"none"}function _4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Th="Tabs",[O4]=gr(Th,[WN]),GN=WN(),[L4,qv]=O4(Th),QN=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=wh(l),[f,g]=Br({prop:r,onChange:i,defaultProp:s??"",caller:Th});return a.jsx(L4,{scope:n,baseId:Or(),value:f,onValueChange:g,orientation:o,dir:d,activationMode:c,children:a.jsx(he.div,{dir:d,"data-orientation":o,...u,ref:e})})});QN.displayName=Th;var YN="TabsList",JN=h.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=qv(YN,n),o=GN(n);return a.jsx(k4,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(he.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});JN.displayName=YN;var XN="TabsTrigger",ZN=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=qv(XN,n),l=GN(n),c=nA(o.baseId,r),u=rA(o.baseId,r),d=r===o.value;return a.jsx(T4,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx(he.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:ye(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ye(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ye(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});ZN.displayName=XN;var eA="TabsContent",tA=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=qv(eA,n),c=nA(l.baseId,r),u=rA(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(vo,{present:i||d,children:({present:g})=>a.jsx(he.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&s})})});tA.displayName=eA;function nA(t,e){return`${t}-trigger-${e}`}function rA(t,e){return`${t}-content-${e}`}var I4=QN,iA=JN,sA=ZN,oA=tA;const M4=I4,aA=h.forwardRef(({className:t,...e},n)=>a.jsx(iA,{ref:n,className:xe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));aA.displayName=iA.displayName;const Qr=h.forwardRef(({className:t,...e},n)=>a.jsx(sA,{ref:n,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Qr.displayName=sA.displayName;const Yr=h.forwardRef(({className:t,...e},n)=>a.jsx(oA,{ref:n,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Yr.displayName=oA.displayName;var F4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B4=F4.reduce((t,e)=>{const n=CE(`Primitive.${e}`),r=h.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),$4="Label",lA=h.forwardRef((t,e)=>a.jsx(B4.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));lA.displayName=$4;var cA=lA;const U4=hh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=h.forwardRef(({className:t,...e},n)=>a.jsx(cA,{ref:n,className:xe(U4(),t),...e}));se.displayName=cA.displayName;var z4="2.1.16";const Ks="[data-trix-attachment]",Kv={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},nn={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(t){return i0(t.parentNode)===nn[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(t){return i0(t.parentNode)===nn[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},i0=t=>{var e;return t==null||(e=t.tagName)===null||e===void 0?void 0:e.toLowerCase()},s0=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),Bf=s0&&parseInt(s0[1]);var Bc={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:Bf&&Bf>12,samsungAndroid:Bf&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(t=>t in InputEvent.prototype)},uA={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},ue={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const W4=[ue.bytes,ue.KB,ue.MB,ue.GB,ue.TB,ue.PB];var dA={prefix:"IEC",precision:2,formatter(t){switch(t){case 0:return"0 ".concat(ue.bytes);case 1:return"1 ".concat(ue.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);const n=Math.floor(Math.log(t)/Math.log(e)),r=(t/Math.pow(e,n)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(r," ").concat(W4[n])}}};const Ph="\uFEFF",$i="",hA=function(t){for(const e in t){const n=t[e];this[e]=n}return this},Gv=document.documentElement,V4=Gv.matches,nt=function(t){let{onElement:e,matchingSelector:n,withCallback:r,inPhase:i,preventDefault:s,times:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=e||Gv,c=n,u=i==="capturing",d=function(f){o!=null&&--o==0&&d.destroy();const g=ps(f.target,{matchingSelector:c});g!=null&&(r==null||r.call(g,f,g),s&&f.preventDefault())};return d.destroy=()=>l.removeEventListener(t,d,u),l.addEventListener(t,d,u),d},fA=function(t){let{bubbles:e,cancelable:n,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e=e!==!1,n=n!==!1;const i=document.createEvent("Events");return i.initEvent(t,e,n),r!=null&&hA.call(i,r),i},Il=function(t){let{onElement:e,bubbles:n,cancelable:r,attributes:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=e??Gv,o=fA(t,{bubbles:n,cancelable:r,attributes:i});return s.dispatchEvent(o)},mA=function(t,e){if((t==null?void 0:t.nodeType)===1)return V4.call(t,e)},ps=function(t){let{matchingSelector:e,untilNode:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(t!=null){if(e==null)return t;if(t.closest&&n==null)return t.closest(e);for(;t&&t!==n;){if(mA(t,e))return t;t=t.parentNode}}},Qv=t=>document.activeElement!==t&&Os(t,document.activeElement),Os=function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},$f=function(t){var e;if((e=t)===null||e===void 0||!e.parentNode)return;let n=0;for(t=t.previousSibling;t;)n++,t=t.previousSibling;return n},gs=t=>{var e;return t==null||(e=t.parentNode)===null||e===void 0?void 0:e.removeChild(t)},Pd=function(t){let{onlyNodesOfType:e,usingFilter:n,expandEntityReferences:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(t,i,n??null,r===!0)},en=t=>{var e;return t==null||(e=t.tagName)===null||e===void 0?void 0:e.toLowerCase()},we=function(t){let e,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof t=="object"?(r=t,t=r.tagName):r={attributes:r};const i=document.createElement(t);if(r.editable!=null&&(r.attributes==null&&(r.attributes={}),r.attributes.contenteditable=r.editable),r.attributes)for(e in r.attributes)n=r.attributes[e],i.setAttribute(e,n);if(r.style)for(e in r.style)n=r.style[e],i.style[e]=n;if(r.data)for(e in r.data)n=r.data[e],i.dataset[e]=n;return r.className&&r.className.split(" ").forEach(s=>{i.classList.add(s)}),r.textContent&&(i.textContent=r.textContent),r.childNodes&&[].concat(r.childNodes).forEach(s=>{i.appendChild(s)}),i};let ll;const Ml=function(){if(ll!=null)return ll;ll=[];for(const t in nn){const e=nn[t];e.tagName&&ll.push(e.tagName)}return ll},Uf=t=>ta(t==null?void 0:t.firstChild),o0=function(t){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?ta(t):ta(t)||!ta(t.firstChild)&&function(n){return Ml().includes(en(n))&&!Ml().includes(en(n.firstChild))}(t)},ta=t=>H4(t)&&(t==null?void 0:t.data)==="block",H4=t=>(t==null?void 0:t.nodeType)===Node.COMMENT_NODE,na=function(t){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t)return Fl(t)?t.data===Ph?!e||t.parentNode.dataset.trixCursorTarget===e:void 0:na(t.firstChild)},Gs=t=>mA(t,Ks),pA=t=>Fl(t)&&(t==null?void 0:t.data)==="",Fl=t=>(t==null?void 0:t.nodeType)===Node.TEXT_NODE,Yv={level2Enabled:!0,getLevel(){return this.level2Enabled&&Bc.supportsInputEvents?2:0},pickFiles(t){const e=we("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{t(e.files),gs(e)}),gs(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var zu={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},oo={bold:{tagName:"strong",inheritable:!0,parser(t){const e=window.getComputedStyle(t);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:t=>window.getComputedStyle(t).fontStyle==="italic"},href:{groupTagName:"a",parser(t){const e="a:not(".concat(Ks,")"),n=t.closest(e);if(n)return n.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},gA={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(ue.bold,'" tabindex="-1">').concat(ue.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(ue.italic,'" tabindex="-1">').concat(ue.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(ue.strike,'" tabindex="-1">').concat(ue.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(ue.link,'" tabindex="-1">').concat(ue.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(ue.heading1,'" tabindex="-1">').concat(ue.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(ue.quote,'" tabindex="-1">').concat(ue.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(ue.code,'" tabindex="-1">').concat(ue.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(ue.bullets,'" tabindex="-1">').concat(ue.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(ue.numbers,'" tabindex="-1">').concat(ue.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(ue.outdent,'" tabindex="-1">').concat(ue.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(ue.indent,'" tabindex="-1">').concat(ue.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(ue.attachFiles,'" tabindex="-1">').concat(ue.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(ue.undo,'" tabindex="-1">').concat(ue.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(ue.redo,'" tabindex="-1">').concat(ue.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(ue.urlPlaceholder,'" aria-label="').concat(ue.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(ue.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(ue.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const Kp={interval:5e3};var $c=Object.freeze({__proto__:null,attachments:Kv,blockAttributes:nn,browser:Bc,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:uA,fileSize:dA,input:Yv,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:ue,parser:zu,textAttributes:oo,toolbar:gA,undo:Kp});class xt{static proxyMethod(e){const{name:n,toMethod:r,toProperty:i,optional:s}=q4(e);this.prototype[n]=function(){let o,l;var c,u;return r?l=s?(c=this[r])===null||c===void 0?void 0:c.call(this):this[r]():i&&(l=this[i]),s?(o=(u=l)===null||u===void 0?void 0:u[n],o?a0.call(o,l,arguments):void 0):(o=l[n],a0.call(o,l,arguments))}}}const q4=function(t){const e=t.match(K4);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(t));const n={name:e[4]};return e[2]!=null?n.toMethod=e[1]:n.toProperty=e[1],e[3]!=null&&(n.optional=!0),n},{apply:a0}=Function.prototype,K4=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var zf,Wf,Vf;class gc extends xt{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e==null?void 0:e.toString())}static fromUCS2String(e){return new this(e,Gp(e))}static fromCodepoints(e){return new this(Qp(e),e)}constructor(e,n){super(...arguments),this.ucs2String=e,this.codepoints=n,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return Qp(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return Gp(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const G4=((zf=Array.from)===null||zf===void 0?void 0:zf.call(Array,"").length)===1,Q4=((Wf=" ".codePointAt)===null||Wf===void 0?void 0:Wf.call(" ",0))!=null,Y4=((Vf=String.fromCodePoint)===null||Vf===void 0?void 0:Vf.call(String,32,128124))===" ";let Gp,Qp;Gp=G4&&Q4?t=>Array.from(t).map(e=>e.codePointAt(0)):function(t){const e=[];let n=0;const{length:r}=t;for(;n<r;){let i=t.charCodeAt(n++);if(55296<=i&&i<=56319&&n<r){const s=t.charCodeAt(n++);(64512&s)==56320?i=((1023&i)<<10)+(1023&s)+65536:n--}e.push(i)}return e},Qp=Y4?t=>String.fromCodePoint(...Array.from(t||[])):function(t){return(()=>{const e=[];return Array.from(t).forEach(n=>{let r="";n>65535&&(n-=65536,r+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),e.push(r+String.fromCharCode(n))}),e})().join("")};let J4=0;class yo extends xt{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++J4}hasSameConstructorAs(e){return this.constructor===(e==null?void 0:e.constructor)}isEqualTo(e){return this===e}inspect(){const e=[],n=this.contentsForInspection()||{};for(const r in n){const i=n[r];e.push("".concat(r,"=").concat(i))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return gc.box(this)}getCacheKey(){return this.id.toString()}}const ao=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Jv=function(t){const e=t.slice(0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.splice(...r),e},X4=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,Z4=function(){const t=we("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=we("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),n=we("form");n.appendChild(t),n.appendChild(e);const r=function(){try{return new FormData(n).has(e.dirName)}catch{return!1}}(),i=function(){try{return t.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return r?function(s){return e.value=s,new FormData(n).get(e.dirName)}:i?function(s){return t.value=s,t.matches(":dir(rtl)")?"rtl":"ltr"}:function(s){const o=s.trim().charAt(0);return X4.test(o)?"rtl":"ltr"}}();let Hf=null,qf=null,Kf=null,gu=null;const Yp=()=>(Hf||(Hf=t3().concat(e3())),Hf),ht=t=>nn[t],e3=()=>(qf||(qf=Object.keys(nn)),qf),Jp=t=>oo[t],t3=()=>(Kf||(Kf=Object.keys(oo)),Kf),vA=function(t,e){n3(t).textContent=e.replace(/%t/g,t)},n3=function(t){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase());const n=r3();return n&&e.setAttribute("nonce",n),document.head.insertBefore(e,document.head.firstChild),e},r3=function(){const t=l0("trix-csp-nonce")||l0("csp-nonce");if(t){const{nonce:e,content:n}=t;return e==""?n:e}},l0=t=>document.head.querySelector("meta[name=".concat(t,"]")),c0={"application/x-trix-feature-detection":"test"},yA=function(t){const e=t.getData("text/plain"),n=t.getData("text/html");if(!e||!n)return e==null?void 0:e.length;{const{body:r}=new DOMParser().parseFromString(n,"text/html");if(r.textContent===e)return!r.querySelector("*")}},xA=/Mac|^iP/.test(navigator.platform)?t=>t.metaKey:t=>t.ctrlKey,Xv=t=>setTimeout(t,1),bA=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={};for(const n in t){const r=t[n];e[n]=r}return e},Ga=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0},$e=function(t){if(t!=null)return Array.isArray(t)||(t=[t,t]),[u0(t[0]),u0(t[1]!=null?t[1]:t[0])]},li=function(t){if(t==null)return;const[e,n]=$e(t);return Xp(e,n)},Dd=function(t,e){if(t==null||e==null)return;const[n,r]=$e(t),[i,s]=$e(e);return Xp(n,i)&&Xp(r,s)},u0=function(t){return typeof t=="number"?t:bA(t)},Xp=function(t,e){return typeof t=="number"?t===e:Ga(t,e)};class wA extends xt{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(n=>n!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const lo=new wA,CA=function(){const t=window.getSelection();if(t.rangeCount>0)return t},Bl=function(){var t;const e=(t=CA())===null||t===void 0?void 0:t.getRangeAt(0);if(e&&!i3(e))return e},SA=function(t){const e=window.getSelection();return e.removeAllRanges(),e.addRange(t),lo.update()},i3=t=>d0(t.startContainer)||d0(t.endContainer),d0=t=>!Object.getPrototypeOf(t),Sl=t=>t.replace(new RegExp("".concat(Ph),"g"),"").replace(new RegExp("".concat($i),"g")," "),Zv=new RegExp("[^\\S".concat($i,"]")),ey=t=>t.replace(new RegExp("".concat(Zv.source),"g")," ").replace(/\ {2,}/g," "),h0=function(t,e){if(t.isEqualTo(e))return["",""];const n=Gf(t,e),{length:r}=n.utf16String;let i;if(r){const{offset:s}=n,o=t.codepoints.slice(0,s).concat(t.codepoints.slice(s+r));i=Gf(e,gc.fromCodepoints(o))}else i=Gf(e,t);return[n.utf16String.toString(),i.utf16String.toString()]},Gf=function(t,e){let n=0,r=t.length,i=e.length;for(;n<r&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;r>n+1&&t.charAt(r-1).isEqualTo(e.charAt(i-1));)r--,i--;return{utf16String:t.slice(n,r),offset:n}};class Tn extends yo{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let n=cl(e[0]),r=n.getKeys();return e.slice(1).forEach(i=>{r=n.getKeysCommonToHash(cl(i)),n=n.slice(r)}),n}static box(e){return cl(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=Wu(e)}add(e,n){return this.merge(s3(e,n))}remove(e){return new Tn(Wu(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new Tn(o3(this.values,a3(e)))}slice(e){const n={};return Array.from(e).forEach(r=>{this.has(r)&&(n[r]=this.values[r])}),new Tn(n)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=cl(e),this.getKeys().filter(n=>this.values[n]===e.values[n])}isEqualTo(e){return ao(this.toArray(),cl(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const e=[];for(const n in this.values){const r=this.values[n];e.push(e.push(n,r))}this.array=e.slice(0)}return this.array}toObject(){return Wu(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const s3=function(t,e){const n={};return n[t]=e,n},o3=function(t,e){const n=Wu(t);for(const r in e){const i=e[r];n[r]=i}return n},Wu=function(t,e){const n={};return Object.keys(t).sort().forEach(r=>{r!==e&&(n[r]=t[r])}),n},cl=function(t){return t instanceof Tn?t:new Tn(t)},a3=function(t){return t instanceof Tn?t.values:t};class ty{static groupObjects(){let e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:r,asTree:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i&&r==null&&(r=0);const s=[];return Array.from(n).forEach(o=>{var l;if(e){var c,u,d;if((c=o.canBeGrouped)!==null&&c!==void 0&&c.call(o,r)&&(u=(d=e[e.length-1]).canBeGroupedWith)!==null&&u!==void 0&&u.call(d,o,r))return void e.push(o);s.push(new this(e,{depth:r,asTree:i})),e=null}(l=o.canBeGrouped)!==null&&l!==void 0&&l.call(o,r)?e=[o]:s.push(o)}),e&&s.push(new this(e,{depth:r,asTree:i})),s}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:n,asTree:r}=arguments.length>1?arguments[1]:void 0;this.objects=e,r&&(this.depth=n,this.objects=this.constructor.groupObjects(this.objects,{asTree:r,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const e=["objectGroup"];return Array.from(this.getObjects()).forEach(n=>{e.push(n.getCacheKey())}),e.join("/")}}class l3 extends xt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(n=>{const r=JSON.stringify(n);this.objects[r]==null&&(this.objects[r]=n)})}find(e){const n=JSON.stringify(e);return this.objects[n]}}class c3{constructor(e){this.reset(e)}add(e){const n=f0(e);this.elements[n]=e}remove(e){const n=f0(e),r=this.elements[n];if(r)return delete this.elements[n],r}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(n=>{this.add(n)}),e}}const f0=t=>t.dataset.trixStoreKey;class _d extends xt{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,n)=>(this.performing=!0,this.perform((r,i)=>{this.succeeded=r,this.performing=!1,this.performed=!0,this.succeeded?e(i):n(i)})))),this.promise}perform(e){return e(!1)}release(){var e,n;(e=this.promise)===null||e===void 0||(n=e.cancel)===null||n===void 0||n.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}_d.proxyMethod("getPromise().then"),_d.proxyMethod("getPromise().catch");class xo extends xt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=n,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var n;return(n=this.findViewForObject(e))===null||n===void 0?void 0:n.invalidate()}findOrCreateCachedChildView(e,n,r){let i=this.getCachedViewForObject(n);return i?this.recordChildView(i):(i=this.createChildView(...arguments),this.cacheViewForObject(i,n)),i}createChildView(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n instanceof ty&&(r.viewClass=e,e=u3);const i=new e(n,r);return this.recordChildView(i)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(n=>{e.push(n),e=e.concat(n.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){const n=e==null?void 0:e.id;if(n)return this.rootView.element.querySelector("[data-trix-id='".concat(n,"']"))}findViewForObject(e){for(const n of this.getAllChildViews())if(n.object===e)return n}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var n;return(n=this.getViewCache())===null||n===void 0?void 0:n[e.getCacheKey()]}cacheViewForObject(e,n){const r=this.getViewCache();r&&(r[n.getCacheKey()]=e)}garbageCollectCachedViews(){const e=this.getViewCache();if(e){const n=this.getAllChildViews().concat(this).map(r=>r.object.getCacheKey());for(const r in e)n.includes(r)||delete e[r]}}}class u3 extends xo{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){const e=this.createContainerElement();return this.getChildViews().forEach(n=>{Array.from(n.getNodes()).forEach(r=>{e.appendChild(r)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:EA,setPrototypeOf:m0,isFrozen:d3,getPrototypeOf:h3,getOwnPropertyDescriptor:f3}=Object;let{freeze:sn,seal:Kn,create:NA}=Object,{apply:Zp,construct:eg}=typeof Reflect<"u"&&Reflect;sn||(sn=function(t){return t}),Kn||(Kn=function(t){return t}),Zp||(Zp=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t.apply(e,r)}),eg||(eg=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new t(...n)});const vu=on(Array.prototype.forEach),m3=on(Array.prototype.lastIndexOf),p0=on(Array.prototype.pop),ul=on(Array.prototype.push),p3=on(Array.prototype.splice),Vu=on(String.prototype.toLowerCase),Qf=on(String.prototype.toString),Yf=on(String.prototype.match),dl=on(String.prototype.replace),g3=on(String.prototype.indexOf),v3=on(String.prototype.trim),tr=on(Object.prototype.hasOwnProperty),Qt=on(RegExp.prototype.test),hl=(g0=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return eg(g0,e)});var g0;function on(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Zp(t,e,r)}}function Ce(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vu;m0&&m0(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(d3(e)||(e[r]=s),i=s)}t[i]=!0}return t}function y3(t){for(let e=0;e<t.length;e++)tr(t,e)||(t[e]=null);return t}function Jr(t){const e=NA(null);for(const[n,r]of EA(t))tr(t,n)&&(Array.isArray(r)?e[n]=y3(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Jr(r):e[n]=r);return e}function fl(t,e){for(;t!==null;){const n=f3(t,e);if(n){if(n.get)return on(n.get);if(typeof n.value=="function")return on(n.value)}t=h3(t)}return function(){return null}}const v0=sn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jf=sn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xf=sn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),x3=sn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Zf=sn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),b3=sn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),y0=sn(["#text"]),x0=sn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),em=sn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),b0=sn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yu=sn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),w3=Kn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),C3=Kn(/<%[\w\W]*|[\w\W]*%>/gm),S3=Kn(/\$\{[\w\W]*/gm),E3=Kn(/^data-[\-\w.\u00B7-\uFFFF]+$/),N3=Kn(/^aria-[\-\w]+$/),AA=Kn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),A3=Kn(/^(?:\w+script|data):/i),j3=Kn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jA=Kn(/^html$/i),R3=Kn(/^[a-z][.\w]*(-[.\w]+)+$/i);var w0=Object.freeze({__proto__:null,ARIA_ATTR:N3,ATTR_WHITESPACE:j3,CUSTOM_ELEMENT:R3,DATA_ATTR:E3,DOCTYPE_NAME:jA,ERB_EXPR:C3,IS_ALLOWED_URI:AA,IS_SCRIPT_OR_DATA:A3,MUSTACHE_EXPR:w3,TMPLIT_EXPR:S3});const k3=1,T3=3,P3=7,D3=8,_3=9,O3=function(){return typeof window>"u"?null:window};var vc=function t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O3();const n=P=>t(P);if(n.version="3.2.7",n.removed=[],!e||!e.document||e.document.nodeType!==_3||!e.Element)return n.isSupported=!1,n;let{document:r}=e;const i=r,s=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:d,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:w,trustedTypes:y}=e,p=u.prototype,b=fl(p,"cloneNode"),x=fl(p,"remove"),m=fl(p,"nextSibling"),v=fl(p,"childNodes"),C=fl(p,"parentNode");if(typeof l=="function"){const P=r.createElement("template");P.content&&P.content.ownerDocument&&(r=P.content.ownerDocument)}let E,A="";const{implementation:S,createNodeIterator:N,createDocumentFragment:R,getElementsByTagName:j}=r,{importNode:k}=i;let D={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported=typeof EA=="function"&&typeof C=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:B,TMPLIT_EXPR:J,DATA_ATTR:$,ARIA_ATTR:Q,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:q}=w0;let{IS_ALLOWED_URI:Z}=w0,V=null;const _e=Ce({},[...v0,...Jf,...Xf,...Zf,...y0]);let re=null;const Ye=Ce({},[...x0,...em,...b0,...yu]);let ne=Object.seal(NA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,me=null,Oe=!0,X=!0,be=!1,ce=!0,Ie=!1,U=!0,ie=!1,Me=!1,Je=!1,st=!1,pe=!1,We=!1,ot=!0,bt=!1,bi=!0,br=!1,wi={},Ci=null;const Wr=Ce({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vr=null;const Si=Ce({},["audio","video","img","source","image","track"]);let wo=null;const Gn=Ce({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ss="http://www.w3.org/1998/Math/MathML",Co="http://www.w3.org/2000/svg",Qn="http://www.w3.org/1999/xhtml";let wr=Qn,So=!1,Ya=null;const Uc=Ce({},[Ss,Co,Qn],Qf);let Eo=Ce({},["mi","mo","mn","ms","mtext"]),No=Ce({},["annotation-xml"]);const Wh=Ce({},["title","style","font","a","script"]);let at=null;const qt=["application/xhtml+xml","text/html"];let De=null,Kt=null;const cn=r.createElement("form"),Bt=function(P){return P instanceof RegExp||P instanceof Function},un=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Kt||Kt!==P){if(P&&typeof P=="object"||(P={}),P=Jr(P),at=qt.indexOf(P.PARSER_MEDIA_TYPE)===-1?"text/html":P.PARSER_MEDIA_TYPE,De=at==="application/xhtml+xml"?Qf:Vu,V=tr(P,"ALLOWED_TAGS")?Ce({},P.ALLOWED_TAGS,De):_e,re=tr(P,"ALLOWED_ATTR")?Ce({},P.ALLOWED_ATTR,De):Ye,Ya=tr(P,"ALLOWED_NAMESPACES")?Ce({},P.ALLOWED_NAMESPACES,Qf):Uc,wo=tr(P,"ADD_URI_SAFE_ATTR")?Ce(Jr(Gn),P.ADD_URI_SAFE_ATTR,De):Gn,Vr=tr(P,"ADD_DATA_URI_TAGS")?Ce(Jr(Si),P.ADD_DATA_URI_TAGS,De):Si,Ci=tr(P,"FORBID_CONTENTS")?Ce({},P.FORBID_CONTENTS,De):Wr,K=tr(P,"FORBID_TAGS")?Ce({},P.FORBID_TAGS,De):Jr({}),me=tr(P,"FORBID_ATTR")?Ce({},P.FORBID_ATTR,De):Jr({}),wi=!!tr(P,"USE_PROFILES")&&P.USE_PROFILES,Oe=P.ALLOW_ARIA_ATTR!==!1,X=P.ALLOW_DATA_ATTR!==!1,be=P.ALLOW_UNKNOWN_PROTOCOLS||!1,ce=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ie=P.SAFE_FOR_TEMPLATES||!1,U=P.SAFE_FOR_XML!==!1,ie=P.WHOLE_DOCUMENT||!1,st=P.RETURN_DOM||!1,pe=P.RETURN_DOM_FRAGMENT||!1,We=P.RETURN_TRUSTED_TYPE||!1,Je=P.FORCE_BODY||!1,ot=P.SANITIZE_DOM!==!1,bt=P.SANITIZE_NAMED_PROPS||!1,bi=P.KEEP_CONTENT!==!1,br=P.IN_PLACE||!1,Z=P.ALLOWED_URI_REGEXP||AA,wr=P.NAMESPACE||Qn,Eo=P.MATHML_TEXT_INTEGRATION_POINTS||Eo,No=P.HTML_INTEGRATION_POINTS||No,ne=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&Bt(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ne.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&Bt(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ne.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ne.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(X=!1),pe&&(st=!0),wi&&(V=Ce({},y0),re=[],wi.html===!0&&(Ce(V,v0),Ce(re,x0)),wi.svg===!0&&(Ce(V,Jf),Ce(re,em),Ce(re,yu)),wi.svgFilters===!0&&(Ce(V,Xf),Ce(re,em),Ce(re,yu)),wi.mathMl===!0&&(Ce(V,Zf),Ce(re,b0),Ce(re,yu))),P.ADD_TAGS&&(V===_e&&(V=Jr(V)),Ce(V,P.ADD_TAGS,De)),P.ADD_ATTR&&(re===Ye&&(re=Jr(re)),Ce(re,P.ADD_ATTR,De)),P.ADD_URI_SAFE_ATTR&&Ce(wo,P.ADD_URI_SAFE_ATTR,De),P.FORBID_CONTENTS&&(Ci===Wr&&(Ci=Jr(Ci)),Ce(Ci,P.FORBID_CONTENTS,De)),bi&&(V["#text"]=!0),ie&&Ce(V,["html","head","body"]),V.table&&(Ce(V,["tbody"]),delete K.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw hl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw hl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=P.TRUSTED_TYPES_POLICY,A=E.createHTML("")}else E===void 0&&(E=function(ee,W){if(typeof ee!="object"||typeof ee.createPolicy!="function")return null;let Ae=null;const Le="data-tt-policy-suffix";W&&W.hasAttribute(Le)&&(Ae=W.getAttribute(Le));const ge="dompurify"+(Ae?"#"+Ae:"");try{return ee.createPolicy(ge,{createHTML:Ct=>Ct,createScriptURL:Ct=>Ct})}catch{return console.warn("TrustedTypes policy "+ge+" could not be created."),null}}(y,s)),E!==null&&typeof A=="string"&&(A=E.createHTML(""));sn&&sn(P),Kt=P}},Hr=Ce({},[...Jf,...Xf,...x3]),gt=Ce({},[...Zf,...b3]),wt=function(P){ul(n.removed,{element:P});try{C(P).removeChild(P)}catch{x(P)}},jt=function(P,ee){try{ul(n.removed,{attribute:ee.getAttributeNode(P),from:ee})}catch{ul(n.removed,{attribute:null,from:ee})}if(ee.removeAttribute(P),P==="is")if(st||pe)try{wt(ee)}catch{}else try{ee.setAttribute(P,"")}catch{}},On=function(P){let ee=null,W=null;if(Je)P="<remove></remove>"+P;else{const ge=Yf(P,/^[\r\n\t ]+/);W=ge&&ge[0]}at==="application/xhtml+xml"&&wr===Qn&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");const Ae=E?E.createHTML(P):P;if(wr===Qn)try{ee=new w().parseFromString(Ae,at)}catch{}if(!ee||!ee.documentElement){ee=S.createDocument(wr,"template",null);try{ee.documentElement.innerHTML=So?A:Ae}catch{}}const Le=ee.body||ee.documentElement;return P&&W&&Le.insertBefore(r.createTextNode(W),Le.childNodes[0]||null),wr===Qn?j.call(ee,ie?"html":"body")[0]:ie?ee.documentElement:Le},Ei=function(P){return N.call(P.ownerDocument||P,P,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},qr=function(P){return P instanceof g&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof f)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},Yn=function(P){return typeof c=="function"&&P instanceof c};function Gt(P,ee,W){vu(P,Ae=>{Ae.call(n,ee,W,Kt)})}const Ao=function(P){let ee=null;if(Gt(D.beforeSanitizeElements,P,null),qr(P))return wt(P),!0;const W=De(P.nodeName);if(Gt(D.uponSanitizeElement,P,{tagName:W,allowedTags:V}),U&&P.hasChildNodes()&&!Yn(P.firstElementChild)&&Qt(/<[/\w!]/g,P.innerHTML)&&Qt(/<[/\w!]/g,P.textContent)||P.nodeType===P3||U&&P.nodeType===D3&&Qt(/<[/\w]/g,P.data))return wt(P),!0;if(!V[W]||K[W]){if(!K[W]&&gy(W)&&(ne.tagNameCheck instanceof RegExp&&Qt(ne.tagNameCheck,W)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(W)))return!1;if(bi&&!Ci[W]){const Ae=C(P)||P.parentNode,Le=v(P)||P.childNodes;if(Le&&Ae)for(let ge=Le.length-1;ge>=0;--ge){const Ct=b(Le[ge],!0);Ct.__removalCount=(P.__removalCount||0)+1,Ae.insertBefore(Ct,m(P))}}return wt(P),!0}return P instanceof u&&!function(Ae){let Le=C(Ae);Le&&Le.tagName||(Le={namespaceURI:wr,tagName:"template"});const ge=Vu(Ae.tagName),Ct=Vu(Le.tagName);return!!Ya[Ae.namespaceURI]&&(Ae.namespaceURI===Co?Le.namespaceURI===Qn?ge==="svg":Le.namespaceURI===Ss?ge==="svg"&&(Ct==="annotation-xml"||Eo[Ct]):!!Hr[ge]:Ae.namespaceURI===Ss?Le.namespaceURI===Qn?ge==="math":Le.namespaceURI===Co?ge==="math"&&No[Ct]:!!gt[ge]:Ae.namespaceURI===Qn?!(Le.namespaceURI===Co&&!No[Ct])&&!(Le.namespaceURI===Ss&&!Eo[Ct])&&!gt[ge]&&(Wh[ge]||!Hr[ge]):!(at!=="application/xhtml+xml"||!Ya[Ae.namespaceURI]))}(P)?(wt(P),!0):W!=="noscript"&&W!=="noembed"&&W!=="noframes"||!Qt(/<\/no(script|embed|frames)/i,P.innerHTML)?(Ie&&P.nodeType===T3&&(ee=P.textContent,vu([M,B,J],Ae=>{ee=dl(ee,Ae," ")}),P.textContent!==ee&&(ul(n.removed,{element:P.cloneNode()}),P.textContent=ee)),Gt(D.afterSanitizeElements,P,null),!1):(wt(P),!0)},py=function(P,ee,W){if(ot&&(ee==="id"||ee==="name")&&(W in r||W in cn))return!1;if(!(X&&!me[ee]&&Qt($,ee))){if(!(Oe&&Qt(Q,ee))){if(!re[ee]||me[ee]){if(!(gy(P)&&(ne.tagNameCheck instanceof RegExp&&Qt(ne.tagNameCheck,P)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(P))&&(ne.attributeNameCheck instanceof RegExp&&Qt(ne.attributeNameCheck,ee)||ne.attributeNameCheck instanceof Function&&ne.attributeNameCheck(ee,P))||ee==="is"&&ne.allowCustomizedBuiltInElements&&(ne.tagNameCheck instanceof RegExp&&Qt(ne.tagNameCheck,W)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(W))))return!1}else if(!wo[ee]){if(!Qt(Z,dl(W,L,""))){if((ee!=="src"&&ee!=="xlink:href"&&ee!=="href"||P==="script"||g3(W,"data:")!==0||!Vr[P])&&!(be&&!Qt(O,dl(W,L,"")))){if(W)return!1}}}}}return!0},gy=function(P){return P!=="annotation-xml"&&Yf(P,q)},vy=function(P){Gt(D.beforeSanitizeAttributes,P,null);const{attributes:ee}=P;if(!ee||qr(P))return;const W={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:re,forceKeepAttr:void 0};let Ae=ee.length;for(;Ae--;){const Le=ee[Ae],{name:ge,namespaceURI:Ct,value:Ni}=Le,Jn=De(ge),Vh=Ni;let _t=ge==="value"?Vh:v3(Vh);if(W.attrName=Jn,W.attrValue=_t,W.keepAttr=!0,W.forceKeepAttr=void 0,Gt(D.uponSanitizeAttribute,P,W),_t=W.attrValue,!bt||Jn!=="id"&&Jn!=="name"||(jt(ge,P),_t="user-content-"+_t),U&&Qt(/((--!?|])>)|<\/(style|title|textarea)/i,_t)){jt(ge,P);continue}if(Jn==="attributename"&&Yf(_t,"href")){jt(ge,P);continue}if(W.forceKeepAttr)continue;if(!W.keepAttr){jt(ge,P);continue}if(!ce&&Qt(/\/>/i,_t)){jt(ge,P);continue}Ie&&vu([M,B,J],xy=>{_t=dl(_t,xy," ")});const yy=De(P.nodeName);if(py(yy,Jn,_t)){if(E&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!Ct)switch(y.getAttributeType(yy,Jn)){case"TrustedHTML":_t=E.createHTML(_t);break;case"TrustedScriptURL":_t=E.createScriptURL(_t)}if(_t!==Vh)try{Ct?P.setAttributeNS(Ct,ge,_t):P.setAttribute(ge,_t),qr(P)?wt(P):p0(n.removed)}catch{jt(ge,P)}}else jt(ge,P)}Gt(D.afterSanitizeAttributes,P,null)},CR=function P(ee){let W=null;const Ae=Ei(ee);for(Gt(D.beforeSanitizeShadowDOM,ee,null);W=Ae.nextNode();)Gt(D.uponSanitizeShadowNode,W,null),Ao(W),vy(W),W.content instanceof o&&P(W.content);Gt(D.afterSanitizeShadowDOM,ee,null)};return n.sanitize=function(P){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=null,Ae=null,Le=null,ge=null;if(So=!P,So&&(P="<!-->"),typeof P!="string"&&!Yn(P)){if(typeof P.toString!="function")throw hl("toString is not a function");if(typeof(P=P.toString())!="string")throw hl("dirty is not a string, aborting")}if(!n.isSupported)return P;if(Me||un(ee),n.removed=[],typeof P=="string"&&(br=!1),br){if(P.nodeName){const Jn=De(P.nodeName);if(!V[Jn]||K[Jn])throw hl("root node is forbidden and cannot be sanitized in-place")}}else if(P instanceof c)W=On("<!---->"),Ae=W.ownerDocument.importNode(P,!0),Ae.nodeType===k3&&Ae.nodeName==="BODY"||Ae.nodeName==="HTML"?W=Ae:W.appendChild(Ae);else{if(!st&&!Ie&&!ie&&P.indexOf("<")===-1)return E&&We?E.createHTML(P):P;if(W=On(P),!W)return st?null:We?A:""}W&&Je&&wt(W.firstChild);const Ct=Ei(br?P:W);for(;Le=Ct.nextNode();)Ao(Le),vy(Le),Le.content instanceof o&&CR(Le.content);if(br)return P;if(st){if(pe)for(ge=R.call(W.ownerDocument);W.firstChild;)ge.appendChild(W.firstChild);else ge=W;return(re.shadowroot||re.shadowrootmode)&&(ge=k.call(i,ge,!0)),ge}let Ni=ie?W.outerHTML:W.innerHTML;return ie&&V["!doctype"]&&W.ownerDocument&&W.ownerDocument.doctype&&W.ownerDocument.doctype.name&&Qt(jA,W.ownerDocument.doctype.name)&&(Ni="<!DOCTYPE "+W.ownerDocument.doctype.name+`>
`+Ni),Ie&&vu([M,B,J],Jn=>{Ni=dl(Ni,Jn," ")}),E&&We?E.createHTML(Ni):Ni},n.setConfig=function(){un(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),Me=!0},n.clearConfig=function(){Kt=null,Me=!1},n.isValidAttribute=function(P,ee,W){Kt||un({});const Ae=De(P),Le=De(ee);return py(Ae,Le,W)},n.addHook=function(P,ee){typeof ee=="function"&&ul(D[P],ee)},n.removeHook=function(P,ee){if(ee!==void 0){const W=m3(D[P],ee);return W===-1?void 0:p3(D[P],W,1)[0]}return p0(D[P])},n.removeHooks=function(P){D[P]=[]},n.removeAllHooks=function(){D={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();vc.addHook("uponSanitizeAttribute",function(t,e){/^data-trix-/.test(e.attrName)&&(e.forceKeepAttr=!0)});const L3="style href src width height language class".split(" "),I3="javascript:".split(" "),M3="script iframe form noscript".split(" ");class Dh extends xt{static setHTML(e,n,r){const i=new this(n,r).sanitize(),s=i.getHTML?i.getHTML():i.outerHTML;e.innerHTML=s}static sanitize(e,n){const r=new this(e,n);return r.sanitize(),r}constructor(e){let{allowedAttributes:n,forbiddenProtocols:r,forbiddenElements:i,purifyOptions:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=n||L3,this.forbiddenProtocols=r||I3,this.forbiddenElements=i||M3,this.purifyOptions=s||{},this.body=F3(e)}sanitize(){this.sanitizeElements(),this.normalizeListElementNesting();const e=Object.assign({},uA,this.purifyOptions);return vc.setConfig(e),this.body=vc.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const e=Pd(this.body),n=[];for(;e.nextNode();){const r=e.currentNode;switch(r.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(r)?n.push(r):this.sanitizeElement(r);break;case Node.COMMENT_NODE:n.push(r)}}return n.forEach(r=>gs(r)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(n=>{let{name:r}=n;this.allowedAttributes.includes(r)||r.indexOf("data-trix")===0||e.removeAttribute(r)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{const n=e.previousElementSibling;n&&en(n)==="li"&&n.appendChild(e)}),this.body}elementIsRemovable(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(en(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!Gs(e)}}const F3=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>");const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,Array.from(e.head.querySelectorAll("style")).forEach(n=>{e.body.appendChild(n)}),e.body},{css:ki}=$c;class ny extends xo{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e;const n=e=we({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),r=this.getHref();return r&&(e=we({tagName:"a",editable:!1,attributes:{href:r,tabindex:-1}}),n.appendChild(e)),this.attachment.hasContent()?Dh.setHTML(e,this.attachment.getContent()):this.createContentNodes().forEach(i=>{e.appendChild(i)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=we({tagName:"progress",attributes:{class:ki.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),n.appendChild(this.progressElement)),[C0("left"),n,C0("right")]}createCaptionElement(){const e=we({tagName:"figcaption",className:ki.attachmentCaption}),n=this.attachmentPiece.getCaption();if(n)e.classList.add("".concat(ki.attachmentCaption,"--edited")),e.textContent=n;else{let r,i;const s=this.getCaptionConfig();if(s.name&&(r=this.attachment.getFilename()),s.size&&(i=this.attachment.getFormattedFilesize()),r){const o=we({tagName:"span",className:ki.attachmentName,textContent:r});e.appendChild(o)}if(i){r&&e.appendChild(document.createTextNode(" "));const o=we({tagName:"span",className:ki.attachmentSize,textContent:i});e.appendChild(o)}}return e}getClassName(){const e=[ki.attachment,"".concat(ki.attachment,"--").concat(this.attachment.getType())],n=this.attachment.getExtension();return n&&e.push("".concat(ki.attachment,"--").concat(n)),e.join(" ")}getData(){const e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:n}=this.attachmentPiece;return n.isEmpty()||(e.trixAttributes=JSON.stringify(n)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!B3(this.attachment.getContent(),"a")){const e=this.attachment.getHref();if(e&&vc.isValidAttribute("a","href",e))return e}}getCaptionConfig(){var e;const n=this.attachment.getType(),r=bA((e=Kv[n])===null||e===void 0?void 0:e.caption);return n==="file"&&(r.name=!0),r}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){const e=this.attachment.getUploadProgress(),n=this.findProgressElement();n&&(n.value=e)}}const C0=t=>we({tagName:"span",textContent:Ph,data:{trixCursorTarget:t,trixSerialize:!1}}),B3=function(t,e){const n=we("div");return Dh.setHTML(n,t||""),n.querySelector(e)};class RA extends ny{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=we({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",ue.captionPlaceholder),e}refresh(e){var n;if(e||(e=(n=this.findElement())===null||n===void 0?void 0:n.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){const n=this.attachment.getURL(),r=this.attachment.getPreviewURL();if(e.src=r||n,r===n)e.removeAttribute("data-trix-serialized-attributes");else{const c=JSON.stringify({src:n});e.setAttribute("data-trix-serialized-attributes",c)}const i=this.attachment.getWidth(),s=this.attachment.getHeight(),o=this.attachment.getAttribute("alt");i!=null&&(e.width=i),s!=null&&(e.height=s),o!=null&&(e.alt=o);const l=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=l}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class kA extends xo{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes();const n=this.createElement();if(n){const r=function(i){for(;(s=i)!==null&&s!==void 0&&s.firstElementChild;){var s;i=i.firstElementChild}return i}(n);Array.from(e).forEach(i=>{r.appendChild(i)}),e=[n]}return e}createAttachmentNodes(){const e=this.attachment.isPreviewable()?RA:ny;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{const n=[],r=this.string.split(`
`);for(let i=0;i<r.length;i++){const s=r[i];if(i>0){const o=we("br");n.push(o)}if(s.length){const o=document.createTextNode(this.preserveSpaces(s));n.push(o)}}return n}}createElement(){let e,n,r;const i={};for(n in this.attributes){r=this.attributes[n];const o=Jp(n);if(o){if(o.tagName){var s;const l=we(o.tagName);s?(s.appendChild(l),s=l):e=s=l}if(o.styleProperty&&(i[o.styleProperty]=r),o.style)for(n in o.style)r=o.style[n],i[n]=r}}if(Object.keys(i).length)for(n in e||(e=we("span")),i)r=i[n],e.style[n]=r;return e}createContainerElement(){for(const e in this.attributes){const n=this.attributes[e],r=Jp(e);if(r&&r.groupTagName){const i={};return i[e]=n,we(r.groupTagName,i)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,$i)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat($i," $2")).replace(/\ {2}/g,"".concat($i," ")).replace(/\ {2}/g," ".concat($i)),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,$i)),e}}class TA extends xo{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const e=[],n=ty.groupObjects(this.getPieces()),r=n.length-1;for(let s=0;s<n.length;s++){const o=n[s],l={};s===0&&(l.isFirst=!0),s===r&&(l.isLast=!0),$3(i)&&(l.followsWhitespace=!0);const c=this.findOrCreateCachedChildView(kA,o,{textConfig:this.textConfig,context:l});e.push(...Array.from(c.getNodes()||[]));var i=o}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}}const $3=t=>/\s$/.test(t==null?void 0:t.toString()),{css:S0}=$c;class PA extends xo{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const e=[document.createComment("block")];if(this.block.isEmpty())e.push(we("br"));else{var n;const r=(n=ht(this.block.getLastAttribute()))===null||n===void 0?void 0:n.text,i=this.findOrCreateCachedChildView(TA,this.block.text,{textConfig:r});e.push(...Array.from(i.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(we("br"))}if(this.attributes.length)return e;{let r;const{tagName:i}=nn.default;this.block.isRTL()&&(r={dir:"rtl"});const s=we({tagName:i,attributes:r});return e.forEach(o=>s.appendChild(o)),[s]}}createContainerElement(e){const n={};let r;const i=this.attributes[e],{tagName:s,htmlAttributes:o=[]}=ht(i);if(e===0&&this.block.isRTL()&&Object.assign(n,{dir:"rtl"}),i==="attachmentGallery"){const l=this.block.getBlockBreakPosition();r="".concat(S0.attachmentGallery," ").concat(S0.attachmentGallery,"--").concat(l)}return Object.entries(this.block.htmlAttributes).forEach(l=>{let[c,u]=l;o.includes(c)&&(n[c]=u)}),we({tagName:s,className:r,attributes:n})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class _h extends xo{static render(e){const n=we("div"),r=new this(e,{element:n});return r.render(),r.sync(),n}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new c3,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=we("div"),!this.document.isEmpty()){const e=ty.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(n=>{const r=this.findOrCreateCachedChildView(PA,n);Array.from(r.getNodes()).map(i=>this.shadowElement.appendChild(i))})}}isSynced(){return U3(this.shadowElement,this.element)}sync(){const e=fA("trix-before-render",{cancelable:!1,attributes:{render:(r,i)=>{for(;r.lastChild;)r.removeChild(r.lastChild);r.appendChild(i)}}});this.element.dispatchEvent(e);const n=this.createDocumentFragmentForSync();return e.render(this.element,n),this.didSync()}didSync(){return this.elementStore.reset(E0(this.element)),Xv(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(n=>{e.appendChild(n.cloneNode(!0))}),Array.from(E0(e)).forEach(n=>{const r=this.elementStore.remove(n);r&&n.parentNode.replaceChild(r,n)}),e}}const E0=t=>t.querySelectorAll("[data-trix-store-key]"),U3=(t,e)=>N0(t.innerHTML)===N0(e.innerHTML),N0=t=>t.replace(/&nbsp;/g," ");function z3(t){var e=function(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return typeof e=="symbol"?e:String(e)}function Vt(t,e,n){return(e=z3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ke(t,e){return W3(t,DA(t,e,"get"))}function $l(t,e,n){return V3(t,DA(t,e,"set"),n),n}function DA(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function W3(t,e){return e.get?e.get.call(t):e.value}function V3(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function xu(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function _A(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ra(t,e,n){_A(t,e),e.set(t,n)}class bo extends yo{static registerType(e,n){n.type=e,this.types[e]=n}static fromJSON(e){const n=this.types[e.type];if(n)return n.fromJSON(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Tn.box(n)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}}Vt(bo,"types",{});class OA extends _d{constructor(e){super(...arguments),this.url=e}perform(e){const n=new Image;n.onload=()=>(n.width=this.width=n.naturalWidth,n.height=this.height=n.naturalHeight,e(!0,n)),n.onerror=()=>e(!1),n.src=this.url}}class Qa extends yo{static attachmentForFile(e){const n=new this(this.attributesForFile(e));return n.setFile(e),n}static attributesForFile(e){return new Tn({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=Tn.box(e),this.didChangeAttributes()}setAttribute(e,n){this.setAttributes({[e]:n})}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.attributes.merge(e);var r,i,s,o;if(!this.attributes.isEqualTo(n))return this.attributes=n,this.didChangeAttributes(),(r=this.previewDelegate)===null||r===void 0||(i=r.attachmentDidChangeAttributes)===null||i===void 0||i.call(r,this),(s=this.delegate)===null||s===void 0||(o=s.attachmentDidChangeAttributes)===null||o===void 0?void 0:o.call(s,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Qa.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const e=this.attributes.get("filesize");return typeof e=="number"?dA.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var n,r;if(this.uploadProgress!==e)return this.uploadProgress=e,(n=this.uploadProgressDelegate)===null||n===void 0||(r=n.attachmentDidChangeUploadProgress)===null||r===void 0?void 0:r.call(n,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var n,r,i,s;if(e!==this.getPreviewURL())return this.previewURL=e,(n=this.previewDelegate)===null||n===void 0||(r=n.attachmentDidChangeAttributes)===null||r===void 0||r.call(n,this),(i=this.delegate)===null||i===void 0||(s=i.attachmentDidChangePreviewURL)===null||s===void 0?void 0:s.call(i,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,n){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new OA(e).then(r=>{let{width:i,height:s}=r;return this.getWidth()&&this.getHeight()||this.setAttributes({width:i,height:s}),this.preloadingURL=null,this.setPreviewURL(e),n==null?void 0:n()}).catch(()=>(this.preloadingURL=null,n==null?void 0:n()))}}Vt(Qa,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Ra extends bo{static fromJSON(e){return new this(Qa.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){const e=this.attributes.slice(Ra.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var n;return super.isEqualTo(e)&&this.attachment.id===(e==null||(n=e.attachment)===null||n===void 0?void 0:n.id)}toString(){return""}toJSON(){const e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}Vt(Ra,"permittedAttributes",["caption","presentation"]),bo.registerType("attachment",Ra);class ry extends bo{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(n=>n.replace(/\r\n?/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let n,r;return e===0?(n=null,r=this):e===this.length?(n=this,r=null):(n=new this.constructor(this.string.slice(0,e),this.attributes),r=new this.constructor(this.string.slice(e),this.attributes)),[n,r]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+""),JSON.stringify(e.toString())}}bo.registerType("string",ry);class Od extends yo{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new this.constructor(Jv(this.objects,...n))}eachObject(e){return this.objects.map((n,r)=>e(n,r))}insertObjectAtIndex(e,n){return this.splice(n,0,e)}insertSplittableListAtIndex(e,n){return this.splice(n,0,...e.objects)}insertSplittableListAtPosition(e,n){const[r,i]=this.splitObjectAtPosition(n);return new this.constructor(r).insertSplittableListAtIndex(e,i)}editObjectAtIndex(e,n){return this.replaceObjectAtIndex(n(this.objects[e]),e)}replaceObjectAtIndex(e,n){return this.splice(n,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){const[n,r,i]=this.splitObjectsAtRange(e);return new this.constructor(n.slice(r,i+1))}selectSplittableList(e){const n=this.objects.filter(r=>e(r));return new this.constructor(n)}removeObjectsInRange(e){const[n,r,i]=this.splitObjectsAtRange(e);return new this.constructor(n).splice(r,i-r+1)}transformObjectsInRange(e,n){const[r,i,s]=this.splitObjectsAtRange(e),o=r.map((l,c)=>i<=c&&c<=s?n(l):l);return new this.constructor(o)}splitObjectsAtRange(e){let n,[r,i,s]=this.splitObjectAtPosition(q3(e));return[r,n]=new this.constructor(r).splitObjectAtPosition(K3(e)+s),[r,i,n-1]}getObjectAtPosition(e){const{index:n}=this.findIndexAndOffsetAtPosition(e);return this.objects[n]}splitObjectAtPosition(e){let n,r;const{index:i,offset:s}=this.findIndexAndOffsetAtPosition(e),o=this.objects.slice(0);if(i!=null)if(s===0)n=i,r=0;else{const l=this.getObjectAtIndex(i),[c,u]=l.splitAtOffset(s);o.splice(i,1,c,u),n=i+1,r=c.getLength()-s}else n=o.length,r=0;return[o,n,r]}consolidate(){const e=[];let n=this.objects[0];return this.objects.slice(1).forEach(r=>{var i,s;(i=(s=n).canBeConsolidatedWith)!==null&&i!==void 0&&i.call(s,r)?n=n.consolidateWith(r):(e.push(n),n=r)}),n&&e.push(n),new this.constructor(e)}consolidateFromIndexToIndex(e,n){const r=this.objects.slice(0).slice(e,n+1),i=new this.constructor(r).consolidate().toArray();return this.splice(e,r.length,...i)}findIndexAndOffsetAtPosition(e){let n,r=0;for(n=0;n<this.objects.length;n++){const i=r+this.objects[n].getLength();if(r<=e&&e<i)return{index:n,offset:e-r};r=i}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,n){let r=0;for(let i=0;i<this.objects.length;i++){const s=this.objects[i];if(i<e)r+=s.getLength();else if(i===e){r+=n;break}}return r}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||H3(this.objects,e==null?void 0:e.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}}const H3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(t.length!==e.length)return!1;let n=!0;for(let r=0;r<t.length;r++){const i=t[r];n&&!i.isEqualTo(e[r])&&(n=!1)}return n},q3=t=>t[0],K3=t=>t[1];class lr extends yo{static textForAttachmentWithAttributes(e,n){return new this([new Ra(e,n)])}static textForStringWithAttributes(e,n){return new this([new ry(e,n)])}static fromJSON(e){return new this(Array.from(e).map(n=>bo.fromJSON(n)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const n=e.filter(r=>!r.isEmpty());this.pieceList=new Od(n)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){const n=this.getPieces().map(r=>e.find(r)||r);return new this.constructor(n)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,n){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,n))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,n){return this.removeTextAtRange(n).insertTextAtPosition(e,n[0])}moveTextFromRangeToPosition(e,n){if(e[0]<=n&&n<=e[1])return;const r=this.getTextAtRange(e),i=r.getLength();return e[0]<n&&(n-=i),this.removeTextAtRange(e).insertTextAtPosition(r,n)}addAttributeAtRange(e,n,r){const i={};return i[e]=n,this.addAttributesAtRange(i,r)}addAttributesAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithoutAttribute(e)))}setAttributesAtRange(e,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAttributes(e)))}getAttributesAtPosition(e){var n;return((n=this.pieceList.getObjectAtPosition(e))===null||n===void 0?void 0:n.getAttributes())||{}}getCommonAttributes(){const e=Array.from(this.pieceList.toArray()).map(n=>n.getAttributes());return Tn.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,n){let r,i=r=n;const s=this.getLength();for(;i>0&&this.getCommonAttributesAtRange([i-1,r])[e];)i--;for(;r<s&&this.getCommonAttributesAtRange([n,r+1])[e];)r++;return[i,r]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){const n=this.getLength();return this.getStringAtRange([n-e.length,n])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let n=0;for(const i of this.pieceList.toArray()){var r;if(((r=i.attachment)===null||r===void 0?void 0:r.id)===e)return{attachment:i.attachment,position:n};n+=i.length}return{attachment:null,position:null}}getAttachmentById(e){const{attachment:n}=this.getAttachmentAndPositionById(e);return n}getRangeOfAttachment(e){const n=this.getAttachmentAndPositionById(e.id),r=n.position;if(e=n.attachment)return[r,r+1]}updateAttributesForAttachment(e,n){const r=this.getRangeOfAttachment(n);return r?this.addAttributesAtRange(e,r):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var n;return super.isEqualTo(e)||(e==null||(n=e.pieceList)===null||n===void 0?void 0:n.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const e=this.pieceList.selectSplittableList(n=>n.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return Z4(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Pr extends yo{static fromJSON(e){return new this(lr.fromJSON(e.text),e.attributes,e.htmlAttributes)}constructor(e,n,r){super(...arguments),this.text=G3(e||new lr),this.attributes=n||[],this.htmlAttributes=r||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e==null?void 0:e.text)&&ao(this.attributes,e==null?void 0:e.attributes)&&Ga(this.htmlAttributes,e==null?void 0:e.htmlAttributes)}copyWithText(e){return new Pr(e,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new Pr(this.text,e,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){const n=e.find(this.text);return n?this.copyWithText(n):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){const n=this.attributes.concat(A0(e));return this.copyWithAttributes(n)}addHTMLAttribute(e,n){const r=Object.assign({},this.htmlAttributes,{[e]:n});return new Pr(this.text,this.attributes,r)}removeAttribute(e){const{listAttribute:n}=ht(e),r=R0(R0(this.attributes,e),n);return this.copyWithAttributes(r)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return j0(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return j0(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>ht(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){const e=this.getLastNestableAttribute();if(e){const n=this.attributes.lastIndexOf(e),r=Jv(this.attributes,n+1,0,...A0(e));return this.copyWithAttributes(r)}return this}getListItemAttributes(){return this.attributes.filter(e=>ht(e).listAttribute)}isListItem(){var e;return(e=ht(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=ht(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=ht(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,n){const r=this.toString();let i;switch(e){case"forward":i=r.indexOf(`
`,n);break;case"backward":i=r.slice(0,n).lastIndexOf(`
`)}if(i!==-1)return i}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){const n=lr.textForStringWithAttributes(`
`),r=this.getTextWithoutBlockBreak().appendText(n);return this.copyWithText(r.appendText(e.text))}splitAtOffset(e){let n,r;return e===0?(n=null,r=this):e===this.getLength()?(n=this,r=null):(n=this.copyWithText(this.text.getTextAtRange([0,e])),r=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[n,r]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return LA(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,n){const r=e.getAttributes(),i=r[n],s=this.attributes[n];return s===i&&!(ht(s).group===!1&&!(()=>{if(!gu){gu=[];for(const o in nn){const{listAttribute:l}=nn[o];l!=null&&gu.push(l)}}return gu})().includes(r[n+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}}const G3=function(t){return t=Q3(t),t=J3(t)},Q3=function(t){let e=!1;const n=t.getPieces();let r=n.slice(0,n.length-1);const i=n[n.length-1];return i?(r=r.map(s=>s.isBlockBreak()?(e=!0,X3(s)):s),e?new lr([...r,i]):t):t},Y3=lr.textForStringWithAttributes(`
`,{blockBreak:!0}),J3=function(t){return LA(t)?t:t.appendText(Y3)},LA=function(t){const e=t.getLength();return e===0?!1:t.getTextAtRange([e-1,e]).isBlockBreak()},X3=t=>t.copyWithoutAttribute("blockBreak"),A0=function(t){const{listAttribute:e}=ht(t);return e?[e,t]:[t]},j0=t=>t.slice(-1)[0],R0=function(t,e){const n=t.lastIndexOf(e);return n===-1?t:Jv(t,n,1)};class zn extends yo{static fromJSON(e){return new this(Array.from(e).map(n=>Pr.fromJSON(n)))}static fromString(e,n){const r=lr.textForStringWithAttributes(e,n);return new this([new Pr(r)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new Pr]),this.blockList=Od.box(e)}isEmpty(){const e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){const n=new l3(e.getObjects());return this.copyUsingObjectMap(n)}copyUsingObjectMap(e){const n=this.getBlocks().map(r=>e.find(r)||r.copyUsingObjectMap(e));return new this.constructor(n)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.getBlocks().map(r=>{const i=e.concat(r.getAttributes());return r.copyWithAttributes(i)});return new this.constructor(n)}replaceBlock(e,n){const r=this.blockList.indexOf(e);return r===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(n,r))}insertDocumentAtRange(e,n){const{blockList:r}=e;n=$e(n);let[i]=n;const{index:s,offset:o}=this.locationFromPosition(i);let l=this;const c=this.getBlockAtPosition(i);return li(n)&&c.isEmpty()&&!c.hasAttributes()?l=new this.constructor(l.blockList.removeObjectAtIndex(s)):c.getBlockBreakPosition()===o&&i++,l=l.removeTextAtRange(n),new this.constructor(l.blockList.insertSplittableListAtPosition(r,i))}mergeDocumentAtRange(e,n){let r,i;n=$e(n);const[s]=n,o=this.locationFromPosition(s),l=this.getBlockAtIndex(o.index).getAttributes(),c=e.getBaseBlockAttributes(),u=l.slice(-c.length);if(ao(c,u)){const g=l.slice(0,-c.length);r=e.copyWithBaseBlockAttributes(g)}else r=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(l);const d=r.getBlockCount(),f=r.getBlockAtIndex(0);if(ao(l,f.getAttributes())){const g=f.getTextWithoutBlockBreak();if(i=this.insertTextAtRange(g,n),d>1){r=new this.constructor(r.getBlocks().slice(1));const w=s+g.getLength();i=i.insertDocumentAtRange(r,w)}}else i=this.insertDocumentAtRange(r,n);return i}insertTextAtRange(e,n){n=$e(n);const[r]=n,{index:i,offset:s}=this.locationFromPosition(r),o=this.removeTextAtRange(n);return new this.constructor(o.blockList.editObjectAtIndex(i,l=>l.copyWithText(l.text.insertTextAtPosition(e,s))))}removeTextAtRange(e){let n;e=$e(e);const[r,i]=e;if(li(e))return this;const[s,o]=Array.from(this.locationRangeFromRange(e)),l=s.index,c=s.offset,u=this.getBlockAtIndex(l),d=o.index,f=o.offset,g=this.getBlockAtIndex(d);if(i-r==1&&u.getBlockBreakPosition()===c&&g.getBlockBreakPosition()!==f&&g.text.getStringAtPosition(f)===`
`)n=this.blockList.editObjectAtIndex(d,w=>w.copyWithText(w.text.removeTextAtRange([f,f+1])));else{let w;const y=u.text.getTextAtRange([0,c]),p=g.text.getTextAtRange([f,g.getLength()]),b=y.appendText(p);w=l!==d&&c===0&&u.getAttributeLevel()>=g.getAttributeLevel()?g.copyWithText(b):u.copyWithText(b);const x=d+1-l;n=this.blockList.splice(l,x,w)}return new this.constructor(n)}moveTextFromRangeToPosition(e,n){let r;e=$e(e);const[i,s]=e;if(i<=n&&n<=s)return this;let o=this.getDocumentAtRange(e),l=this.removeTextAtRange(e);const c=i<n;c&&(n-=o.getLength());const[u,...d]=o.getBlocks();return d.length===0?(r=u.getTextWithoutBlockBreak(),c&&(n+=1)):r=u.text,l=l.insertTextAtRange(r,n),d.length===0?l:(o=new this.constructor(d),n+=r.getLength(),l.insertDocumentAtRange(o,n))}addAttributeAtRange(e,n,r){let{blockList:i}=this;return this.eachBlockAtRange(r,(s,o,l)=>i=i.editObjectAtIndex(l,function(){return ht(e)?s.addAttribute(e,n):o[0]===o[1]?s:s.copyWithText(s.text.addAttributeAtRange(e,n,o))})),new this.constructor(i)}addAttribute(e,n){let{blockList:r}=this;return this.eachBlock((i,s)=>r=r.editObjectAtIndex(s,()=>i.addAttribute(e,n))),new this.constructor(r)}removeAttributeAtRange(e,n){let{blockList:r}=this;return this.eachBlockAtRange(n,function(i,s,o){ht(e)?r=r.editObjectAtIndex(o,()=>i.removeAttribute(e)):s[0]!==s[1]&&(r=r.editObjectAtIndex(o,()=>i.copyWithText(i.text.removeAttributeAtRange(e,s))))}),new this.constructor(r)}updateAttributesForAttachment(e,n){const r=this.getRangeOfAttachment(n),[i]=Array.from(r),{index:s}=this.locationFromPosition(i),o=this.getTextAtIndex(s);return new this.constructor(this.blockList.editObjectAtIndex(s,l=>l.copyWithText(o.updateAttributesForAttachment(e,n))))}removeAttributeForAttachment(e,n){const r=this.getRangeOfAttachment(n);return this.removeAttributeAtRange(e,r)}setHTMLAttributeAtPosition(e,n,r){const i=this.getBlockAtPosition(e),s=i.addHTMLAttribute(n,r);return this.replaceBlock(i,s)}insertBlockBreakAtRange(e){let n;e=$e(e);const[r]=e,{offset:i}=this.locationFromPosition(r),s=this.removeTextAtRange(e);return i===0&&(n=[new Pr]),new this.constructor(s.blockList.insertSplittableListAtPosition(new Od(n),r))}applyBlockAttributeAtRange(e,n,r){const i=this.expandRangeToLineBreaksAndSplitBlocks(r);let s=i.document;r=i.range;const o=ht(e);if(o.listAttribute){s=s.removeLastListAttributeAtRange(r,{exceptAttributeName:e});const l=s.convertLineBreaksToBlockBreaksInRange(r);s=l.document,r=l.range}else s=o.exclusive?s.removeBlockAttributesAtRange(r):o.terminal?s.removeLastTerminalAttributeAtRange(r):s.consolidateBlocksAtRange(r);return s.addAttributeAtRange(e,n,r)}removeLastListAttributeAtRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:r}=this;return this.eachBlockAtRange(e,function(i,s,o){const l=i.getLastAttribute();l&&ht(l).listAttribute&&l!==n.exceptAttributeName&&(r=r.editObjectAtIndex(o,()=>i.removeAttribute(l)))}),new this.constructor(r)}removeLastTerminalAttributeAtRange(e){let{blockList:n}=this;return this.eachBlockAtRange(e,function(r,i,s){const o=r.getLastAttribute();o&&ht(o).terminal&&(n=n.editObjectAtIndex(s,()=>r.removeAttribute(o)))}),new this.constructor(n)}removeBlockAttributesAtRange(e){let{blockList:n}=this;return this.eachBlockAtRange(e,function(r,i,s){r.hasAttributes()&&(n=n.editObjectAtIndex(s,()=>r.copyWithoutAttributes()))}),new this.constructor(n)}expandRangeToLineBreaksAndSplitBlocks(e){let n;e=$e(e);let[r,i]=e;const s=this.locationFromPosition(r),o=this.locationFromPosition(i);let l=this;const c=l.getBlockAtIndex(s.index);if(s.offset=c.findLineBreakInDirectionFromPosition("backward",s.offset),s.offset!=null&&(n=l.positionFromLocation(s),l=l.insertBlockBreakAtRange([n,n+1]),o.index+=1,o.offset-=l.getBlockAtIndex(s.index).getLength(),s.index+=1),s.offset=0,o.offset===0&&o.index>s.index)o.index-=1,o.offset=l.getBlockAtIndex(o.index).getBlockBreakPosition();else{const u=l.getBlockAtIndex(o.index);u.text.getStringAtRange([o.offset-1,o.offset])===`
`?o.offset-=1:o.offset=u.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==u.getBlockBreakPosition()&&(n=l.positionFromLocation(o),l=l.insertBlockBreakAtRange([n,n+1]))}return r=l.positionFromLocation(s),i=l.positionFromLocation(o),{document:l,range:e=$e([r,i])}}convertLineBreaksToBlockBreaksInRange(e){e=$e(e);let[n]=e;const r=this.getStringAtRange(e).slice(0,-1);let i=this;return r.replace(/.*?\n/g,function(s){n+=s.length,i=i.insertBlockBreakAtRange([n-1,n])}),{document:i,range:e}}consolidateBlocksAtRange(e){e=$e(e);const[n,r]=e,i=this.locationFromPosition(n).index,s=this.locationFromPosition(r).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(i,s))}getDocumentAtRange(e){e=$e(e);const n=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(n)}getStringAtRange(e){let n;const r=e=$e(e);return r[r.length-1]!==this.getLength()&&(n=-1),this.getDocumentAtRange(e).toString().slice(0,n)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){const{index:n}=this.locationFromPosition(e);return this.getBlockAtIndex(n)}getTextAtIndex(e){var n;return(n=this.getBlockAtIndex(e))===null||n===void 0?void 0:n.text}getTextAtPosition(e){const{index:n}=this.locationFromPosition(e);return this.getTextAtIndex(n)}getPieceAtPosition(e){const{index:n,offset:r}=this.locationFromPosition(e);return this.getTextAtIndex(n).getPieceAtPosition(r)}getCharacterAtPosition(e){const{index:n,offset:r}=this.locationFromPosition(e);return this.getTextAtIndex(n).getStringAtRange([r,r+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,n){let r,i;e=$e(e);const[s,o]=e,l=this.locationFromPosition(s),c=this.locationFromPosition(o);if(l.index===c.index)return r=this.getBlockAtIndex(l.index),i=[l.offset,c.offset],n(r,i,l.index);for(let u=l.index;u<=c.index;u++)if(r=this.getBlockAtIndex(u),r){switch(u){case l.index:i=[l.offset,r.text.getLength()];break;case c.index:i=[0,c.offset];break;default:i=[0,r.text.getLength()]}n(r,i,u)}}getCommonAttributesAtRange(e){e=$e(e);const[n]=e;if(li(e))return this.getCommonAttributesAtPosition(n);{const r=[],i=[];return this.eachBlockAtRange(e,function(s,o){if(o[0]!==o[1])return r.push(s.text.getCommonAttributesAtRange(o)),i.push(k0(s))}),Tn.fromCommonAttributesOfObjects(r).merge(Tn.fromCommonAttributesOfObjects(i)).toObject()}}getCommonAttributesAtPosition(e){let n,r;const{index:i,offset:s}=this.locationFromPosition(e),o=this.getBlockAtIndex(i);if(!o)return{};const l=k0(o),c=o.text.getAttributesAtPosition(s),u=o.text.getAttributesAtPosition(s-1),d=Object.keys(oo).filter(f=>oo[f].inheritable);for(n in u)r=u[n],(r===c[n]||d.includes(n))&&(l[n]=r);return l}getRangeOfCommonAttributeAtPosition(e,n){const{index:r,offset:i}=this.locationFromPosition(n),s=this.getTextAtIndex(r),[o,l]=Array.from(s.getExpandedRangeForAttributeAtOffset(e,i)),c=this.positionFromLocation({index:r,offset:o}),u=this.positionFromLocation({index:r,offset:l});return $e([c,u])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let n=1;n<this.getBlockCount();n++){const r=this.getBlockAtIndex(n).getAttributes(),i=Math.min(e.length,r.length);e=(()=>{const s=[];for(let o=0;o<i&&r[o]===e[o];o++)s.push(r[o]);return s})()}return e}getAttachmentById(e){for(const n of this.getAttachments())if(n.id===e)return n}getAttachmentPieces(){let e=[];return this.blockList.eachObject(n=>{let{text:r}=n;return e=e.concat(r.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let n=0;const r=this.blockList.toArray();for(let i=0;i<r.length;i++){const{text:s}=r[i],o=s.getRangeOfAttachment(e);if(o)return $e([n+o[0],n+o[1]]);n+=s.getLength()}}getLocationRangeOfAttachment(e){const n=this.getRangeOfAttachment(e);return this.locationRangeFromRange(n)}getAttachmentPieceForAttachment(e){for(const n of this.getAttachmentPieces())if(n.attachment===e)return n}findRangesForBlockAttribute(e){let n=0;const r=[];return this.getBlocks().forEach(i=>{const s=i.getLength();i.hasAttribute(e)&&r.push([n,n+s]),n+=s}),r}findRangesForTextAttribute(e){let{withValue:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=0,i=[];const s=[];return this.getPieces().forEach(o=>{const l=o.getLength();(function(c){return n?c.getAttribute(e)===n:c.hasAttribute(e)})(o)&&(i[1]===r?i[1]=r+l:s.push(i=[r,r+l])),r+=l}),s}locationFromPosition(e){const n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(n.index!=null)return n;{const r=this.getBlocks();return{index:r.length-1,offset:r[r.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return $e(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=$e(e)))return;const[n,r]=Array.from(e),i=this.locationFromPosition(n),s=this.locationFromPosition(r);return $e([i,s])}rangeFromLocationRange(e){let n;e=$e(e);const r=this.positionFromLocation(e[0]);return li(e)||(n=this.positionFromLocation(e[1])),$e([r,n])}isEqualTo(e){return this.blockList.isEqualTo(e==null?void 0:e.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){const e=[];return Array.from(this.getTexts()).forEach(n=>{e.push(...Array.from(n.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const e=[];return this.blockList.eachObject(n=>e.push(n.copyWithText(n.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(e=>JSON.parse(e.text.toConsole())))}}const k0=function(t){const e={},n=t.getLastAttribute();return n&&(e[n]=!0),e},tm=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:t=Sl(t),attributes:e,type:"string"}},T0=(t,e)=>{try{return JSON.parse(t.getAttribute("data-trix-".concat(e)))}catch{return{}}};class yc extends xt{static parse(e,n){const r=new this(e,n);return r.parse(),r}constructor(e){let{referenceElement:n,purifyOptions:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=n,this.purifyOptions=r,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return zn.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),Dh.setHTML(this.containerElement,this.html,{purifyOptions:this.purifyOptions});const e=Pd(this.containerElement,{usingFilter:e$});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=we({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return gs(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){const n=e.parentNode;if(n===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(n===this.containerElement||this.isBlockElement(n)){var r;const i=this.getBlockAttributes(n),s=this.getBlockHTMLAttributes(n);ao(i,(r=this.currentBlock)===null||r===void 0?void 0:r.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(i,n,s),this.currentBlockElement=n)}}appendBlockForElement(e){const n=this.isBlockElement(e),r=Os(this.currentBlockElement,e);if(n&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){const i=this.getBlockAttributes(e),s=this.getBlockHTMLAttributes(e);if(e.firstChild){if(r&&ao(i,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(i,e,s),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!r&&!n){const i=this.findParentBlockElement(e);if(i)return this.appendBlockForElement(i);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:n}=e;for(;n&&n!==this.containerElement;){if(this.isBlockElement(n)&&this.blockElements.includes(n))return n;n=n.parentElement}return null}processTextNode(e){let n=e.data;var r;return P0(e.parentNode)||(n=ey(n),IA((r=e.previousSibling)===null||r===void 0?void 0:r.textContent)&&(n=t$(n))),this.appendStringWithAttributes(n,this.getTextAttributes(e.parentNode))}processElement(e){let n;if(Gs(e)){if(n=T0(e,"attachment"),Object.keys(n).length){const r=this.getTextAttributes(e);this.appendAttachmentWithAttributes(n,r),e.innerHTML=""}return this.processedElements.push(e)}switch(en(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":n={url:e.getAttribute("src"),contentType:"image"};const r=(i=>{const s=i.getAttribute("width"),o=i.getAttribute("height"),l={};return s&&(l.width=parseInt(s,10)),o&&(l.height=parseInt(o,10)),l})(e);for(const i in r){const s=r[i];n[i]=s}return this.appendAttachmentWithAttributes(n,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(zu.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(zu.tableCellSeparator)}}appendBlockForAttributesWithElement(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(n);const i=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(e,r);return this.blocks.push(i),i}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,n){return this.appendPiece(tm(e,n))}appendAttachmentWithAttributes(e,n){return this.appendPiece(function(r){return{attachment:r,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,n))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,n){const{text:r}=this.blocks[n],i=r[r.length-1];if((i==null?void 0:i.type)!=="string")return r.push(tm(e));i.string+=e}prependStringToTextAtIndex(e,n){const{text:r}=this.blocks[n],i=r[0];if((i==null?void 0:i.type)!=="string")return r.unshift(tm(e));i.string=e+i.string}getTextAttributes(e){let n;const r={};for(const i in oo){const s=oo[i];if(s.tagName&&ps(e,{matchingSelector:s.tagName,untilNode:this.containerElement}))r[i]=!0;else if(s.parser){if(n=s.parser(e),n){let o=!1;for(const l of this.findBlockElementAncestors(e))if(s.parser(l)===n){o=!0;break}o||(r[i]=n)}}else s.styleProperty&&(n=e.style[s.styleProperty],n&&(r[i]=n))}if(Gs(e)){const i=T0(e,"attributes");for(const s in i)n=i[s],r[s]=n}return r}getBlockAttributes(e){const n=[];for(;e&&e!==this.containerElement;){for(const i in nn){const s=nn[i];var r;s.parse!==!1&&en(e)===s.tagName&&((r=s.test)!==null&&r!==void 0&&r.call(s,e)||!s.test)&&(n.push(i),s.listAttribute&&n.push(s.listAttribute))}e=e.parentNode}return n.reverse()}getBlockHTMLAttributes(e){const n={},r=Object.values(nn).find(i=>i.tagName===en(e));return((r==null?void 0:r.htmlAttributes)||[]).forEach(i=>{e.hasAttribute(i)&&(n[i]=e.getAttribute(i))}),n}findBlockElementAncestors(e){const n=[];for(;e&&e!==this.containerElement;){const r=en(e);Ml().includes(r)&&n.push(e),e=e.parentNode}return n}isBlockElement(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE&&!Gs(e)&&!ps(e,{matchingSelector:"td",untilNode:this.containerElement}))return Ml().includes(en(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if((e==null?void 0:e.nodeType)!==Node.TEXT_NODE||!n$(e.data))return;const{parentNode:n,previousSibling:r,nextSibling:i}=e;return Z3(n.previousSibling)&&!this.isBlockElement(n.previousSibling)||P0(n)?void 0:!r||this.isBlockElement(r)||!i||this.isBlockElement(i)}isExtraBR(e){return en(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(zu.removeBlankTableCells){var n;const r=(n=e.previousSibling)===null||n===void 0?void 0:n.textContent;return r&&/\S/.test(r)}return e.previousSibling}translateBlockElementMarginsToNewlines(){const e=this.getMarginOfDefaultBlockElement();for(let n=0;n<this.blocks.length;n++){const r=this.getMarginOfBlockElementAtIndex(n);r&&(r.top>2*e.top&&this.prependStringToTextAtIndex(`
`,n),r.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,n))}}getMarginOfBlockElementAtIndex(e){const n=this.blockElements[e];if(n&&n.textContent&&!Ml().includes(en(n))&&!this.processedElements.includes(n))return D0(n)}getMarginOfDefaultBlockElement(){const e=we(nn.default.tagName);return this.containerElement.appendChild(e),D0(e)}}const P0=function(t){const{whiteSpace:e}=window.getComputedStyle(t);return["pre","pre-wrap","pre-line"].includes(e)},Z3=t=>t&&!IA(t.textContent),D0=function(t){const e=window.getComputedStyle(t);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},e$=function(t){return en(t)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},t$=t=>t.replace(new RegExp("^".concat(Zv.source,"+")),""),n$=t=>new RegExp("^".concat(Zv.source,"*$")).test(t),IA=t=>/\s$/.test(t),r$=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],tg="data-trix-serialized-attributes",i$="[".concat(tg,"]"),s$=new RegExp("<!--block-->","g"),o$={"application/json":function(t){let e;if(t instanceof zn)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=yc.parse(t.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(t){let e;if(t instanceof zn)e=_h.render(t);else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=t.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(n=>{gs(n)}),r$.forEach(n=>{Array.from(e.querySelectorAll("[".concat(n,"]"))).forEach(r=>{r.removeAttribute(n)})}),Array.from(e.querySelectorAll(i$)).forEach(n=>{try{const r=JSON.parse(n.getAttribute(tg));n.removeAttribute(tg);for(const i in r){const s=r[i];n.setAttribute(i,s)}}catch{}}),e.innerHTML.replace(s$,"")}};var a$=Object.freeze({__proto__:null});class et extends xt{constructor(e,n){super(...arguments),this.attachmentManager=e,this.attachment=n,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}et.proxyMethod("attachment.getAttribute"),et.proxyMethod("attachment.hasAttribute"),et.proxyMethod("attachment.setAttribute"),et.proxyMethod("attachment.getAttributes"),et.proxyMethod("attachment.setAttributes"),et.proxyMethod("attachment.isPending"),et.proxyMethod("attachment.isPreviewable"),et.proxyMethod("attachment.getURL"),et.proxyMethod("attachment.getPreviewURL"),et.proxyMethod("attachment.setPreviewURL"),et.proxyMethod("attachment.getHref"),et.proxyMethod("attachment.getFilename"),et.proxyMethod("attachment.getFilesize"),et.proxyMethod("attachment.getFormattedFilesize"),et.proxyMethod("attachment.getExtension"),et.proxyMethod("attachment.getContentType"),et.proxyMethod("attachment.getFile"),et.proxyMethod("attachment.setFile"),et.proxyMethod("attachment.releaseFile"),et.proxyMethod("attachment.getUploadProgress"),et.proxyMethod("attachment.setUploadProgress");class MA extends xt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(n=>{this.manageAttachment(n)})}getAttachments(){const e=[];for(const n in this.managedAttachments){const r=this.managedAttachments[n];e.push(r)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new et(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var n,r;if(this.attachmentIsManaged(e))return(n=this.delegate)===null||n===void 0||(r=n.attachmentManagerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,e)}unmanageAttachment(e){const n=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],n}}class FA{constructor(e){this.composition=e,this.document=this.composition.document;const n=this.composition.getSelectedRange();this.startPosition=n[0],this.endPosition=n[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Mi extends xt{constructor(){super(...arguments),this.document=new zn,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var n,r;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeDocument)===null||r===void 0?void 0:r.call(n,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var n,r,i,s;let{document:o,selectedRange:l}=e;return(n=this.delegate)===null||n===void 0||(r=n.compositionWillLoadSnapshot)===null||r===void 0||r.call(n),this.setDocument(o??new zn),this.setSelection(l??[0,0]),(i=this.delegate)===null||i===void 0||(s=i.compositionDidLoadSnapshot)===null||s===void 0?void 0:s.call(i)}insertText(e){let{updatePosition:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const r=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,r));const i=r[0],s=i+e.getLength();return n&&this.setSelection(s),this.notifyDelegateOfInsertionAtRange([i,s])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Pr;const n=new zn([e]);return this.insertDocument(n)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new zn;const n=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,n));const r=n[0],i=r+e.getLength();return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([r,i])}insertString(e,n){const r=this.getCurrentTextAttributes(),i=lr.textForStringWithAttributes(e,r);return this.insertText(i,n)}insertBlockBreak(){const e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));const n=e[0],r=n+1;return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}insertLineBreak(){const e=new FA(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){const n=new zn([e.block.copyWithoutText()]);return this.insertDocument(n)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){const n=yc.parse(e,{purifyOptions:{SAFE_FOR_XML:!0}}).getDocument(),r=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(n,r));const i=r[0],s=i+n.getLength()-1;return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([i,s])}replaceHTML(e){const n=yc.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),r=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(r);return this.setDocument(n),this.setSelection(i)}insertFile(e){return this.insertFiles([e])}insertFiles(e){const n=[];return Array.from(e).forEach(r=>{var i;if((i=this.delegate)!==null&&i!==void 0&&i.compositionShouldAcceptFile(r)){const s=Qa.attachmentForFile(r);n.push(s)}}),this.insertAttachments(n)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let n=new lr;return Array.from(e).forEach(r=>{var i;const s=r.getType(),o=(i=Kv[s])===null||i===void 0?void 0:i.presentation,l=this.getCurrentTextAttributes();o&&(l.presentation=o);const c=lr.textForAttachmentWithAttributes(r,l);n=n.appendText(c)}),this.insertText(n)}shouldManageDeletingInDirection(e){const n=this.getLocationRange();if(li(n)){if(e==="backward"&&n[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(n[0].index!==n[1].index)return!0;return!1}deleteInDirection(e){let n,r,i,{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getLocationRange();let l=this.getSelectedRange();const c=li(l);if(c?r=e==="backward"&&o[0].offset===0:i=o[0].index!==o[1].index,r&&this.canDecreaseBlockAttributeLevel()){const u=this.getBlock();if(u.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(l[0]),u.isEmpty())return!1}return c&&(l=this.getExpandedRangeInDirection(e,{length:s}),e==="backward"&&(n=this.getAttachmentAtRange(l))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(l)),this.setSelection(l[0]),!r&&!i&&void 0)}moveTextFromRange(e){const[n]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,n)),this.setSelection(n)}removeAttachment(e){const n=this.document.getRangeOfAttachment(e);if(n)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(n)),this.setSelection(n[0])}removeLastBlockAttribute(){const[e,n]=Array.from(this.getSelectedRange()),r=this.document.getBlockAtPosition(n);return this.removeCurrentAttribute(r.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){const n=this.currentAttributes[e];return n!=null&&n!==!1}toggleCurrentAttribute(e){const n=!this.currentAttributes[e];return n?this.setCurrentAttribute(e,n):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return ht(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){const n=this.getSelectedDocument();if(n){for(const r of Array.from(n.getAttachments()))if(!r.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){const n=this.getBlock();if(n)return!n.isTerminalBlock()}setCurrentAttribute(e,n){return ht(e)?this.setBlockAttribute(e,n):(this.setTextAttribute(e,n),this.currentAttributes[e]=n,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(e,n,r){var i;const s=this.document.getBlockAtPosition(e),o=(i=ht(s.getLastAttribute()))===null||i===void 0?void 0:i.htmlAttributes;if(s&&o!=null&&o.includes(n)){const l=this.document.setHTMLAttributeAtPosition(e,n,r);this.setDocument(l)}}setTextAttribute(e,n){const r=this.getSelectedRange();if(!r)return;const[i,s]=Array.from(r);if(i!==s)return this.setDocument(this.document.addAttributeAtRange(e,n,r));if(e==="href"){const o=lr.textForStringWithAttributes(n,{href:n});return this.insertText(o)}}setBlockAttribute(e,n){const r=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,n,r)),this.setSelection(r)}removeCurrentAttribute(e){return ht(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(e,n))}removeBlockAttribute(e){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(e,n))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;const n=this.getBlock();if(n){if((e=ht(n.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return n.getNestingLevel()>0;{const r=this.getPreviousBlock();if(r)return function(){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return ao((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,i.length),i)}(r.getListItemAttributes(),n.getListItemAttributes())}}}decreaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;const n=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(n)return this.removeCurrentAttribute(n)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange());const{index:n}=this.document.locationFromPosition(e);let r=n;const i=this.getBlock().getAttributeLevel();let s=this.document.getBlockAtIndex(r+1);for(;s&&s.isListItem()&&!(s.getAttributeLevel()<=i);)r++,s=this.document.getBlockAtIndex(r+1);e=this.document.positionFromLocation({index:n,offset:0});const o=this.document.positionFromLocation({index:r,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,o]))}updateCurrentAttributes(){const e=this.getSelectedRange({ignoreLock:!0});if(e){const n=this.document.getCommonAttributesAtRange(e);if(Array.from(Yp()).forEach(r=>{n[r]||this.canSetCurrentAttribute(r)||(n[r]=!1)}),!Ga(n,this.currentAttributes))return this.currentAttributes=n,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return hA.call({},this.currentAttributes)}getCurrentTextAttributes(){const e={};for(const n in this.currentAttributes){const r=this.currentAttributes[n];r!==!1&&Jp(n)&&(e[n]=r)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var n;const r=this.document.locationRangeFromRange(e);return(n=this.delegate)===null||n===void 0?void 0:n.compositionDidRequestChangingSelectionToLocationRange(r)}getSelectedRange(){const e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){const n=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(n)}getPosition(){const e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||$e({index:0,offset:0})}withTargetLocationRange(e,n){let r;this.targetLocationRange=e;try{r=n()}finally{this.targetLocationRange=null}return r}withTargetRange(e,n){const r=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(r,n)}withTargetDOMRange(e,n){const r=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(r,n)}getExpandedRangeInDirection(e){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[r,i]=Array.from(this.getSelectedRange());return e==="backward"?n?r-=n:r=this.translateUTF16PositionFromOffset(r,-1):n?i+=n:i=this.translateUTF16PositionFromOffset(i,1),$e([r,i])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;const n=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(n)!=null}moveCursorInDirection(e){let n,r;if(this.editingAttachment)r=this.document.getRangeOfAttachment(this.editingAttachment);else{const i=this.getSelectedRange();r=this.getExpandedRangeInDirection(e),n=!Dd(i,r)}if(e==="backward"?this.setSelectedRange(r[0]):this.setSelectedRange(r[1]),n){const i=this.getAttachmentAtRange(r);if(i)return this.editAttachment(i)}}expandSelectionInDirection(e){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getExpandedRangeInDirection(e,{length:n});return this.setSelectedRange(r)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){const n=this.getPosition(),r=this.document.getRangeOfCommonAttributeAtPosition(e,n);return this.setSelectedRange(r)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){const n=this.document.locationFromPosition(e);if(n)return this.locationIsCursorTarget(n)}positionIsBlockBreak(e){var n;return(n=this.document.getPieceAtPosition(e))===null||n===void 0?void 0:n.isBlockBreak()}getSelectedDocument(){const e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const e=this.document.getAttachments(),{added:n,removed:r}=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const o=[],l=[],c=new Set;i.forEach(d=>{c.add(d)});const u=new Set;return s.forEach(d=>{u.add(d),c.has(d)||o.push(d)}),i.forEach(d=>{u.has(d)||l.push(d)}),{added:o,removed:l}}(this.attachments,e);return this.attachments=e,Array.from(r).forEach(i=>{var s,o;i.delegate=null,(s=this.delegate)===null||s===void 0||(o=s.compositionDidRemoveAttachment)===null||o===void 0||o.call(s,i)}),(()=>{const i=[];return Array.from(n).forEach(s=>{var o,l;s.delegate=this,i.push((o=this.delegate)===null||o===void 0||(l=o.compositionDidAddAttachment)===null||l===void 0?void 0:l.call(o,s))}),i})()}attachmentDidChangeAttributes(e){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidEditAttachment)===null||r===void 0?void 0:r.call(n,e)}attachmentDidChangePreviewURL(e){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeAttachmentPreviewURL)===null||r===void 0?void 0:r.call(n,e)}editAttachment(e,n){var r,i;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(r=this.delegate)===null||r===void 0||(i=r.compositionDidStartEditingAttachment)===null||i===void 0?void 0:i.call(r,this.editingAttachment,n)}stopEditingAttachment(){var e,n;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(n=e.compositionDidStopEditingAttachment)===null||n===void 0||n.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,n){return this.setDocument(this.document.updateAttributesForAttachment(e,n))}removeAttributeForAttachment(e,n){return this.setDocument(this.document.removeAttributeForAttachment(e,n))}breakFormattedBlock(e){let{document:n}=e;const{block:r}=e;let i=e.startPosition,s=[i-1,i];r.getBlockBreakPosition()===e.startLocation.offset?(r.breaksOnReturn()&&e.nextCharacter===`
`?i+=1:n=n.removeTextAtRange(s),s=[i,i]):e.nextCharacter===`
`?e.previousCharacter===`
`?s=[i-1,i+1]:(s=[i,i+1],i+=1):e.startLocation.offset-1!=0&&(i+=1);const o=new zn([r.removeLastAttribute().copyWithoutText()]);return this.setDocument(n.insertDocumentAtRange(o,s)),this.setSelection(i)}getPreviousBlock(){const e=this.getLocationRange();if(e){const{index:n}=e[0];if(n>0)return this.document.getBlockAtIndex(n-1)}}getBlock(){const e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){const n=this.document.getDocumentAtRange(e);if(n.toString()==="".concat("",`
`))return n.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.compositionDidChangeCurrentAttributes)===null||n===void 0?void 0:n.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionDidPerformInsertionAtRange)===null||r===void 0?void 0:r.call(n,e)}translateUTF16PositionFromOffset(e,n){const r=this.document.toUTF16String(),i=r.offsetFromUCS2Offset(e);return r.offsetToUCS2Offset(i+n)}}Mi.proxyMethod("getSelectionManager().getPointRange"),Mi.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Mi.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Mi.proxyMethod("getSelectionManager().locationIsCursorTarget"),Mi.proxyMethod("getSelectionManager().selectionIsExpanded"),Mi.proxyMethod("delegate?.getSelectionManager");class ng extends xt{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.undoEntries.slice(-1)[0];if(!r||!l$(i,e,n)){const s=this.createEntry({description:e,context:n});this.undoEntries.push(s),this.redoEntries=[]}}undo(){const e=this.undoEntries.pop();if(e){const n=this.createEntry(e);return this.redoEntries.push(n),this.composition.loadSnapshot(e.snapshot)}}redo(){const e=this.redoEntries.pop();if(e){const n=this.createEntry(e);return this.undoEntries.push(n),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e==null?void 0:e.toString(),context:JSON.stringify(n),snapshot:this.composition.getSnapshot()}}}const l$=(t,e,n)=>(t==null?void 0:t.description)===(e==null?void 0:e.toString())&&(t==null?void 0:t.context)===JSON.stringify(n),nm="attachmentGallery";class BA{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange(nm,e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(n=>{n[1]-n[0]>1&&(n[0]+=e,n[1]+=e,this.document.getCharacterAtPosition(n[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[1]),n[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),n[1]++,e++),n[0]!==0&&this.document.getCharacterAtPosition(n[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[0]),n[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),n[0]++,e++),this.document=this.document.applyBlockAttributeAtRange(nm,!0,n))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(nm)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const $A=function(t){const e=new BA(t);return e.perform(),e.getSnapshot()},c$=[$A];class UA{constructor(e,n,r){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=n,this.element=r,this.undoManager=new ng(this.composition),this.filters=c$.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=yc.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(n)}loadJSON(e){let{document:n,selectedRange:r}=e;return n=zn.fromJSON(n),this.loadSnapshot({document:n,selectedRange:r})}loadSnapshot(e){return this.undoManager=new ng(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){const n=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(n)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,n)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}setHTMLAtributeAtPosition(e,n,r){this.composition.setHTMLAtributeAtPosition(e,n,r)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:n,consolidatable:r})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class zA{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,n){let{strict:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},i=0,s=!1;const o={index:0,offset:0},l=this.findAttachmentElementParentForNode(e);l&&(e=l.parentNode,n=$f(l));const c=Pd(this.element,{usingFilter:WA});for(;c.nextNode();){const u=c.currentNode;if(u===e&&Fl(e)){na(u)||(o.offset+=n);break}if(u.parentNode===e){if(i++===n)break}else if(!Os(e,u)&&i>0)break;o0(u,{strict:r})?(s&&o.index++,o.offset=0,s=!0):o.offset+=rm(u)}return o}findContainerAndOffsetFromLocation(e){let n,r;if(e.index===0&&e.offset===0){for(n=this.element,r=0;n.firstChild;)if(n=n.firstChild,Uf(n)){r=1;break}return[n,r]}let[i,s]=this.findNodeAndOffsetFromLocation(e);if(i){if(Fl(i))rm(i)===0?(n=i.parentNode.parentNode,r=$f(i.parentNode),na(i,{name:"right"})&&r++):(n=i,r=e.offset-s);else{if(n=i.parentNode,!o0(i.previousSibling)&&!Uf(n))for(;i===n.lastChild&&(i=n,n=n.parentNode,!Uf(n)););r=$f(i),e.offset!==0&&r++}return[n,r]}}findNodeAndOffsetFromLocation(e){let n,r,i=0;for(const s of this.getSignificantNodesForIndex(e.index)){const o=rm(s);if(e.offset<=i+o)if(Fl(s)){if(n=s,r=i,e.offset===r&&na(n))break}else n||(n=s,r=i);if(i+=o,i>e.offset)break}return[n,r]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(Gs(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){const n=[],r=Pd(this.element,{usingFilter:u$});let i=!1;for(;r.nextNode();){const o=r.currentNode;var s;if(ta(o)){if(s!=null?s++:s=0,s===e)i=!0;else if(i)break}else i&&n.push(o)}return n}}const rm=function(t){return t.nodeType===Node.TEXT_NODE?na(t)?0:t.textContent.length:en(t)==="br"||Gs(t)?1:0},u$=function(t){return d$(t)===NodeFilter.FILTER_ACCEPT?WA(t):NodeFilter.FILTER_REJECT},d$=function(t){return pA(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},WA=function(t){return Gs(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class VA{createDOMRangeFromPoint(e){let n,{x:r,y:i}=e;if(document.caretPositionFromPoint){const{offsetNode:s,offset:o}=document.caretPositionFromPoint(r,i);return n=document.createRange(),n.setStart(s,o),n}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(r,i);if(document.body.createTextRange){const s=Bl();try{const o=document.body.createTextRange();o.moveToPoint(r,i),o.select()}catch{}return n=Bl(),SA(s),n}}getClientRectsForDOMRange(e){const n=Array.from(e.getClientRects());return[n[0],n[n.length-1]]}}class Rs extends xt{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new zA(this.element),this.pointMapper=new VA,this.lockCount=0,nt("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange(Bl()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=$e(e);const n=this.createDOMRangeFromLocationRange(e);n&&(SA(n),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=$e(e);const n=this.getLocationAtPoint(e[0]),r=this.getLocationAtPoint(e[1]);this.setLocationRange([n,r])}getClientRectAtLocationRange(e){const n=this.createDOMRangeFromLocationRange(e);if(n)return this.getClientRectsForDOMRange(n)[1]}locationIsCursorTarget(e){const n=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return na(n)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=CA())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=Bl())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,n){if(e==null||!this.domRangeWithinElement(e))return;const r=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,n);if(!r)return;const i=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,n);return $e([r,i])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;const n=()=>{if(this.paused=!1,clearTimeout(r),Array.from(e).forEach(i=>{i.destroy()}),Os(document,this.element))return this.selectionDidChange()},r=setTimeout(n,200);e=["mousemove","keydown"].map(i=>nt(i,{onElement:document,withCallback:n}))}selectionDidChange(){if(!this.paused&&!Qv(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var n,r;if((e??(e=this.createLocationRangeFromDOMRange(Bl())))&&!Dd(e,this.currentLocationRange))return this.currentLocationRange=e,(n=this.delegate)===null||n===void 0||(r=n.locationRangeDidChange)===null||r===void 0?void 0:r.call(n,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){const n=this.findContainerAndOffsetFromLocation(e[0]),r=li(e)?n:this.findContainerAndOffsetFromLocation(e[1])||n;if(n!=null&&r!=null){const i=document.createRange();return i.setStart(...Array.from(n||[])),i.setEnd(...Array.from(r||[])),i}}getLocationAtPoint(e){const n=this.createDOMRangeFromPoint(e);var r;if(n)return(r=this.createLocationRangeFromDOMRange(n))===null||r===void 0?void 0:r[0]}domRangeWithinElement(e){return e.collapsed?Os(this.element,e.startContainer):Os(this.element,e.startContainer)&&Os(this.element,e.endContainer)}}Rs.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Rs.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Rs.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Rs.proxyMethod("pointMapper.createDOMRangeFromPoint"),Rs.proxyMethod("pointMapper.getClientRectsForDOMRange");var HA=Object.freeze({__proto__:null,Attachment:Qa,AttachmentManager:MA,AttachmentPiece:Ra,Block:Pr,Composition:Mi,Document:zn,Editor:UA,HTMLParser:yc,HTMLSanitizer:Dh,LineBreakInsertion:FA,LocationMapper:zA,ManagedAttachment:et,Piece:bo,PointMapper:VA,SelectionManager:Rs,SplittableList:Od,StringPiece:ry,Text:lr,UndoManager:ng}),h$=Object.freeze({__proto__:null,ObjectView:xo,AttachmentView:ny,BlockView:PA,DocumentView:_h,PieceView:kA,PreviewableAttachmentView:RA,TextView:TA});const{lang:im,css:Es,keyNames:f$}=$c,sm=function(t){return function(){const e=t.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}};class qA extends xt{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Vt(this,"makeElementMutable",sm(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Vt(this,"addToolbar",sm(()=>{const s=we({tagName:"div",className:Es.attachmentToolbar,data:{trixMutable:!0},childNodes:we({tagName:"div",className:"trix-button-row",childNodes:we({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:we({tagName:"button",className:"trix-button trix-button--remove",textContent:im.remove,attributes:{title:im.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&s.appendChild(we({tagName:"div",className:Es.attachmentMetadataContainer,childNodes:we({tagName:"span",className:Es.attachmentMetadata,childNodes:[we({tagName:"span",className:Es.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),we({tagName:"span",className:Es.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),nt("click",{onElement:s,withCallback:this.didClickToolbar}),nt("click",{onElement:s,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),Il("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:s,attachment:this.attachment}}),{do:()=>this.element.appendChild(s),undo:()=>gs(s)}})),Vt(this,"installCaptionEditor",sm(()=>{const s=we({tagName:"textarea",className:Es.attachmentCaptionEditor,attributes:{placeholder:im.captionPlaceholder},data:{trixMutable:!0}});s.value=this.attachmentPiece.getCaption();const o=s.cloneNode();o.classList.add("trix-autoresize-clone"),o.tabIndex=-1;const l=function(){o.value=s.value,s.style.height=o.scrollHeight+"px"};nt("input",{onElement:s,withCallback:l}),nt("input",{onElement:s,withCallback:this.didInputCaption}),nt("keydown",{onElement:s,withCallback:this.didKeyDownCaption}),nt("change",{onElement:s,withCallback:this.didChangeCaption}),nt("blur",{onElement:s,withCallback:this.didBlurCaption});const c=this.element.querySelector("figcaption"),u=c.cloneNode();return{do:()=>{if(c.style.display="none",u.appendChild(s),u.appendChild(o),u.classList.add("".concat(Es.attachmentCaption,"--editing")),c.parentElement.insertBefore(u,c),l(),this.options.editCaption)return Xv(()=>s.focus())},undo(){gs(u),c.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=n,this.container=r,this.options=i,this.attachment=this.attachmentPiece.attachment,en(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let n=this.undos.pop();for(this.savePendingCaption();n;)n(),n=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const s=this.pendingCaption;var e,n,r,i;this.pendingCaption=null,s?(e=this.delegate)===null||e===void 0||(n=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||n===void 0||n.call(e,{caption:s},this.attachment):(r=this.delegate)===null||r===void 0||(i=r.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||i===void 0||i.call(r,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var n;if(e.target.getAttribute("data-trix-action")==="remove")return(n=this.delegate)===null||n===void 0?void 0:n.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var n,r;if(f$[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(n=this.delegate)===null||n===void 0||(r=n.attachmentEditorDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}}class KA extends xt{constructor(e,n){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=n,this.documentView=new _h(this.composition.document,{element:this.element}),nt("focus",{onElement:this.element,withCallback:this.didFocus}),nt("blur",{onElement:this.element,withCallback:this.didBlur}),nt("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),nt("mousedown",{onElement:this.element,matchingSelector:Ks,withCallback:this.didClickAttachment}),nt("click",{onElement:this.element,matchingSelector:"a".concat(Ks),preventDefault:!0})}didFocus(e){var n;const r=()=>{var i,s;if(!this.focused)return this.focused=!0,(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidFocus)===null||s===void 0?void 0:s.call(i)};return((n=this.blurPromise)===null||n===void 0?void 0:n.then(r))||r()}didBlur(e){this.blurPromise=new Promise(n=>Xv(()=>{var r,i;return Qv(this.element)||(this.focused=null,(r=this.delegate)===null||r===void 0||(i=r.compositionControllerDidBlur)===null||i===void 0||i.call(r)),this.blurPromise=null,n()}))}didClickAttachment(e,n){var r,i;const s=this.findAttachmentForElement(n),o=!!ps(e.target,{matchingSelector:"figcaption"});return(r=this.delegate)===null||r===void 0||(i=r.compositionControllerDidSelectAttachment)===null||i===void 0?void 0:i.call(r,s,{editCaption:o})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,n,r,i,s,o;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((r=this.delegate)===null||r===void 0||(i=r.compositionControllerWillSyncDocumentView)===null||i===void 0||i.call(r),this.documentView.sync(),(s=this.delegate)===null||s===void 0||(o=s.compositionControllerDidSyncDocumentView)===null||o===void 0||o.call(s)),(e=this.delegate)===null||e===void 0||(n=e.compositionControllerDidRender)===null||n===void 0?void 0:n.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,n){var r;if(((r=this.attachmentEditor)===null||r===void 0?void 0:r.attachment)===e)return;const i=this.documentView.findElementForObject(e);if(!i)return;this.uninstallAttachmentEditor();const s=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new qA(s,i,this.element,n),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,n){var r,i;return(r=this.delegate)===null||r===void 0||(i=r.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(r,n),this.composition.updateAttributesForAttachment(e,n)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,n){var r,i;return(r=this.delegate)===null||r===void 0||(i=r.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(r,n),this.composition.removeAttributeForAttachment(e,n)}attachmentEditorDidRequestRemovalOfAttachment(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,e)}attachmentEditorDidRequestDeselectingAttachment(e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}}class GA extends xt{}const QA="data-trix-mutable",m$="[".concat(QA,"]"),p$={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class YA extends xt{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,p$)}stop(){return this.observer.disconnect()}didMutate(e){var n,r;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(n=this.delegate)===null||n===void 0||(r=n.elementDidMutate)===null||r===void 0||r.call(n,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(n=>this.mutationIsSignificant(n))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(const n of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(n))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!pA(e)}nodeIsMutable(e){return ps(e,{matchingSelector:m$})}nodesModifiedByMutation(e){const n=[];switch(e.type){case"attributes":e.attributeName!==QA&&n.push(e.target);break;case"characterData":n.push(e.target.parentNode),n.push(e.target);break;case"childList":n.push(...Array.from(e.addedNodes||[])),n.push(...Array.from(e.removedNodes||[]))}return n}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:e,deletions:n}=this.getTextChangesFromCharacterData(),r=this.getTextChangesFromChildList();Array.from(r.additions).forEach(l=>{Array.from(e).includes(l)||e.push(l)}),n.push(...Array.from(r.deletions||[]));const i={},s=e.join("");s&&(i.textAdded=s);const o=n.join("");return o&&(i.textDeleted=o),i}getMutationsByType(e){return Array.from(this.mutations).filter(n=>n.type===e)}getTextChangesFromChildList(){let e,n;const r=[],i=[];Array.from(this.getMutationsByType("childList")).forEach(l=>{r.push(...Array.from(l.addedNodes||[])),i.push(...Array.from(l.removedNodes||[]))}),r.length===0&&i.length===1&&ta(i[0])?(e=[],n=[`
`]):(e=rg(r),n=rg(i));const s=e.filter((l,c)=>l!==n[c]).map(Sl),o=n.filter((l,c)=>l!==e[c]).map(Sl);return{additions:s,deletions:o}}getTextChangesFromCharacterData(){let e,n;const r=this.getMutationsByType("characterData");if(r.length){const i=r[0],s=r[r.length-1],o=function(l,c){let u,d;return l=gc.box(l),(c=gc.box(c)).length<l.length?[d,u]=h0(l,c):[u,d]=h0(c,l),{added:u,removed:d}}(Sl(i.oldValue),Sl(s.target.data));e=o.added,n=o.removed}return{additions:e?[e]:[],deletions:n?[n]:[]}}}const rg=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];for(const n of Array.from(t))switch(n.nodeType){case Node.TEXT_NODE:e.push(n.data);break;case Node.ELEMENT_NODE:en(n)==="br"?e.push(`
`):e.push(...Array.from(rg(n.childNodes)||[]))}return e};class JA extends _d{constructor(e){super(...arguments),this.file=e}perform(e){const n=new FileReader;return n.onerror=()=>e(!1),n.onload=()=>{n.onerror=null;try{n.abort()}catch{}return e(!0,this.file)},n.readAsArrayBuffer(this.file)}}class g${constructor(e){this.element=e}shouldIgnore(e){return!!Bc.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&v$(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,n;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((n=this.previousEvent)===null||n===void 0?void 0:n.key)==="Unidentified"}}const v$=(t,e)=>_0(t)===_0(e),y$=new RegExp("(".concat("","|").concat(Ph,"|").concat($i,"|\\s)+"),"g"),_0=t=>t.replace(y$," ").trim();class Oh extends xt{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new YA(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new g$(this.element);for(const n in this.constructor.events)nt(n,{onElement:this.element,withCallback:this.handlerFor(n)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidRequestRender)===null||n===void 0?void 0:n.call(e)}requestReparse(){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidRequestReparse)===null||n===void 0||n.call(e),this.requestRender()}attachFiles(e){const n=Array.from(e).map(r=>new JA(r));return Promise.all(n).then(r=>{this.handleInput(function(){var i,s;return(i=this.delegate)===null||i===void 0||i.inputControllerWillAttachFiles(),(s=this.responder)===null||s===void 0||s.insertFiles(r),this.requestRender()})})}handlerFor(e){return n=>{n.defaultPrevented||this.handleInput(()=>{if(!Qv(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(n))return;this.eventName=e,this.constructor.events[e].call(this,n)}})}}handleInput(e){try{var n;(n=this.delegate)===null||n===void 0||n.inputControllerWillHandleInput(),e.call(this)}finally{var r;(r=this.delegate)===null||r===void 0||r.inputControllerDidHandleInput()}}createLinkHTML(e,n){const r=document.createElement("a");return r.href=e,r.textContent=n||e,r.outerHTML}}var om;Vt(Oh,"events",{});const{browser:x$,keyNames:XA}=$c;let b$=0;class Zr extends Oh{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const n in e){const r=e[n];this.inputSummary[n]=r}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),lo.reset()}elementDidMutate(e){var n,r;return this.isComposing()?(n=this.delegate)===null||n===void 0||(r=n.inputControllerDidAllowUnhandledInput)===null||r===void 0?void 0:r.call(n):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:n,textDeleted:r}=e;if(this.inputSummary.preferDocument)return!0;const i=n!=null?n===this.inputSummary.textAdded:!this.inputSummary.textAdded,s=r!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,o=[`
`,` 
`].includes(n)&&!i,l=r===`
`&&!s;if(o&&!l||l&&!o){const u=this.getSelectedRange();if(u){var c;const d=o?n.replace(/\n$/,"").length||-1:(n==null?void 0:n.length)||1;if((c=this.responder)!==null&&c!==void 0&&c.positionIsBlockBreak(u[1]+d))return!0}}return i&&s}mutationIsSignificant(e){var n;const r=Object.keys(e).length>0,i=((n=this.compositionInput)===null||n===void 0?void 0:n.getEndData())==="";return r||!i}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new _i(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,n){var r;return((r=this.responder)===null||r===void 0?void 0:r.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):n?(n.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var n;if(!function(i){if(i==null||!i.setData)return!1;for(const s in c0){const o=c0[s];try{if(i.setData(s,o),!i.getData(s)===o)return!1}catch{return!1}}return!0}(e))return;const r=(n=this.responder)===null||n===void 0?void 0:n.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(r)),e.setData("text/html",_h.render(r).innerHTML),e.setData("text/plain",r.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){const n={};return Array.from((e==null?void 0:e.types)||[]).forEach(r=>{n[r]=!0}),n.Files||n["application/x-trix-document"]||n["text/html"]||n["text/plain"]}getPastedHTMLUsingHiddenElement(e){const n=this.getSelectedRange(),r={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},i=we({style:r,tagName:"div",editable:!0});return document.body.appendChild(i),i.focus(),requestAnimationFrame(()=>{const s=i.innerHTML;return gs(i),this.setSelectedRange(n),e(s)})}}Vt(Zr,"events",{keydown(t){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=XA[t.keyCode];if(e){var n;let i=this.keys;["ctrl","alt","shift","meta"].forEach(s=>{var o;t["".concat(s,"Key")]&&(s==="ctrl"&&(s="control"),i=(o=i)===null||o===void 0?void 0:o[s])}),((n=i)===null||n===void 0?void 0:n[e])!=null&&(this.setInputSummary({keyName:e}),lo.reset(),i[e].call(this,t))}if(xA(t)){const i=String.fromCharCode(t.keyCode).toLowerCase();if(i){var r;const s=["alt","shift"].map(o=>{if(t["".concat(o,"Key")])return o}).filter(o=>o);s.push(i),(r=this.delegate)!==null&&r!==void 0&&r.inputControllerDidReceiveKeyboardCommand(s)&&t.preventDefault()}}},keypress(t){if(this.inputSummary.eventName!=null||t.metaKey||t.ctrlKey&&!t.altKey)return;const e=S$(t);var n,r;return e?((n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(t){const{data:e}=t,{textAdded:n}=this.inputSummary;if(n&&n!==e&&n.toUpperCase()===e){var r;const i=this.getSelectedRange();return this.setSelectedRange([i[0],i[1]+n.length]),(r=this.responder)===null||r===void 0||r.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(i)}},dragenter(t){t.preventDefault()},dragstart(t){var e,n;return this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidStartDrag)===null||n===void 0?void 0:n.call(e)},dragover(t){if(this.draggedRange||this.canAcceptDataTransfer(t.dataTransfer)){t.preventDefault();const r={x:t.clientX,y:t.clientY};var e,n;if(!Ga(r,this.draggingPoint))return this.draggingPoint=r,(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidReceiveDragOverPoint)===null||n===void 0?void 0:n.call(e,this.draggingPoint)}},dragend(t){var e,n;(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidCancelDrag)===null||n===void 0||n.call(e),this.draggedRange=null,this.draggingPoint=null},drop(t){var e,n;t.preventDefault();const r=(e=t.dataTransfer)===null||e===void 0?void 0:e.files,i=t.dataTransfer.getData("application/x-trix-document"),s={x:t.clientX,y:t.clientY};if((n=this.responder)===null||n===void 0||n.setLocationRangeFromPointRange(s),r!=null&&r.length)this.attachFiles(r);else if(this.draggedRange){var o,l;(o=this.delegate)===null||o===void 0||o.inputControllerWillMoveText(),(l=this.responder)===null||l===void 0||l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(i){var c;const u=zn.fromJSONString(i);(c=this.responder)===null||c===void 0||c.insertDocument(u),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(t){var e,n;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),(n=this.delegate)===null||n===void 0||n.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented))return this.requestRender()},copy(t){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault()},paste(t){const e=t.clipboardData||t.testClipboardData,n={clipboard:e};if(!e||E$(t))return void this.getPastedHTMLUsingHiddenElement(C=>{var E,A,S;return n.type="text/html",n.html=C,(E=this.delegate)===null||E===void 0||E.inputControllerWillPaste(n),(A=this.responder)===null||A===void 0||A.insertHTML(n.html),this.requestRender(),(S=this.delegate)===null||S===void 0?void 0:S.inputControllerDidPaste(n)});const r=e.getData("URL"),i=e.getData("text/html"),s=e.getData("public.url-name");if(r){var o,l,c;let C;n.type="text/html",C=s?ey(s).trim():r,n.html=this.createLinkHTML(r,C),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(n),this.setInputSummary({textAdded:C,didDelete:this.selectionIsExpanded()}),(l=this.responder)===null||l===void 0||l.insertHTML(n.html),this.requestRender(),(c=this.delegate)===null||c===void 0||c.inputControllerDidPaste(n)}else if(yA(e)){var u,d,f;n.type="text/plain",n.string=e.getData("text/plain"),(u=this.delegate)===null||u===void 0||u.inputControllerWillPaste(n),this.setInputSummary({textAdded:n.string,didDelete:this.selectionIsExpanded()}),(d=this.responder)===null||d===void 0||d.insertString(n.string),this.requestRender(),(f=this.delegate)===null||f===void 0||f.inputControllerDidPaste(n)}else if(i){var g,w,y;n.type="text/html",n.html=i,(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(n),(w=this.responder)===null||w===void 0||w.insertHTML(n.html),this.requestRender(),(y=this.delegate)===null||y===void 0||y.inputControllerDidPaste(n)}else if(Array.from(e.types).includes("Files")){var p,b;const C=(p=e.items)===null||p===void 0||(p=p[0])===null||p===void 0||(b=p.getAsFile)===null||b===void 0?void 0:b.call(p);if(C){var x,m,v;const E=w$(C);!C.name&&E&&(C.name="pasted-file-".concat(++b$,".").concat(E)),n.type="File",n.file=C,(x=this.delegate)===null||x===void 0||x.inputControllerWillAttachFiles(),(m=this.responder)===null||m===void 0||m.insertFile(n.file),this.requestRender(),(v=this.delegate)===null||v===void 0||v.inputControllerDidPaste(n)}}t.preventDefault()},compositionstart(t){return this.getCompositionInput().start(t.data)},compositionupdate(t){return this.getCompositionInput().update(t.data)},compositionend(t){return this.getCompositionInput().end(t.data)},beforeinput(t){this.inputSummary.didInput=!0},input(t){return this.inputSummary.didInput=!0,t.stopPropagation()}}),Vt(Zr,"keys",{backspace(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},delete(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},return(t){var e,n;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0?void 0:n.insertLineBreak()},tab(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.increaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h(t){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o(t){var e,n;return t.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(t){var e,n;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`),this.requestRender(),t.preventDefault()},tab(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.decreaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("backward")},right(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),Zr.proxyMethod("responder?.getSelectedRange"),Zr.proxyMethod("responder?.setSelectedRange"),Zr.proxyMethod("responder?.expandSelectionInDirection"),Zr.proxyMethod("responder?.selectionIsInCursorTarget"),Zr.proxyMethod("responder?.selectionIsExpanded");const w$=t=>{var e;return(e=t.type)===null||e===void 0||(e=e.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},C$=!((om=" ".codePointAt)===null||om===void 0||!om.call(" ",0)),S$=function(t){if(t.key&&C$&&t.key.codePointAt(0)===t.keyCode)return t.key;{let e;if(t.which===null?e=t.keyCode:t.which!==0&&t.charCode!==0&&(e=t.charCode),e!=null&&XA[e]!=="escape")return gc.fromCodepoints([e]).toString()}},E$=function(t){const e=t.clipboardData;if(e){if(e.types.includes("text/html")){for(const n of e.types){const r=/^CorePasteboardFlavorType/.test(n),i=/^dyn\./.test(n)&&e.getData(n);if(r||i)return!0}return!1}{const n=e.types.includes("com.apple.webarchive"),r=e.types.includes("com.apple.flat-rtfd");return n||r}}};class _i extends xt{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var n,r;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((r=this.responder)===null||r===void 0||r.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){const n=this.selectPlaceholder();n&&(this.forgetPlaceholder(),this.range=n)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.setSelectedRange(this.range),(i=this.responder)===null||i===void 0||i.insertString(this.data.end),(s=this.responder)===null||s===void 0?void 0:s.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var n,r,i,s}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!x$.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,n;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((n=this.data.end)===null||n===void 0?void 0:n.length)>0&&this.range}}_i.proxyMethod("inputController.setInputSummary"),_i.proxyMethod("inputController.requestRender"),_i.proxyMethod("inputController.requestReparse"),_i.proxyMethod("responder?.selectionIsExpanded"),_i.proxyMethod("responder?.insertPlaceholder"),_i.proxyMethod("responder?.selectPlaceholder"),_i.proxyMethod("responder?.forgetPlaceholder");class Ul extends Oh{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidAllowUnhandledInput)===null||n===void 0?void 0:n.call(e):void 0:this.reparse();var e,n}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,n;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(n=this.delegate)===null||n===void 0||n.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.insertString(n,r)})}toggleAttributeIfSupported(e){var n;if(Yp().includes(e))return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,n){var r;if(Yp().includes(e))return(r=this.delegate)===null||r===void 0||r.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.setCurrentAttribute(e,n)})}deleteInDirection(e){let{recordUndoEntry:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var r;n&&((r=this.delegate)===null||r===void 0||r.inputControllerWillPerformTyping());const i=()=>{var o;return(o=this.responder)===null||o===void 0?void 0:o.deleteInDirection(e)},s=this.getTargetDOMRange({minLength:this.composing?1:2});return s?this.withTargetDOMRange(s,i):i()}withTargetDOMRange(e,n){var r;return typeof e=="function"&&(n=e,e=this.getTargetDOMRange()),e?(r=this.responder)===null||r===void 0?void 0:r.withTargetDOMRange(e,n.bind(this)):(lo.reset(),n.call(this))}getTargetDOMRange(){var e,n;let{minLength:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const i=(e=(n=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(n);if(i&&i.length){const s=N$(i[0]);if(r===0||s.toString().length>=r)return s}}withEvent(e,n){let r;this.event=e;try{r=n.call(this)}finally{this.event=null}return r}}Vt(Ul,"events",{keydown(t){if(xA(t)){var e;const n=R$(t);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(n)&&t.preventDefault()}else{let n=t.key;t.altKey&&(n+="+Alt"),t.shiftKey&&(n+="+Shift");const r=this.constructor.keys[n];if(r)return this.withEvent(t,r)}},paste(t){var e;let n;const r=(e=t.clipboardData)===null||e===void 0?void 0:e.getData("URL");return ZA(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):j$(t)?(t.preventDefault(),n={type:"text/plain",string:t.clipboardData.getData("text/plain")},(i=this.delegate)===null||i===void 0||i.inputControllerWillPaste(n),(s=this.responder)===null||s===void 0||s.insertString(n.string),this.render(),(o=this.delegate)===null||o===void 0?void 0:o.inputControllerDidPaste(n)):r?(t.preventDefault(),n={type:"text/html",html:this.createLinkHTML(r)},(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(n),(c=this.responder)===null||c===void 0||c.insertHTML(n.html),this.render(),(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(n)):void 0;var i,s,o,l,c,u},beforeinput(t){const e=this.constructor.inputTypes[t.inputType],n=(r=t,!(!/iPhone|iPad/.test(navigator.userAgent)||r.inputType&&r.inputType!=="insertParagraph"));var r;e&&(this.withEvent(t,e),n||this.scheduleRender()),n&&this.render()},input(t){lo.reset()},dragstart(t){var e,n;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(t.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange(),point:lm(t)})},dragenter(t){am(t)&&t.preventDefault()},dragover(t){if(this.dragging){t.preventDefault();const n=lm(t);var e;if(!Ga(n,this.dragging.point))return this.dragging.point=n,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(n)}else am(t)&&t.preventDefault()},drop(t){var e,n;if(this.dragging)return t.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(n=this.responder)===null||n===void 0||n.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(am(t)){var r;t.preventDefault();const i=lm(t);return(r=this.responder)===null||r===void 0||r.setLocationRangeFromPointRange(i),this.attachFiles(t.dataTransfer.files)}},dragend(){var t;this.dragging&&((t=this.responder)===null||t===void 0||t.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(t){this.composing&&(this.composing=!1,Bc.recentAndroid||this.scheduleRender())}}),Vt(Ul,"keys",{ArrowLeft(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var t,e,n;if((t=this.responder)!==null&&t!==void 0&&t.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.deleteInDirection("backward"),this.render()},Tab(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),Vt(Ul,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var t;this.deleteByDragRange=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var t;if((t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var t;if((t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const n in(t=this.responder)===null||t===void 0?void 0:t.getCurrentAttributes()){var t,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(n)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformRedo()},historyUndo(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const t=this.deleteByDragRange;var e;if(t)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var n;return(n=this.responder)===null||n===void 0?void 0:n.moveTextFromRange(t)})},insertFromPaste(){const{dataTransfer:t}=this.event,e={dataTransfer:t},n=t.getData("URL"),r=t.getData("text/html");if(n){var i;let c;this.event.preventDefault(),e.type="text/html";const u=t.getData("public.url-name");c=u?ey(u).trim():n,e.html=this.createLinkHTML(n,c),(i=this.delegate)===null||i===void 0||i.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var d;return(d=this.responder)===null||d===void 0?void 0:d.insertHTML(e.html)}),this.afterRender=()=>{var d;return(d=this.delegate)===null||d===void 0?void 0:d.inputControllerDidPaste(e)}}else if(yA(t)){var s;e.type="text/plain",e.string=t.getData("text/plain"),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertString(e.string)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(A$(this.event)){var o;e.type="File",e.file=t.files[0],(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertFile(e.file)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(r){var l;this.event.preventDefault(),e.type="text/html",e.html=r,(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertHTML(e.html)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){const t=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(t,{updatePosition:!1})})},insertText(){var t;return this.insertString(this.event.data||((t=this.event.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const N$=function(t){const e=document.createRange();return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},am=t=>{var e;return Array.from(((e=t.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},A$=t=>{var e;return((e=t.dataTransfer.files)===null||e===void 0?void 0:e[0])&&!ZA(t)&&!(n=>{let{dataTransfer:r}=n;return r.types.includes("Files")&&r.types.includes("text/html")&&r.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(t)},ZA=function(t){const e=t.clipboardData;if(e)return Array.from(e.types).filter(n=>n.match(/file/i)).length===e.types.length&&e.files.length>=1},j$=function(t){const e=t.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},R$=function(t){const e=[];return t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.push(t.key),e},lm=t=>({x:t.clientX,y:t.clientY}),ig="[data-trix-attribute]",sg="[data-trix-action]",k$="".concat(ig,", ").concat(sg),Lh="[data-trix-dialog]",T$="".concat(Lh,"[data-trix-active]"),P$="".concat(Lh," [data-trix-method]"),O0="".concat(Lh," [data-trix-input]"),L0=(t,e)=>(e||(e=Do(t)),t.querySelector("[data-trix-input][name='".concat(e,"']"))),I0=t=>t.getAttribute("data-trix-action"),Do=t=>t.getAttribute("data-trix-attribute")||t.getAttribute("data-trix-dialog-attribute");class ej extends xt{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),nt("mousedown",{onElement:this.element,matchingSelector:sg,withCallback:this.didClickActionButton}),nt("mousedown",{onElement:this.element,matchingSelector:ig,withCallback:this.didClickAttributeButton}),nt("click",{onElement:this.element,matchingSelector:k$,preventDefault:!0}),nt("click",{onElement:this.element,matchingSelector:P$,withCallback:this.didClickDialogButton}),nt("keydown",{onElement:this.element,matchingSelector:O0,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),e.preventDefault();const i=I0(n);return this.getDialog(i)?this.toggleDialog(i):(s=this.delegate)===null||s===void 0?void 0:s.toolbarDidInvokeAction(i,n);var s}didClickAttributeButton(e,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),e.preventDefault();const i=Do(n);var s;return this.getDialog(i)?this.toggleDialog(i):(s=this.delegate)===null||s===void 0||s.toolbarDidToggleAttribute(i),this.refreshAttributeButtons()}didClickDialogButton(e,n){const r=ps(n,{matchingSelector:Lh});return this[n.getAttribute("data-trix-method")].call(this,r)}didKeyDownDialogInput(e,n){if(e.keyCode===13){e.preventDefault();const r=n.getAttribute("name"),i=this.getDialog(r);this.setAttribute(i)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,n)=>{e.disabled=this.actions[n]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll(sg)).map(n=>e(n,I0(n)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,n)=>(e.disabled=this.attributes[n]===!1,this.attributes[n]||this.dialogIsVisible(n)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll(ig)).map(n=>e(n,Do(n)))}applyKeyboardCommand(e){const n=JSON.stringify(e.sort());for(const r of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const i=r.getAttribute("data-trix-key").split("+");if(JSON.stringify(i.sort())===n)return Il("mousedown",{onElement:r}),!0}return!1}dialogIsVisible(e){const n=this.getDialog(e);if(n)return n.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var n,r;this.hideDialog(),(n=this.delegate)===null||n===void 0||n.toolbarWillShowDialog();const i=this.getDialog(e);i.setAttribute("data-trix-active",""),i.classList.add("trix-active"),Array.from(i.querySelectorAll("input[disabled]")).forEach(o=>{o.removeAttribute("disabled")});const s=Do(i);if(s){const o=L0(i,e);o&&(o.value=this.attributes[s]||"",o.select())}return(r=this.delegate)===null||r===void 0?void 0:r.toolbarDidShowDialog(e)}setAttribute(e){var n;const r=Do(e),i=L0(e,r);return!i.willValidate||(i.setCustomValidity(""),i.checkValidity()&&this.isSafeAttribute(i))?((n=this.delegate)===null||n===void 0||n.toolbarDidUpdateAttribute(r,i.value),this.hideDialog()):(i.setCustomValidity("Invalid value"),i.setAttribute("data-trix-validate",""),i.classList.add("trix-validate"),i.focus())}isSafeAttribute(e){return!e.hasAttribute("data-trix-validate-href")||vc.isValidAttribute("a","href",e.value)}removeAttribute(e){var n;const r=Do(e);return(n=this.delegate)===null||n===void 0||n.toolbarDidRemoveAttribute(r),this.hideDialog()}hideDialog(){const e=this.element.querySelector(T$);var n;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(n=this.delegate)===null||n===void 0?void 0:n.toolbarDidHideDialog((r=>r.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(O0)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}}class zl extends GA{constructor(e){let{editorElement:n,document:r,html:i}=e;super(...arguments),this.editorElement=n,this.selectionManager=new Rs(this.editorElement),this.selectionManager.delegate=this,this.composition=new Mi,this.composition.delegate=this,this.attachmentManager=new MA(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=Yv.getLevel()===2?new Ul(this.editorElement):new Zr(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new KA(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new ej(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new UA(this.composition,this.selectionManager,this.editorElement),r?this.editor.loadDocument(r):this.editor.loadHTML(i)}registerSelectionManager(){return lo.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return lo.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){const n=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:n})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);const n=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:n}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){const n=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:n})}compositionDidStartEditingAttachment(e,n){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,n),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,n){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,n)}compositionControllerDidRequestDeselectingAttachment(e){const n=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(n[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Dd(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e,n){return this.invokeAction(e,n)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,n){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,n),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((n=this.actions[e])===null||n===void 0||(n=n.test)===null||n===void 0||!n.call(this));var n}invokeAction(e,n){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e,invokingElement:n}):(r=this.actions[e])===null||r===void 0||(r=r.perform)===null||r===void 0?void 0:r.call(this);var r}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){const e={};for(const n in this.actions)e[n]=this.canInvokeAction(n);return e}updateCurrentActions(){const e=this.getCurrentActions();if(!Ga(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(i=>{const{document:s,selectedRange:o}=e;e=i.call(this.editor,e)||{},e.document||(e.document=s),e.selectedRange||(e.selectedRange=o)}),n=e,r=this.composition.getSnapshot(),!Dd(n.selectedRange,r.selectedRange)||!n.document.isEqualTo(r.document))return this.composition.loadSnapshot(e);var n,r}updateInputElement(){const e=function(n,r){const i=o$[r];if(i)return i(n);throw new Error("unknown content type: ".concat(r))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(e)}notifyEditorElement(e,n){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,n)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){const n=ht(e),r=this.selectionManager.getLocationRange();if(n||!li(r))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return[this.getLocationContext(),this.getTimeContext(),...Array.from(n)]}getLocationContext(){const e=this.selectionManager.getLocationRange();return li(e)?e[0].index:e}getTimeContext(){return Kp.interval>0?Math.floor(new Date().getTime()/Kp.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Vt(zl,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return Yv.pickFiles(this.editor.insertFiles)}}}),zl.proxyMethod("getSelectionManager().setLocationRange"),zl.proxyMethod("getSelectionManager().getLocationRange");var D$=Object.freeze({__proto__:null,AttachmentEditorController:qA,CompositionController:KA,Controller:GA,EditorController:zl,InputController:Oh,Level0InputController:Zr,Level2InputController:Ul,ToolbarController:ej}),_$=Object.freeze({__proto__:null,MutationObserver:YA,SelectionChangeObserver:wA}),O$=Object.freeze({__proto__:null,FileVerificationOperation:JA,ImagePreloadOperation:OA});vA("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class tj extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=gA.getDefaultHTML())}get editorElements(){if(this.id){var e;const n=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll('trix-editor[toolbar="'.concat(this.id,'"]'));return Array.from(n)}return[]}get editorElement(){const[e]=this.editorElements;return e}}let L$=0;const I$=function(t){if(!t.hasAttribute("contenteditable"))return t.toggleAttribute("contenteditable",!t.disabled),function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.times=1,nt(e,n)}("focus",{onElement:t,withCallback:()=>M$(t)})},M$=function(t){return F$(t),B$()},F$=function(t){var e,n;if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),nt("mscontrolselect",{onElement:t,preventDefault:!0})},B$=function(t){var e,n;if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"DefaultParagraphSeparator")){const{tagName:r}=nn.default;if(["div","p"].includes(r))return document.execCommand("DefaultParagraphSeparator",!1,r)}},M0=Bc.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};vA("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Ks,` figcaption textarea {
    resize: none;
}

%t `).concat(Ks,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Ks,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(M0.display,` !important;
    width: `).concat(M0.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var Zn=new WeakMap,bu=new WeakMap,ml=new WeakSet;class $${constructor(e){var n,r;_A(n=this,r=ml),r.add(n),Vt(this,"value",""),ra(this,Zn,{writable:!0,value:void 0}),ra(this,bu,{writable:!0,value:void 0}),this.element=e,$l(this,Zn,e.attachInternals()),$l(this,bu,!1)}connectedCallback(){xu(this,ml,wu).call(this)}disconnectedCallback(){}get form(){return ke(this,Zn).form}get name(){return this.element.getAttribute("name")}set name(e){this.element.setAttribute("name",e)}get labels(){return ke(this,Zn).labels}get disabled(){return ke(this,bu)||this.element.hasAttribute("disabled")}set disabled(e){this.element.toggleAttribute("disabled",e)}get required(){return this.element.hasAttribute("required")}set required(e){this.element.toggleAttribute("required",e),xu(this,ml,wu).call(this)}get validity(){return ke(this,Zn).validity}get validationMessage(){return ke(this,Zn).validationMessage}get willValidate(){return ke(this,Zn).willValidate}formDisabledCallback(e){$l(this,bu,e)}setFormValue(e){this.value=e,xu(this,ml,wu).call(this),ke(this,Zn).setFormValue(this.element.disabled?void 0:this.value)}checkValidity(){return ke(this,Zn).checkValidity()}reportValidity(){return ke(this,Zn).reportValidity()}setCustomValidity(e){xu(this,ml,wu).call(this,e)}}function wu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:e,value:n}=this.element,r=e&&!n,i=!!t,s=we("input",{required:e}),o=t||s.validationMessage;ke(this,Zn).setValidity({valueMissing:r,customError:i},o)}var cm=new WeakMap,um=new WeakMap,dm=new WeakMap;class U${constructor(e){ra(this,cm,{writable:!0,value:void 0}),ra(this,um,{writable:!0,value:n=>{n.defaultPrevented||n.target===this.element.form&&this.element.reset()}}),ra(this,dm,{writable:!0,value:n=>{if(n.defaultPrevented||this.element.contains(n.target))return;const r=ps(n.target,{matchingSelector:"label"});r&&Array.from(this.labels).includes(r)&&this.element.focus()}}),this.element=e}connectedCallback(){$l(this,cm,function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;const n=function(){const r=Array.from(e.labels).map(s=>{if(!s.contains(e))return s.textContent}).filter(s=>s),i=r.join(" ");return i?e.setAttribute("aria-label",i):e.removeAttribute("aria-label")};return n(),nt("focus",{onElement:e,withCallback:n})}(this.element)),window.addEventListener("reset",ke(this,um),!1),window.addEventListener("click",ke(this,dm),!1)}disconnectedCallback(){var e;(e=ke(this,cm))===null||e===void 0||e.destroy(),window.removeEventListener("reset",ke(this,um),!1),window.removeEventListener("click",ke(this,dm),!1)}get labels(){const e=[];this.element.id&&this.element.ownerDocument&&e.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const n=ps(this.element,{matchingSelector:"label"});return n&&[this.element,null].includes(n.control)&&e.push(n),e}get form(){return console.warn("This browser does not support the .form property for trix-editor elements."),null}get name(){return console.warn("This browser does not support the .name property for trix-editor elements."),null}set name(e){console.warn("This browser does not support the .name property for trix-editor elements.")}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(e){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(e){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}formDisabledCallback(e){}setFormValue(e){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(e){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var ut=new WeakMap;class Ld extends HTMLElement{constructor(){super(),ra(this,ut,{writable:!0,value:void 0}),this.willCreateInput=!0,$l(this,ut,this.constructor.formAssociated?new $$(this):new U$(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++L$),this.trixId)}get labels(){return ke(this,ut).labels}get disabled(){const{inputElement:e}=this;return e?e.disabled:ke(this,ut).disabled}set disabled(e){const{inputElement:n}=this;n&&(n.disabled=e),ke(this,ut).disabled=e}get required(){return ke(this,ut).required}set required(e){ke(this,ut).required=e}get validity(){return ke(this,ut).validity}get validationMessage(){return ke(this,ut).validationMessage}get willValidate(){return ke(this,ut).willValidate}get type(){return this.localName}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const n="trix-toolbar-".concat(this.trixId);return this.setAttribute("toolbar",n),this.internalToolbar=we("trix-toolbar",{id:n}),this.parentNode.insertBefore(this.internalToolbar,this),this.internalToolbar}}get form(){const{inputElement:e}=this;return e?e.form:ke(this,ut).form}get inputElement(){var e;return this.hasAttribute("input")?(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input")):void 0}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){const{inputElement:e}=this;return e?e.name:ke(this,ut).name}set name(e){const{inputElement:n}=this;n?n.name=e:ke(this,ut).name=e}get value(){const{inputElement:e}=this;return e?e.value:ke(this,ut).value}set value(e){var n;this.defaultValue=e,(n=this.editor)===null||n===void 0||n.loadHTML(this.defaultValue)}attributeChangedCallback(e,n,r){e==="connected"&&this.isConnected&&n!=null&&n!==r&&requestAnimationFrame(()=>this.reconnect())}notify(e,n){if(this.editorController)return Il("trix-".concat(e),{onElement:this,attributes:n})}setFormValue(e){const{inputElement:n}=this;n&&(n.value=e),ke(this,ut).setFormValue(e)}connectedCallback(){if(!this.hasAttribute("data-trix-internal")){if(I$(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),!this.editorController){if(Il("trix-before-initialize",{onElement:this}),this.defaultValue=this.inputElement?this.inputElement.value:this.innerHTML,!this.hasAttribute("input")&&this.parentNode&&this.willCreateInput){const e="trix-input-".concat(this.trixId);this.setAttribute("input",e);const n=we("input",{type:"hidden",id:e});this.parentNode.insertBefore(n,this.nextElementSibling)}this.editorController=new zl({editorElement:this,html:this.defaultValue}),requestAnimationFrame(()=>Il("trix-initialize",{onElement:this}))}this.editorController.registerSelectionManager(),ke(this,ut).connectedCallback(),this.toggleAttribute("connected",!0),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this)}}disconnectedCallback(){var e;(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),ke(this,ut).disconnectedCallback(),this.toggleAttribute("connected",!1)}reconnect(){this.removeInternalToolbar(),this.disconnectedCallback(),this.connectedCallback()}removeInternalToolbar(){var e;(e=this.internalToolbar)===null||e===void 0||e.remove(),this.internalToolbar=null}checkValidity(){return ke(this,ut).checkValidity()}reportValidity(){return ke(this,ut).reportValidity()}setCustomValidity(e){ke(this,ut).setCustomValidity(e)}formDisabledCallback(e){const{inputElement:n}=this;n&&(n.disabled=e),this.toggleAttribute("contenteditable",!e),ke(this,ut).formDisabledCallback(e)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}Vt(Ld,"formAssociated","ElementInternals"in window),Vt(Ld,"observedAttributes",["connected"]);const F0={VERSION:z4,config:$c,core:a$,models:HA,views:h$,controllers:D$,observers:_$,operations:O$,elements:Object.freeze({__proto__:null,TrixEditorElement:Ld,TrixToolbarElement:tj}),filters:Object.freeze({__proto__:null,Filter:BA,attachmentGalleryFilter:$A})};Object.assign(F0,HA),window.Trix=F0,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",tj),customElements.get("trix-editor")||customElements.define("trix-editor",Ld)},0);const Ih=({value:t,onChange:e,placeholder:n})=>{const r=h.useRef(null),i=h.useRef(null),s=h.useRef(!0);return h.useEffect(()=>{var c;const o=(c=r.current)==null?void 0:c.querySelector("trix-editor");if(!o)return;const l=u=>{e(u.target.value)};return o.addEventListener("trix-change",l),s.current&&t&&(o.value=t,s.current=!1),()=>{o.removeEventListener("trix-change",l)}},[e,t]),a.jsxs("div",{ref:r,className:"trix-editor-container",children:[a.jsx("input",{ref:i,id:"trix-editor-input",type:"hidden",value:t}),a.jsx("trix-editor",{input:"trix-editor-input",placeholder:n||"Start writing..."})]})};function z$(t){const e=W$(t),n=h.forwardRef((r,i)=>{const{children:s,...o}=r,l=h.Children.toArray(s),c=l.find(H$);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function W$(t){const e=h.forwardRef((n,r)=>{const{children:i,...s}=n;if(h.isValidElement(i)){const o=K$(i),l=q$(s,i.props);return i.type!==h.Fragment&&(l.ref=r?Ma(r,o):o),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var V$=Symbol("radix.slottable");function H$(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===V$}function q$(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function K$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Mh="Dialog",[nj,rj]=gr(Mh),[G$,vr]=nj(Mh),ij=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=h.useRef(null),c=h.useRef(null),[u,d]=Br({prop:r,defaultProp:i??!1,onChange:s,caller:Mh});return a.jsx(G$,{scope:e,triggerRef:l,contentRef:c,contentId:Or(),titleId:Or(),descriptionId:Or(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};ij.displayName=Mh;var sj="DialogTrigger",oj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(sj,n),s=Be(e,i.triggerRef);return a.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":oy(i.open),...r,ref:s,onClick:ye(t.onClick,i.onOpenToggle)})});oj.displayName=sj;var iy="DialogPortal",[Q$,aj]=nj(iy,{forceMount:void 0}),lj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=vr(iy,e);return a.jsx(Q$,{scope:e,forceMount:n,children:h.Children.map(r,o=>a.jsx(vo,{present:n||s.open,children:a.jsx(Wv,{asChild:!0,container:i,children:o})}))})};lj.displayName=iy;var Id="DialogOverlay",cj=h.forwardRef((t,e)=>{const n=aj(Id,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=vr(Id,t.__scopeDialog);return s.modal?a.jsx(vo,{present:r||s.open,children:a.jsx(J$,{...i,ref:e})}):null});cj.displayName=Id;var Y$=z$("DialogOverlay.RemoveScroll"),J$=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(Id,n);return a.jsx(Vv,{as:Y$,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(he.div,{"data-state":oy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),co="DialogContent",uj=h.forwardRef((t,e)=>{const n=aj(co,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=vr(co,t.__scopeDialog);return a.jsx(vo,{present:r||s.open,children:s.modal?a.jsx(X$,{...i,ref:e}):a.jsx(Z$,{...i,ref:e})})});uj.displayName=co;var X$=h.forwardRef((t,e)=>{const n=vr(co,t.__scopeDialog),r=h.useRef(null),i=Be(e,n.contentRef,r);return h.useEffect(()=>{const s=r.current;if(s)return J1(s)},[]),a.jsx(dj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault())})}),Z$=h.forwardRef((t,e)=>{const n=vr(co,t.__scopeDialog),r=h.useRef(!1),i=h.useRef(!1);return a.jsx(dj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),dj=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=vr(co,n),c=h.useRef(null),u=Be(e,c);return N1(),a.jsxs(a.Fragment,{children:[a.jsx(Ov,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(_v,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oy(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(tU,{titleId:l.titleId}),a.jsx(rU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),sy="DialogTitle",hj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(sy,n);return a.jsx(he.h2,{id:i.titleId,...r,ref:e})});hj.displayName=sy;var fj="DialogDescription",mj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(fj,n);return a.jsx(he.p,{id:i.descriptionId,...r,ref:e})});mj.displayName=fj;var pj="DialogClose",gj=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(pj,n);return a.jsx(he.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});gj.displayName=pj;function oy(t){return t?"open":"closed"}var vj="DialogTitleWarning",[eU,yj]=LI(vj,{contentName:co,titleName:sy,docsSlug:"dialog"}),tU=({titleId:t})=>{const e=yj(vj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},nU="DialogDescriptionWarning",rU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yj(nU).contentName}}.`;return h.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},iU=ij,sU=oj,oU=lj,aU=cj,lU=uj,cU=hj,uU=mj,xj=gj,dU=Symbol("radix.slottable");function hU(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=dU,e}var bj="AlertDialog",[fU]=gr(bj,[rj]),xi=rj(),wj=t=>{const{__scopeAlertDialog:e,...n}=t,r=xi(e);return a.jsx(iU,{...r,...n,modal:!0})};wj.displayName=bj;var mU="AlertDialogTrigger",pU=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return a.jsx(sU,{...i,...r,ref:e})});pU.displayName=mU;var gU="AlertDialogPortal",Cj=t=>{const{__scopeAlertDialog:e,...n}=t,r=xi(e);return a.jsx(oU,{...r,...n})};Cj.displayName=gU;var vU="AlertDialogOverlay",Sj=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return a.jsx(aU,{...i,...r,ref:e})});Sj.displayName=vU;var ia="AlertDialogContent",[yU,xU]=fU(ia),bU=hU("AlertDialogContent"),Ej=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=xi(n),o=h.useRef(null),l=Be(e,o),c=h.useRef(null);return a.jsx(eU,{contentName:ia,titleName:Nj,docsSlug:"alert-dialog",children:a.jsx(yU,{scope:n,cancelRef:c,children:a.jsxs(lU,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:ye(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(bU,{children:r}),a.jsx(CU,{contentRef:o})]})})})});Ej.displayName=ia;var Nj="AlertDialogTitle",Aj=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return a.jsx(cU,{...i,...r,ref:e})});Aj.displayName=Nj;var jj="AlertDialogDescription",Rj=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return a.jsx(uU,{...i,...r,ref:e})});Rj.displayName=jj;var wU="AlertDialogAction",kj=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=xi(n);return a.jsx(xj,{...i,...r,ref:e})});kj.displayName=wU;var Tj="AlertDialogCancel",Pj=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=xU(Tj,n),s=xi(n),o=Be(e,i);return a.jsx(xj,{...s,...r,ref:o})});Pj.displayName=Tj;var CU=({contentRef:t})=>{const e=`\`${ia}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ia}\` by passing a \`${jj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ia}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},SU=wj,EU=Cj,Dj=Sj,_j=Ej,Oj=kj,Lj=Pj,Ij=Aj,Mj=Rj;const NU=SU,AU=EU,Fj=h.forwardRef(({className:t,...e},n)=>a.jsx(Dj,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Fj.displayName=Dj.displayName;const Bj=h.forwardRef(({className:t,...e},n)=>a.jsxs(AU,{children:[a.jsx(Fj,{}),a.jsx(_j,{ref:n,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Bj.displayName=_j.displayName;const $j=({className:t,...e})=>a.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",t),...e});$j.displayName="AlertDialogHeader";const Uj=({className:t,...e})=>a.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Uj.displayName="AlertDialogFooter";const zj=h.forwardRef(({className:t,...e},n)=>a.jsx(Ij,{ref:n,className:xe("text-lg font-semibold",t),...e}));zj.displayName=Ij.displayName;const Wj=h.forwardRef(({className:t,...e},n)=>a.jsx(Mj,{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));Wj.displayName=Mj.displayName;const Vj=h.forwardRef(({className:t,...e},n)=>a.jsx(Oj,{ref:n,className:xe(Cv(),t),...e}));Vj.displayName=Oj.displayName;const Hj=h.forwardRef(({className:t,...e},n)=>a.jsx(Lj,{ref:n,className:xe(Cv({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Hj.displayName=Lj.displayName;const jU="/api",B0=jU.replace(/\/api$/,""),RU=t=>t?t.startsWith("http")?t:t.startsWith("/")?`${B0}${t}`:`${B0}/${t}`:"";function kU({photo:t,index:e,onDelete:n,onUpdateAlt:r}){const[i,s]=h.useState(!1),[o,l]=h.useState(t.alt_text),{attributes:c,listeners:u,setNodeRef:d,transform:f,transition:g,isDragging:w}=m1({id:t.id}),y={transform:Aa.Transform.toString(f),transition:g,opacity:w?.5:1},p=()=>{r(t.id,o),s(!1)};return a.jsxs("div",{ref:d,style:y,className:"flex items-center gap-3 p-3 bg-white border rounded-lg hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"text-xs text-muted-foreground font-mono w-6 text-center",children:["#",e+1]}),a.jsx("div",{...c,...u,className:"cursor-grab active:cursor-grabbing",children:a.jsx(go,{className:"w-5 h-5 text-muted-foreground"})}),a.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 rounded overflow-hidden bg-muted",children:[a.jsx("img",{src:RU(t.url),alt:t.alt_text||"Property photo",className:"w-full h-full object-cover"}),e===0&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-green-600 text-white text-xs text-center py-0.5",children:"Cover"})]}),a.jsx("div",{className:"flex-1 min-w-0",children:i?a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{value:o,onChange:b=>l(b.target.value),placeholder:"Alt text...",className:"flex-1"}),a.jsx(F,{size:"sm",onClick:p,children:"Save"}),a.jsx(F,{size:"sm",variant:"outline",onClick:()=>s(!1),children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground truncate flex-1",children:t.alt_text||a.jsx("span",{className:"italic",children:"No alt text"})}),a.jsx(F,{size:"sm",variant:"ghost",onClick:()=>s(!0),className:"text-xs",children:"Edit"})]})}),a.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:a.jsx(F,{size:"sm",variant:"destructive",onClick:()=>n(t.id),title:"Delete photo",children:a.jsx(Ua,{className:"w-4 h-4"})})})]})}function TU({propertyId:t}){const e=bn(),[n,r]=h.useState(!1),[i,s]=h.useState(null),o=VE(Sd(gh),Sd(ph,{coordinateGetter:p1})),{data:l=[],isLoading:c}=yt({queryKey:["property-photos",t],queryFn:async()=>(await z.get(`/property-photos/property/${t}`)).data.data}),u=Qe({mutationFn:async p=>{const b=new FormData;b.append("image",p);const m=(await z.post("/upload/property-image",b,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;return(await z.post("/property-photos",{property_id:t,url:m,alt_text:"",is_cover:l.length===0})).data},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})}}),d=Qe({mutationFn:async p=>{await z.delete(`/property-photos/${p}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]}),s(null)}}),f=Qe({mutationFn:async({id:p,alt_text:b})=>{await z.put(`/property-photos/${p}`,{alt_text:b})},onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})}}),g=Qe({mutationFn:async p=>(await z.post("/property-photos/reorder",{items:p})).data,onSuccess:()=>{e.invalidateQueries({queryKey:["property-photos",t]})},onError:p=>{console.error("Reorder failed:",p),e.invalidateQueries({queryKey:["property-photos",t]})}}),w=async p=>{const b=p.target.files;if(!(!b||b.length===0)){r(!0);try{for(let x=0;x<b.length;x++){const m=b[x];if(!m.type.startsWith("image/")){alert(`${m.name} is not an image`);continue}if(m.size>5*1024*1024){alert(`${m.name} is too large (max 5MB)`);continue}await u.mutateAsync(m)}}catch(x){console.error("Upload error:",x),alert("Failed to upload one or more images")}finally{r(!1),p.target.value=""}}},y=p=>{const{active:b,over:x}=p;if(!x||b.id===x.id)return;const m=l.findIndex(A=>A.id===b.id),v=l.findIndex(A=>A.id===x.id),C=xh(l,m,v);e.setQueryData(["property-photos",t],C.map((A,S)=>({...A,order:S+1})));const E=C.map((A,S)=>({id:A.id,order:S+1}));g.mutate(E)};return c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(ae,{children:a.jsx(le,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(se,{htmlFor:"photo-upload",className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md cursor-pointer hover:bg-primary/90 transition-colors",children:[a.jsx(Ir,{className:"w-4 h-4"}),n?"Uploading...":"Upload Photos"]}),a.jsx(Y,{id:"photo-upload",type:"file",accept:"image/*",multiple:!0,onChange:w,disabled:n,className:"hidden"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Max 5MB per image. JPEG, PNG, WebP supported. Multiple selection allowed."})]})})}),l.length===0?a.jsx(ae,{children:a.jsxs(le,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(OE,{className:"w-12 h-12 text-muted-foreground mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"No photos uploaded yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload your first photo to get started"})]})}):a.jsx(ae,{children:a.jsxs(le,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-sm font-medium",children:[l.length," ",l.length===1?"Photo":"Photos"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Drag to reorder. The first photo is used as cover."})]}),a.jsx(a1,{sensors:o,collisionDetection:GE,onDragEnd:y,children:a.jsx(h1,{items:l.map(p=>p.id),strategy:c1,children:a.jsx("div",{className:"space-y-2",children:l.map((p,b)=>a.jsx(kU,{photo:p,index:b,onDelete:x=>s(x),onUpdateAlt:(x,m)=>f.mutate({id:x,alt_text:m})},p.id))})})})]})}),a.jsx(NU,{open:i!==null,onOpenChange:p=>!p&&s(null),children:a.jsxs(Bj,{children:[a.jsxs($j,{children:[a.jsx(zj,{children:"Delete Photo?"}),a.jsx(Wj,{children:"This action cannot be undone. This will permanently delete the photo from the property gallery."})]}),a.jsxs(Uj,{children:[a.jsx(Hj,{children:"Cancel"}),a.jsx(Vj,{onClick:()=>i&&d.mutate(i),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}var Fh="Checkbox",[PU]=gr(Fh),[DU,ay]=PU(Fh);function _U(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[g,w]=Br({prop:n,defaultProp:i??!1,onChange:c,caller:Fh}),[y,p]=h.useState(null),[b,x]=h.useState(null),m=h.useRef(!1),v=y?!!o||!!y.closest("form"):!0,C={checked:g,disabled:s,setChecked:w,control:y,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:m,required:u,defaultChecked:cs(i)?!1:i,isFormControl:v,bubbleInput:b,setBubbleInput:x};return a.jsx(DU,{scope:e,...C,children:OU(f)?f(C):r})}var qj="CheckboxTrigger",Kj=h.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:w,bubbleInput:y}=ay(qj,t),p=Be(i,d),b=h.useRef(c);return h.useEffect(()=>{const x=s==null?void 0:s.form;if(x){const m=()=>f(b.current);return x.addEventListener("reset",m),()=>x.removeEventListener("reset",m)}},[s,f]),a.jsx(he.button,{type:"button",role:"checkbox","aria-checked":cs(c)?"mixed":c,"aria-required":u,"data-state":Xj(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:p,onKeyDown:ye(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ye(n,x=>{f(m=>cs(m)?!0:!m),y&&w&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})})});Kj.displayName=qj;var ly=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return a.jsx(_U,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(Kj,{...f,ref:e,__scopeCheckbox:n}),g&&a.jsx(Jj,{__scopeCheckbox:n})]})})});ly.displayName=Fh;var Gj="CheckboxIndicator",Qj=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=ay(Gj,n);return a.jsx(vo,{present:r||cs(s.checked)||s.checked===!0,children:a.jsx(he.span,{"data-state":Xj(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Qj.displayName=Gj;var Yj="CheckboxBubbleInput",Jj=h.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:g,setBubbleInput:w}=ay(Yj,t),y=Be(n,w),p=Tv(s),b=Pv(r);h.useEffect(()=>{const m=g;if(!m)return;const v=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(v,"checked").set,A=!i.current;if(p!==s&&E){const S=new Event("click",{bubbles:A});m.indeterminate=cs(s),E.call(m,cs(s)?!1:s),m.dispatchEvent(S)}},[g,p,s,i]);const x=h.useRef(cs(s)?!1:s);return a.jsx(he.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Jj.displayName=Yj;function OU(t){return typeof t=="function"}function cs(t){return t==="indeterminate"}function Xj(t){return cs(t)?"indeterminate":t?"checked":"unchecked"}const og=h.forwardRef(({className:t,...e},n)=>a.jsx(ly,{ref:n,className:xe("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(Qj,{className:xe("grid place-content-center text-current"),children:a.jsx(DE,{className:"h-4 w-4"})})}));og.displayName=ly.displayName;var Bh="Collapsible",[LU,Zj]=gr(Bh),[IU,cy]=LU(Bh),eR=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...l}=t,[c,u]=Br({prop:r,defaultProp:i??!1,onChange:o,caller:Bh});return a.jsx(IU,{scope:n,disabled:s,contentId:Or(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:a.jsx(he.div,{"data-state":dy(c),"data-disabled":s?"":void 0,...l,ref:e})})});eR.displayName=Bh;var tR="CollapsibleTrigger",nR=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=cy(tR,n);return a.jsx(he.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":dy(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:ye(t.onClick,i.onOpenToggle)})});nR.displayName=tR;var uy="CollapsibleContent",rR=h.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=cy(uy,t.__scopeCollapsible);return a.jsx(vo,{present:n||i.open,children:({present:s})=>a.jsx(MU,{...r,ref:e,present:s})})});rR.displayName=uy;var MU=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=cy(uy,n),[l,c]=h.useState(r),u=h.useRef(null),d=Be(e,u),f=h.useRef(0),g=f.current,w=h.useRef(0),y=w.current,p=o.open||l,b=h.useRef(p),x=h.useRef(void 0);return h.useEffect(()=>{const m=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(m)},[]),Mt(()=>{const m=u.current;if(m){x.current=x.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const v=m.getBoundingClientRect();f.current=v.height,w.current=v.width,b.current||(m.style.transitionDuration=x.current.transitionDuration,m.style.animationName=x.current.animationName),c(r)}},[o.open,r]),a.jsx(he.div,{"data-state":dy(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...s,ref:d,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:p&&i})});function dy(t){return t?"open":"closed"}var FU=eR,BU=nR,$U=rR,yr="Accordion",UU=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[hy,zU,WU]=Dv(yr),[$h]=gr(yr,[WU,Zj]),fy=Zj(),iR=Ee.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return a.jsx(hy.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?a.jsx(KU,{...s,ref:e}):a.jsx(qU,{...i,ref:e})})});iR.displayName=yr;var[sR,VU]=$h(yr),[oR,HU]=$h(yr,{collapsible:!1}),qU=Ee.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[l,c]=Br({prop:n,defaultProp:r??"",onChange:i,caller:yr});return a.jsx(sR,{scope:t.__scopeAccordion,value:Ee.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Ee.useCallback(()=>s&&c(""),[s,c]),children:a.jsx(oR,{scope:t.__scopeAccordion,collapsible:s,children:a.jsx(aR,{...o,ref:e})})})}),KU=Ee.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o,l]=Br({prop:n,defaultProp:r??[],onChange:i,caller:yr}),c=Ee.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=Ee.useCallback(d=>l((f=[])=>f.filter(g=>g!==d)),[l]);return a.jsx(sR,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(oR,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(aR,{...s,ref:e})})})}),[GU,Uh]=$h(yr),aR=Ee.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,l=Ee.useRef(null),c=Be(l,e),u=zU(n),f=wh(i)==="ltr",g=ye(t.onKeyDown,w=>{var N;if(!UU.includes(w.key))return;const y=w.target,p=u().filter(R=>{var j;return!((j=R.ref.current)!=null&&j.disabled)}),b=p.findIndex(R=>R.ref.current===y),x=p.length;if(b===-1)return;w.preventDefault();let m=b;const v=0,C=x-1,E=()=>{m=b+1,m>C&&(m=v)},A=()=>{m=b-1,m<v&&(m=C)};switch(w.key){case"Home":m=v;break;case"End":m=C;break;case"ArrowRight":s==="horizontal"&&(f?E():A());break;case"ArrowDown":s==="vertical"&&E();break;case"ArrowLeft":s==="horizontal"&&(f?A():E());break;case"ArrowUp":s==="vertical"&&A();break}const S=m%x;(N=p[S].ref.current)==null||N.focus()});return a.jsx(GU,{scope:n,disabled:r,direction:i,orientation:s,children:a.jsx(hy.Slot,{scope:n,children:a.jsx(he.div,{...o,"data-orientation":s,ref:c,onKeyDown:r?void 0:g})})})}),Md="AccordionItem",[QU,my]=$h(Md),lR=Ee.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=Uh(Md,n),o=VU(Md,n),l=fy(n),c=Or(),u=r&&o.value.includes(r)||!1,d=s.disabled||t.disabled;return a.jsx(QU,{scope:n,open:u,disabled:d,triggerId:c,children:a.jsx(FU,{"data-orientation":s.orientation,"data-state":mR(u),...l,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});lR.displayName=Md;var cR="AccordionHeader",uR=Ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Uh(yr,n),s=my(cR,n);return a.jsx(he.h3,{"data-orientation":i.orientation,"data-state":mR(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});uR.displayName=cR;var ag="AccordionTrigger",dR=Ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Uh(yr,n),s=my(ag,n),o=HU(ag,n),l=fy(n);return a.jsx(hy.ItemSlot,{scope:n,children:a.jsx(BU,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...r,ref:e})})});dR.displayName=ag;var hR="AccordionContent",fR=Ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Uh(yr,n),s=my(hR,n),o=fy(n);return a.jsx($U,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});fR.displayName=hR;function mR(t){return t?"open":"closed"}var YU=iR,JU=lR,XU=uR,pR=dR,gR=fR;const vR=YU,Fd=h.forwardRef(({className:t,...e},n)=>a.jsx(JU,{ref:n,className:xe("border-b",t),...e}));Fd.displayName="AccordionItem";const Bd=h.forwardRef(({className:t,children:e,...n},r)=>a.jsx(XU,{className:"flex",children:a.jsxs(pR,{ref:r,className:xe("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,a.jsx(Sv,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));Bd.displayName=pR.displayName;const $d=h.forwardRef(({className:t,children:e,...n},r)=>a.jsx(gR,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:xe("pb-4 pt-0",t),children:e})}));$d.displayName=gR.displayName;function ZU({propertyId:t}){const e=bn(),[n,r]=h.useState([]),[i,s]=h.useState(!1),{data:o=[]}=yt({queryKey:["cities"],queryFn:async()=>{var p,b,x;const y=await z.get("/cities");return((b=(p=y.data)==null?void 0:p.data)==null?void 0:b.cities)||((x=y.data)==null?void 0:x.data)||[]}}),{data:l=[]}=yt({queryKey:["areas"],queryFn:async()=>{var p,b,x;const y=await z.get("/areas");return((b=(p=y.data)==null?void 0:p.data)==null?void 0:b.areas)||((x=y.data)==null?void 0:x.data)||[]}}),c=Array.isArray(o)?o:[],u=Array.isArray(l)?l:[],{data:d=[],isLoading:f}=yt({queryKey:["property-landing-pages",t],queryFn:async()=>(await z.get(`/properties/${t}/landing-pages`)).data.data||[]});h.useEffect(()=>{d.length>=0&&r(d)},[d]);const g=async y=>{s(!0);try{await z.put(`/properties/${t}/landing-pages`,{landing_pages:y}),e.invalidateQueries({queryKey:["property-landing-pages",t]})}catch(p){console.error("Failed to save landing pages:",p)}finally{s(!1)}},w=(y,p)=>{const b=p?[...n,y]:n.filter(x=>x!==y);r(b),g(b)};return f?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(ae,{children:a.jsx(le,{className:"pt-6",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-medium mb-2",children:"Landing Pages Association"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select which landing pages (Cities & Areas) will display this property."}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",n.length," landing page",n.length!==1?"s":"",i&&a.jsx("span",{className:"ml-2 text-blue-500",children:"Saving..."})]})]})})})}),a.jsx(ae,{children:a.jsx(le,{className:"pt-6",children:a.jsxs(vR,{type:"multiple",defaultValue:["cities","areas"],className:"w-full",children:[a.jsxs(Fd,{value:"cities",children:[a.jsx(Bd,{className:"text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bd,{className:"w-4 h-4"}),"Cities (",c.length,")"]})}),a.jsx($d,{children:c.length===0?a.jsx("p",{className:"text-sm text-muted-foreground italic py-4",children:"No cities available"}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-2",children:c.map(y=>{const p=n.includes(y.slug);return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(og,{id:`city-${y.id}`,checked:p,onCheckedChange:b=>w(y.slug,!!b)}),a.jsx(se,{htmlFor:`city-${y.id}`,className:"text-sm font-normal cursor-pointer",children:y.title})]},y.id)})})})]}),a.jsxs(Fd,{value:"areas",children:[a.jsx(Bd,{className:"text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(LE,{className:"w-4 h-4"}),"Areas (",u.length,")"]})}),a.jsx($d,{children:u.length===0?a.jsx("p",{className:"text-sm text-muted-foreground italic py-4",children:"No areas available"}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-2",children:u.map(y=>{const p=n.includes(y.slug);return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(og,{id:`area-${y.id}`,checked:p,onCheckedChange:b=>w(y.slug,!!b)}),a.jsx(se,{htmlFor:`area-${y.id}`,className:"text-sm font-normal cursor-pointer",children:y.title})]},y.id)})})})]})]})})}),a.jsx(ae,{className:"bg-muted/50",children:a.jsx(le,{className:"pt-6",children:a.jsxs("div",{className:"text-sm space-y-2",children:[a.jsx("p",{className:"font-medium",children:"How it works:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[a.jsx("li",{children:"Select landing pages where this property should appear"}),a.jsx("li",{children:"Cities: Main destination pages (e.g., Tulum, Playa del Carmen)"}),a.jsx("li",{children:"Areas: Sub-locations within cities (e.g., Downtown, Beach Zone)"}),a.jsx("li",{children:"Property will be visible in search results on selected pages"}),a.jsx("li",{children:a.jsx("strong",{children:"Changes are saved automatically"})})]})]})})})]})}const $0={"Essential Features":["A/C","Elevator","Laundry Room","Fireplace","Storage Room","Basement"],"Outdoor & Terraces":["Terrace","Balcony","Rooftop","Solarium","Garden","Private Garden","Zen Garden","Patio"],"Parking & Mobility":["Parking","Garage","Underground Parking","Covered Parking","Street Parking","Bike Parking","Shuttle Service"],"Security & Access":["Controlled Access","Security 24/7","CCTV","Perimeter Fence","Concierge","Gated Community","Intercom","Alarm System"],"Pools & Water":["Pool","Rooftop Pool","Infinity Pool","Beach-like Pool","Waterfront","Beach Club","Jacuzzi"],"Wellness & Spa":["Spa","Sauna","Steam Room","Temazcal","Yoga Area","Meditation Space"],"Fitness & Sports":["Gym","Jogging Track","Paddle Court","Pickleball Court","Tennis Court","Mini Golf","Pet Park"],"Community & Entertainment":["Clubhouse","Lounge","Cinema Room","Bar","Kids Area","Playground","BBQ Area"],"Work & Connectivity":["Co-working Space","Business Lounge","High Speed Internet","Smart Home"],Sustainability:["Solar Panels","Rainwater Harvesting","Water Treatment","Energy Efficient","Eco-Friendly"],"Views & Setting":["Ocean View","Beach Front","Golf View","City View","Mountain View","Lake View","Marina View","Jungle View"],"Interior Features":["Furnished","Semi-Furnished","Unfurnished","Walk-in Closet","High Ceilings","Hardwood Floors","Marble Floors","Modern Kitchen","Open Plan"],"Property Status":["New Construction","Recently Renovated","Move-in Ready","Pre-sale","Investment Opportunity"],"Legal & Rentals":["HOA","No HOA","Short Term Rental OK","Long Term Rental OK","Pet Friendly"],Proximity:["Near Beach","Near Golf","Near Downtown","Near Airport","Near Shopping","Near Schools","Near Hospital","Quiet Neighborhood"]};function ez({selectedTags:t,onChange:e,maxTags:n=20}){const[r,i]=h.useState(""),[s,o]=h.useState(""),l=h.useMemo(()=>{if(!r)return $0;const g={};return Object.entries($0).forEach(([w,y])=>{const p=y.filter(b=>b.toLowerCase().includes(r.toLowerCase()));p.length>0&&(g[w]=p)}),g},[r]),c=g=>{t.length>=n||t.includes(g)||e([...t,g])},u=g=>{e(t.filter(w=>w!==g))},d=()=>{const g=s.trim();if(g){if(t.includes(g)){o("");return}t.length>=n||(e([...t,g]),o(""))}},f=g=>{g.key==="Enter"&&(g.preventDefault(),d())};return a.jsxs("div",{className:"space-y-4",children:[a.jsx(ae,{children:a.jsxs(le,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"text-sm font-medium",children:["Selected Tags (",t.length,"/",n,")"]}),t.length>0&&a.jsx(F,{size:"sm",type:"button",variant:"ghost",onClick:()=>e([]),className:"h-7 text-xs",children:"Clear All"})]}),t.length===0?a.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No tags selected"}):a.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(g=>a.jsxs(Lp,{variant:"secondary",className:"px-3 py-1.5 text-sm",children:[g,a.jsx("button",{type:"button",onClick:()=>u(g),className:"ml-2 hover:text-destructive transition-colors",children:a.jsx(Mr,{className:"w-3 h-3"})})]},g))})]})}),a.jsxs("div",{className:"relative",children:[a.jsx(FE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Y,{placeholder:"Search tags...",value:r,onChange:g=>i(g.target.value),className:"pl-9"})]}),a.jsx(ae,{children:a.jsxs(le,{className:"pt-6",children:[a.jsx("h3",{className:"text-sm font-medium mb-3",children:"Add Custom Tag"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{placeholder:"Enter custom tag...",value:s,onChange:g=>o(g.target.value),onKeyDown:f,className:"flex-1"}),a.jsxs(F,{type:"button",onClick:d,disabled:!s.trim(),children:[a.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Add"]})]})]})}),a.jsx(ae,{children:a.jsxs(le,{className:"pt-6",children:[a.jsx("h3",{className:"text-sm font-medium mb-3",children:"Predefined Tags"}),Object.keys(l).length===0?a.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No tags found"}):a.jsx(vR,{type:"multiple",className:"w-full",children:Object.entries(l).map(([g,w])=>a.jsxs(Fd,{value:g,children:[a.jsxs(Bd,{className:"text-sm font-medium",children:[g," (",w.length,")"]}),a.jsx($d,{children:a.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:w.map(y=>{const p=t.includes(y),b=!p&&t.length>=n;return a.jsxs(F,{type:"button",size:"sm",variant:p?"default":"outline",onClick:()=>p?u(y):c(y),disabled:b,className:"h-7 text-xs",children:[p&&a.jsx(Mr,{className:"w-3 h-3 mr-1"}),!p&&a.jsx(Rn,{className:"w-3 h-3 mr-1"}),y]},y)})})})]},g))})]})})]})}function hm(){const{id:t}=po(),e=Ft(),n=!!t,[r,i]=h.useState({title:"",subtitle:"",property_type:"active",status:"for_sale",property_category:"apartment",description:"",content:"",price_usd:"",exchange_rate:"17.50",price_on_demand:!1,price_negotiable:!1,price_from_usd:"",price_to_usd:"",bedrooms:"",bathrooms:"",sqm:"",lot_size_sqm:"",year_built:"",furnishing_status:"unfurnished",neighborhood:"",city:"",state:"",country:"Mexico",address:"",google_maps_url:"",tags:[],seo_title:"",seo_description:"",og_title:"",og_description:"",is_active:!1,featured:!1,internal_notes:""});yt({queryKey:["property",t],queryFn:async()=>{var E,A,S,N,R,j,k;const C=(await z.get(`/properties/${t}`)).data.data;return i({title:C.title||"",subtitle:C.subtitle||"",property_type:C.property_type||"active",status:C.status||"for_sale",property_category:C.property_category||"apartment",description:C.description||"",content:C.content||"",price_usd:((E=C.price_usd)==null?void 0:E.toString())||"",exchange_rate:((A=C.exchange_rate)==null?void 0:A.toString())||"17.50",price_on_demand:C.price_on_demand||!1,price_negotiable:C.price_negotiable||!1,price_from_usd:((S=C.price_from_usd)==null?void 0:S.toString())||"",price_to_usd:((N=C.price_to_usd)==null?void 0:N.toString())||"",bedrooms:C.bedrooms||"",bathrooms:C.bathrooms||"",sqm:((R=C.sqm)==null?void 0:R.toString())||"",lot_size_sqm:((j=C.lot_size_sqm)==null?void 0:j.toString())||"",year_built:((k=C.year_built)==null?void 0:k.toString())||"",furnishing_status:C.furnishing_status||"unfurnished",neighborhood:C.neighborhood||"",city:C.city||"",state:C.state||"",country:C.country||"Mexico",address:C.address||"",google_maps_url:C.google_maps_url||"",tags:C.tags||[],seo_title:C.seo_title||"",seo_description:C.seo_description||"",og_title:C.og_title||"",og_description:C.og_description||"",is_active:C.is_active||!1,featured:C.featured||!1,internal_notes:C.internal_notes||""}),C},enabled:n});const s=Qe({mutationFn:async v=>n?z.put(`/properties/${t}`,v):z.post("/properties",v),onSuccess:v=>{var C,E;!n&&((E=(C=v.data)==null?void 0:C.data)!=null&&E.id)&&e(`/properties/${v.data.data.id}`)},onError:v=>{var C,E;alert(((E=(C=v.response)==null?void 0:C.data)==null?void 0:E.error)||"An error occurred")}}),[o,l]=h.useState(null),[c,u]=h.useState("info"),d={title:"info",subtitle:"info",property_type:"info",status:"info",property_category:"info",description:"info",content:"info",price_usd:"price",exchange_rate:"price",price_on_demand:"price",price_negotiable:"price",price_from_usd:"price",price_to_usd:"price",bedrooms:"price",bathrooms:"price",sqm:"price",lot_size_sqm:"price",year_built:"price",furnishing_status:"price",neighborhood:"location",city:"location",state:"location",country:"location",address:"location",google_maps_url:"location",seo_title:"seo",seo_description:"seo",og_title:"seo",og_description:"seo",internal_notes:"notes"},f=v=>{l(v);const C=d[v];C&&u(C),setTimeout(()=>{const E=document.querySelector(`[name="${v}"]`);E&&(E.focus(),E.scrollIntoView({behavior:"smooth",block:"center"}))},100)},g=v=>{if(v.preventDefault(),l(null),!t){if(!r.title.trim()){f("title");return}if(!r.city.trim()){f("city");return}}if(t){if(!r.title.trim()){f("title");return}if(!r.city.trim()){f("city");return}if(!r.price_on_demand&&(!r.price_usd||parseFloat(r.price_usd)<=0)){f("price_usd");return}if(!r.seo_title.trim()){f("seo_title");return}if(!r.seo_description.trim()){f("seo_description");return}if(!r.og_title.trim()){f("og_title");return}if(!r.og_description.trim()){f("og_description");return}}const C={...r,price_usd:r.price_usd?parseFloat(r.price_usd):null,exchange_rate:r.exchange_rate?parseFloat(r.exchange_rate):17.5,price_from_usd:r.price_from_usd?parseFloat(r.price_from_usd):null,price_to_usd:r.price_to_usd?parseFloat(r.price_to_usd):null,sqm:r.sqm?parseFloat(r.sqm):null,lot_size_sqm:r.lot_size_sqm?parseFloat(r.lot_size_sqm):null,year_built:r.year_built?parseInt(r.year_built):null};s.mutate(C)},w=v=>o===v?"border-red-500 ring-2 ring-red-200":"",y=v=>{const{name:C,value:E}=v.target;i(A=>({...A,[C]:E}))},p=(v,C)=>{i(E=>({...E,[v]:C}))},b=(v,C)=>{i(E=>({...E,[v]:C}))},x=a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"text-sm font-medium",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Y,{name:"title",value:r.title,onChange:y,required:!0,className:w("title")})]}),a.jsxs("div",{children:[a.jsx(se,{className:"text-sm font-medium",children:"Subtitle"}),a.jsx(dt,{name:"subtitle",value:r.subtitle,onChange:y,rows:3})]}),a.jsxs("div",{children:[a.jsxs(se,{className:"text-sm font-medium",children:["City ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Y,{name:"city",value:r.city,onChange:y,required:!0,className:w("city")})]}),a.jsxs("div",{children:[a.jsxs(se,{className:"text-sm font-medium",children:["Property Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(In,{value:r.property_type,onValueChange:v=>p("property_type",v),children:[a.jsx(Sn,{children:a.jsx(Mn,{})}),a.jsxs(En,{children:[a.jsx(oe,{value:"active",children:"Active Property"}),a.jsx(oe,{value:"development",children:"New Development"})]})]})]})]}),m=a.jsxs(M4,{value:c,onValueChange:u,className:"w-full",children:[a.jsxs(aA,{className:"grid w-full grid-cols-8",children:[a.jsx(Qr,{value:"info",children:"Basic Info"}),a.jsx(Qr,{value:"price",children:"Pricing"}),a.jsx(Qr,{value:"location",children:"Location"}),a.jsx(Qr,{value:"gallery",children:"Gallery"}),a.jsx(Qr,{value:"tags",children:"Tags"}),a.jsx(Qr,{value:"landing",children:"Landing"}),a.jsx(Qr,{value:"seo",children:"SEO"}),a.jsx(Qr,{value:"notes",children:"Notes"})]}),a.jsxs(Yr,{value:"info",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"text-sm font-medium",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Y,{name:"title",value:r.title,onChange:y,required:!0,className:r.title.trim()?"":"border-red-300"})]}),a.jsxs("div",{children:[a.jsxs(se,{className:"text-sm font-medium",children:["Property Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(In,{value:r.property_type,onValueChange:v=>p("property_type",v),children:[a.jsx(Sn,{children:a.jsx(Mn,{})}),a.jsxs(En,{children:[a.jsx(oe,{value:"active",children:"Active Property"}),a.jsx(oe,{value:"development",children:"New Development"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Subtitle"}),a.jsx(dt,{name:"subtitle",value:r.subtitle,onChange:y,rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"text-sm font-medium",children:["Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(In,{value:r.status,onValueChange:v=>p("status",v),children:[a.jsx(Sn,{children:a.jsx(Mn,{})}),a.jsxs(En,{children:[a.jsx(oe,{value:"for_sale",children:"For Sale"}),a.jsx(oe,{value:"sold",children:"Sold"}),a.jsx(oe,{value:"reserved",children:"Reserved"})]})]})]}),a.jsxs("div",{children:[a.jsxs(se,{className:"text-sm font-medium",children:["Property Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(In,{value:r.property_category,onValueChange:v=>p("property_category",v),children:[a.jsx(Sn,{children:a.jsx(Mn,{})}),a.jsxs(En,{children:[a.jsx(oe,{value:"apartment",children:"Apartment"}),a.jsx(oe,{value:"house",children:"House"}),a.jsx(oe,{value:"villa",children:"Villa"}),a.jsx(oe,{value:"condo",children:"Condo"}),a.jsx(oe,{value:"penthouse",children:"Penthouse"}),a.jsx(oe,{value:"land",children:"Land"}),a.jsx(oe,{value:"commercial",children:"Commercial"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Description"}),a.jsx(dt,{name:"description",value:r.description,onChange:y,rows:3})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Content (WYSIWYG)"}),a.jsx(Ih,{value:r.content,onChange:v=>i(C=>({...C,content:v}))})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pt,{checked:r.is_active,onCheckedChange:v=>b("is_active",v)}),a.jsx(se,{children:"Published"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pt,{checked:r.featured,onCheckedChange:v=>b("featured",v)}),a.jsx(se,{children:"Featured"})]})]})]}),a.jsxs(Yr,{value:"price",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Pt,{checked:r.price_on_demand,onCheckedChange:v=>b("price_on_demand",v)}),a.jsx(se,{children:"Price on Demand"})]}),!r.price_on_demand&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"text-sm font-medium",children:["Price USD ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Y,{type:"number",name:"price_usd",value:r.price_usd,onChange:y,step:"0.01",className:w("price_usd")})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Exchange Rate"}),a.jsx(Y,{type:"number",step:"0.01",name:"exchange_rate",value:r.exchange_rate,onChange:y})]})]}),r.property_type==="development"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(se,{children:"Price From USD"}),a.jsx(Y,{type:"number",name:"price_from_usd",value:r.price_from_usd,onChange:y,step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Price To USD"}),a.jsx(Y,{type:"number",name:"price_to_usd",value:r.price_to_usd,onChange:y,step:"0.01"})]})]}),r.price_negotiable&&r.property_type!=="development"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(se,{children:"Price From USD (negotiable range)"}),a.jsx(Y,{type:"number",name:"price_from_usd",value:r.price_from_usd,onChange:y,step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Price To USD (negotiable range)"}),a.jsx(Y,{type:"number",name:"price_to_usd",value:r.price_to_usd,onChange:y,step:"0.01"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pt,{checked:r.price_negotiable,onCheckedChange:v=>b("price_negotiable",v)}),a.jsx(se,{children:"Price Negotiable"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(se,{children:"Bedrooms"}),a.jsxs(In,{value:r.bedrooms,onValueChange:v=>p("bedrooms",v),children:[a.jsx(Sn,{children:a.jsx(Mn,{placeholder:"Select"})}),a.jsxs(En,{children:[a.jsx(oe,{value:"studio",children:"Studio"}),a.jsx(oe,{value:"1",children:"1"}),a.jsx(oe,{value:"2",children:"2"}),a.jsx(oe,{value:"3",children:"3"}),a.jsx(oe,{value:"4",children:"4"}),a.jsx(oe,{value:"5+",children:"5+"})]})]})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Bathrooms"}),a.jsxs(In,{value:r.bathrooms,onValueChange:v=>p("bathrooms",v),children:[a.jsx(Sn,{children:a.jsx(Mn,{placeholder:"Select"})}),a.jsx(En,{children:["1","1.5","2","2.5","3","3.5","4","4.5","5","5+"].map(v=>a.jsx(oe,{value:v,children:v},v))})]})]}),a.jsxs("div",{children:[a.jsx(se,{children:"SQM"}),a.jsx(Y,{type:"number",name:"sqm",value:r.sqm,onChange:y,step:"0.01"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(se,{children:"Lot Size SQM"}),a.jsx(Y,{type:"number",name:"lot_size_sqm",value:r.lot_size_sqm,onChange:y,step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Year Built"}),a.jsx(Y,{type:"number",name:"year_built",value:r.year_built,onChange:y})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Furnishing Status"}),a.jsxs(In,{value:r.furnishing_status,onValueChange:v=>p("furnishing_status",v),children:[a.jsx(Sn,{children:a.jsx(Mn,{})}),a.jsxs(En,{children:[a.jsx(oe,{value:"furnished",children:"Furnished"}),a.jsx(oe,{value:"semi-furnished",children:"Semi-Furnished"}),a.jsx(oe,{value:"unfurnished",children:"Unfurnished"})]})]})]})]})]}),a.jsxs(Yr,{value:"location",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"text-sm font-medium",children:["City ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Y,{name:"city",value:r.city,onChange:y,required:!0,className:r.city.trim()?"":"border-red-300"})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Neighborhood"}),a.jsx(Y,{name:"neighborhood",value:r.neighborhood,onChange:y})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(se,{children:"State"}),a.jsx(Y,{name:"state",value:r.state,onChange:y})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Country"}),a.jsxs(In,{value:r.country,onValueChange:v=>p("country",v),children:[a.jsx(Sn,{children:a.jsx(Mn,{})}),a.jsxs(En,{children:[a.jsx(oe,{value:"Mexico",children:"Mexico"}),a.jsx(oe,{value:"USA",children:"USA"}),a.jsx(oe,{value:"Italy",children:"Italy"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Address"}),a.jsx(dt,{name:"address",value:r.address,onChange:y,rows:2})]}),a.jsxs("div",{children:[a.jsx(se,{children:"Google Maps Embed URL"}),a.jsx(dt,{name:"google_maps_url",value:r.google_maps_url,onChange:y,rows:3,placeholder:"Paste your Google Maps embed URL here (e.g. https://www.google.com/maps/embed?pb=...)"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get the embed URL from Google Maps: Share  Embed a map  Copy the src URL from the iframe"})]})]}),a.jsx(Yr,{value:"gallery",className:"space-y-4",children:t?a.jsx(TU,{propertyId:parseInt(t)}):a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center bg-muted/50",children:[a.jsx("p",{className:"text-muted-foreground mb-2",children:"Gallery Upload"}),a.jsx("p",{className:"text-sm",children:"Save the property first to upload images"})]})}),a.jsx(Yr,{value:"tags",className:"space-y-4",children:a.jsx(ez,{selectedTags:r.tags,onChange:v=>i(C=>({...C,tags:v})),maxTags:20})}),a.jsx(Yr,{value:"landing",className:"space-y-4",children:t?a.jsx(ZU,{propertyId:Number(t)}):a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center bg-muted/50",children:[a.jsx("p",{className:"text-muted-foreground mb-2",children:"Landing Pages"}),a.jsx("p",{className:"text-sm",children:"Save the property first to associate landing pages"})]})}),a.jsxs(Yr,{value:"seo",className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(se,{children:["SEO Title (max 160 chars) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Y,{name:"seo_title",value:r.seo_title,onChange:y,maxLength:160,className:w("seo_title")}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.seo_title.length,"/160"]})]}),a.jsxs("div",{children:[a.jsxs(se,{children:["SEO Description (max 320 chars) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(dt,{name:"seo_description",value:r.seo_description,onChange:y,maxLength:320,rows:3,className:w("seo_description")}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.seo_description.length,"/320"]})]}),a.jsxs("div",{children:[a.jsxs(se,{children:["OG Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Y,{name:"og_title",value:r.og_title,onChange:y,maxLength:160,className:w("og_title")})]}),a.jsxs("div",{children:[a.jsxs(se,{children:["OG Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(dt,{name:"og_description",value:r.og_description,onChange:y,maxLength:320,rows:3,className:w("og_description")})]})]}),a.jsxs(Yr,{value:"notes",className:"space-y-4",children:[a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:a.jsxs("p",{className:"text-sm text-amber-800",children:[a.jsx("strong",{children:"Internal Notes:"})," These notes are only visible in the admin panel and will NOT be displayed on the public website."]})}),a.jsxs("div",{children:[a.jsx(se,{children:"Internal Notes"}),a.jsx(dt,{name:"internal_notes",value:r.internal_notes,onChange:y,rows:10,placeholder:"Add private notes about this property..."})]})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>e("/properties"),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Property":"New Property"})]}),a.jsxs(F,{type:"button",onClick:g,disabled:s.isPending,children:[a.jsx(ME,{className:"mr-2 h-4 w-4"}),s.isPending?"Saving...":n?"Update":"Create"]})]}),a.jsx(ae,{children:a.jsx(le,{className:"pt-6",children:a.jsx("form",{onSubmit:g,children:n?m:x})})})]})}const tz=hh("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lg=h.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:xe(tz({variant:e}),t),...n}));lg.displayName="Alert";const nz=h.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:xe("mb-1 font-medium leading-none tracking-tight",t),...e}));nz.displayName="AlertTitle";const cg=h.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xe("text-sm [&_p]:leading-relaxed",t),...e}));cg.displayName="AlertDescription";function rz(){var w,y,p,b,x;const t=Ft(),[e,n]=h.useState(""),[r,i]=h.useState(null),[s,o]=h.useState([]),l={title:"Luxury Beachfront Villa in Tulum",subtitle:"Modern 3BR villa with private pool",property_type:"active",status:"for_sale",property_category:"villa",description:"Stunning beachfront villa...",content:"<h2>Welcome</h2><p>Description...</p>",price_usd:85e4,price_on_demand:!1,bedrooms:"3",bathrooms:"3.5",sqm:250,furnishing_status:"furnished",neighborhood:"Tulum Beach",city:"Tulum",country:"Mexico",latitude:20.2114185,longitude:-87.4653502,tags:["Ocean View","Private Pool","Security 24/7"],seo_title:"Luxury Villa in Tulum - 3BR with Pool",seo_description:"Discover this stunning villa...",is_active:!0,featured:!1},c=Qe({mutationFn:async m=>z.post("/properties/import-json?validate_only=true",m),onSuccess:m=>{i(m.data.data),o([])},onError:m=>{var C,E;const v=((E=(C=m.response)==null?void 0:C.data)==null?void 0:E.error)||"Validation failed";o([v]),i(null)}}),u=Qe({mutationFn:async m=>z.post("/properties/import-json",m),onSuccess:m=>{var C;const v=(C=m.data.data)==null?void 0:C.id;alert("Property imported successfully!"),t(v?`/properties/${v}`:"/properties")},onError:m=>{var C,E;const v=((E=(C=m.response)==null?void 0:C.data)==null?void 0:E.error)||"Import failed";o([v])}}),d=()=>{o([]),i(null);try{const m=JSON.parse(e);c.mutate(m)}catch(m){o([`Invalid JSON syntax: ${m.message}`])}},f=()=>{if(!(r!=null&&r.valid)){o(["Please validate JSON first"]);return}try{const m=JSON.parse(e);u.mutate(m)}catch(m){o([`Invalid JSON: ${m.message}`])}},g=()=>{n(JSON.stringify(l,null,2)),i(null),o([])};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t("/properties"),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Import Property from JSON"}),a.jsx("p",{className:"text-muted-foreground",children:"Import properties in bulk or migrate from external systems"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Ze,{children:"JSON Data"}),a.jsxs(F,{variant:"outline",size:"sm",onClick:g,children:[a.jsx(zL,{className:"mr-2 h-4 w-4"}),"Show Example"]})]})}),a.jsxs(le,{className:"space-y-4",children:[a.jsx(dt,{value:e,onChange:m=>n(m.target.value),placeholder:"Paste your JSON here...",rows:20,className:"font-mono text-sm"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(F,{onClick:d,disabled:!e||c.isPending,variant:"outline",children:c.isPending?"Validating...":"Validate JSON"}),a.jsxs(F,{onClick:f,disabled:!(r!=null&&r.valid)||u.isPending,children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),u.isPending?"Importing...":"Import Property"]})]})]})]}),r&&a.jsxs(lg,{className:"border-green-500 bg-green-50",children:[a.jsx(BL,{className:"h-4 w-4 text-green-600"}),a.jsxs(cg,{children:[a.jsx("strong",{className:"text-green-900",children:" JSON is valid"}),a.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[a.jsxs("p",{children:["Title: ",(w=r.preview)==null?void 0:w.title]}),a.jsxs("p",{children:["Type: ",(y=r.preview)==null?void 0:y.property_type]}),a.jsxs("p",{children:["Price: $",(b=(p=r.preview)==null?void 0:p.price_usd)==null?void 0:b.toLocaleString()]}),a.jsxs("p",{children:["City: ",(x=r.preview)==null?void 0:x.city]})]})]})]}),s.length>0&&a.jsxs(lg,{variant:"destructive",children:[a.jsx(YL,{className:"h-4 w-4"}),a.jsxs(cg,{children:[a.jsx("strong",{children:"Validation Errors:"}),a.jsx("ul",{className:"mt-2 list-disc list-inside",children:s.map((m,v)=>a.jsx("li",{children:m},v))})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsx(Ze,{className:"text-lg",children:"Required Fields"})}),a.jsx(le,{className:"text-sm space-y-2",children:a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"title (string)"}),a.jsx("li",{children:"property_type (active/development)"}),a.jsx("li",{children:"property_category"}),a.jsx("li",{children:"city (string)"}),a.jsx("li",{children:"latitude (number)"}),a.jsx("li",{children:"longitude (number)"}),a.jsx("li",{children:"price_usd or price_on_demand"})]})})]}),a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsx(Ze,{className:"text-lg",children:"Tags Format"})}),a.jsxs(le,{className:"text-sm",children:[a.jsx("p",{className:"mb-2",children:"Tags must be an array:"}),a.jsx("code",{className:"block bg-gray-100 p-2 rounded text-xs",children:'"tags": ["Pool", "Gym", "Security 24/7"]'}),a.jsx("p",{className:"mt-2 text-muted-foreground",children:"Max 20 tags"})]})]}),a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsx(Ze,{className:"text-lg",children:"Use Cases"})}),a.jsx(le,{className:"text-sm space-y-2",children:a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[a.jsx("li",{children:"Migrate from WordPress"}),a.jsx("li",{children:"Bulk property import"}),a.jsx("li",{children:"Duplicate existing property"}),a.jsx("li",{children:"Backup & restore"}),a.jsx("li",{children:"Testing with sample data"})]})})]})]})]})]})}function xr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function uo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const yR=6048e5,iz=864e5;let sz={};function zh(){return sz}function xc(t,e){var l,c,u,d;const n=zh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=xr(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ud(t){return xc(t,{weekStartsOn:1})}function xR(t){const e=xr(t),n=e.getFullYear(),r=uo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Ud(r),s=uo(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Ud(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function U0(t){const e=xr(t);return e.setHours(0,0,0,0),e}function z0(t){const e=xr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function oz(t,e){const n=U0(t),r=U0(e),i=+n-z0(n),s=+r-z0(r);return Math.round((i-s)/iz)}function az(t){const e=xR(t),n=uo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ud(n)}function lz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cz(t){if(!lz(t)&&typeof t!="number")return!1;const e=xr(t);return!isNaN(Number(e))}function uz(t){const e=xr(t),n=uo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const dz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hz=(t,e,n)=>{let r;const i=dz[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const fz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gz={date:fm({formats:fz,defaultWidth:"full"}),time:fm({formats:mz,defaultWidth:"full"}),dateTime:fm({formats:pz,defaultWidth:"full"})},vz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yz=(t,e,n,r)=>vz[t];function pl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const xz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ez={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Az={ordinalNumber:Nz,era:pl({values:xz,defaultWidth:"wide"}),quarter:pl({values:bz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:pl({values:wz,defaultWidth:"wide"}),day:pl({values:Cz,defaultWidth:"wide"}),dayPeriod:pl({values:Sz,defaultWidth:"wide",formattingValues:Ez,defaultFormattingWidth:"wide"})};function gl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Rz(l,f=>f.test(o)):jz(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function jz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Rz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function kz(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Tz=/^(\d+)(th|st|nd|rd)?/i,Pz=/\d+/i,Dz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_z={any:[/^b/i,/^(a|c)/i]},Oz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lz={any:[/1/i,/2/i,/3/i,/4/i]},Iz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$z={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zz={ordinalNumber:kz({matchPattern:Tz,parsePattern:Pz,valueCallback:t=>parseInt(t,10)}),era:gl({matchPatterns:Dz,defaultMatchWidth:"wide",parsePatterns:_z,defaultParseWidth:"any"}),quarter:gl({matchPatterns:Oz,defaultMatchWidth:"wide",parsePatterns:Lz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gl({matchPatterns:Iz,defaultMatchWidth:"wide",parsePatterns:Mz,defaultParseWidth:"any"}),day:gl({matchPatterns:Fz,defaultMatchWidth:"wide",parsePatterns:Bz,defaultParseWidth:"any"}),dayPeriod:gl({matchPatterns:$z,defaultMatchWidth:"any",parsePatterns:Uz,defaultParseWidth:"any"})},Wz={code:"en-US",formatDistance:hz,formatLong:gz,formatRelative:yz,localize:Az,match:zz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vz(t){const e=xr(t);return oz(e,uz(e))+1}function Hz(t){const e=xr(t),n=+Ud(e)-+az(e);return Math.round(n/yR)+1}function bR(t,e){var d,f,g,w;const n=xr(t),r=n.getFullYear(),i=zh(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(g=i.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,o=uo(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=xc(o,e),c=uo(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=xc(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function qz(t,e){var l,c,u,d;const n=zh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=bR(t,e),s=uo(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),xc(s,e)}function Kz(t,e){const n=xr(t),r=+xc(n,e)-+qz(n,e);return Math.round(r/yR)+1}function Ue(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ti={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ue(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ue(n+1,2)},d(t,e){return Ue(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ue(t.getHours()%12||12,e.length)},H(t,e){return Ue(t.getHours(),e.length)},m(t,e){return Ue(t.getMinutes(),e.length)},s(t,e){return Ue(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ue(i,e.length)}},Po={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W0={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ti.y(t,e)},Y:function(t,e,n,r){const i=bR(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ue(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ue(s,e.length)},R:function(t,e){const n=xR(t);return Ue(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ue(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ue(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ue(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ti.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ue(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Kz(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ue(i,e.length)},I:function(t,e,n){const r=Hz(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ue(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ti.d(t,e)},D:function(t,e,n){const r=Vz(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ue(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ue(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ue(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ue(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Po.noon:r===0?i=Po.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Po.evening:r>=12?i=Po.afternoon:r>=4?i=Po.morning:i=Po.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ti.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ti.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ue(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ue(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ti.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ti.s(t,e)},S:function(t,e){return Ti.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return H0(r);case"XXXX":case"XX":return js(r);case"XXXXX":case"XXX":default:return js(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return H0(r);case"xxxx":case"xx":return js(r);case"xxxxx":case"xxx":default:return js(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+V0(r,":");case"OOOO":default:return"GMT"+js(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+V0(r,":");case"zzzz":default:return"GMT"+js(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ue(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ue(r,e.length)}};function V0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ue(s,2)}function H0(t,e){return t%60===0?(t>0?"-":"+")+Ue(Math.abs(t)/60,2):js(t,e)}function js(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ue(Math.trunc(r/60),2),s=Ue(r%60,2);return n+i+e+s}const q0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wR=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Gz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return q0(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",q0(r,e)).replace("{{time}}",wR(i,e))},Qz={p:wR,P:Gz},Yz=/^D+$/,Jz=/^Y+$/,Xz=["D","DD","YY","YYYY"];function Zz(t){return Yz.test(t)}function eW(t){return Jz.test(t)}function tW(t,e,n){const r=nW(t,e,n);if(console.warn(r),Xz.includes(t))throw new RangeError(r)}function nW(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sW=/^'([^]*?)'?$/,oW=/''/g,aW=/[a-zA-Z]/;function ug(t,e,n){var d,f,g,w;const r=zh(),i=r.locale??Wz,s=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((w=(g=r.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,l=xr(t);if(!cz(l))throw new RangeError("Invalid time value");let c=e.match(iW).map(y=>{const p=y[0];if(p==="p"||p==="P"){const b=Qz[p];return b(y,i.formatLong)}return y}).join("").match(rW).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const p=y[0];if(p==="'")return{isToken:!1,value:lW(y)};if(W0[p])return{isToken:!0,value:y};if(p.match(aW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const p=y.value;(eW(p)||Zz(p))&&tW(p,e,String(t));const b=W0[p[0]];return b(l,p,i.localize,u)}).join("")}function lW(t){const e=t.match(sW);return e?e[1].replace(oW,"'"):t}function cW(){var A;const t=bn(),[e,n]=h.useState(""),[r,i]=h.useState([]),[s,o]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!1),f="/api",g=h.useMemo(()=>f.replace(/\/api$/,""),[f]),w=S=>{if(!S)return"";const N=g||window.location.origin;return S.startsWith("http")?S:S.startsWith("/")?`${N}${S}`:`${N}/${S}`},{data:y,isLoading:p,refetch:b}=yt({queryKey:["blogs",e],queryFn:async()=>{var D;const S=e?`&q=${encodeURIComponent(e)}`:"",N=await z.get(`/blogs?include_deleted=false${S}`),R=((D=N.data)==null?void 0:D.data)??N.data??[],j=Array.isArray(R==null?void 0:R.blogs)?R.blogs:Array.isArray(R)?R:[],k=(R==null?void 0:R.pagination)??null;return{blogs:j,pagination:k}},refetchOnWindowFocus:!1});h.useEffect(()=>{const S=(y==null?void 0:y.blogs)||[];if(S.length){const N=[...S].sort((R,j)=>(R.display_order||0)-(j.display_order||0));i(N)}else i([])},[y]),h.useEffect(()=>{if(p){d(!1);return}const S=setTimeout(()=>d(!0),600);return()=>clearTimeout(S)},[p,e]);const x=async S=>{if(s===null||s===S){o(null);return}const N=[...r],[R]=N.splice(s,1);N.splice(S,0,R);const j=N.map((k,D)=>({...k,display_order:D+1}));i(j),o(null);try{await z.post("/blogs/reorder",{order:j.map((k,D)=>({id:k.id,display_order:D+1}))}),t.invalidateQueries({queryKey:["blogs"]}),b()}catch(k){console.error("Failed to reorder blogs:",k),b()}},m=async(S,N)=>{try{i(R=>R.map(j=>j.id===S.id?{...j,is_home:N}:j)),await z.put(`/blogs/${S.id}`,{is_home:N?1:0}),t.invalidateQueries({queryKey:["blogs"]})}catch(R){console.error("Failed to update isHome",R),b()}},v=Qe({mutationFn:async S=>z.delete(`/blogs/${S}`),onSuccess:async S=>{var N,R;c(null),t.invalidateQueries({queryKey:["blogs"]}),b(),console.log(((R=(N=S==null?void 0:S.data)==null?void 0:N.data)==null?void 0:R.message)||"Blog removed")},onError:S=>{var N,R;console.error(((R=(N=S==null?void 0:S.response)==null?void 0:N.data)==null?void 0:R.error)||"Failed to delete blog")}}),C=()=>{l&&v.mutate(l)};return p||!u?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Blogs"}),a.jsx(F,{asChild:!0,children:a.jsxs(tn,{to:"/blogs/new",children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Blog"]})})]}),a.jsx("div",{className:"grid gap-4",children:[1,2,3].map(S=>a.jsxs(ae,{className:"animate-pulse",children:[a.jsx(Ve,{children:a.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),a.jsx(le,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"})]})})]},S))})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Blogs"}),a.jsxs("p",{className:"text-muted-foreground",children:[((A=y==null?void 0:y.pagination)==null?void 0:A.total)??r.length??0," total blogs"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Y,{placeholder:"Search blogs...",value:e,onChange:S=>n(S.target.value),className:"w-56"}),a.jsx(F,{asChild:!0,children:a.jsxs(tn,{to:"/blogs/new",children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Blog"]})})]})]}),r.length===0?a.jsx(ae,{children:a.jsxs(le,{className:"flex flex-col items-center justify-center py-16",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No blogs found"}),a.jsx(F,{asChild:!0,children:a.jsxs(tn,{to:"/blogs/new",children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Create your first blog"]})})]})}):a.jsx("div",{className:"grid gap-4",children:r.map((S,N)=>a.jsx(ae,{className:"overflow-hidden border border-dashed",draggable:!0,onDragStart:()=>o(N),onDragOver:R=>R.preventDefault(),onDrop:()=>x(N),onDragEnd:()=>o(null),children:a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsxs("div",{className:"p-2 text-muted-foreground cursor-grab",children:[a.jsx(go,{className:"h-5 w-5"}),a.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",N+1]})]}),S.featured_image?a.jsx("img",{src:w(S.featured_image),alt:S.featured_image_alt||S.title,className:"w-48 h-48 object-cover my-4 ml-2 mr-4 rounded-lg"}):a.jsx("div",{className:"w-48 h-48 flex items-center justify-center flex-shrink-0 my-4 ml-2 mr-4 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-amber-50 to-rose-50",children:a.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),a.jsxs("div",{className:"flex-1 py-4 pr-4",children:[a.jsx(Ve,{className:"p-0 pb-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Ze,{className:"line-clamp-1",children:S.title}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[a.jsx(Ba,{className:"h-3 w-3"}),a.jsxs("span",{className:"break-all",children:["/blog/",S.slug]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),a.jsx(Pt,{checked:!!S.is_home,onCheckedChange:R=>m(S,R),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle blog on home"})]})]})}),a.jsxs(le,{className:"p-0",children:[S.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:S.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(kp,{className:"h-4 w-4"}),a.jsx("span",{children:S.published_date?ug(new Date(S.published_date),"MMM dd, yyyy"):"No date"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs(tn,{to:`/blogs/${S.id}/edit`,children:[a.jsx($a,{className:"mr-2 h-4 w-4"}),"Edit"]})}),a.jsx(F,{variant:"destructive",size:"sm",onClick:()=>c(S.id),children:a.jsx(Ua,{className:"h-4 w-4"})})]})]})]})]})]})},S.id))}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Delete blog?"}),a.jsx("p",{className:"text-muted-foreground",children:"If the blog is older than 24h it will be archived (not removed) and a redirect placeholder will be created for SEO safety."}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(F,{variant:"outline",onClick:()=>c(null),children:"Close"}),a.jsx(F,{variant:"destructive",onClick:C,disabled:v.isPending,children:v.isPending?"Deleting...":"Delete"})]})]})})]})}function K0(){const{id:t}=po(),e=Ft(),n=!!t,i="/api".replace(/\/api$/,""),s=N=>N?N.startsWith("http")?N:`${i}${N}`:"",o=N=>N.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),[l,c]=h.useState({title:"",slug:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",description:"",content:"",featured_image:"",featured_image_alt:"",content_image:"",content_image_alt:"",is_home:!1,published_date:new Date().toISOString().split("T")[0]}),[u,d]=h.useState(!1),[f,g]=h.useState(!1),[w,y]=h.useState(""),[p,b]=h.useState(""),x=h.useRef(null),m=h.useRef(null);yt({queryKey:["blog",t],queryFn:async()=>{const R=(await z.get(`/blogs/${t}`)).data.data;return c({title:R.title||"",slug:R.slug||"",seoTitle:R.seoTitle||"",seoDescription:R.seoDescription||"",ogTitle:R.ogTitle||"",ogDescription:R.ogDescription||"",description:R.description||"",content:R.content||"",featured_image:R.featured_image||"",featured_image_alt:R.featured_image_alt||"",content_image:R.content_image||"",content_image_alt:R.content_image_alt||"",is_home:R.is_home,published_date:R.published_date||new Date().toISOString().split("T")[0]}),R.featured_image&&y(s(R.featured_image)),R.content_image&&b(s(R.content_image)),R},enabled:n});const v=Qe({mutationFn:async N=>n?z.put(`/blogs/${t}`,N):z.post("/blogs",N),onSuccess:()=>{e("/blogs")},onError:N=>{var R,j;alert(((j=(R=N.response)==null?void 0:R.data)==null?void 0:j.error)||"An error occurred")}}),C=N=>{var k;N.preventDefault();const R=((k=l.slug)==null?void 0:k.trim())||o(l.title);if(!l.seoTitle.trim()||!l.seoDescription.trim()||!l.ogTitle.trim()||!l.ogDescription.trim()){alert("SEO fields (title, meta description, OG title, OG description) are required");return}if(l.featured_image&&!l.featured_image_alt.trim()){alert("Alt text is required when you upload an image");return}if(l.content_image&&!l.content_image_alt.trim()){alert("Alt text is required when you upload the content image");return}const j={...l,slug:R,is_home:l.is_home?1:0};v.mutate(j)},E=N=>{const{name:R,value:j,type:k}=N.target;c(D=>({...D,[R]:k==="checkbox"?N.target.checked:j,...R==="title"&&!n?{slug:D.slug?D.slug:o(j)}:{}}))},A=async(N,R)=>{var B;const j=(B=N.target.files)==null?void 0:B[0];if(!j)return;if(!j.type.startsWith("image/")){console.warn("Please select an image file");return}if(j.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const k=R==="featured"?d:g,D=R==="featured"?y:b,M=R==="featured"?"featured_image":"content_image";k(!0);try{const J=new FormData;J.append("image",j);const Q=(await z.post("/upload/blog-image",J,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;c(O=>({...O,[M]:Q})),D(s(Q))}catch(J){console.error("Upload failed:",J)}finally{k(!1)}},S=async N=>{const R=N==="featured"?l.featured_image:l.content_image;if(R&&confirm("Remove this image?")){try{await z.delete(`/upload/file?url=${encodeURIComponent(R)}`)}catch(j){console.error("Failed to delete image:",j)}c(j=>({...j,...N==="featured"?{featured_image:"",featured_image_alt:""}:{content_image:"",content_image_alt:""}})),N==="featured"?y(""):b("")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>e("/blogs"),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Blog":"New Blog"})]}),a.jsx("form",{onSubmit:C,children:a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsx(Ze,{children:"Blog Information"})}),a.jsxs(le,{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Page title (H1) *"}),a.jsx(Y,{id:"title",name:"title",value:l.title,onChange:E,required:!0})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Short description"}),a.jsx(dt,{id:"description",name:"description",value:l.description,onChange:E,rows:3,placeholder:"Short summary for listings"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"published_date",className:"text-sm font-medium",children:"Published date"}),a.jsx(Y,{id:"published_date",name:"published_date",type:"date",value:l.published_date,onChange:E})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Pt,{checked:l.is_home,onCheckedChange:N=>c(R=>({...R,is_home:N})),className:"data-[state=checked]:bg-green-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-base font-semibold",children:"Images"}),a.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[a.jsx("div",{className:"space-y-1",children:a.jsx("p",{className:"text-sm font-semibold",children:"Cover image"})}),w?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:w,alt:"Preview",style:{width:"340px",height:"250px"},className:"object-cover rounded-lg border"}),a.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>S("featured"),children:[a.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Rimuovi"]})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var N;return(N=x.current)==null?void 0:N.click()},onKeyDown:N=>{var R;(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),(R=x.current)==null||R.click())},children:[a.jsx(Ir,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload image"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"340 x 250px"}),a.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:N=>A(N,"featured"),disabled:u,className:"hidden"}),u&&a.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),a.jsxs("div",{className:"space-y-1 pt-1 max-w-xl",children:[a.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),a.jsx(Y,{name:"featured_image_alt",value:l.featured_image_alt,onChange:E,required:!!l.featured_image})]})]}),a.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[a.jsx("div",{className:"space-y-1",children:a.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"})}),p?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:p,alt:"Content preview",style:{width:"340px",height:"250px"},className:"object-cover rounded-lg border"}),a.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>S("content"),children:[a.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Rimuovi"]})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var N;return(N=m.current)==null?void 0:N.click()},onKeyDown:N=>{var R;(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),(R=m.current)==null||R.click())},children:[a.jsx(Ir,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"16:9 recommended, max 10MB"}),a.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:N=>A(N,"content"),disabled:f,className:"hidden"}),f&&a.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),a.jsxs("div",{className:"space-y-1 pt-1 max-w-xl",children:[a.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),a.jsx(Y,{name:"content_image_alt",value:l.content_image_alt,onChange:E,required:!!l.content_image})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Full content"}),a.jsx(Ih,{value:l.content,onChange:N=>c(R=>({...R,content:N})),placeholder:"Write your blog content..."})]}),a.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[a.jsx("div",{className:"flex items-center justify-between gap-2",children:a.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{htmlFor:"slug",className:"text-sm font-medium",children:"LNK (url)"}),a.jsx(Y,{id:"slug",name:"slug",value:l.slug,onChange:N=>{n||c(R=>({...R,slug:o(N.target.value)}))},disabled:n})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),a.jsx(Y,{name:"seoTitle",value:l.seoTitle,onChange:E,maxLength:160})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),a.jsx(dt,{name:"seoDescription",value:l.seoDescription,onChange:E,rows:3,maxLength:320})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:'OG Title  (meta="og:title")'}),a.jsx(Y,{name:"ogTitle",value:l.ogTitle,onChange:E,maxLength:160})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:'OG Description  (meta="og:description")'}),a.jsx(dt,{name:"ogDescription",value:l.ogDescription,onChange:E,rows:3,maxLength:320})]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(F,{type:"submit",disabled:v.isPending,children:v.isPending?"Saving...":n?"Update Blog":"Create Blog"}),a.jsx(F,{type:"button",variant:"outline",onClick:()=>e("/blogs"),children:"Close"})]})]})]})})]})}function uW(){return a.jsx("div",{className:"space-y-6",children:a.jsx(ae,{className:"p-10 text-center border-dashed",children:a.jsxs(le,{className:"space-y-3",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx($E,{className:"h-10 w-10 text-muted-foreground"})}),a.jsx("h2",{className:"text-2xl font-semibold",children:"Photo Gallery  work in progress"}),a.jsx("p",{className:"text-muted-foreground",children:"This section is under construction. Check back soon."})]})})})}function G0(){const t=Ft(),{id:e}=po(),[n]=nD(),r=bn(),i=!!e,s=n.get("property_id"),[o,l]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState({property_id:s?parseInt(s):0,image_url:"",caption:"",alt_text:"",display_order:0,is_featured:!1}),{data:g}=yt({queryKey:["photo",e],queryFn:async()=>(await z.get(`/photogallery/${e}`)).data.data,enabled:i});h.useEffect(()=>{g&&(f({property_id:g.property_id,image_url:g.image_url,thumbnail_url:g.thumbnail_url,medium_url:g.medium_url,caption:g.caption||"",alt_text:g.alt_text||"",display_order:g.display_order,is_featured:g.is_featured}),u(g.medium_url||g.image_url))},[g]);const w=Qe({mutationFn:async v=>{await z.post("/photogallery",v)},onSuccess:()=>{r.invalidateQueries({queryKey:["photos"]}),t(`/photogallery?property_id=${d.property_id}`)}}),y=Qe({mutationFn:async v=>{await z.put(`/photogallery/${e}`,v)},onSuccess:()=>{r.invalidateQueries({queryKey:["photos"]}),r.invalidateQueries({queryKey:["photo",e]}),t(`/photogallery?property_id=${d.property_id}`)}}),p=async v=>{var E;const C=(E=v.target.files)==null?void 0:E[0];if(C){if(!C.type.startsWith("image/")){alert("Please select an image file");return}if(C.size>10*1024*1024){alert("Il file  troppo grande. Massimo 10MB");return}try{l(!0);const A=new FormData;A.append("image",C);const N=(await z.post("/upload/property-image",A,{headers:{"Content-Type":"multipart/form-data"}})).data.data;f(R=>({...R,image_url:N.original,thumbnail_url:N.thumbnail,medium_url:N.medium})),u(N.medium)}catch(A){console.error("Upload error:",A),alert("Error while uploading the image")}finally{l(!1)}}},b=async()=>{if(confirm("Do you want to remove this image?")){if(d.image_url)try{await z.delete(`/upload/file?url=${encodeURIComponent(d.image_url)}`)}catch(v){console.error("Error deleting file:",v)}f(v=>({...v,image_url:"",thumbnail_url:"",medium_url:""})),u("")}},x=v=>{if(v.preventDefault(),!d.image_url){alert("Please upload an image");return}if(i){const C={caption:d.caption,alt_text:d.alt_text,display_order:d.display_order,is_featured:d.is_featured};y.mutate(C)}else w.mutate(d)},m=()=>{const v=d.property_id||s;t(v?`/photogallery?property_id=${v}`:"/photogallery")};return a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:i?"Edit Photo":"Upload New Photo"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:i?"Update photo details":"Add a new photo to the gallery"})]}),a.jsx("form",{onSubmit:x,children:a.jsxs(ae,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{children:"Image *"}),c?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:c,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}),!i&&a.jsxs(F,{type:"button",variant:"destructive",size:"sm",onClick:b,className:"absolute top-2 right-2",children:[a.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-12 text-center hover:border-primary/50 transition-colors",children:[a.jsx(Y,{type:"file",accept:"image/*",onChange:p,disabled:o,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[a.jsx(Ir,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-sm font-medium mb-1",children:o?"Uploading...":"Click to upload or drag here"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP up to 10MB"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"caption",children:"Didascalia"}),a.jsx(Y,{id:"caption",value:d.caption,onChange:v=>f(C=>({...C,caption:v.target.value})),placeholder:"Es: Vista del soggiorno"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"alt_text",children:"Testo Alternativo"}),a.jsx(Y,{id:"alt_text",value:d.alt_text,onChange:v=>f(C=>({...C,alt_text:v.target.value})),placeholder:"Descrizione per accessibilit e SEO"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"display_order",children:"Ordine di Visualizzazione"}),a.jsx(Y,{id:"display_order",type:"number",value:d.display_order,onChange:v=>f(C=>({...C,display_order:parseInt(v.target.value)||0})),min:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Numeri pi bassi appaiono per primi"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(se,{htmlFor:"is_featured",children:"Featured Photo"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This will be the main photo for the property"})]}),a.jsx(Pt,{id:"is_featured",checked:d.is_featured,onCheckedChange:v=>f(C=>({...C,is_featured:v}))})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(F,{type:"submit",disabled:w.isPending||y.isPending,className:"flex-1",children:w.isPending||y.isPending?"Salvataggio...":i?"Update Photo":"Upload Photo"}),a.jsx(F,{type:"button",variant:"outline",onClick:m,children:"Annulla"})]})]})})]})}function dW(){const t=bn(),[e,n]=h.useState(""),[r,i]=h.useState([]),[s,o]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(!1),[f,g]=h.useState({}),w="/api",y=h.useMemo(()=>w.replace(/\/api$/,""),[w]),p=S=>S?S.startsWith("http")?S:S.startsWith("/")?`${y}${S}`:`${y}/${S}`:"",{data:b,isLoading:x,refetch:m}=yt({queryKey:["videos",e],queryFn:async()=>{var j;const S=e?`&q=${encodeURIComponent(e)}`:"",N=await z.get(`/videos?include_deleted=false${S}`),R=((j=N.data)==null?void 0:j.data)??N.data??{};return Array.isArray(R==null?void 0:R.videos)?{videos:R.videos,pagination:R.pagination??null}:Array.isArray(R)?{videos:R,pagination:null}:{videos:[],pagination:null}},refetchOnWindowFocus:!1});h.useEffect(()=>{const S=(b==null?void 0:b.videos)||[];if(S.length){const N=[...S].sort((R,j)=>(R.display_order||0)-(j.display_order||0));i(N)}else i([])},[b]),h.useEffect(()=>{if(x){d(!1);return}const S=setTimeout(()=>d(!0),1e3);return()=>clearTimeout(S)},[x,e]);const v=async S=>{if(s===null||s===S){o(null);return}const N=[...r],[R]=N.splice(s,1);N.splice(S,0,R);const j=N.map((k,D)=>({...k,display_order:D+1}));i(j),o(null);try{await z.post("/videos/reorder",{order:j.map((k,D)=>({id:k.id,display_order:D+1}))}),t.invalidateQueries({queryKey:["videos"]}),m()}catch(k){console.error("Failed to reorder videos:",k),m()}},C=async(S,N)=>{try{i(R=>R.map(j=>j.id===S.id?{...j,is_home:N}:j)),await z.put(`/videos/${S.id}`,{is_home:N?1:0}),t.invalidateQueries({queryKey:["videos"]})}catch(R){console.error("Failed to update home flag",R),m()}},E=async()=>{if(l)try{await z.delete(`/videos/${l}`),c(null),m()}catch(S){console.error("Failed to delete video:",S)}};return x||!u?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Videos"}),a.jsx(tn,{to:"/videos/new",children:a.jsxs(F,{children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Video"]})})]}),a.jsx("div",{className:"grid gap-4",children:[1,2,3].map(S=>a.jsxs(ae,{className:"animate-pulse",children:[a.jsx(Ve,{children:a.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded"})}),a.jsx(le,{children:a.jsx("div",{className:"h-4 w-full bg-gray-100 rounded"})})]},S))})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Videos"}),a.jsx(tn,{to:"/videos/new",children:a.jsxs(F,{children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Video"]})})]}),a.jsx(Y,{placeholder:"Search videos...",value:e,onChange:S=>n(S.target.value)}),r.length===0?a.jsx(ae,{children:a.jsxs(le,{className:"pt-6 text-center text-muted-foreground",children:["No videos found."," ",a.jsx(tn,{to:"/videos/new",className:"text-primary hover:underline",children:"Create your first video"})]})}):a.jsx("div",{className:"grid gap-4",children:r.map((S,N)=>a.jsx(ae,{draggable:!0,onDragStart:()=>o(N),onDragOver:R=>R.preventDefault(),onDrop:()=>v(N),onDragEnd:()=>o(null),className:`overflow-hidden border border-dashed cursor-move transition ${s===N?"opacity-50":""}`,children:a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsxs("div",{className:"p-3 text-muted-foreground cursor-grab",children:[a.jsx(go,{className:"h-5 w-5"}),a.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",N+1]})]}),S.thumbnail_url&&!f[S.id]?a.jsx("img",{src:p(S.thumbnail_url),alt:S.thumbnail_alt||S.title,className:"w-48 h-48 object-cover my-4 mr-4 rounded-lg",onError:()=>g(R=>({...R,[S.id]:!0}))}):a.jsx("div",{className:"w-48 h-48 flex items-center justify-center flex-shrink-0 my-4 mr-4 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-blue-50 to-cyan-50",children:a.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),a.jsxs("div",{className:"flex-1 py-4 pr-4",children:[a.jsx(Ve,{className:"p-0 pb-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Ze,{className:"line-clamp-1",children:S.title}),S.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:S.description})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),a.jsx(Pt,{checked:!!S.is_home,onCheckedChange:R=>C(S,R),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle video on home"})]})]})}),a.jsx(le,{className:"p-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-muted-foreground"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs(tn,{to:`/videos/${S.id}/edit`,children:[a.jsx($a,{className:"mr-2 h-4 w-4"}),"Edit"]})}),a.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>c(S.id),children:[a.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]})},S.id))}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs(ae,{className:"w-full max-w-md",children:[a.jsx(Ve,{children:a.jsx(Ze,{children:"Confirm Delete"})}),a.jsxs(le,{className:"space-y-4",children:[a.jsx("p",{children:"Are you sure you want to delete this video?"}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(F,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),a.jsx(F,{variant:"destructive",onClick:E,children:"Delete"})]})]})]})})]})}function Q0(){const{id:t}=po(),e=Ft(),n=!!t,i="/api".replace(/\/api$/,""),s=m=>m?m.startsWith("http")?m:`${i}${m}`:"",[o,l]=h.useState({title:"",description:"",video_url:"",thumbnail_url:"",thumbnail_alt:"",is_home:!1}),[c,u]=h.useState(!1),[d,f]=h.useState(""),g=h.useRef(null);yt({queryKey:["video",t],queryFn:async()=>{const v=(await z.get(`/videos/${t}`)).data.data;return l({title:v.title||"",description:v.description||"",video_url:v.video_url||"",thumbnail_url:v.thumbnail_url||"",thumbnail_alt:v.thumbnail_alt||"",is_home:v.is_home}),v.thumbnail_url&&f(s(v.thumbnail_url)),v},enabled:n});const w=Qe({mutationFn:async m=>n?z.put(`/videos/${t}`,m):z.post("/videos",m),onSuccess:()=>{e("/videos")},onError:m=>{var v,C;alert(((C=(v=m.response)==null?void 0:v.data)==null?void 0:C.error)||"An error occurred")}}),y=m=>{if(m.preventDefault(),!o.video_url.includes("vimeo.com")){alert("Video URL must be a Vimeo link");return}if(!o.thumbnail_url){alert("Thumbnail image is required");return}if(!o.thumbnail_alt.trim()){alert("Thumbnail alt text is required");return}const v={...o,is_home:o.is_home?1:0};w.mutate(v)},p=m=>{const{name:v,value:C,type:E}=m.target;l(A=>({...A,[v]:E==="checkbox"?m.target.checked:C}))},b=async m=>{var C;const v=(C=m.target.files)==null?void 0:C[0];if(v){if(!v.type.startsWith("image/")){console.warn("Please select an image file");return}if(v.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}u(!0);try{const E=new FormData;E.append("image",v);const S=(await z.post("/upload/video-thumbnail",E,{headers:{"Content-Type":"multipart/form-data"}})).data.data.url;l(N=>({...N,thumbnail_url:S})),f(s(S))}catch(E){console.error("Upload failed:",E)}finally{u(!1)}}},x=async()=>{if(o.thumbnail_url&&confirm("Remove this thumbnail?")){try{await z.delete(`/upload/file?url=${encodeURIComponent(o.thumbnail_url)}`)}catch(m){console.error("Failed to delete image:",m)}l(m=>({...m,thumbnail_url:"",thumbnail_alt:""})),f("")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>e("/videos"),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Video":"New Video"})]}),a.jsx("form",{onSubmit:y,children:a.jsxs(ae,{children:[a.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[a.jsx(Ze,{children:"Video Information"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Pt,{checked:o.is_home,onCheckedChange:m=>l(v=>({...v,is_home:m})),className:"data-[state=checked]:bg-green-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),a.jsxs(le,{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title *"}),a.jsx(Y,{id:"title",name:"title",value:o.title,onChange:p,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),a.jsx(dt,{id:"description",name:"description",value:o.description,onChange:p,rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"video_url",className:"text-sm font-medium",children:"Vimeo Video URL *"}),a.jsx(Y,{id:"video_url",name:"video_url",type:"url",value:o.video_url,onChange:p,placeholder:"https://player.vimeo.com/video/...",required:!0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be a Vimeo player URL"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Thumbnail Image *"}),d?a.jsxs("div",{className:"relative w-full",children:[a.jsx("img",{src:d,alt:"Thumbnail preview",className:"w-full max-w-md rounded-md"}),a.jsx(F,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:x,children:a.jsx(Mr,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Y,{ref:g,type:"file",accept:"image/*",onChange:b,className:"hidden"}),a.jsxs(F,{type:"button",variant:"outline",onClick:()=>{var m;return(m=g.current)==null?void 0:m.click()},disabled:c,children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),c?"Uploading...":"Upload Thumbnail"]})]})]}),o.thumbnail_url&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"thumbnail_alt",className:"text-sm font-medium",children:"Thumbnail Alt Text *"}),a.jsx(Y,{id:"thumbnail_alt",name:"thumbnail_alt",value:o.thumbnail_alt,onChange:p,placeholder:"Describe the thumbnail image",required:!0})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(F,{type:"submit",disabled:w.isPending,children:w.isPending?"Saving...":n?"Update Video":"Create Video"}),a.jsx(F,{type:"button",variant:"outline",onClick:()=>e("/videos"),children:"Cancel"})]})]})]})})]})}function hW(){return a.jsx("div",{className:"space-y-6",children:a.jsx(ae,{className:"p-10 text-center border-dashed",children:a.jsxs(le,{className:"space-y-3",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx($E,{className:"h-10 w-10 text-muted-foreground"})}),a.jsx("h2",{className:"text-2xl font-semibold",children:"Link Generation  work in progress"}),a.jsx("p",{className:"text-muted-foreground",children:"This section will be available soon."})]})})})}function fW(){var x;const t=bn(),[e,n]=h.useState(""),[r,i]=h.useState([]),[s,o]=h.useState(null),[l,c]=h.useState(null),{data:u,isLoading:d,refetch:f}=yt({queryKey:["testimonials",e],queryFn:async()=>{const m=e?`&q=${encodeURIComponent(e)}`:"";return(await z.get(`/testimonials${m?`?${m.slice(1)}`:""}`)).data.data},refetchOnWindowFocus:!1});h.useEffect(()=>{if(u!=null&&u.testimonials){const m=[...u.testimonials].sort((v,C)=>(v.display_order||0)-(C.display_order||0));i(m)}},[u]);const g=async m=>{if(s===null||s===m){o(null);return}const v=[...r],[C]=v.splice(s,1);v.splice(m,0,C);const E=v.map((A,S)=>({...A,display_order:S+1}));i(E),o(null);try{await z.post("/testimonials/reorder",{order:E.map((A,S)=>({id:A.id,display_order:S+1}))}),t.invalidateQueries({queryKey:["testimonials"]}),f()}catch(A){console.error("Failed to reorder testimonials:",A),f()}},w=async(m,v)=>{try{i(C=>C.map(E=>E.id===m.id?{...E,is_home:v}:E)),await z.put(`/testimonials/${m.id}`,{is_home:v?1:0}),t.invalidateQueries({queryKey:["testimonials"]})}catch(C){console.error("Failed to update home flag",C),f()}},y=async()=>{if(l)try{await z.delete(`/testimonials/${l}`),i(m=>m.filter(v=>v.id!==l)),t.invalidateQueries({queryKey:["testimonials"]})}catch(m){console.error("Failed to delete testimonial",m)}finally{c(null)}},p=m=>m.replace(/<[^>]+>/g,""),b=m=>{const v=p(m||"");return v.length<=160?v:`${v.slice(0,160)}`};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Testimonials"}),a.jsxs("p",{className:"text-muted-foreground",children:[((x=u==null?void 0:u.pagination)==null?void 0:x.total)||0," total testimonials"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Y,{placeholder:"Search testimonials...",value:e,onChange:m=>n(m.target.value),className:"w-56"}),a.jsx(tn,{to:"/testimonials/new",children:a.jsxs(F,{children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Add Testimonial"]})})]})]}),r.length===0&&!d&&a.jsx(ae,{children:a.jsxs(le,{className:"flex flex-col items-center justify-center py-16",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No testimonials yet"}),a.jsx(tn,{to:"/testimonials/new",children:a.jsxs(F,{children:[a.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Create your first testimonial"]})})]})}),a.jsx("div",{className:"grid gap-4",children:r.map((m,v)=>a.jsx(ae,{className:"overflow-hidden border border-dashed",draggable:!0,onDragStart:()=>o(v),onDragOver:C=>C.preventDefault(),onDrop:()=>g(v),onDragEnd:()=>o(null),children:a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsxs("div",{className:"p-3 text-muted-foreground cursor-grab",children:[a.jsx(go,{className:"h-5 w-5"}),a.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:["#",v+1]})]}),a.jsxs("div",{className:"flex-1 py-4 pr-4",children:[a.jsx(Ve,{className:"p-0 pb-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Ze,{className:"line-clamp-1",children:m.author}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[a.jsx(kp,{className:"h-3 w-3"}),a.jsx("span",{children:m.testimonial_date?ug(new Date(m.testimonial_date),"dd MMM yyyy"):"No date"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),a.jsx(Pt,{checked:!!m.is_home,onCheckedChange:C=>w(m,C),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle testimonial visibility"})]})]})}),a.jsxs(le,{className:"p-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:b(m.content)}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(kp,{className:"h-4 w-4"}),a.jsx("span",{children:m.testimonial_date?ug(new Date(m.testimonial_date),"dd MMM yyyy"):"No date"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs(tn,{to:`/testimonials/${m.id}/edit`,children:[a.jsx($a,{className:"mr-2 h-4 w-4"}),"Edit"]})}),a.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>c(m.id),children:[a.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]})]})},m.id))}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Delete testimonial?"}),a.jsx("p",{className:"text-muted-foreground",children:"This action cannot be undone. The testimonial will be permanently removed."}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(F,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),a.jsx(F,{variant:"destructive",onClick:y,children:"Delete"})]})]})})]})}function Y0(){const{id:t}=po(),e=Ft(),n=!!t,[r,i]=h.useState({author:"",content:"",testimonial_date:new Date().toISOString().split("T")[0],is_home:!1});yt({queryKey:["testimonial",t],queryFn:async()=>{const u=(await z.get(`/testimonials/${t}`)).data.data;return i({author:u.author||"",content:u.content||"",testimonial_date:u.testimonial_date||new Date().toISOString().split("T")[0],is_home:u.is_home}),u},enabled:n});const s=Qe({mutationFn:async c=>n?z.put(`/testimonials/${t}`,c):z.post("/testimonials",c),onSuccess:()=>{e("/testimonials")},onError:c=>{var u,d;alert(((d=(u=c.response)==null?void 0:u.data)==null?void 0:d.error)||"An error occurred")}}),o=c=>{c.preventDefault();const u={...r,is_home:r.is_home?1:0};s.mutate(u)},l=c=>{const{name:u,value:d}=c.target;i(f=>({...f,[u]:d}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>e("/testimonials"),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx("h1",{className:"text-3xl font-bold",children:n?"Edit Testimonial":"New Testimonial"})]}),a.jsx("form",{onSubmit:o,children:a.jsxs(ae,{children:[a.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[a.jsx(Ze,{children:"Testimonial Information"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Pt,{checked:r.is_home,onCheckedChange:c=>i(u=>({...u,is_home:c})),className:"data-[state=checked]:bg-green-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),a.jsxs(le,{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"author",className:"text-sm font-medium",children:"Author *"}),a.jsx(Y,{id:"author",name:"author",value:r.author,onChange:l,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Testimonial Content *"}),a.jsx(dt,{id:"content",name:"content",value:r.content,onChange:l,rows:5,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"testimonial_date",className:"text-sm font-medium",children:"Date"}),a.jsx(Y,{id:"testimonial_date",name:"testimonial_date",type:"date",value:r.testimonial_date,onChange:l})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(F,{type:"submit",disabled:s.isPending,children:s.isPending?"Saving...":n?"Update Testimonial":"Create Testimonial"}),a.jsx(F,{type:"button",variant:"outline",onClick:()=>e("/testimonials"),children:"Cancel"})]})]})]})})]})}const si=t=>{const e=(t||"").trim().toLowerCase();if(!e)return"";try{let r=new URL(e,"https://dummy.host").pathname||"/";return r=r.replace(/\/\/+/g,"/").replace(/\/+$/,""),r===""&&(r="/"),r}catch{const n=e.replace(/\/\/+/g,"/").replace(/\/+$/,"");return n===""?"/":n}},mW=(t,e,n,r)=>{if(!n)return!1;const i={};t.forEach(c=>{r&&c.id===r||c.urlNew&&(i[si(c.urlOld)]=si(c.urlNew))}),i[si(e)]=si(n);const s=si(e),o={};let l=s;for(;i[l];){if(l=i[l],l===s)return!0;if(o[l])break;o[l]=!0}return!1},J0=(t,e,n,r)=>{const i=si(t),s=si(e);if(!i)throw new Error("urlOld is required");if(!s)throw new Error("urlNew is required");if(s&&i===s)throw new Error("urlOld and urlNew cannot match");if(n.some(o=>si(o.urlOld)===i&&o.id!==r))throw new Error("urlOld must be unique");if(s&&n.some(o=>si(o.urlOld)===s&&o.id!==r))throw new Error("urlNew already exists as urlOld (double redirect)");if(mW(n,i,s,r))throw new Error("Rule would create a redirect loop");return{urlOld:i,urlNew:s}};function pW(){const t=bn(),{data:e,isLoading:n}=yt({queryKey:["redirects"],queryFn:async()=>{var A;return((A=(await z.get("/redirects")).data.data)==null?void 0:A.redirects)||[]},refetchOnWindowFocus:!1}),[r,i]=h.useState({urlOld:"",urlNew:""}),[s,o]=h.useState({old:!1,neu:!1}),[l,c]=h.useState({}),[u,d]=h.useState(""),[f,g]=h.useState(""),w=h.useMemo(()=>{const E=e||[];if(!f.trim())return E;const A=f.trim().toLowerCase();return E.filter(S=>S.urlOld.toLowerCase().includes(A)||S.urlNew.toLowerCase().includes(A))},[e,f]),y=Qe({mutationFn:async E=>z.post("/redirects",E),onSuccess:()=>{t.invalidateQueries({queryKey:["redirects"]}),i({urlOld:"",urlNew:""}),o({old:!1,neu:!1}),d("")},onError:E=>{var A,S;d(((S=(A=E==null?void 0:E.response)==null?void 0:A.data)==null?void 0:S.error)||"Errore creazione redirect"),o({old:!0,neu:!0})}}),p=Qe({mutationFn:async({id:E,urlOld:A,urlNew:S})=>z.put(`/redirects/${E}`,{urlOld:A,urlNew:S}),onSuccess:()=>{t.invalidateQueries({queryKey:["redirects"]}),d(""),c(E=>{const A={...E};return delete A[0],A})},onError:(E,A)=>{var S,N;d(((N=(S=E==null?void 0:E.response)==null?void 0:S.data)==null?void 0:N.error)||"Errore salvataggio redirect"),c(R=>({...R,[A.id]:{old:!0,neu:!0}}))}}),b=Qe({mutationFn:async E=>z.delete(`/redirects/${E}`),onSuccess:()=>t.invalidateQueries({queryKey:["redirects"]})}),x=()=>{try{const E=J0(r.urlOld,r.urlNew,w);y.mutate(E)}catch(E){d((E==null?void 0:E.message)||"Validazione fallita");const A=((E==null?void 0:E.message)||"").toLowerCase();o({old:A.includes("old")||A.includes("loop")||A.includes("match"),neu:A.includes("new")||A.includes("loop")||A.includes("match")})}},m=E=>{try{const A=J0(E.urlOld,E.urlNew,w,E.id);p.mutate({id:E.id,...A})}catch(A){d((A==null?void 0:A.message)||"Validazione fallita");const S=((A==null?void 0:A.message)||"").toLowerCase();c(N=>({...N,[E.id]:{old:S.includes("old")||S.includes("loop")||S.includes("match"),neu:S.includes("new")||S.includes("loop")||S.includes("match")}}))}},v=E=>{confirm("Delete this redirect?")&&b.mutate(E)},C=(E,A,S)=>{const N=w.map(R=>R.id===E?{...R,[A]:S}:R);t.setQueryData(["redirects"],N),S.trim()&&c(R=>({...R,[E]:{...R[E]||{},[A==="urlOld"?"old":"neu"]:!1}}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Redirect"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage 301 redirects with anti-loop checks."})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx(Y,{placeholder:"search",value:f,onChange:E=>g(E.target.value),className:"w-56"})})]}),a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsx(Ze,{children:"new redirect"})}),a.jsxs(le,{className:"space-y-3",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:[a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"OLD *"}),a.jsx(Y,{value:r.urlOld,onChange:E=>{const A=E.target.value;i(S=>({...S,urlOld:A})),A.trim()&&o(S=>({...S,old:!1}))},className:s.old&&!r.urlOld.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"NEW *"}),a.jsx(Y,{value:r.urlNew,onChange:E=>{const A=E.target.value;i(S=>({...S,urlNew:A})),A.trim()&&o(S=>({...S,neu:!1}))},className:s.neu&&!r.urlNew.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),a.jsx("div",{className:"pt-1",children:a.jsx(F,{onClick:x,disabled:y.isPending,className:"w-full md:w-auto",children:y.isPending?"Saving...":"Add redirect"})})]}),u&&a.jsx("p",{className:"text-sm text-red-500",children:u})]})]}),a.jsxs(ae,{children:[a.jsx(Ve,{}),a.jsxs(le,{className:"space-y-4",children:[n&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}),!n&&w.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No redirects found."}),!n&&w.length>0&&a.jsx("div",{className:"space-y-3",children:w.map(E=>{var A,S;return a.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("label",{className:"text-xs uppercase tracking-[2px] text-muted-foreground",children:"OLD"}),a.jsx(Y,{value:E.urlOld,onChange:N=>C(E.id,"urlOld",N.target.value),className:(A=l[E.id])!=null&&A.old&&!E.urlOld.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("label",{className:"text-xs uppercase tracking-[2px] text-muted-foreground",children:"NEW"}),a.jsx(Y,{value:E.urlNew,onChange:N=>C(E.id,"urlNew",N.target.value),className:(S=l[E.id])!=null&&S.neu&&!E.urlNew.trim()?"border-red-500 focus-visible:ring-red-500":""})]}),a.jsxs("div",{className:"flex items-center gap-2 justify-end md:justify-start",children:[a.jsxs(F,{variant:"outline",size:"sm",onClick:()=>m(E),disabled:p.isPending,children:[a.jsx(ME,{className:"h-4 w-4 mr-2"}),"Save"]}),a.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>v(E.id),children:[a.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})},E.id)})})]})]})]})}function gW(){const t=[{number:1,title:"URL",icon:Ba,color:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",description:"Every piece of content must have a clear, readable, and concise URL. It's recommended not to exceed 80 characters and to avoid unnecessary elements like numbers, dates, or redundant words. Once published, a URL should never be deleted.",example:{title:"Example",good:"buywithdali.com/luxury-properties-playa-del-carmen",bad:"buywithdali.com/page-123-luxury-prop-2024-01-22-final"}},{number:2,title:"Page Title",icon:WL,color:"bg-purple-50",borderColor:"border-purple-200",iconColor:"text-purple-600",description:"The title must always be consistent with the article's content. It should clearly describe the topic covered and use the main keywords developed throughout the text. The title should not exceed 60 characters.",example:{title:"Example",good:"Luxury Beachfront Properties in Playa del Carmen",bad:"Amazing Properties You Won't Believe Exist"}},{number:3,title:"Meta Description",icon:_E,color:"bg-pink-50",borderColor:"border-pink-200",iconColor:"text-pink-600",description:"The description should align with the title and reinforce its meaning. It's important to use the same words from the title, writing a clear and natural sentence that previews the page content. The recommended length is between 140 and 160 characters.",example:{title:"Example",good:"Discover exclusive luxury beachfront properties in Playa del Carmen. Premium real estate with ocean views, modern amenities, and prime locations.",bad:"This page has great properties"}},{number:4,title:"Content",icon:PE,color:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-600",description:"Content must be original, clear, and genuinely useful to the reader. The text should address the topic declared by the title and avoid content that is too brief, generic, or misleading.",example:{title:"Example",good:"Detailed neighborhood guide with local amenities, market trends, investment potential, property types, and buyer testimonials.",bad:"Nice houses here. Very good."}},{number:5,title:"Pages & Redirects",icon:IE,color:"bg-orange-50",borderColor:"border-orange-200",iconColor:"text-orange-600",description:"Pages should never be deleted. If content is updated or replaced with new material, it's mandatory to create a redirect from the old page to the new one to avoid losing traffic and visibility.",example:{title:"Example",good:"Old URL  301 Redirect  New URL (preserves all link value)",bad:"Delete old page (loses all traffic and backlinks)"}},{number:6,title:"Images & Alt Text",icon:OE,color:"bg-indigo-50",borderColor:"border-indigo-200",iconColor:"text-indigo-600",description:"All inserted images must have alt text filled in. The alt text should describe the image simply and relevantly to the content, avoiding automatic or generic descriptions.",example:{title:"Example",good:"Modern luxury villa with ocean view and private pool in Playa del Carmen",bad:"image123.jpg or image"}},{number:7,title:"Image Weight",icon:JL,color:"bg-yellow-50",borderColor:"border-yellow-200",iconColor:"text-yellow-600",description:"Images should not be too heavy. Large file sizes slow down page loading and worsen user experience. It's always recommended to use web-optimized images.",example:{title:"Example",good:"JPG 100KB - WebP 45KB - PNG optimized 80KB (all load in <2s)",bad:"RAW image 5MB - RAW 8MB (slow loading, poor UX)"}},{number:8,title:"Open Graph & Social",icon:GL,color:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600",description:"For social sharing, Open Graph fields must be correctly filled out, particularly the title and image. The social title should be consistent with the page title and article content.",example:{title:"Example",good:'og:title: "Luxury Properties in Playa del Carmen" | og:image: high-quality-property.jpg',bad:"Missing Open Graph tags or mismatched titles"}},{number:9,title:"Overall Consistency",icon:LE,color:"bg-teal-50",borderColor:"border-teal-200",iconColor:"text-teal-600",description:"Title, description, URL, content, and images should all address the same topic. Consistency is fundamental to helping readers immediately understand the page subject.",example:{title:"Example",good:'URL, Title, Description, Content & Images all about "Beachfront Luxury"',bad:"Title: Luxury Properties | Description: Budget homes | Content: Investment tips"}},{number:10,title:"Core Principle",icon:xb,color:"bg-lime-50",borderColor:"border-lime-200",iconColor:"text-lime-600",description:"If content is clear and understandable to the reader, it is also correct from an SEO perspective.",example:{title:"Example",good:"Reader understands immediately what the page offers  Google ranks it well",bad:"Confusing content  Poor user experience  Lower rankings"}}];return a.jsxs("div",{className:"seo-rules-container",children:[a.jsx("div",{className:"seo-rules-header",children:a.jsxs("div",{className:"header-content",children:[a.jsx("h1",{children:"SEO RULES"}),a.jsx("p",{children:"Essential guide to optimize content according to SEO best practices"})]})}),a.jsx("div",{className:"seo-rules-grid",children:t.map(e=>{const n=e.icon;return a.jsxs(ae,{className:`seo-rule-card ${e.color} border-2 ${e.borderColor}`,children:[a.jsxs(Ve,{className:"pb-3",children:[a.jsxs("div",{className:"rule-header",children:[a.jsx("div",{className:`rule-number ${e.iconColor}`,children:e.number}),a.jsx(n,{className:`rule-icon ${e.iconColor}`})]}),a.jsx(Ze,{className:"text-lg",children:e.title})]}),a.jsxs(le,{children:[a.jsx("p",{className:"rule-description",children:e.description}),a.jsxs("div",{className:"rule-example mt-4 pt-4 border-t border-gray-200",children:[a.jsx("p",{className:"example-label font-semibold text-sm mb-3",children:e.example.title}),a.jsxs("div",{className:"example-item mb-3",children:[a.jsx("p",{className:"example-type text-xs font-bold text-green-700 mb-1",children:" GOOD:"}),a.jsx("p",{className:"example-text text-sm text-gray-700 bg-green-50 p-2 rounded border-l-2 border-green-500",children:e.example.good})]}),a.jsxs("div",{className:"example-item",children:[a.jsx("p",{className:"example-type text-xs font-bold text-red-700 mb-1",children:" BAD:"}),a.jsx("p",{className:"example-text text-sm text-gray-700 bg-red-50 p-2 rounded border-l-2 border-red-500",children:e.example.bad})]})]})]})]},e.number)})}),a.jsx("div",{className:"seo-rules-footer",children:a.jsxs("div",{className:"footer-content",children:[a.jsx(xb,{className:"check-icon"}),a.jsxs("p",{children:[a.jsx("strong",{children:"Remember:"})," Consistency between URL, title, description, content, and images is the foundation of a good SEO strategy. Follow these rules to ensure the best results."]})]})})]})}function vW(){const t=Ft();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Landing Pages"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage Cities and Areas landing pages"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(ae,{className:"hover:shadow-md transition",children:[a.jsx(Ve,{children:a.jsxs(Ze,{className:"flex items-center gap-2",children:[a.jsx(bd,{className:"h-5 w-5 text-primary"}),"Cities"]})}),a.jsxs(le,{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and edit city landing pages with hero images, content, and SEO meta tags."}),a.jsx(F,{onClick:()=>t("/cities"),children:"Manage Cities"})]})]}),a.jsxs(ae,{className:"hover:shadow-md transition",children:[a.jsx(Ve,{children:a.jsxs(Ze,{className:"flex items-center gap-2",children:[a.jsx(FL,{className:"h-5 w-5 text-primary"}),"Areas"]})}),a.jsxs(le,{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage area landing pages linked to cities, with full SEO controls and images."}),a.jsx(F,{onClick:()=>t("/areas"),children:"Manage Areas"})]})]})]})]})}function yW(){const t=Ft(),e=bn(),[n,r]=h.useState(""),[i,s]=h.useState([]),o="/api",l=h.useMemo(()=>o.replace(/\/api$/,""),[o]),c=C=>C?C.startsWith("http")?C:C.startsWith("/")?`${l}${C}`:`${l}/${C}`:"",[u,d]=h.useState({}),{data:f,isLoading:g}=yt({queryKey:["cities"],queryFn:async()=>{var E,A;return((A=(E=(await z.get("/cities")).data)==null?void 0:E.data)==null?void 0:A.cities)||[]}}),w=h.useMemo(()=>{if(!f)return[];const C=n.toLowerCase();return f.filter(E=>!C||E.title.toLowerCase().includes(C)||E.slug.toLowerCase().includes(C)).sort((E,A)=>(E.display_order??0)-(A.display_order??0))},[f,n]);h.useEffect(()=>{s(w.map((C,E)=>({...C,display_order:C.display_order??E+1})))},[w]);const y=Qe({mutationFn:async({id:C,value:E})=>z.put(`/cities/${C}`,{is_home:E?1:0}),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),p=Qe({mutationFn:async C=>z.delete(`/cities/${C}`),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),b=Qe({mutationFn:async C=>z.put("/cities/reorder",{items:C}),onSuccess:()=>e.invalidateQueries({queryKey:["cities"]})}),[x,m]=h.useState(null),v=C=>{if(x===null||x===C){m(null);return}const E=[...i],[A]=E.splice(x,1);E.splice(C,0,A);const S=E.map((N,R)=>({...N,display_order:R+1}));s(S),m(null),b.mutate(S.map((N,R)=>({id:N.id,display_order:R+1})))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Cities"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage city landing pages"})]})]}),a.jsxs(F,{onClick:()=>t("/cities/new"),children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"})," New City"]})]}),a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsx(Ze,{children:"All Cities"}),a.jsx(Y,{placeholder:"Search...",value:n,onChange:C=>r(C.target.value),className:"max-w-xs"})]})}),a.jsxs(le,{className:"space-y-3",children:[g&&a.jsx("p",{children:"Loading..."}),!g&&i.length===0&&a.jsx("p",{className:"text-muted-foreground",children:"No cities found."}),!g&&i.map((C,E)=>a.jsxs(ae,{className:`flex gap-4 items-start ${x===E?"opacity-60 border-dashed":""}`,draggable:!0,onDragStart:()=>m(E),onDragOver:A=>A.preventDefault(),onDrop:()=>v(E),onDragEnd:()=>m(null),children:[a.jsxs("div",{className:"p-3 text-muted-foreground flex flex-col items-center justify-start cursor-grab",children:[a.jsx(go,{className:"h-5 w-5"}),a.jsxs("span",{className:"text-2xs text-muted-foreground mt-1",children:["#",E+1]})]}),C.cover_image&&!u[C.id]?a.jsx("img",{src:c(C.cover_image),alt:C.cover_image_alt||C.title,className:"w-40 h-32 md:w-48 md:h-48 object-cover my-4 ml-1 mr-3 rounded-lg",onError:()=>d(A=>({...A,[C.id]:!0}))}):a.jsx("div",{className:"w-40 h-32 md:w-48 md:h-48 flex items-center justify-center flex-shrink-0 my-4 ml-1 mr-3 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-amber-50 to-rose-50",children:a.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),a.jsxs("div",{className:"flex-1 py-4 pr-4",children:[a.jsx(Ve,{className:"p-0 pb-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Ze,{className:"line-clamp-1",children:C.title}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx(Ba,{className:"h-3 w-3 inline mr-1"}),a.jsxs("span",{className:"break-all",children:["/community/",C.slug]})]}),C.subtitle&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:C.subtitle})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),a.jsx(Pt,{checked:!!C.is_home,onCheckedChange:A=>y.mutate({id:C.id,value:A}),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle city on home"})]})]})}),a.jsx(le,{className:"p-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:a.jsx(F,{variant:"outline",size:"sm",onClick:()=>t(`/areas?city_id=${C.id}`),children:"View Areas"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(F,{variant:"outline",size:"sm",onClick:()=>t(`/cities/${C.id}/edit`),children:[a.jsx($a,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>{confirm("Delete this city?")&&p.mutate(C.id)},children:[a.jsx(BE,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]},C.id))]})]})]})}const xW={title:"",subtitle:"",slug:"",cover_image:"",cover_image_alt:"",content_image:"",content_image_alt:"",fullContent:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",is_home:0,display_order:0};function X0(){const{id:t}=po(),e=!!t,n=Ft(),r=bn(),[i,s]=h.useState(xW),[o,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[g,w]=h.useState(!1),y=h.useRef(null),p=h.useRef(null),b="/api",x=h.useMemo(()=>b.replace(/\/api$/,""),[b]),m=j=>j?j.startsWith("http")?j:`${x}${j}`:"",v=yt({queryKey:["city",t],enabled:e,queryFn:async()=>{var k;return(k=(await z.get(`/cities/${t}`)).data)==null?void 0:k.data}});h.useEffect(()=>{const j=v.data;j&&s({title:j.title||"",subtitle:j.subtitle||"",slug:j.slug||"",cover_image:j.cover_image||"",cover_image_alt:j.cover_image_alt||"",content_image:j.content_image||"",content_image_alt:j.content_image_alt||"",fullContent:j.fullContent||"",seoTitle:j.seoTitle||"",seoDescription:j.seoDescription||"",ogTitle:j.ogTitle||"",ogDescription:j.ogDescription||"",is_home:j.is_home?1:0,display_order:j.display_order||0})},[v.data]);const C=Qe({mutationFn:async j=>e?z.put(`/cities/${t}`,{...j,is_home:j.is_home?1:0}):z.post("/cities",{...j,is_home:j.is_home?1:0}),onSuccess:()=>{r.invalidateQueries({queryKey:["cities"]}),n("/cities")}}),E=j=>{const{name:k,value:D}=j.target;s(M=>({...M,[k]:D}))},A=j=>{j.preventDefault();const k=[];if(i.title.trim()||k.push("Title is required"),i.slug.trim()||k.push("URL is required"),i.seoTitle.trim()||k.push("Title tag is required"),i.seoDescription.trim()||k.push("Meta description is required"),i.ogTitle.trim()||k.push("OG Title is required"),i.ogDescription.trim()||k.push("OG Description is required"),i.cover_image&&!i.cover_image_alt.trim()&&k.push("Alt text is required for cover image"),i.content_image&&!i.content_image_alt.trim()&&k.push("Alt text is required for content image"),k.length){alert(k.join(`
`));return}const D={...i,slug:i.slug.trim()||S(i.title),is_home:i.is_home?1:0};C.mutate(D)},S=j=>j.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"city-slug",N=async(j,k)=>{var M,B;if(!j.type.startsWith("image/")){console.warn("Please select an image file");return}if(j.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const D=k==="cover_image"?l:u;D(!0);try{const J=new FormData;J.append("image",j);const Q=(B=(M=(await z.post("/upload/city-image",J,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:M.data)==null?void 0:B.url;Q&&s(O=>({...O,[k]:Q}))}catch(J){console.error(J)}finally{D(!1)}},R=async j=>{const k=i[j];if(k&&confirm("Remove this image?")){try{await z.delete(`/upload/file?url=${encodeURIComponent(k)}`)}catch(D){console.error(D)}s(D=>({...D,[j]:"",...j==="cover_image"?{cover_image_alt:""}:{content_image_alt:""}}))}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>n("/cities"),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx("h1",{className:"text-3xl font-bold",children:e?"Edit City":"New City"})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsx(Ze,{children:"City Information"})}),a.jsxs(le,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Title (H1) *"}),a.jsx(Y,{name:"title",value:i.title,onChange:j=>{s(k=>({...k,title:j.target.value})),e||s(k=>({...k,slug:S(j.target.value)}))},required:!0})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Short description"}),a.jsx(dt,{name:"subtitle",value:i.subtitle,onChange:E,rows:3,placeholder:"Brief summary for listings"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Pt,{checked:!!i.is_home,onCheckedChange:j=>s(k=>({...k,is_home:j?1:0})),className:"data-[state=checked]:bg-green-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-base font-semibold",children:"Images"}),a.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[a.jsx("p",{className:"text-sm font-semibold",children:"Cover image"}),i.cover_image&&!d?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:m(i.cover_image),alt:"Cover",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>f(!0)}),a.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>R("cover_image"),children:[a.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var j;return(j=y.current)==null?void 0:j.click()},children:[a.jsx(Ir,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload cover"}),a.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:j=>{var k;(k=j.target.files)!=null&&k[0]&&N(j.target.files[0],"cover_image")},disabled:o,className:"hidden"}),o&&a.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),a.jsx(Y,{name:"cover_image_alt",value:i.cover_image_alt,onChange:E,required:!!i.cover_image})]})]}),a.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[a.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"}),i.content_image&&!g?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:m(i.content_image),alt:"Content",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>w(!0)}),a.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>R("content_image"),children:[a.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var j;return(j=p.current)==null?void 0:j.click()},children:[a.jsx(Ir,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),a.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:j=>{var k;(k=j.target.files)!=null&&k[0]&&N(j.target.files[0],"content_image")},disabled:c,className:"hidden"}),c&&a.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),a.jsx(Y,{name:"content_image_alt",value:i.content_image_alt,onChange:E,required:!!i.content_image})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Full content"}),a.jsx(Ih,{value:i.fullContent,onChange:j=>s(k=>({...k,fullContent:j})),placeholder:"Write your content..."})]}),a.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[a.jsx("div",{className:"flex items-center justify-between gap-2",children:a.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"LNK (url)"}),a.jsx(Y,{name:"slug",value:i.slug,onChange:j=>s(k=>({...k,slug:S(j.target.value)})),disabled:e,required:!0})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),a.jsx(Y,{name:"seoTitle",value:i.seoTitle,onChange:E,maxLength:160})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),a.jsx(dt,{name:"seoDescription",value:i.seoDescription,onChange:E,rows:3,maxLength:320})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:'OG Title (meta="og:title")'}),a.jsx(Y,{name:"ogTitle",value:i.ogTitle,onChange:E,maxLength:160})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:'OG Description (meta="og:description")'}),a.jsx(dt,{name:"ogDescription",value:i.ogDescription,onChange:E,rows:3,maxLength:320})]})]})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(F,{type:"submit",disabled:C.isPending,children:C.isPending?"Saving...":e?"Update City":"Create City"}),a.jsx(F,{variant:"outline",type:"button",onClick:()=>n("/cities"),children:"Close"})]})]})]})}function bW(){const t=Ft(),e=bn(),[n,r]=h.useState(""),[i,s]=h.useState([]),o=mo(),l="/api",c=h.useMemo(()=>l.replace(/\/api$/,""),[l]),u=S=>S?S.startsWith("http")?S:S.startsWith("/")?`${c}${S}`:`${c}/${S}`:"",[d,f]=h.useState({}),{data:g=[]}=yt({queryKey:["cities"],queryFn:async()=>{var N,R;return((R=(N=(await z.get("/cities")).data)==null?void 0:N.data)==null?void 0:R.cities)||[]}}),{data:w=[],isLoading:y}=yt({queryKey:["areas"],queryFn:async()=>{var N,R;return((R=(N=(await z.get("/areas")).data)==null?void 0:N.data)==null?void 0:R.areas)||[]}}),p=h.useMemo(()=>{const S=n.toLowerCase(),R=new URLSearchParams(o.search).get("city_id");return w.filter(j=>!S||j.title.toLowerCase().includes(S)||j.slug.toLowerCase().includes(S)).filter(j=>!R||String(j.city_id)===R).sort((j,k)=>(j.display_order??0)-(k.display_order??0))},[w,n,o.search]);h.useEffect(()=>{s(p.map((S,N)=>({...S,display_order:S.display_order??N+1})))},[p]);const b=Qe({mutationFn:async({id:S,value:N})=>z.put(`/areas/${S}`,{is_home:N?1:0}),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),x=Qe({mutationFn:async S=>z.put("/areas/reorder",{items:S}),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),m=Qe({mutationFn:async S=>z.delete(`/areas/${S}`),onSuccess:()=>e.invalidateQueries({queryKey:["areas"]})}),v=S=>g.find(N=>N.id===S),[C,E]=h.useState(null),A=S=>{if(C===null||C===S){E(null);return}const N=[...i],[R]=N.splice(C,1);N.splice(S,0,R);const j=N.map((k,D)=>({...k,display_order:D+1}));s(j),E(null),x.mutate(j.map((k,D)=>({id:k.id,display_order:D+1})))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Areas"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage area landing pages"})]})]}),a.jsxs(F,{onClick:()=>t("/areas/new"),children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"})," New Area"]})]}),a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsx(Ze,{children:"All Areas"}),a.jsx(Y,{placeholder:"Search...",value:n,onChange:S=>r(S.target.value),className:"max-w-xs"})]})}),a.jsxs(le,{className:"space-y-3",children:[y&&a.jsx("p",{children:"Loading..."}),!y&&i.length===0&&a.jsx("p",{className:"text-muted-foreground",children:"No areas found."}),!y&&i.map((S,N)=>{const R=v(S.city_id);return a.jsxs(ae,{className:`flex gap-4 items-start ${C===N?"opacity-60 border-dashed":""}`,draggable:!0,onDragStart:()=>E(N),onDragOver:j=>j.preventDefault(),onDrop:()=>A(N),onDragEnd:()=>E(null),children:[a.jsxs("div",{className:"p-3 text-muted-foreground flex flex-col items-center justify-start cursor-grab",children:[a.jsx(go,{className:"h-5 w-5"}),a.jsxs("span",{className:"text-2xs text-muted-foreground mt-1",children:["#",N+1]})]}),S.cover_image&&!d[S.id]?a.jsx("img",{src:u(S.cover_image),alt:S.cover_image_alt||S.title,className:"w-40 h-32 md:w-48 md:h-48 object-cover my-4 ml-1 mr-3 rounded-lg",onError:()=>f(j=>({...j,[S.id]:!0}))}):a.jsx("div",{className:"w-40 h-32 md:w-48 md:h-48 flex items-center justify-center flex-shrink-0 my-4 ml-1 mr-3 rounded-lg border border-dashed border-gray-300 bg-gradient-to-br from-amber-50 to-rose-50",children:a.jsx("div",{className:"placeholder-box w-full h-full rounded-md"})}),a.jsxs("div",{className:"flex-1 py-4 pr-4",children:[a.jsx(Ve,{className:"p-0 pb-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Ze,{className:"line-clamp-1",children:S.title}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx(Ba,{className:"h-3 w-3 inline mr-1"}),a.jsxs("span",{className:"break-all",children:["/community/",R==null?void 0:R.slug,"/",S.slug]})]}),R&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["City: ",R.title]}),S.subtitle&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:S.subtitle})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Show in Home"}),a.jsx(Pt,{checked:!!S.is_home,onCheckedChange:j=>b.mutate({id:S.id,value:j}),className:"data-[state=checked]:bg-green-500","aria-label":"Toggle area on home"})]})]})}),a.jsx(le,{className:"p-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-muted-foreground"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(F,{variant:"outline",size:"sm",onClick:()=>t(`/areas/${S.id}/edit`),children:[a.jsx($a,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(F,{variant:"destructive",size:"sm",onClick:()=>{confirm("Delete this area?")&&m.mutate(S.id)},children:[a.jsx(BE,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]})]},S.id)})]})]})]})}const wW={city_id:"",title:"",subtitle:"",slug:"",cover_image:"",cover_image_alt:"",content_image:"",content_image_alt:"",fullContent:"",seoTitle:"",seoDescription:"",ogTitle:"",ogDescription:"",is_home:0,display_order:0};function Z0(){const{id:t}=po(),e=!!t,n=Ft(),r=bn(),[i,s]=h.useState(wW),[o,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[g,w]=h.useState(!1),y=h.useRef(null),p=h.useRef(null),b="/api",x=h.useMemo(()=>b.replace(/\/api$/,""),[b]),m=k=>k?k.startsWith("http")?k:`${x}${k}`:"",{data:v=[]}=yt({queryKey:["cities"],queryFn:async()=>{var D,M;return((M=(D=(await z.get("/cities")).data)==null?void 0:D.data)==null?void 0:M.cities)||[]}}),C=yt({queryKey:["area",t],enabled:e,queryFn:async()=>{var D;return(D=(await z.get(`/areas/${t}`)).data)==null?void 0:D.data}});h.useEffect(()=>{const k=C.data;k&&s({city_id:k.city_id,title:k.title||"",subtitle:k.subtitle||"",slug:k.slug||"",cover_image:k.cover_image||"",cover_image_alt:k.cover_image_alt||"",content_image:k.content_image||"",content_image_alt:k.content_image_alt||"",fullContent:k.fullContent||"",seoTitle:k.seoTitle||"",seoDescription:k.seoDescription||"",ogTitle:k.ogTitle||"",ogDescription:k.ogDescription||"",is_home:k.is_home?1:0,display_order:k.display_order||0})},[C.data]);const E=Qe({mutationFn:async k=>{const D={...k,is_home:k.is_home?1:0,city_id:Number(k.city_id)};return e?z.put(`/areas/${t}`,D):z.post("/areas",D)},onSuccess:()=>{r.invalidateQueries({queryKey:["areas"]}),n("/areas")}}),A=k=>{const{name:D,value:M}=k.target;s(B=>({...B,[D]:D==="city_id"?Number(M):M}))},S=k=>{k.preventDefault();const D=[];if(i.city_id||D.push("Select a city"),i.title.trim()||D.push("Title is required"),i.slug.trim()||D.push("URL is required"),i.seoTitle.trim()||D.push("Title tag is required"),i.seoDescription.trim()||D.push("Meta description is required"),i.ogTitle.trim()||D.push("OG Title is required"),i.ogDescription.trim()||D.push("OG Description is required"),i.cover_image&&!i.cover_image_alt.trim()&&D.push("Alt text is required for cover image"),i.content_image&&!i.content_image_alt.trim()&&D.push("Alt text is required for content image"),D.length){alert(D.join(`
`));return}E.mutate({...i,slug:i.slug.trim()||N(i.title),is_home:i.is_home?1:0})},N=k=>k.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"area-slug",R=async(k,D)=>{var B,J;if(!k.type.startsWith("image/")){console.warn("Please select an image file");return}if(k.size>10*1024*1024){console.warn("Image must be smaller than 10MB");return}const M=D==="cover_image"?l:u;M(!0);try{const $=new FormData;$.append("image",k);const O=(J=(B=(await z.post("/upload/area-image",$,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:B.data)==null?void 0:J.url;O&&s(L=>({...L,[D]:O}))}catch($){console.error($)}finally{M(!1)}},j=async k=>{const D=i[k];if(D&&confirm("Remove this image?")){try{await z.delete(`/upload/file?url=${encodeURIComponent(D)}`)}catch(M){console.error(M)}s(M=>({...M,[k]:"",...k==="cover_image"?{cover_image_alt:""}:{content_image_alt:""}}))}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F,{variant:"ghost",size:"icon",onClick:()=>n("/areas"),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx("h1",{className:"text-3xl font-bold",children:e?"Edit Area":"New Area"})]}),a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs(ae,{children:[a.jsx(Ve,{children:a.jsx(Ze,{children:"Area Information"})}),a.jsxs(le,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"City *"}),a.jsxs("select",{name:"city_id",value:i.city_id,onChange:A,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",required:!0,children:[a.jsx("option",{value:"",children:"Select a city"}),v.map(k=>a.jsx("option",{value:k.id,children:k.title},k.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Title (H1) *"}),a.jsx(Y,{name:"title",value:i.title,onChange:k=>{s(D=>({...D,title:k.target.value})),e||s(D=>({...D,slug:N(k.target.value)}))},required:!0})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Short description"}),a.jsx(dt,{name:"subtitle",value:i.subtitle,onChange:A,rows:3,placeholder:"Brief summary for listings"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Pt,{checked:!!i.is_home,onCheckedChange:k=>s(D=>({...D,is_home:k?1:0})),className:"data-[state=checked]:bg-green-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Show on Home"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-base font-semibold",children:"Images"}),a.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Upload the cover and (optional) content image"})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[a.jsx("p",{className:"text-sm font-semibold",children:"Cover image"}),i.cover_image&&!d?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:m(i.cover_image),alt:"Cover",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>f(!0)}),a.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>j("cover_image"),children:[a.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var k;return(k=y.current)==null?void 0:k.click()},children:[a.jsx(Ir,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload cover"}),a.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:k=>{var D;(D=k.target.files)!=null&&D[0]&&R(k.target.files[0],"cover_image")},disabled:o,className:"hidden"}),o&&a.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Alt text *"}),a.jsx(Y,{name:"cover_image_alt",value:i.cover_image_alt,onChange:A,required:!!i.cover_image})]})]}),a.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-white/70 p-4",children:[a.jsx("p",{className:"text-sm font-semibold",children:"Content image (optional)"}),i.content_image&&!g?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:m(i.content_image),alt:"Content",className:"object-cover rounded-lg border",style:{width:"100%",maxWidth:360,height:240},onError:()=>w(!0)}),a.jsxs(F,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>j("content_image"),children:[a.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition",role:"button",tabIndex:0,onClick:()=>{var k;return(k=p.current)==null?void 0:k.click()},children:[a.jsx(Ir,{className:"h-10 w-10 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upload content image"}),a.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:k=>{var D;(D=k.target.files)!=null&&D[0]&&R(k.target.files[0],"content_image")},disabled:c,className:"hidden"}),c&&a.jsx("p",{className:"text-sm text-primary mt-2",children:"Uploading..."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Content image alt"}),a.jsx(Y,{name:"content_image_alt",value:i.content_image_alt,onChange:A,required:!!i.content_image})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Full content"}),a.jsx(Ih,{value:i.fullContent,onChange:k=>s(D=>({...D,fullContent:k})),placeholder:"Write your content..."})]}),a.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[a.jsx("div",{className:"flex items-center justify-between gap-2",children:a.jsx("p",{className:"text-base font-semibold",children:"SEO optimization"})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"LNK (url)"}),a.jsx(Y,{name:"slug",value:i.slug,onChange:k=>s(D=>({...D,slug:N(k.target.value)})),disabled:e,required:!0})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Title tag (<title>)"}),a.jsx(Y,{name:"seoTitle",value:i.seoTitle,onChange:A,maxLength:160})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:'Meta description (meta="description")'}),a.jsx(dt,{name:"seoDescription",value:i.seoDescription,onChange:A,rows:3,maxLength:320})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:'OG Title (meta="og:title")'}),a.jsx(Y,{name:"ogTitle",value:i.ogTitle,onChange:A,maxLength:160})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium",children:'OG Description (meta="og:description")'}),a.jsx(dt,{name:"ogDescription",value:i.ogDescription,onChange:A,rows:3,maxLength:320})]})]})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(F,{type:"submit",disabled:E.isPending,children:E.isPending?"Saving...":e?"Update Area":"Create Area"}),a.jsx(F,{variant:"outline",type:"button",onClick:()=>n("/areas"),children:"Close"})]})]})]})}function CW(){return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Buyers Guide"}),a.jsx("p",{className:"text-muted-foreground",children:"Working in progress. This section will host the Buyers Guide landing and related content."})]})}function SW({children:t}){const e=Ft(),{isAuthenticated:n,token:r,expiresAt:i,logout:s,refreshSession:o}=uc(u=>({isAuthenticated:u.isAuthenticated,token:u.token,expiresAt:u.expiresAt,logout:u.logout,refreshSession:u.refreshSession})),[l,c]=h.useState(!0);return h.useEffect(()=>{if(!n||!r||!i){s(),e("/login",{replace:!0});return}const u=Date.now();if(i<=u){s(),e("/login",{replace:!0});return}let d=!1;(async()=>{var w,y,p;try{const x=(p=(y=(w=(await z.post("/auth/verify")).data)==null?void 0:w.data)==null?void 0:y.user)==null?void 0:p.exp;if(x){const m=x*1e3;o(m)}d||c(!1)}catch{d||(s(),e("/login",{replace:!0}))}})();const g=window.setTimeout(()=>{s(),e("/login",{replace:!0})},Math.max(0,i-u));return()=>{d=!0,clearTimeout(g)}},[n,r,i,s,e,o]),!n||!r?a.jsx(_S,{to:"/login",replace:!0}):l?null:a.jsx(a.Fragment,{children:t})}function EW(){return a.jsxs(VP,{children:[a.jsx(Te,{path:"/login",element:a.jsx(LL,{})}),a.jsxs(Te,{path:"/",element:a.jsx(SW,{children:a.jsx(XL,{})}),children:[a.jsx(Te,{index:!0,element:a.jsx(ZL,{})}),a.jsx(Te,{path:"properties",element:a.jsx(y4,{})}),a.jsx(Te,{path:"properties/new",element:a.jsx(hm,{})}),a.jsx(Te,{path:"properties/import-json",element:a.jsx(rz,{})}),a.jsx(Te,{path:"properties/:id",element:a.jsx(hm,{})}),a.jsx(Te,{path:"properties/:id/edit",element:a.jsx(hm,{})}),a.jsx(Te,{path:"blogs",element:a.jsx(cW,{})}),a.jsx(Te,{path:"blogs/new",element:a.jsx(K0,{})}),a.jsx(Te,{path:"blogs/:id/edit",element:a.jsx(K0,{})}),a.jsx(Te,{path:"photogallery",element:a.jsx(uW,{})}),a.jsx(Te,{path:"photogallery/upload",element:a.jsx(G0,{})}),a.jsx(Te,{path:"photogallery/:id/edit",element:a.jsx(G0,{})}),a.jsx(Te,{path:"videos",element:a.jsx(dW,{})}),a.jsx(Te,{path:"videos/new",element:a.jsx(Q0,{})}),a.jsx(Te,{path:"videos/:id/edit",element:a.jsx(Q0,{})}),a.jsx(Te,{path:"testimonials",element:a.jsx(fW,{})}),a.jsx(Te,{path:"testimonials/new",element:a.jsx(Y0,{})}),a.jsx(Te,{path:"testimonials/:id/edit",element:a.jsx(Y0,{})}),a.jsx(Te,{path:"redirects",element:a.jsx(pW,{})}),a.jsx(Te,{path:"feedbacks",element:a.jsx(_S,{to:"/testimonials",replace:!0})}),a.jsx(Te,{path:"landing-pages",element:a.jsx(vW,{})}),a.jsx(Te,{path:"cities",element:a.jsx(yW,{})}),a.jsx(Te,{path:"cities/new",element:a.jsx(X0,{})}),a.jsx(Te,{path:"cities/:id/edit",element:a.jsx(X0,{})}),a.jsx(Te,{path:"areas",element:a.jsx(bW,{})}),a.jsx(Te,{path:"areas/new",element:a.jsx(Z0,{})}),a.jsx(Te,{path:"areas/:id/edit",element:a.jsx(Z0,{})}),a.jsx(Te,{path:"buyers-guide",element:a.jsx(CW,{})}),a.jsx(Te,{path:"link-generation",element:a.jsx(hW,{})}),a.jsx(Te,{path:"seo-rules",element:a.jsx(gW,{})})]})]})}const NW=new AD({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});SS(document.getElementById("root")).render(a.jsx(h.StrictMode,{children:a.jsx(jD,{client:NW,children:a.jsx(XP,{basename:"/admin/",children:a.jsx(EW,{})})})}));
